(this["webpackJsonpbloch-sim"]=this["webpackJsonpbloch-sim"]||[]).push([[0],{99:function(e,t,a){"use strict";a.r(t);var n=a(2),r=a(0),i=a.n(r),o=a(12),c=a.n(o),s=a(73),l=a(13),p=a(16),u=a(146),b=a(75),d=a(150),m=a(151),j=a(32),h=a(11),O=a(5),g=a(153),x=a(63),_=a(154),f=a(138),v=a(103),y=a(133),M=a(136),w=a(101),T=function(e){var t=e.className,a=new Date;return Object(n.jsxs)("footer",{className:t,children:[Object(n.jsxs)(y.a,{container:!0,justify:"center",spacing:2,children:[Object(n.jsx)(y.a,{item:!0,children:Object(n.jsx)(M.a,{href:"https://en.wikipedia.org/wiki/Bloch_equations",color:"textPrimary",target:"_blank",children:"Wiki"})}),Object(n.jsx)(y.a,{item:!0,children:Object(n.jsx)(M.a,{href:"https://github.com/igoresso/bloch-sim",color:"textPrimary",target:"_blank",children:"GitHub"})}),Object(n.jsx)(y.a,{item:!0,children:Object(n.jsx)(M.a,{href:"https://github.com/igoresso/bloch-sim/issues",color:"textPrimary",target:"_blank",children:"Found a mistake?"})})]}),Object(n.jsx)(w.a,{align:"center",color:"textSecondary",variant:"body2",children:"\xa9 2020-".concat(a.getFullYear())})]})},k=a(157),N=Object(g.a)((function(e){return{drawer:Object(h.a)({width:280,padding:e.spacing(3)},e.breakpoints.up("md"),{marginTop:64,height:"calc(100% - 64px)"})}})),P=function(e){var t=e.isOpen,a=e.handleSidebarClose,r=e.variant,i=e.children,o=N();return Object(n.jsx)(k.a,{anchor:"left",classes:{paper:o.drawer},onClose:a,open:t,variant:r,children:i})},B="UPDATE",z="CALCULATE_MAGNETISATION",C="CALCULATE_PROFILE",S="CLEAR",E="RESET",G="TOGGLE_THEME",I=a(139),A=a(140),D=a(156),L=a(142),H=a(155),U=a(143),R=a(144),W=a(145),F=a(147),q=Object(g.a)((function(e){return{root:{boxShadow:"none"},logo:{marginRight:"auto"},button:{marginLeft:e.spacing(1)}}})),X=function(e){var t=e.handleSidebarOpen,a=e.handleModalOpen,r=q(),i=Object(p.b)();return Object(n.jsx)(I.a,{className:r.root,children:Object(n.jsxs)(A.a,{children:[Object(n.jsx)(w.a,{variant:"h6",className:r.logo,noWrap:!0,children:"Bloch Equation Simulator"}),Object(n.jsx)(D.a,{title:"Toggle light/dark theme",children:Object(n.jsx)(L.a,{edge:"end",color:"inherit",className:r.button,"aria-label":"Toggle light/dark theme",onClick:function(){i({type:G})},children:Object(n.jsx)(U.a,{})})}),Object(n.jsx)(D.a,{title:"GitHub page",children:Object(n.jsx)(L.a,{edge:"end",color:"inherit",className:r.button,href:"https://github.com/igoresso/bloch-sim",target:"_blank","aria-label":"GitHub page",children:Object(n.jsx)(R.a,{})})}),Object(n.jsx)(D.a,{title:"User Manual",children:Object(n.jsx)(L.a,{edge:"end",color:"inherit",className:r.button,"aria-label":"User Manual",onClick:a,children:Object(n.jsx)(W.a,{})})}),Object(n.jsx)(H.a,{mdUp:!0,children:Object(n.jsx)(L.a,{edge:"end",color:"inherit",className:r.button,"aria-label":"Open settings",onClick:t,children:Object(n.jsx)(F.a,{})})})]})})},J=a(102),V=a(148),Y=Object(g.a)((function(e){return{root:{position:"relative",padding:e.spacing(4)},closeButton:{position:"absolute",right:e.spacing(1),top:e.spacing(1),color:e.palette.primary}}})),Z=function(e){var t=e.children,a=e.handleDialogClose,r=Y();return Object(n.jsxs)(J.a,{className:r.root,children:[Object(n.jsx)(L.a,{"aria-label":"closeButton",className:r.closeButton,onClick:a,children:Object(n.jsx)(V.a,{})}),t]})},$=Object(g.a)((function(e){var t;return{root:Object(h.a)({height:"100vh",paddingTop:56},e.breakpoints.up("sm"),{paddingTop:64}),contentShift:{paddingLeft:280},content:{height:"100%",display:"flex",flexDirection:"column",padding:e.spacing(2),paddingBottom:0},shiftContent:{paddingLeft:280},modal:(t={display:"flex",justifyContent:"center",alignItems:"flex-start",maxWidth:"1000px",margin:"10vh auto"},Object(h.a)(t,e.breakpoints.up("xs"),{padding:"0 2vh"}),Object(h.a)(t,e.breakpoints.up("sm"),{padding:"0 5vh"}),Object(h.a)(t,e.breakpoints.up("md"),{padding:"0 5vh"}),Object(h.a)(t,e.breakpoints.up("lg"),{padding:"0"}),t),footer:{marginTop:"auto",paddingTop:e.spacing(2),paddingBottom:e.spacing(2)}}})),K=function(e){var t,a=e.sidebarContent,i=e.mainContent,o=e.helpContent,c=$(),s=Object(x.a)(),l=Object(u.a)(s.breakpoints.up("md"),{defaultMatches:!0}),p=Object(r.useState)(!1),b=Object(j.a)(p,2),d=b[0],m=b[1],g=Object(r.useState)(!1),y=Object(j.a)(g,2),M=y[0],w=y[1],k=function(){w(!1)},N=!!l||d;return Object(n.jsxs)("div",{className:Object(O.a)((t={},Object(h.a)(t,c.root,!0),Object(h.a)(t,c.shiftContent,l),t)),children:[Object(n.jsx)(X,{handleSidebarOpen:function(){m(!0)},handleModalOpen:function(){w(!0)}}),Object(n.jsx)(P,{isOpen:N,handleSidebarClose:function(){m(!1)},variant:l?"persistent":"temporary",children:a}),Object(n.jsxs)("main",{className:c.content,children:[i,Object(n.jsx)(T,{className:c.footer}),Object(n.jsx)(_.a,{"aria-labelledby":"modal-title","aria-describedby":"modal-description",className:c.modal,open:M,onClose:k,closeAfterTransition:!0,BackdropComponent:f.a,BackdropProps:{timeout:500},children:Object(n.jsx)(v.a,{in:M,children:Object(n.jsx)(Z,{handleDialogClose:k,children:o})})})]})]})},Q=a(6),ee=function(){return function(e){return e((function(e){return e({type:z}),Promise.resolve()})).then((function(){return e((function(e){return e({type:C}),Promise.resolve()}))}))}},te=function(){return function(e){return e({type:S}),Promise.resolve()}},ae=a(152),ne=a(149),re=Object(g.a)((function(e){return{root:{marginBottom:e.spacing(2)}}})),ie=function(){var e=Object(p.c)((function(e){return e.simulation.params})),t=Object(r.useState)(e),a=Object(j.a)(t,2),i=a[0],o=a[1],c=Object(r.useState)(!1),s=Object(j.a)(c,2),l=s[0],u=s[1],b=Object(r.useState)(!1),d=Object(j.a)(b,2),m=d[0],O=d[1],g=Object(p.b)(),x=re(),_=function(t){Number(t.target.value)!==i[t.target.name]&&(o(Object(Q.a)(Object(Q.a)({},e),Object(h.a)({},t.target.name,Number(t.target.value)))),u(!0))},f=function(t){var a;Number(t.target.value)!==e[t.target.name]&&(g((a=Object(h.a)({},t.target.name,Number(t.target.value)),function(e){Promise.resolve(e({type:B,payload:a})).then((function(){return e(te())}))})),u(!1))};return Object(n.jsxs)("form",{autoComplete:"off",children:[Object(n.jsx)(w.a,{variant:"h6",component:"h2",align:"center",children:"General"}),Object(n.jsxs)(y.a,{container:!0,spacing:1,className:x.root,children:[Object(n.jsx)(y.a,{item:!0,xs:6,children:Object(n.jsx)(ae.a,{label:"B\u2080 (T)",id:"B0",name:"B0",type:"number",inputProps:{step:"any",min:0},value:l?i.B0:e.B0,onChange:_,onBlur:f,margin:"dense",variant:"outlined",disabled:m})}),Object(n.jsx)(y.a,{item:!0,xs:6,children:Object(n.jsx)(ae.a,{label:"\u03b3 (MHz/T)",id:"gamma",name:"gamma",type:"number",inputProps:{step:"any",min:0},value:l?i.gamma:e.gamma,onChange:_,onBlur:f,margin:"dense",variant:"outlined",disabled:m})}),Object(n.jsx)(y.a,{item:!0,xs:6,children:Object(n.jsx)(ae.a,{label:"T\u2081 (ms)",id:"T1",name:"T1",type:"number",inputProps:{step:"any",min:0},value:l?i.T1:e.T1,onChange:_,onBlur:f,margin:"dense",variant:"outlined",disabled:m})}),Object(n.jsx)(y.a,{item:!0,xs:6,children:Object(n.jsx)(ae.a,{label:"T\u2082 (ms)",id:"T2",name:"T2",type:"number",inputProps:{step:"any",min:0},value:l?i.T2:e.T2,onChange:_,onBlur:f,margin:"dense",variant:"outlined",disabled:m})})]}),Object(n.jsx)(w.a,{variant:"h6",component:"h2",align:"center",children:"Pulse"}),Object(n.jsxs)(y.a,{container:!0,spacing:1,m:2,className:x.root,children:[Object(n.jsx)(y.a,{item:!0,xs:6,children:Object(n.jsx)(ae.a,{label:"T (ms)",id:"T_pulse",name:"T_pulse",type:"number",inputProps:{step:"any",min:0},value:l?i.T_pulse:e.T_pulse,onChange:_,onBlur:f,margin:"dense",variant:"outlined",disabled:m})}),Object(n.jsx)(y.a,{item:!0,xs:6,children:Object(n.jsx)(ae.a,{label:"N",id:"N_pulse",name:"N_pulse",type:"number",inputProps:{step:"any",min:0},value:l?i.N_pulse:e.N_pulse,onChange:_,onBlur:f,margin:"dense",variant:"outlined",disabled:m})}),Object(n.jsx)(y.a,{item:!0,xs:6,children:Object(n.jsx)(ae.a,{label:"dt (ms)",id:"dt_pulse",name:"dt_pulse",type:"number",inputProps:{step:"any",min:0},value:l?i.dt_pulse:e.dt_pulse,onChange:_,onBlur:f,margin:"dense",variant:"outlined",disabled:m})}),Object(n.jsx)(y.a,{item:!0,xs:6,children:Object(n.jsx)(ae.a,{label:Object(n.jsxs)(n.Fragment,{children:["B",Object(n.jsx)("sub",{children:"1, max"})," (mT)"]}),id:"amp_pulse",name:"amp_pulse",type:"number",inputProps:{step:"any"},value:l?i.amp_pulse:e.amp_pulse,onChange:_,onBlur:f,margin:"dense",variant:"outlined",disabled:m})}),Object(n.jsx)(y.a,{item:!0,xs:6,children:Object(n.jsx)(ae.a,{label:"Shape",id:"shape",name:"shape",select:!0,SelectProps:{native:!0},value:e.shape,onChange:f,margin:"dense",variant:"outlined",disabled:m,children:e.shape_options.map((function(e){return Object(n.jsx)("option",{value:e.value,children:e.label},e.value)}))})}),Object(n.jsx)(y.a,{item:!0,xs:6,children:Object(n.jsx)(ae.a,{label:"Lobes",id:"lobes",name:"lobes",type:"number",inputProps:{step:"any",min:0},value:l?i.lobes:e.lobes,onChange:_,onBlur:f,margin:"dense",variant:"outlined",disabled:2!==e.shape||m})}),Object(n.jsx)(y.a,{item:!0,xs:6,children:Object(n.jsx)(ae.a,{label:"\u03c3 (ms)",id:"sd",name:"sd",type:"number",inputProps:{step:"any"},value:l?i.sd:e.sd,onChange:_,onBlur:f,margin:"dense",variant:"outlined",disabled:4!==e.shape||m})})]}),Object(n.jsx)(w.a,{variant:"h6",component:"h2",align:"center",children:"Gradient"}),Object(n.jsx)(y.a,{container:!0,spacing:1,m:2,className:x.root,children:Object(n.jsx)(y.a,{item:!0,xs:6,children:Object(n.jsx)(ae.a,{label:Object(n.jsxs)(n.Fragment,{children:["G",Object(n.jsx)("sub",{children:"z"})," (mT/m)"]}),id:"amp_Gz",name:"amp_Gz",type:"number",inputProps:{step:"any",min:0},value:l?i.amp_Gz:e.amp_Gz,onChange:_,onBlur:f,margin:"dense",variant:"outlined",disabled:m})})}),Object(n.jsx)(w.a,{variant:"h6",component:"h2",align:"center",children:"Slice Profile"}),Object(n.jsxs)(y.a,{container:!0,spacing:1,m:2,className:x.root,children:[Object(n.jsx)(y.a,{item:!0,xs:6,children:Object(n.jsx)(ae.a,{label:"l (mm)",id:"l_profile",name:"l_profile",type:"number",inputProps:{step:"any",min:0},value:l?i.l_profile:e.l_profile,onChange:_,onBlur:f,margin:"dense",variant:"outlined",disabled:m})}),Object(n.jsx)(y.a,{item:!0,xs:6,children:Object(n.jsx)(ae.a,{label:"N",id:"N_profile",name:"N_profile",type:"number",inputProps:{step:"any",min:0},value:l?i.N_profile:e.N_profile,onChange:_,onBlur:f,margin:"dense",variant:"outlined",disabled:m})}),Object(n.jsx)(y.a,{item:!0,xs:6,children:Object(n.jsx)(ae.a,{label:"dl (mm)",id:"dl_profile",name:"dl_profile",type:"number",inputProps:{step:"any",min:0},value:l?i.dl_profile:e.dl_profile,onChange:_,onBlur:f,margin:"dense",variant:"outlined",disabled:m})})]}),Object(n.jsx)(ne.a,{color:"primary",variant:"contained",size:"large",type:"submit",onClick:function(e){e.preventDefault(),O(!0),g(ee()).then(O(!1))},disabled:m,fullWidth:!0,disableElevation:!0,children:m?"Working":"Simulate"})]})},oe=a(33),ce=a.n(oe),se=Object(g.a)((function(e){return{plot:{width:"100%"}}})),le=function(){var e=Object(p.c)((function(e){return e.simulation.output})),t=se(),a=Object(x.a)(),r="dark"===a.palette.type?"rgba(255, 255, 255, 0.2)":"rgba(0, 0, 0, 0.1)",i="dark"===a.palette.type?"rgba(255, 255, 255, 0.8)":"rgba(0, 0, 0, 0.4)",o="dark"===a.palette.type?"rgba(255, 255, 255, 1)":"rgba(0, 0, 0, 0.8)",c=[{name:"B1_x",type:"scattergl",mode:"lines",line:{width:3,color:"#ff8f7b"},x:e.t_vec,y:e.B1_x_vec},{name:"B1_y",type:"scattergl",mode:"lines",line:{width:3,color:"#fbb84d"},x:e.t_vec,y:e.B1_y_vec},{name:"Gz",type:"scattergl",yaxis:"y2",mode:"lines",line:{width:3,color:"#02ffb3"},x:e.t_vec,y:e.Gz_vec}],s={height:450,paper_bgcolor:"transparent",plot_bgcolor:"transparent",title:{text:"Excitation Pattern"},xaxis:{title:{text:"Time (ms)"},type:"linear",range:[0,e.T_pulse],gridcolor:r,zerolinecolor:i,linecolor:r,showspikes:!1},yaxis:{title:{text:"Amplitude (mT)",standoff:5},type:"linear",gridcolor:r,zerolinecolor:i,linecolor:r,showspikes:!1,showline:!0},yaxis2:{title:"Gradient (mT/m)",overlaying:"y",side:"right",gridcolor:r,zerolinecolor:i,linecolor:r,showspikes:!1},font:{color:o},modebar:{bgcolor:"transparent",color:r,activecolor:i}};return Object(n.jsx)(ce.a,{data:c,layout:s,config:{responsive:!0},className:t.plot})},pe=Object(g.a)((function(e){return{plot:{width:"100%"}}})),ue=function(){var e=Object(p.c)((function(e){return e.simulation.output})),t=Object(p.c)((function(e){return e.simulation.params.T_pulse})),a=pe(),r=Object(x.a)(),i="dark"===r.palette.type?"rgba(255, 255, 255, 0.2)":"rgba(0, 0, 0, 0.1)",o="dark"===r.palette.type?"rgba(255, 255, 255, 0.8)":"rgba(0, 0, 0, 0.4)",c="dark"===r.palette.type?"rgba(255, 255, 255, 1)":"rgba(0, 0, 0, 0.8)",s=[{name:"M_xy",type:"scattergl",mode:"lines",visible:"legendonly",line:{width:3,color:"#ff7eb8"},x:e.t_vec,y:e.Mxy_vec},{name:"M_x",type:"scattergl",mode:"lines",line:{width:3,color:"#ff8f7b"},x:e.t_vec,y:e.Mx_vec},{name:"M_y",type:"scattergl",mode:"lines",line:{width:3,color:"#fbb84d"},x:e.t_vec,y:e.My_vec},{name:"M_z",type:"scatter",mode:"lines",line:{width:3,color:"#b7e15d"},x:e.t_vec,y:e.Mz_vec}],l={height:450,paper_bgcolor:"transparent",plot_bgcolor:"transparent",title:{text:"Magnetisation"},xaxis:{title:{text:"Time (ms)"},type:"linear",range:[0,t],gridcolor:i,zerolinecolor:o,linecolor:i,showspikes:!1},yaxis:{title:{text:"Normalised Magnetisation",standoff:5},type:"linear",gridcolor:i,zerolinecolor:o,linecolor:i,showspikes:!1},font:{color:c},modebar:{bgcolor:"transparent",color:i,activecolor:o}};return Object(n.jsx)(ce.a,{data:s,layout:l,config:{responsive:!0},className:a.plot})},be=function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:20,t=2*Math.floor(e/2),a=[],n=[],r=[],i=0;i<t/2;i++)for(var o=2*Math.PI/t*(i+1),c=0;c<=2*t;c++){var s=Math.PI*c/t;if(a.push(Math.sin(s)*Math.cos(o)),n.push(Math.sin(s)*Math.sin(o)),r.push(Math.cos(s)),i===t/2-1&&c===t)break}for(var l=t-1;l>0;l--)for(var p=-Math.PI*l/t,u=0;u<=t;u++){var b=2*Math.PI*u/t+Math.PI;a.push(Math.sin(p)*Math.cos(b)),n.push(Math.sin(p)*Math.sin(b)),r.push(Math.cos(p))}return{x:a,y:n,z:r}},de=Object(g.a)((function(e){return{plot:{width:"100%"}}})),me=function(){var e=Object(p.c)((function(e){return e.simulation.output})),t=de(),a=Object(x.a)(),r="dark"===a.palette.type?"rgba(255, 255, 255, 0.1)":"rgba(0, 0, 0, 0.1)",i="dark"===a.palette.type?"rgba(255, 255, 255, 0.9)":"rgba(0, 0, 0, 0.4)",o="dark"===a.palette.type?"rgba(255, 255, 255, 1)":"rgba(0, 0, 0, 0.8)",c=be(),s=[Object(Q.a)({type:"scatter3d",mode:"lines",opacity:.2,line:{width:2,color:c.z,colorscale:"Portland"},hoverinfo:"none",showlegend:!1},c),{type:"scatter3d",mode:"lines",line:{width:5,color:"#ff0000"},hoverinfo:"none",showlegend:!1,x:e.Mx_vec,y:e.My_vec,z:e.Mz_vec}],l={margin:{l:0,r:0,b:0,t:0},height:450,paper_bgcolor:"transparent",scene:{bgcolor:"transparent",xaxis:{title:"X",range:[-1,1],type:"linear",gridcolor:r,zerolinecolor:i,linecolor:r,showspikes:!1},yaxis:{title:"Y",range:[-1,1],type:"linear",gridcolor:r,zerolinecolor:i,linecolor:r,showspikes:!1},zaxis:{title:"Z",range:[-1,1],type:"linear",gridcolor:r,zerolinecolor:r,linecolor:r,showspikes:!1},camera:{eye:{x:1.3,y:1.3,z:1.3}}},font:{color:o},modebar:{bgcolor:"transparent",color:r,activecolor:i}};return Object(n.jsx)(ce.a,{data:s,layout:l,config:{responsive:!0,modeBarButtonsToRemove:["hoverClosest3d"]},className:t.plot})},je=Object(g.a)((function(e){return{plot:{width:"100%"}}})),he=function(){var e=Object(p.c)((function(e){return e.simulation.output})),t=Object(p.c)((function(e){return e.simulation.params.l_profile})),a=je(),r=Object(x.a)(),i="dark"===r.palette.type?"rgba(255, 255, 255, 0.2)":"rgba(0, 0, 0, 0.1)",o="dark"===r.palette.type?"rgba(255, 255, 255, 0.8)":"rgba(0, 0, 0, 0.4)",c="dark"===r.palette.type?"rgba(255, 255, 255, 1)":"rgba(0, 0, 0, 0.8)",s=[{name:"M_xy",type:"scattergl",mode:"lines",line:{width:3,color:"#ff7eb8"},x:e.z_vec,y:e.SPxy_vec},{name:"M_x",type:"scattergl",mode:"lines",visible:"legendonly",line:{width:3,color:"#ff8f7b"},x:e.z_vec,y:e.SPx_vec},{name:"M_y",type:"scattergl",mode:"lines",visible:"legendonly",line:{width:3,color:"#fbb84d"},x:e.z_vec,y:e.SPy_vec},{name:"M_z",type:"scattergl",mode:"lines",visible:"legendonly",line:{width:3,color:"#b7e15d"},x:e.z_vec,y:e.SPz_vec}],l={height:450,paper_bgcolor:"transparent",plot_bgcolor:"transparent",title:{text:"Slice Profile"},xaxis:{title:{text:"z (mm)"},type:"linear",range:[-t/2,t/2],gridcolor:i,zerolinecolor:o,linecolor:i,showspikes:!1},yaxis:{title:{text:"Normalised Magnetisation",standoff:5},type:"linear",gridcolor:i,zerolinecolor:o,linecolor:i,showspikes:!1,showline:!0},font:{color:c},modebar:{bgcolor:"transparent",color:i,activecolor:o}};return Object(n.jsx)(ce.a,{data:s,layout:l,config:{responsive:!0},className:a.plot})},Oe=Object(g.a)((function(e){return{card:{padding:e.spacing(2)}}})),ge=function(){var e=Oe();return Object(n.jsxs)(y.a,{container:!0,spacing:1,children:[Object(n.jsx)(y.a,{item:!0,xs:12,lg:6,xl:4,children:Object(n.jsx)(J.a,{className:e.card,variant:"outlined",children:Object(n.jsx)(le,{})})}),Object(n.jsx)(y.a,{item:!0,xs:12,lg:6,xl:4,children:Object(n.jsx)(J.a,{className:e.card,variant:"outlined",children:Object(n.jsx)(me,{})})}),Object(n.jsx)(y.a,{item:!0,xs:12,lg:6,xl:4,children:Object(n.jsx)(J.a,{className:e.card,variant:"outlined",children:Object(n.jsx)(ue,{})})}),Object(n.jsx)(y.a,{item:!0,xs:12,lg:6,xl:4,children:Object(n.jsx)(J.a,{className:e.card,variant:"outlined",children:Object(n.jsx)(he,{})})})]})},xe=function(){return Object(n.jsxs)(i.a.Fragment,{children:[Object(n.jsx)("h2",{id:"modal-title",children:"Help"}),Object(n.jsx)("p",{id:"modal-description",children:"Help page is yet to be added. Stay tuned."})]})},_e=function(){var e=Object(p.c)((function(e){return e.presentation.isDark})),t=Object(u.a)("(prefers-color-scheme: dark)"),a=Object(b.a)({palette:{type:t||e?"dark":"light",primary:{main:t||e?"#212121":"#3f51b5"}}});return Object(n.jsxs)(d.a,{theme:a,children:[Object(n.jsx)(m.a,{}),Object(n.jsx)(s.a,{basename:"/bloch-sim",children:Object(n.jsxs)(l.d,{children:[Object(n.jsx)(l.a,{from:"\\/[\\s\\S]+",to:"/"}),Object(n.jsx)(l.b,{exact:!0,path:"/",children:Object(n.jsx)(K,{sidebarContent:Object(n.jsx)(ie,{}),mainContent:Object(n.jsx)(ge,{}),helpContent:Object(n.jsx)(xe,{})})})]})})]})};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var fe=a(35),ve=a(74),ye=function(e){var t=Array.from({length:e.N_pulse},(function(t,a){return a/(e.N_pulse-1)*e.T_pulse})),a=[],n=[];switch(e.shape){case 1:a=Array.from({length:e.N_pulse},(function(t,a){return e.amp_pulse})),n=Array.from({length:e.N_pulse},(function(e,t){return 0}));break;case 2:a=t.map((function(t){return e.amp_pulse*Math.sin(Math.PI*(e.lobes+1)/e.T_pulse*(t-e.T_pulse/2))/(Math.PI*(e.lobes+1)/e.T_pulse*(t-e.T_pulse/2))})),n=Array.from({length:e.N_pulse},(function(e,t){return 0}));break;case 3:a=t.map((function(t){return e.amp_pulse*Math.sin(Math.PI*(e.lobes+1)/e.T_pulse*(t-e.T_pulse/2))/(Math.PI*(e.lobes+1)/e.T_pulse*(t-e.T_pulse/2))*(.54+.46*Math.cos(Math.PI*(e.lobes+1)/e.T_pulse*(t-e.T_pulse/2)/Math.round(e.lobes/2)))})),n=Array.from({length:e.N_pulse},(function(e,t){return 0}));break;case 4:a=t.map((function(t){return e.amp_pulse*Math.exp(-1*Math.pow(t-e.T_pulse/2,2)/(2*Math.pow(e.sd,2)))})),n=Array.from({length:e.N_pulse},(function(e,t){return 0}));break;default:return{t_vec:t,B1_x_vec:a,B1_y_vec:n}}return{t_vec:t,B1_x_vec:a,B1_y_vec:n}},Me=function(e){return{Gz_vec:Array.from({length:e.N_pulse},(function(t,a){return e.amp_Gz}))}},we={B0:3,gamma:42.5775,T1:950,T2:100,T_pulse:10,N_pulse:100,dt_pulse:.1,amp_pulse:.001,shape_options:[{value:1,label:"rect"},{value:2,label:"sinc"},{value:3,label:"Hm(sinc)"},{value:4,label:"Gaussian"}],shape:2,lobes:3,sd:1,amp_Gz:30,l_profile:5,N_profile:100,dl_profile:.05},Te={params:we,output:Object(Q.a)(Object(Q.a)(Object(Q.a)({},ye(we)),Me(we)),{},{Mx_vec:[],My_vec:[],Mxy_vec:[],Mz_vec:[],z_vec:[],SPx_vec:[],SPy_vec:[],SPxy_vec:[],SPz_vec:[]})},ke=function(e,t){for(var a=0,n=Object.entries(t);a<n.length;a++){var r=Object(j.a)(n[a],2),i=r[0],o=r[1],c={};switch(i){case"B0":case"gamma":case"T1":case"T2":c=Object(Q.a)(Object(Q.a)({},e.params),Object(h.a)({},i,o));break;case"T_pulse":c=Object(Q.a)(Object(Q.a)(Object(Q.a)({},e.params),Object(h.a)({},i,o)),{dt_pulse:o/e.params.N_pulse});break;case"N_pulse":c=Object(Q.a)(Object(Q.a)(Object(Q.a)({},e.params),Object(h.a)({},i,o)),{dt_pulse:e.params.T_pulse/o});break;case"dt_pulse":c=Object(Q.a)(Object(Q.a)(Object(Q.a)({},e.params),Object(h.a)({},i,o)),{T_pulse:e.params.N_pulse*o});break;case"amp_pulse":case"shape":case"lobes":case"sd":case"amp_Gz":c=Object(Q.a)(Object(Q.a)({},e.params),Object(h.a)({},i,o));break;case"l_profile":c=Object(Q.a)(Object(Q.a)(Object(Q.a)({},e.params),Object(h.a)({},i,o)),{dl_profile:o/e.params.N_profile});break;case"N_profile":c=Object(Q.a)(Object(Q.a)(Object(Q.a)({},e.params),Object(h.a)({},i,o)),{dl_profile:e.params.l_profile/o});break;case"dl_profile":c=Object(Q.a)(Object(Q.a)(Object(Q.a)({},e.params),Object(h.a)({},i,o)),{dl_profile:e.params.N_profile*o});break;case"isBusy":c=Object(Q.a)(Object(Q.a)({},e.params),Object(h.a)({},i,o));break;default:return e}return{params:c,output:Object(Q.a)(Object(Q.a)(Object(Q.a)({},e.output),ye(c)),Me(c))}}},Ne=a(57),Pe=a.n(Ne),Be=function(e){var t=2*Math.PI*e.params.gamma*Math.pow(10,6),a=e.params.T1/Math.pow(10,3),n=e.params.T2/Math.pow(10,3),r=e.params.T_pulse/Math.pow(10,3),i=e.params.dt_pulse/Math.pow(10,3),o=e.output.t_vec.map((function(e){return e/Math.pow(10,3)})),c=e.output.B1_x_vec.map((function(e){return e/Math.pow(10,3)})),s=e.output.B1_y_vec.map((function(e){return e/Math.pow(10,3)})),l=[0,0,1],p=i,u=Pe()(l,(function(e,i,l){var p=0,u=0;if(l<r){var b=o.findIndex((function(e){return e>l})),d=(l-o[b-1])/(o[b]-o[b-1]);p=c[b-1]+d*(c[b]-c[b-1]),u=s[b-1]+d*(s[b]-s[b-1])}e[0]=-1/n*i[0]+t*u*i[2],e[1]=-1/n*i[1]+t*p*i[2],e[2]=t*u*i[0]-t*p*i[1]-1/a*i[2]+1/a}),0,p),b=[l[0]],d=[l[1]],m=[Math.sqrt(Math.pow(l[0],2)+Math.pow(l[1],2))],j=[l[2]];return o.slice(1).forEach((function(e){u.steps(1/0,e),b.push(u.y[0]),d.push(u.y[1]),m.push(Math.sqrt(Math.pow(u.y[0],2)+Math.pow(u.y[1],2))),j.push(u.y[2])})),{params:Object(Q.a)({},e.params),output:Object(Q.a)(Object(Q.a)({},e.output),{Mx_vec:b,My_vec:d,Mxy_vec:m,Mz_vec:j})}},ze=function(e){var t=2*Math.PI*e.params.gamma*Math.pow(10,6),a=e.params.T1/Math.pow(10,3),n=e.params.T2/Math.pow(10,3),r=e.params.T_pulse/Math.pow(10,3),i=e.params.dt_pulse/Math.pow(10,3),o=e.params.l_profile/Math.pow(10,3),c=e.params.N_profile,s=e.output.t_vec.map((function(e){return e/Math.pow(10,3)})),l=e.output.B1_x_vec.map((function(e){return e/Math.pow(10,3)})),p=e.output.B1_y_vec.map((function(e){return e/Math.pow(10,3)})),u=Array.from({length:c},(function(e,t){return-o/2+o/(c-1)*t})),b=e.output.Gz_vec.map((function(e){return e/Math.pow(10,3)})),d=[],m=[],j=[],h=[];return u.forEach((function(e){var o=i,c=Pe()([0,0,1],(function(i,o,c){var u=0,d=0,m=0;if(c<r){var j=s.findIndex((function(e){return e>c})),h=(c-s[j-1])/(s[j]-s[j-1]),O=b[j-1]+h*(b[j]-b[j-1]);u=t*O*e}if(c<r){var g=s.findIndex((function(e){return e>c})),x=(c-s[g-1])/(s[g]-s[g-1]);d=l[g-1]+x*(l[g]-l[g-1]),m=p[g-1]+x*(p[g]-p[g-1])}i[0]=-1/n*o[0]+t*m*o[2]+u*o[1],i[1]=-1/n*o[1]+t*d*o[2]-u*o[0],i[2]=t*m*o[0]-t*d*o[1]-1/a*o[2]+1/a}),0,o);c.steps(1/0,r),d.push(c.y[0]),m.push(c.y[1]),j.push(Math.sqrt(Math.pow(c.y[0],2)+Math.pow(c.y[1],2))),h.push(c.y[2])})),{params:Object(Q.a)({},e.params),output:Object(Q.a)(Object(Q.a)({},e.output),{z_vec:u.map((function(e){return e*Math.pow(10,3)})),SPx_vec:d,SPy_vec:m,SPxy_vec:j,SPz_vec:h})}},Ce=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Te,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case B:return ke(e,t.payload);case z:return Be(e);case C:return ze(e);case S:return{params:Object(Q.a)({},e.params),output:Object(Q.a)(Object(Q.a)({},e.output),{Mx_vec:[],My_vec:[],Mxy_vec:[],Mz_vec:[],z_vec:[],SPx_vec:[],SPy_vec:[],SPxy_vec:[],SPz_vec:[]})};case E:return Te;default:return e}},Se={isDark:!1},Ee=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Se,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case G:return Object(Q.a)(Object(Q.a)({},e),{isDark:!e.isDark});default:return e}},Ge=Object(fe.c)({simulation:Ce,presentation:Ee}),Ie=Object(fe.e)(Ge,Object(fe.d)(Object(fe.a)(ve.a),window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__()));c.a.render(Object(n.jsx)(i.a.StrictMode,{children:Object(n.jsx)(p.a,{store:Ie,children:Object(n.jsx)(_e,{})})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[99,1,2]]]);
//# sourceMappingURL=main.5af8c669.chunk.js.map