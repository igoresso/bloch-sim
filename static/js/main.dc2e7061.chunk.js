(this["webpackJsonpbloch-sim"]=this["webpackJsonpbloch-sim"]||[]).push([[0],{95:function(e,t,a){"use strict";a.r(t);var n=a(2),r=a(0),i=a.n(r),o=a(12),s=a.n(o),c=a(14),l=a(139),p=a(72),u=a(147),d=a(148),b=a(23),m=a(11),j=a(4),h=a(150),g=a(58),O=a(152),x=a(131),f=a(100),_=a(127),v=a(129),y=a(98),M=function(e){var t=e.className,a=new Date;return Object(n.jsxs)("footer",{className:t,children:[Object(n.jsxs)(_.a,{container:!0,justify:"center",spacing:2,children:[Object(n.jsx)(_.a,{item:!0,children:Object(n.jsx)(v.a,{href:"https://en.wikipedia.org/wiki/Bloch_equations",color:"textPrimary",target:"_blank",children:"Wiki"})}),Object(n.jsx)(_.a,{item:!0,children:Object(n.jsx)(v.a,{href:"https://github.com/igoresso/bloch-sim",color:"textPrimary",target:"_blank",children:"GitHub"})}),Object(n.jsx)(_.a,{item:!0,children:Object(n.jsx)(v.a,{href:"https://github.com/igoresso/bloch-sim/issues",color:"textPrimary",target:"_blank",children:"Found a mistake?"})})]}),Object(n.jsx)(y.a,{align:"center",color:"textSecondary",variant:"body2",children:"\xa9 ".concat(a.getFullYear())})]})},w=a(155),k=Object(h.a)((function(e){return{drawer:Object(m.a)({width:280,padding:e.spacing(3)},e.breakpoints.up("md"),{marginTop:64,height:"calc(100% - 64px)"})}})),T=function(e){var t=e.isOpen,a=e.handleSidebarClose,r=e.variant,i=e.children,o=k();return Object(n.jsx)(w.a,{anchor:"left",classes:{paper:o.drawer},onClose:a,open:t,variant:r,children:i})},N="UPDATE",P="CALCULATE_MAGNETISATION",B="CALCULATE_PROFILE",z="CLEAR",C="RESET",S="TOGGLE_THEME",G=a(132),I=a(133),A=a(154),E=a(135),H=a(153),L=a(136),D=a(137),R=a(138),W=a(140),F=Object(h.a)((function(e){return{root:{boxShadow:"none"},logo:{marginRight:"auto"},button:{marginLeft:e.spacing(1)}}})),U=function(e){var t=e.handleSidebarOpen,a=e.handleModalOpen,r=F(),i=Object(c.b)();return Object(n.jsx)(G.a,{className:r.root,children:Object(n.jsxs)(I.a,{children:[Object(n.jsx)(y.a,{variant:"h6",className:r.logo,noWrap:!0,children:"Bloch Equation Simulator"}),Object(n.jsx)(A.a,{title:"Toggle light/dark theme",children:Object(n.jsx)(E.a,{edge:"end",color:"inherit",className:r.button,"aria-label":"Toggle light/dark theme",onClick:function(){i({type:S})},children:Object(n.jsx)(L.a,{})})}),Object(n.jsx)(A.a,{title:"GitHub page",children:Object(n.jsx)(E.a,{edge:"end",color:"inherit",className:r.button,href:"https://github.com/igoresso/bloch-sim",target:"_blank","aria-label":"GitHub page",children:Object(n.jsx)(D.a,{})})}),Object(n.jsx)(A.a,{title:"User Manual",children:Object(n.jsx)(E.a,{edge:"end",color:"inherit",className:r.button,"aria-label":"User Manual",onClick:a,children:Object(n.jsx)(R.a,{})})}),Object(n.jsx)(H.a,{mdUp:!0,children:Object(n.jsx)(E.a,{edge:"end",color:"inherit",className:r.button,"aria-label":"Open settings",onClick:t,children:Object(n.jsx)(W.a,{})})})]})})},q=a(99),J=a(141),Y=Object(h.a)((function(e){return{root:{position:"relative",padding:e.spacing(4)},closeButton:{position:"absolute",right:e.spacing(1),top:e.spacing(1),color:e.palette.primary}}})),X=function(e){var t=e.children,a=e.handleDialogClose,r=Y();return Object(n.jsxs)(q.a,{className:r.root,children:[Object(n.jsx)(E.a,{"aria-label":"closeButton",className:r.closeButton,onClick:a,children:Object(n.jsx)(J.a,{})}),t]})},Z=Object(h.a)((function(e){var t;return{root:Object(m.a)({height:"100vh",paddingTop:56},e.breakpoints.up("sm"),{paddingTop:64}),contentShift:{paddingLeft:280},content:{height:"100%",display:"flex",flexDirection:"column",padding:e.spacing(2),paddingBottom:0},shiftContent:{paddingLeft:280},modal:(t={display:"flex",justifyContent:"center",alignItems:"flex-start",maxWidth:"1000px",margin:"10vh auto"},Object(m.a)(t,e.breakpoints.up("xs"),{padding:"0 2vh"}),Object(m.a)(t,e.breakpoints.up("sm"),{padding:"0 5vh"}),Object(m.a)(t,e.breakpoints.up("md"),{padding:"0 5vh"}),Object(m.a)(t,e.breakpoints.up("lg"),{padding:"0"}),t),footer:{marginTop:"auto",paddingTop:e.spacing(2),paddingBottom:e.spacing(2)}}})),$=function(e){var t,a=e.sidebarContent,i=e.mainContent,o=e.helpContent,s=Z(),c=Object(g.a)(),p=Object(l.a)(c.breakpoints.up("md"),{defaultMatches:!0}),u=Object(r.useState)(!1),d=Object(b.a)(u,2),h=d[0],_=d[1],v=Object(r.useState)(!1),y=Object(b.a)(v,2),w=y[0],k=y[1],N=function(){k(!1)},P=!!p||h;return Object(n.jsxs)("div",{className:Object(j.a)((t={},Object(m.a)(t,s.root,!0),Object(m.a)(t,s.shiftContent,p),t)),children:[Object(n.jsx)(U,{handleSidebarOpen:function(){_(!0)},handleModalOpen:function(){k(!0)}}),Object(n.jsx)(T,{isOpen:P,handleSidebarClose:function(){_(!1)},variant:p?"persistent":"temporary",children:a}),Object(n.jsxs)("main",{className:s.content,children:[i,Object(n.jsx)(M,{className:s.footer}),Object(n.jsx)(O.a,{"aria-labelledby":"modal-title","aria-describedby":"modal-description",className:s.modal,open:w,onClose:N,closeAfterTransition:!0,BackdropComponent:x.a,BackdropProps:{timeout:500},children:Object(n.jsx)(f.a,{in:w,children:Object(n.jsx)(X,{handleDialogClose:N,children:o})})})]})]})},K=a(6),Q=function(e){return function(t){return t({type:N,payload:e}),Promise.resolve()}},V=function(){return function(e){return e((function(e){return e({type:P}),Promise.resolve()})).then((function(){return e((function(e){return e({type:B}),Promise.resolve()}))}))}},ee=a(149),te=a(142),ae=Object(h.a)((function(e){return{root:{marginBottom:e.spacing(2)}}})),ne=function(){var e=Object(c.c)((function(e){return e.simulation.params})),t=Object(r.useState)(e),a=Object(b.a)(t,2),i=a[0],o=a[1],s=Object(r.useState)(!1),l=Object(b.a)(s,2),p=l[0],u=l[1],d=Object(r.useState)(!1),j=Object(b.a)(d,2),h=j[0],g=j[1],O=Object(c.b)(),x=ae(),f=function(t){Number(t.target.value)!==i[t.target.name]&&(o(Object(K.a)(Object(K.a)({},e),Object(m.a)({},t.target.name,Number(t.target.value)))),u(!0))},v=function(t){Number(t.target.value)!==e[t.target.name]&&(O(Q(Object(m.a)({},t.target.name,Number(t.target.value)))).then(O((function(e){return e({type:z}),Promise.resolve()}))),u(!1))};return Object(n.jsxs)("form",{autoComplete:"off",children:[Object(n.jsx)(y.a,{variant:"h6",component:"h2",align:"center",children:"General"}),Object(n.jsxs)(_.a,{container:!0,spacing:1,className:x.root,children:[Object(n.jsx)(_.a,{item:!0,xs:6,children:Object(n.jsx)(ee.a,{label:"B\u2080 (T)",id:"B0",name:"B0",type:"number",inputProps:{step:"any",min:0},value:p?i.B0:e.B0,onChange:f,onBlur:v,margin:"dense",variant:"outlined",disabled:h})}),Object(n.jsx)(_.a,{item:!0,xs:6,children:Object(n.jsx)(ee.a,{label:"\u03b3 (MHz/T)",id:"gamma",name:"gamma",type:"number",inputProps:{step:"any",min:0},value:p?i.gamma:e.gamma,onChange:f,onBlur:v,margin:"dense",variant:"outlined",disabled:h})}),Object(n.jsx)(_.a,{item:!0,xs:6,children:Object(n.jsx)(ee.a,{label:"T\u2081 (ms)",id:"T1",name:"T1",type:"number",inputProps:{step:"any",min:0},value:p?i.T1:e.T1,onChange:f,onBlur:v,margin:"dense",variant:"outlined",disabled:h})}),Object(n.jsx)(_.a,{item:!0,xs:6,children:Object(n.jsx)(ee.a,{label:"T\u2082 (ms)",id:"T2",name:"T2",type:"number",inputProps:{step:"any",min:0},value:p?i.T2:e.T2,onChange:f,onBlur:v,margin:"dense",variant:"outlined",disabled:h})})]}),Object(n.jsx)(y.a,{variant:"h6",component:"h2",align:"center",children:"Pulse"}),Object(n.jsxs)(_.a,{container:!0,spacing:1,m:2,className:x.root,children:[Object(n.jsx)(_.a,{item:!0,xs:6,children:Object(n.jsx)(ee.a,{label:"T (ms)",id:"T_pulse",name:"T_pulse",type:"number",inputProps:{step:"any",min:0},value:p?i.T_pulse:e.T_pulse,onChange:f,onBlur:v,margin:"dense",variant:"outlined",disabled:h})}),Object(n.jsx)(_.a,{item:!0,xs:6,children:Object(n.jsx)(ee.a,{label:"N",id:"N_pulse",name:"N_pulse",type:"number",inputProps:{step:"any",min:0},value:p?i.N_pulse:e.N_pulse,onChange:f,onBlur:v,margin:"dense",variant:"outlined",disabled:h})}),Object(n.jsx)(_.a,{item:!0,xs:6,children:Object(n.jsx)(ee.a,{label:"dt (ms)",id:"dt_pulse",name:"dt_pulse",type:"number",inputProps:{step:"any",min:0},value:p?i.dt_pulse:e.dt_pulse,onChange:f,onBlur:v,margin:"dense",variant:"outlined",disabled:h})}),Object(n.jsx)(_.a,{item:!0,xs:6,children:Object(n.jsx)(ee.a,{label:Object(n.jsxs)(n.Fragment,{children:["B",Object(n.jsx)("sub",{children:"1, max"})," (mT)"]}),id:"amp_pulse",name:"amp_pulse",type:"number",inputProps:{step:"any"},value:p?i.amp_pulse:e.amp_pulse,onChange:f,onBlur:v,margin:"dense",variant:"outlined",disabled:h})}),Object(n.jsx)(_.a,{item:!0,xs:6,children:Object(n.jsx)(ee.a,{label:"Shape",id:"shape",name:"shape",select:!0,SelectProps:{native:!0},value:e.shape,onChange:v,margin:"dense",variant:"outlined",disabled:h,children:e.shape_options.map((function(e){return Object(n.jsx)("option",{value:e.value,children:e.label},e.value)}))})}),Object(n.jsx)(_.a,{item:!0,xs:6,children:Object(n.jsx)(ee.a,{label:"Lobes",id:"lobes",name:"lobes",type:"number",inputProps:{step:"any",min:0},value:p?i.lobes:e.lobes,onChange:f,onBlur:v,margin:"dense",variant:"outlined",disabled:2!==e.shape||h})}),Object(n.jsx)(_.a,{item:!0,xs:6,children:Object(n.jsx)(ee.a,{label:"\u03c3 (ms)",id:"sd",name:"sd",type:"number",inputProps:{step:"any"},value:p?i.sd:e.sd,onChange:f,onBlur:v,margin:"dense",variant:"outlined",disabled:4!==e.shape||h})})]}),Object(n.jsx)(y.a,{variant:"h6",component:"h2",align:"center",children:"Gradient"}),Object(n.jsx)(_.a,{container:!0,spacing:1,m:2,className:x.root,children:Object(n.jsx)(_.a,{item:!0,xs:6,children:Object(n.jsx)(ee.a,{label:Object(n.jsxs)(n.Fragment,{children:["G",Object(n.jsx)("sub",{children:"z"})," (mT/m)"]}),id:"amp_Gz",name:"amp_Gz",type:"number",inputProps:{step:"any",min:0},value:p?i.amp_Gz:e.amp_Gz,onChange:f,onBlur:v,margin:"dense",variant:"outlined",disabled:h})})}),Object(n.jsx)(y.a,{variant:"h6",component:"h2",align:"center",children:"Slice Profile"}),Object(n.jsxs)(_.a,{container:!0,spacing:1,m:2,className:x.root,children:[Object(n.jsx)(_.a,{item:!0,xs:6,children:Object(n.jsx)(ee.a,{label:"l (mm)",id:"l_profile",name:"l_profile",type:"number",inputProps:{step:"any",min:0},value:p?i.l_profile:e.l_profile,onChange:f,onBlur:v,margin:"dense",variant:"outlined",disabled:h})}),Object(n.jsx)(_.a,{item:!0,xs:6,children:Object(n.jsx)(ee.a,{label:"N",id:"N_profile",name:"N_profile",type:"number",inputProps:{step:"any",min:0},value:p?i.N_profile:e.N_profile,onChange:f,onBlur:v,margin:"dense",variant:"outlined",disabled:h})}),Object(n.jsx)(_.a,{item:!0,xs:6,children:Object(n.jsx)(ee.a,{label:"dl (mm)",id:"dl_profile",name:"dl_profile",type:"number",inputProps:{step:"any",min:0},value:p?i.dl_profile:e.dl_profile,onChange:f,onBlur:v,margin:"dense",variant:"outlined",disabled:h})})]}),Object(n.jsx)(te.a,{color:"primary",variant:"contained",size:"large",type:"submit",onClick:function(e){e.preventDefault(),g(!0),O(V()).then(g(!1))},disabled:h,fullWidth:!0,disableElevation:!0,children:h?"Working":"Simulate"})]})},re=a(69),ie=a.n(re),oe=a(70),se=a.n(oe)()(ie.a),ce=Object(h.a)((function(e){return{plot:{width:"100%"}}})),le=function(){var e=Object(c.c)((function(e){return e.simulation.output})),t=ce(),a=Object(g.a)(),r="dark"===a.palette.type?"rgba(255, 255, 255, 0.2)":"rgba(0, 0, 0, 0.1)",i="dark"===a.palette.type?"rgba(255, 255, 255, 0.8)":"rgba(0, 0, 0, 0.4)",o="dark"===a.palette.type?"rgba(255, 255, 255, 1)":"rgba(0, 0, 0, 0.8)",s=[{name:"B1_x",type:"scattergl",mode:"lines",line:{width:3,color:"#ff8f7b"},x:e.t_vec,y:e.B1_x_vec},{name:"B1_y",type:"scattergl",mode:"lines",line:{width:3,color:"#fbb84d"},x:e.t_vec,y:e.B1_y_vec},{name:"Gz",type:"scattergl",yaxis:"y2",mode:"lines",line:{width:3,color:"#02ffb3"},x:e.t_vec,y:e.Gz_vec}],l={height:450,paper_bgcolor:"transparent",plot_bgcolor:"transparent",title:{text:"Excitation Pattern"},xaxis:{title:{text:"Time (ms)"},type:"linear",range:[0,e.T_pulse],gridcolor:r,zerolinecolor:i,linecolor:r,showspikes:!1},yaxis:{title:{text:"Amplitude (mT)",standoff:5},type:"linear",gridcolor:r,zerolinecolor:i,linecolor:r,showspikes:!1,showline:!0},yaxis2:{title:"Gradient (mT/m)",overlaying:"y",side:"right",gridcolor:r,zerolinecolor:i,linecolor:r,showspikes:!1},font:{color:o},modebar:{bgcolor:"transparent",color:r,activecolor:i}};return Object(n.jsx)(se,{data:s,layout:l,config:{responsive:!0,displaylogo:!1},className:t.plot,useResizeHandler:!0})},pe=Object(h.a)((function(e){return{plot:{width:"100%"}}})),ue=function(){var e=Object(c.c)((function(e){return e.simulation.output})),t=Object(c.c)((function(e){return e.simulation.params.T_pulse})),a=pe(),r=Object(g.a)(),i="dark"===r.palette.type?"rgba(255, 255, 255, 0.2)":"rgba(0, 0, 0, 0.1)",o="dark"===r.palette.type?"rgba(255, 255, 255, 0.8)":"rgba(0, 0, 0, 0.4)",s="dark"===r.palette.type?"rgba(255, 255, 255, 1)":"rgba(0, 0, 0, 0.8)",l=[{name:"M_xy",type:"scattergl",mode:"lines",visible:"legendonly",line:{width:3,color:"#ff7eb8"},x:e.t_vec,y:e.Mxy_vec},{name:"M_x",type:"scattergl",mode:"lines",line:{width:3,color:"#ff8f7b"},x:e.t_vec,y:e.Mx_vec},{name:"M_y",type:"scattergl",mode:"lines",line:{width:3,color:"#fbb84d"},x:e.t_vec,y:e.My_vec},{name:"M_z",type:"scatter",mode:"lines",line:{width:3,color:"#b7e15d"},x:e.t_vec,y:e.Mz_vec}],p={height:450,paper_bgcolor:"transparent",plot_bgcolor:"transparent",title:{text:"Magnetisation"},xaxis:{title:{text:"Time (ms)"},type:"linear",range:[0,t],gridcolor:i,zerolinecolor:o,linecolor:i,showspikes:!1},yaxis:{title:{text:"Normalised Magnetisation",standoff:5},type:"linear",gridcolor:i,zerolinecolor:o,linecolor:i,showspikes:!1},font:{color:s},modebar:{bgcolor:"transparent",color:i,activecolor:o}};return Object(n.jsx)(se,{data:l,layout:p,config:{responsive:!0,displaylogo:!1},className:a.plot,useResizeHandler:!0})},de=function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:20,t=2*Math.floor(e/2),a=[],n=[],r=[],i=0;i<t/2;i++)for(var o=2*Math.PI/t*(i+1),s=0;s<=2*t;s++){var c=Math.PI*s/t;if(a.push(Math.sin(c)*Math.cos(o)),n.push(Math.sin(c)*Math.sin(o)),r.push(Math.cos(c)),i===t/2-1&&s===t)break}for(var l=t-1;l>0;l--)for(var p=-Math.PI*l/t,u=0;u<=t;u++){var d=2*Math.PI*u/t+Math.PI;a.push(Math.sin(p)*Math.cos(d)),n.push(Math.sin(p)*Math.sin(d)),r.push(Math.cos(p))}return{x:a,y:n,z:r}},be=Object(h.a)((function(e){return{plot:{width:"100%"}}})),me=function(){var e=Object(c.c)((function(e){return e.simulation.output})),t=be(),a=Object(g.a)(),r="dark"===a.palette.type?"rgba(255, 255, 255, 0.1)":"rgba(0, 0, 0, 0.1)",i="dark"===a.palette.type?"rgba(255, 255, 255, 0.9)":"rgba(0, 0, 0, 0.4)",o="dark"===a.palette.type?"rgba(255, 255, 255, 1)":"rgba(0, 0, 0, 0.8)",s=de(),l=[Object(K.a)({type:"scatter3d",mode:"lines",opacity:.2,line:{width:2,color:s.z,colorscale:"Portland"},hoverinfo:"none",showlegend:!1},s),{type:"scatter3d",mode:"lines",line:{width:5,color:"#ff0000"},hoverinfo:"none",showlegend:!1,x:e.Mx_vec,y:e.My_vec,z:e.Mz_vec}],p={margin:{l:0,r:0,b:0,t:0},height:450,paper_bgcolor:"transparent",scene:{bgcolor:"transparent",xaxis:{title:"X",range:[-1,1],type:"linear",gridcolor:r,zerolinecolor:i,linecolor:r,showspikes:!1},yaxis:{title:"Y",range:[-1,1],type:"linear",gridcolor:r,zerolinecolor:i,linecolor:r,showspikes:!1},zaxis:{title:"Z",range:[-1,1],type:"linear",gridcolor:r,zerolinecolor:r,linecolor:r,showspikes:!1},camera:{eye:{x:1.3,y:1.3,z:1.3}}},font:{color:o},modebar:{bgcolor:"transparent",color:r,activecolor:i}};return Object(n.jsx)(se,{data:l,layout:p,config:{responsive:!0,modeBarButtonsToRemove:["hoverClosest3d"],displaylogo:!1},className:t.plot,useResizeHandler:!0})},je=Object(h.a)((function(e){return{plot:{width:"100%"}}})),he=function(){var e=Object(c.c)((function(e){return e.simulation.output})),t=e.SPx_vec,a=e.SPy_vec,r=e.SPxy_vec,i=e.SPz_vec,o=e.z_vec,s=Object(c.c)((function(e){return e.simulation.params})).l_profile,l=je(),p=Object(g.a)(),u="dark"===p.palette.type?"rgba(255, 255, 255, 0.2)":"rgba(0, 0, 0, 0.1)",d="dark"===p.palette.type?"rgba(255, 255, 255, 0.8)":"rgba(0, 0, 0, 0.4)",b=[{name:"M_xy",type:"scattergl",mode:"lines",line:{width:3,color:"#ff7eb8"},x:o,y:r},{name:"M_x",type:"scattergl",mode:"lines",visible:"legendonly",line:{width:3,color:"#ff8f7b"},x:o,y:t},{name:"M_y",type:"scattergl",mode:"lines",visible:"legendonly",line:{width:3,color:"#fbb84d"},x:o,y:a},{name:"M_z",type:"scattergl",mode:"lines",visible:"legendonly",line:{width:3,color:"#b7e15d"},x:o,y:i}],m={height:450,paper_bgcolor:"transparent",plot_bgcolor:"transparent",title:{text:"Slice Profile"},xaxis:{title:{text:"z (mm)"},type:"linear",range:[-s/2,s/2],gridcolor:u,zerolinecolor:d,linecolor:u,showspikes:!1},yaxis:{title:{text:"Normalised Magnetisation",standoff:5},type:"linear",gridcolor:u,zerolinecolor:d,linecolor:u,showspikes:!1,showline:!0},font:{color:"dark"===p.palette.type?"rgba(255, 255, 255, 1)":"rgba(0, 0, 0, 0.8)"},modebar:{bgcolor:"transparent",color:u,activecolor:d}};return Object(n.jsx)(se,{data:b,layout:m,config:{responsive:!0,displaylogo:!1},className:l.plot,useResizeHandler:!0})},ge=(a(151),a(156),a(143),a(144),a(145),a(146),Object(h.a)((function(e){return{card:{padding:e.spacing(2)},timeline:{paddingTop:e.spacing(3),paddingLeft:e.spacing(8),paddingRight:e.spacing(8),paddingBottom:e.spacing(2)}}}))),Oe=function(){var e=ge();return Object(n.jsxs)(_.a,{container:!0,spacing:1,children:[Object(n.jsx)(_.a,{item:!0,xs:12,lg:6,children:Object(n.jsx)(q.a,{className:e.card,variant:"outlined",children:Object(n.jsx)(le,{})})}),Object(n.jsx)(_.a,{item:!0,xs:12,lg:6,children:Object(n.jsx)(q.a,{className:e.card,variant:"outlined",children:Object(n.jsx)(me,{})})}),Object(n.jsx)(_.a,{item:!0,xs:12,lg:6,children:Object(n.jsx)(q.a,{className:e.card,variant:"outlined",children:Object(n.jsx)(ue,{})})}),Object(n.jsx)(_.a,{item:!0,xs:12,lg:6,children:Object(n.jsx)(q.a,{className:e.card,variant:"outlined",children:Object(n.jsx)(he,{})})})]})},xe=function(){return Object(n.jsxs)(i.a.Fragment,{children:[Object(n.jsx)("h2",{id:"modal-title",children:"Help"}),Object(n.jsx)("p",{id:"modal-description",children:"Help page is yet to be added. Stay tuned."})]})},fe=function(){var e=Object(c.c)((function(e){return e.presentation.isDark})),t=Object(l.a)("(prefers-color-scheme: dark)"),a=Object(p.a)({palette:{type:t||e?"dark":"light",primary:{main:t||e?"#212121":"#3f51b5"}}});return Object(n.jsxs)(u.a,{theme:a,children:[Object(n.jsx)(d.a,{}),Object(n.jsx)($,{sidebarContent:Object(n.jsx)(ne,{}),mainContent:Object(n.jsx)(Oe,{}),helpContent:Object(n.jsx)(xe,{})})]})};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var _e=a(34),ve=a(71),ye=function(e){var t=Array.from({length:e.N_pulse},(function(t,a){return a/(e.N_pulse-1)*e.T_pulse})),a=[],n=[];switch(e.shape){case 1:a=Array.from({length:e.N_pulse},(function(t,a){return e.amp_pulse})),n=Array.from({length:e.N_pulse},(function(e,t){return 0}));break;case 2:a=t.map((function(t){return e.amp_pulse*Math.sin(Math.PI*(e.lobes+1)/e.T_pulse*(t-e.T_pulse/2))/(Math.PI*(e.lobes+1)/e.T_pulse*(t-e.T_pulse/2))})),n=Array.from({length:e.N_pulse},(function(e,t){return 0}));break;case 3:a=t.map((function(t){return e.amp_pulse*Math.sin(Math.PI*(e.lobes+1)/e.T_pulse*(t-e.T_pulse/2))/(Math.PI*(e.lobes+1)/e.T_pulse*(t-e.T_pulse/2))*(.54+.46*Math.cos(Math.PI*(e.lobes+1)/e.T_pulse*(t-e.T_pulse/2)/Math.round(e.lobes/2)))})),n=Array.from({length:e.N_pulse},(function(e,t){return 0}));break;case 4:a=t.map((function(t){return e.amp_pulse*Math.exp(-1*Math.pow(t-e.T_pulse/2,2)/(2*Math.pow(e.sd,2)))})),n=Array.from({length:e.N_pulse},(function(e,t){return 0}));break;default:return{t_vec:t,B1_x_vec:a,B1_y_vec:n}}return{t_vec:t,B1_x_vec:a,B1_y_vec:n}},Me=function(e){return{Gz_vec:Array.from({length:e.N_pulse},(function(t,a){return e.amp_Gz}))}},we={B0:3,gamma:42.5775,T1:950,T2:100,T_pulse:10,N_pulse:100,dt_pulse:.10101010101010101,amp_pulse:.001,shape_options:[{value:1,label:"rect"},{value:2,label:"sinc"},{value:3,label:"Hm(sinc)"},{value:4,label:"Gaussian"}],shape:2,lobes:3,sd:1,amp_Gz:30,l_profile:5,N_profile:100,dl_profile:.050505050505050504,isPlaying:!1,current_index:99},ke={params:we,output:Object(K.a)(Object(K.a)(Object(K.a)({},ye(we)),Me(we)),{},{Mx_vec:[],My_vec:[],Mxy_vec:[],Mz_vec:[],z_vec:[],SPx_vec:[],SPy_vec:[],SPxy_vec:[],SPz_vec:[]})},Te=function(e,t){for(var a=0,n=Object.entries(t);a<n.length;a++){var r=Object(b.a)(n[a],2),i=r[0],o=r[1],s={};switch(i){case"B0":case"gamma":case"T1":case"T2":s=Object(K.a)(Object(K.a)({},e.params),Object(m.a)({},i,o));break;case"T_pulse":s=Object(K.a)(Object(K.a)(Object(K.a)({},e.params),Object(m.a)({},i,o)),{dt_pulse:o/(e.params.N_pulse-1)});break;case"N_pulse":s=Object(K.a)(Object(K.a)(Object(K.a)(Object(K.a)({},e.params),Object(m.a)({},i,o)),{dt_pulse:e.params.T_pulse/(o-1)}),{current_index:o-1});break;case"dt_pulse":s=Object(K.a)(Object(K.a)(Object(K.a)({},e.params),Object(m.a)({},i,o)),{T_pulse:(e.params.N_pulse-1)*o});break;case"amp_pulse":case"shape":case"lobes":case"sd":case"amp_Gz":s=Object(K.a)(Object(K.a)({},e.params),Object(m.a)({},i,o));break;case"l_profile":s=Object(K.a)(Object(K.a)(Object(K.a)({},e.params),Object(m.a)({},i,o)),{dl_profile:o/(e.params.N_profile-1)});break;case"N_profile":s=Object(K.a)(Object(K.a)(Object(K.a)({},e.params),Object(m.a)({},i,o)),{dl_profile:e.params.l_profile/(o-1)});break;case"dl_profile":s=Object(K.a)(Object(K.a)(Object(K.a)({},e.params),Object(m.a)({},i,o)),{dl_profile:(e.params.N_profile-1)*o});break;case"isBusy":case"current_index":s=Object(K.a)(Object(K.a)({},e.params),Object(m.a)({},i,o));break;default:return e}return{params:s,output:Object(K.a)(Object(K.a)(Object(K.a)({},e.output),ye(s)),Me(s))}}},Ne=a(53),Pe=a.n(Ne),Be=function(e){var t=2*Math.PI*e.params.gamma*Math.pow(10,6),a=e.params.T1/Math.pow(10,3),n=e.params.T2/Math.pow(10,3),r=e.params.T_pulse/Math.pow(10,3),i=e.params.dt_pulse/Math.pow(10,3),o=e.output.t_vec.map((function(e){return e/Math.pow(10,3)})),s=e.output.B1_x_vec.map((function(e){return e/Math.pow(10,3)})),c=e.output.B1_y_vec.map((function(e){return e/Math.pow(10,3)})),l=[0,0,1],p=i,u=Pe()(l,(function(e,i,l){var p=0,u=0;if(l<r){var d=o.findIndex((function(e){return e>l})),b=(l-o[d-1])/(o[d]-o[d-1]);p=s[d-1]+b*(s[d]-s[d-1]),u=c[d-1]+b*(c[d]-c[d-1])}e[0]=-1/n*i[0]+t*u*i[2],e[1]=-1/n*i[1]+t*p*i[2],e[2]=t*u*i[0]-t*p*i[1]-1/a*i[2]+1/a}),0,p),d=[l[0]],b=[l[1]],m=[Math.sqrt(Math.pow(l[0],2)+Math.pow(l[1],2))],j=[l[2]];return o.slice(1).forEach((function(e){u.steps(1/0,e),d.push(u.y[0]),b.push(u.y[1]),m.push(Math.sqrt(Math.pow(u.y[0],2)+Math.pow(u.y[1],2))),j.push(u.y[2])})),{params:Object(K.a)({},e.params),output:Object(K.a)(Object(K.a)({},e.output),{Mx_vec:d,My_vec:b,Mxy_vec:m,Mz_vec:j})}},ze=function(e){var t=2*Math.PI*e.params.gamma*Math.pow(10,6),a=e.params.T1/Math.pow(10,3),n=e.params.T2/Math.pow(10,3),r=e.params.T_pulse/Math.pow(10,3),i=e.params.dt_pulse/Math.pow(10,3),o=e.params.l_profile/Math.pow(10,3),s=e.params.N_profile,c=e.output.t_vec.map((function(e){return e/Math.pow(10,3)})),l=e.output.B1_x_vec.map((function(e){return e/Math.pow(10,3)})),p=e.output.B1_y_vec.map((function(e){return e/Math.pow(10,3)})),u=Array.from({length:s},(function(e,t){return-o/2+o/(s-1)*t})),d=e.output.Gz_vec.map((function(e){return e/Math.pow(10,3)})),b=[],m=[],j=[],h=[];return u.forEach((function(e){var o=i,s=Pe()([0,0,1],(function(i,o,s){var u=0,b=0,m=0;if(s<r){var j=c.findIndex((function(e){return e>s})),h=(s-c[j-1])/(c[j]-c[j-1]),g=d[j-1]+h*(d[j]-d[j-1]);u=t*g*e}if(s<r){var O=c.findIndex((function(e){return e>s})),x=(s-c[O-1])/(c[O]-c[O-1]);b=l[O-1]+x*(l[O]-l[O-1]),m=p[O-1]+x*(p[O]-p[O-1])}i[0]=-1/n*o[0]+t*m*o[2]+u*o[1],i[1]=-1/n*o[1]+t*b*o[2]-u*o[0],i[2]=t*m*o[0]-t*b*o[1]-1/a*o[2]+1/a}),0,o);s.steps(1/0,r),b.push(s.y[0]),m.push(s.y[1]),j.push(Math.sqrt(Math.pow(s.y[0],2)+Math.pow(s.y[1],2))),h.push(s.y[2])})),{params:Object(K.a)({},e.params),output:Object(K.a)(Object(K.a)({},e.output),{z_vec:u.map((function(e){return e*Math.pow(10,3)})),SPx_vec:b,SPy_vec:m,SPxy_vec:j,SPz_vec:h})}},Ce=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ke,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case N:return Te(e,t.payload);case P:return Be(e);case B:return ze(e);case z:return{params:Object(K.a)(Object(K.a)({},e.params),{current_index:e.params.N_pulse-1}),output:Object(K.a)(Object(K.a)({},e.output),{Mx_vec:[],My_vec:[],Mxy_vec:[],Mz_vec:[],z_vec:[],SPx_vec:[],SPy_vec:[],SPxy_vec:[],SPz_vec:[]})};case C:return ke;default:return e}},Se={isDark:!1},Ge=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Se,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case S:return Object(K.a)(Object(K.a)({},e),{isDark:!e.isDark});default:return e}},Ie=Object(_e.c)({simulation:Ce,presentation:Ge}),Ae=Object(_e.e)(Ie,Object(_e.d)(Object(_e.a)(ve.a)));s.a.render(Object(n.jsx)(i.a.StrictMode,{children:Object(n.jsx)(c.a,{store:Ae,children:Object(n.jsx)(fe,{})})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[95,1,2]]]);
//# sourceMappingURL=main.dc2e7061.chunk.js.map