/*! For license information please see 2.8d4d014d.chunk.js.LICENSE.txt */
(this["webpackJsonpbloch-sim"]=this["webpackJsonpbloch-sim"]||[]).push([[2],[function(e,t,n){"use strict";e.exports=n(86)},function(e,t,n){"use strict";function r(){return(r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";e.exports=n(85)},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(31);function i(e,t){if(null==e)return{};var n,i,a=Object(r.a)(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}},function(e,t,n){"use strict";function r(e){var t,n,i="";if("string"===typeof e||"number"===typeof e)i+=e;else if("object"===typeof e)if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=r(e[t]))&&(i&&(i+=" "),i+=n);else for(t in e)e[t]&&(i&&(i+=" "),i+=t);return i}t.a=function(){for(var e,t,n=0,i="";n<arguments.length;)(e=arguments[n++])&&(t=r(e))&&(i&&(i+=" "),i+=t);return i}},function(e,t,n){e.exports=n(90)()},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(11);function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){Object(r.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}},function(e,t,n){"use strict";var r=n(1),i=n(3),a=n(0),o=n.n(a),s=(n(5),n(28)),l=n.n(s),u=n(150),c=n(97),f=n(58),d=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function(n){var a=t.defaultTheme,s=t.withTheme,d=void 0!==s&&s,h=t.name,p=Object(i.a)(t,["defaultTheme","withTheme","name"]);var g=h,v=Object(u.a)(e,Object(r.a)({defaultTheme:a,Component:n,name:h||n.displayName,classNamePrefix:g},p)),m=o.a.forwardRef((function(e,t){e.classes;var s,l=e.innerRef,u=Object(i.a)(e,["classes","innerRef"]),p=v(Object(r.a)({},n.defaultProps,e)),g=u;return("string"===typeof h||d)&&(s=Object(f.a)()||a,h&&(g=Object(c.a)({theme:s,name:h,props:u})),d&&!g.theme&&(g.theme=s)),o.a.createElement(n,Object(r.a)({ref:l||t,classes:p},g))}));return l()(m,n),m}},h=n(39);t.a=function(e,t){return d(e,Object(r.a)({defaultTheme:h.a},t))}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(73);function i(e){if("string"!==typeof e)throw new Error(Object(r.a)(7));return e.charAt(0).toUpperCase()+e.slice(1)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(0),i=n(22);function a(e,t){return r.useMemo((function(){return null==e&&null==t?null:function(n){Object(i.a)(e,n),Object(i.a)(t,n)}}),[e,t])}},,function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(87)},function(e,t,n){"use strict";n.d(t,"c",(function(){return s})),n.d(t,"b",(function(){return u})),n.d(t,"a",(function(){return c})),n.d(t,"d",(function(){return f}));var r=n(73);function i(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return Math.min(Math.max(t,e),n)}function a(e){if(e.type)return e;if("#"===e.charAt(0))return a(function(e){e=e.substr(1);var t=new RegExp(".{1,".concat(e.length>=6?2:1,"}"),"g"),n=e.match(t);return n&&1===n[0].length&&(n=n.map((function(e){return e+e}))),n?"rgb".concat(4===n.length?"a":"","(").concat(n.map((function(e,t){return t<3?parseInt(e,16):Math.round(parseInt(e,16)/255*1e3)/1e3})).join(", "),")"):""}(e));var t=e.indexOf("("),n=e.substring(0,t);if(-1===["rgb","rgba","hsl","hsla"].indexOf(n))throw new Error(Object(r.a)(3,e));var i=e.substring(t+1,e.length-1).split(",");return{type:n,values:i=i.map((function(e){return parseFloat(e)}))}}function o(e){var t=e.type,n=e.values;return-1!==t.indexOf("rgb")?n=n.map((function(e,t){return t<3?parseInt(e,10):e})):-1!==t.indexOf("hsl")&&(n[1]="".concat(n[1],"%"),n[2]="".concat(n[2],"%")),"".concat(t,"(").concat(n.join(", "),")")}function s(e,t){var n=l(e),r=l(t);return(Math.max(n,r)+.05)/(Math.min(n,r)+.05)}function l(e){var t="hsl"===(e=a(e)).type?a(function(e){var t=(e=a(e)).values,n=t[0],r=t[1]/100,i=t[2]/100,s=r*Math.min(i,1-i),l=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(e+n/30)%12;return i-s*Math.max(Math.min(t-3,9-t,1),-1)},u="rgb",c=[Math.round(255*l(0)),Math.round(255*l(8)),Math.round(255*l(4))];return"hsla"===e.type&&(u+="a",c.push(t[3])),o({type:u,values:c})}(e)).values:e.values;return t=t.map((function(e){return(e/=255)<=.03928?e/12.92:Math.pow((e+.055)/1.055,2.4)})),Number((.2126*t[0]+.7152*t[1]+.0722*t[2]).toFixed(3))}function u(e,t){return e=a(e),t=i(t),"rgb"!==e.type&&"hsl"!==e.type||(e.type+="a"),e.values[3]=t,o(e)}function c(e,t){if(e=a(e),t=i(t),-1!==e.type.indexOf("hsl"))e.values[2]*=1-t;else if(-1!==e.type.indexOf("rgb"))for(var n=0;n<3;n+=1)e.values[n]*=1-t;return o(e)}function f(e,t){if(e=a(e),t=i(t),-1!==e.type.indexOf("hsl"))e.values[2]+=(100-e.values[2])*t;else if(-1!==e.type.indexOf("rgb"))for(var n=0;n<3;n+=1)e.values[n]+=(255-e.values[n])*t;return o(e)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return v})),n.d(t,"c",(function(){return x}));var r=n(0),i=n.n(r),a=(n(5),i.a.createContext(null));var o=function(e){e()},s={notify:function(){}};function l(){var e=o,t=null,n=null;return{clear:function(){t=null,n=null},notify:function(){e((function(){for(var e=t;e;)e.callback(),e=e.next}))},get:function(){for(var e=[],n=t;n;)e.push(n),n=n.next;return e},subscribe:function(e){var r=!0,i=n={callback:e,next:null,prev:n};return i.prev?i.prev.next=i:t=i,function(){r&&null!==t&&(r=!1,i.next?i.next.prev=i.prev:n=i.prev,i.prev?i.prev.next=i.next:t=i.next)}}}}var u=function(){function e(e,t){this.store=e,this.parentSub=t,this.unsubscribe=null,this.listeners=s,this.handleChangeWrapper=this.handleChangeWrapper.bind(this)}var t=e.prototype;return t.addNestedSub=function(e){return this.trySubscribe(),this.listeners.subscribe(e)},t.notifyNestedSubs=function(){this.listeners.notify()},t.handleChangeWrapper=function(){this.onStateChange&&this.onStateChange()},t.isSubscribed=function(){return Boolean(this.unsubscribe)},t.trySubscribe=function(){this.unsubscribe||(this.unsubscribe=this.parentSub?this.parentSub.addNestedSub(this.handleChangeWrapper):this.store.subscribe(this.handleChangeWrapper),this.listeners=l())},t.tryUnsubscribe=function(){this.unsubscribe&&(this.unsubscribe(),this.unsubscribe=null,this.listeners.clear(),this.listeners=s)},e}();var c=function(e){var t=e.store,n=e.context,o=e.children,s=Object(r.useMemo)((function(){var e=new u(t);return e.onStateChange=e.notifyNestedSubs,{store:t,subscription:e}}),[t]),l=Object(r.useMemo)((function(){return t.getState()}),[t]);Object(r.useEffect)((function(){var e=s.subscription;return e.trySubscribe(),l!==t.getState()&&e.notifyNestedSubs(),function(){e.tryUnsubscribe(),e.onStateChange=null}}),[s,l]);var c=n||a;return i.a.createElement(c.Provider,{value:s},o)};n(28),n(38);var f="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement?r.useLayoutEffect:r.useEffect;n(34);function d(){return Object(r.useContext)(a)}function h(e){void 0===e&&(e=a);var t=e===a?d:function(){return Object(r.useContext)(e)};return function(){return t().store}}var p=h();function g(e){void 0===e&&(e=a);var t=e===a?p:h(e);return function(){return t().dispatch}}var v=g(),m=function(e,t){return e===t};function y(e){void 0===e&&(e=a);var t=e===a?d:function(){return Object(r.useContext)(e)};return function(e,n){void 0===n&&(n=m);var i=t(),a=function(e,t,n,i){var a,o=Object(r.useReducer)((function(e){return e+1}),0)[1],s=Object(r.useMemo)((function(){return new u(n,i)}),[n,i]),l=Object(r.useRef)(),c=Object(r.useRef)(),d=Object(r.useRef)(),h=Object(r.useRef)(),p=n.getState();try{a=e!==c.current||p!==d.current||l.current?e(p):h.current}catch(g){throw l.current&&(g.message+="\nThe error may be correlated with this previous error:\n"+l.current.stack+"\n\n"),g}return f((function(){c.current=e,d.current=p,h.current=a,l.current=void 0})),f((function(){function e(){try{var e=c.current(n.getState());if(t(e,h.current))return;h.current=e}catch(g){l.current=g}o()}return s.onStateChange=e,s.trySubscribe(),e(),function(){return s.tryUnsubscribe()}}),[n,s]),a}(e,n,i.store,i.subscription);return Object(r.useDebugValue)(a),a}}var b,x=y(),_=n(12);b=_.unstable_batchedUpdates,o=b},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(58),i=(n(0),n(39));function a(){return Object(r.a)()||i.a}},function(e,t,n){"use strict";function r(e){return e&&e.ownerDocument||document}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(0),i="undefined"!==typeof window?r.useLayoutEffect:r.useEffect;function a(e){var t=r.useRef(e);return i((function(){t.current=e})),r.useCallback((function(){return t.current.apply(void 0,arguments)}),[])}},,function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(45);var i=n(65),a=n(47);function o(e){return function(e){if(Array.isArray(e))return Object(r.a)(e)}(e)||Object(i.a)(e)||Object(a.a)(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(66);var i=n(47),a=n(67);function o(e,t){return Object(r.a)(e)||function(e,t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,i=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(l){i=!0,a=l}finally{try{r||null==s.return||s.return()}finally{if(i)throw a}}return n}}(e,t)||Object(i.a)(e,t)||Object(a.a)()}},function(e,t,n){"use strict";function r(e,t){"function"===typeof e?e(t):e&&(e.current=t)}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function i(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,i=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(l){i=!0,a=l}finally{try{r||null==s.return||s.return()}finally{if(i)throw a}}return n}}(e,t)||function(e,t){if(e){if("string"===typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}n.d(t,"a",(function(){return i}))},function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return i}));var r=function(e){return e.scrollTop};function i(e,t){var n=e.timeout,r=e.style,i=void 0===r?{}:r;return{duration:i.transitionDuration||"number"===typeof n?n:n[t.mode]||0,delay:i.transitionDelay}}},function(e,t,n){"use strict";n.d(t,"b",(function(){return a}));var r=n(3),i={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},a={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function o(e){return"".concat(Math.round(e),"ms")}t.a={easing:i,duration:a,create:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:["all"],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.duration,s=void 0===n?a.standard:n,l=t.easing,u=void 0===l?i.easeInOut:l,c=t.delay,f=void 0===c?0:c;Object(r.a)(t,["duration","easing","delay"]);return(Array.isArray(e)?e:[e]).map((function(e){return"".concat(e," ").concat("string"===typeof s?s:o(s)," ").concat(u," ").concat("string"===typeof f?f:o(f))})).join(",")},getAutoHeightDuration:function(e){if(!e)return 0;var t=e/36;return Math.round(10*(4+15*Math.pow(t,.25)+t/5))}}},function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return o}));var r=n(1),i=n(3),a=["xs","sm","md","lg","xl"];function o(e){var t=e.values,n=void 0===t?{xs:0,sm:600,md:960,lg:1280,xl:1920}:t,o=e.unit,s=void 0===o?"px":o,l=e.step,u=void 0===l?5:l,c=Object(i.a)(e,["values","unit","step"]);function f(e){var t="number"===typeof n[e]?n[e]:e;return"@media (min-width:".concat(t).concat(s,")")}function d(e,t){var r=a.indexOf(t);return r===a.length-1?f(e):"@media (min-width:".concat("number"===typeof n[e]?n[e]:e).concat(s,") and ")+"(max-width:".concat((-1!==r&&"number"===typeof n[a[r+1]]?n[a[r+1]]:t)-u/100).concat(s,")")}return Object(r.a)({keys:a,values:n,up:f,down:function(e){var t=a.indexOf(e)+1,r=n[a[t]];return t===a.length?f("xs"):"@media (max-width:".concat(("number"===typeof r&&t>0?r:e)-u/100).concat(s,")")},between:d,only:function(e){return d(e,e)},width:function(e){return n[e]}},c)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var r=n(1),i=n(0),a=n.n(i),o=n(3),s=(n(5),n(4)),l=n(7),u=n(8),c=i.forwardRef((function(e,t){var n=e.children,a=e.classes,l=e.className,c=e.color,f=void 0===c?"inherit":c,d=e.component,h=void 0===d?"svg":d,p=e.fontSize,g=void 0===p?"default":p,v=e.htmlColor,m=e.titleAccess,y=e.viewBox,b=void 0===y?"0 0 24 24":y,x=Object(o.a)(e,["children","classes","className","color","component","fontSize","htmlColor","titleAccess","viewBox"]);return i.createElement(h,Object(r.a)({className:Object(s.a)(a.root,l,"inherit"!==f&&a["color".concat(Object(u.a)(f))],"default"!==g&&a["fontSize".concat(Object(u.a)(g))]),focusable:"false",viewBox:b,color:v,"aria-hidden":!m||void 0,role:m?"img":void 0,ref:t},x),n,m?i.createElement("title",null,m):null)}));c.muiName="SvgIcon";var f=Object(l.a)((function(e){return{root:{userSelect:"none",width:"1em",height:"1em",display:"inline-block",fill:"currentColor",flexShrink:0,fontSize:e.typography.pxToRem(24),transition:e.transitions.create("fill",{duration:e.transitions.duration.shorter})},colorPrimary:{color:e.palette.primary.main},colorSecondary:{color:e.palette.secondary.main},colorAction:{color:e.palette.action.active},colorError:{color:e.palette.error.main},colorDisabled:{color:e.palette.action.disabled},fontSizeInherit:{fontSize:"inherit"},fontSizeSmall:{fontSize:e.typography.pxToRem(20)},fontSizeLarge:{fontSize:e.typography.pxToRem(35)}}}),{name:"MuiSvgIcon"})(c);function d(e,t){var n=function(t,n){return a.a.createElement(f,Object(r.a)({ref:n},t),e)};return n.muiName=f.muiName,a.a.memo(a.a.forwardRef(n))}},function(e,t,n){"use strict";var r=n(38),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},a={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},o={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},s={};function l(e){return r.isMemo(e)?o:s[e.$$typeof]||i}s[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},s[r.Memo]=o;var u=Object.defineProperty,c=Object.getOwnPropertyNames,f=Object.getOwnPropertySymbols,d=Object.getOwnPropertyDescriptor,h=Object.getPrototypeOf,p=Object.prototype;e.exports=function e(t,n,r){if("string"!==typeof n){if(p){var i=h(n);i&&i!==p&&e(t,i,r)}var o=c(n);f&&(o=o.concat(f(n)));for(var s=l(t),g=l(n),v=0;v<o.length;++v){var m=o[v];if(!a[m]&&(!r||!r[m])&&(!g||!g[m])&&(!s||!s[m])){var y=d(n,m);try{u(t,m,y)}catch(b){}}}}return t}},,,function(e,t,n){"use strict";function r(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";var r=n(96);t.a=function(e,t){return t?Object(r.a)(e,t,{clone:!1}):e}},function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));var r=n(0),i=n(12),a=!0,o=!1,s=null,l={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function u(e){e.metaKey||e.altKey||e.ctrlKey||(a=!0)}function c(){a=!1}function f(){"hidden"===this.visibilityState&&o&&(a=!0)}function d(e){var t=e.target;try{return t.matches(":focus-visible")}catch(n){}return a||function(e){var t=e.type,n=e.tagName;return!("INPUT"!==n||!l[t]||e.readOnly)||"TEXTAREA"===n&&!e.readOnly||!!e.isContentEditable}(t)}function h(){o=!0,window.clearTimeout(s),s=window.setTimeout((function(){o=!1}),100)}function p(){return{isFocusVisible:d,onBlurVisible:h,ref:r.useCallback((function(e){var t,n=i.findDOMNode(e);null!=n&&((t=n.ownerDocument).addEventListener("keydown",u,!0),t.addEventListener("mousedown",c,!0),t.addEventListener("pointerdown",c,!0),t.addEventListener("touchstart",c,!0),t.addEventListener("visibilitychange",f,!0))}),[])}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return v})),n.d(t,"b",(function(){return f})),n.d(t,"c",(function(){return u})),n.d(t,"d",(function(){return g})),n.d(t,"e",(function(){return s}));var r=n(57),i=function(){return Math.random().toString(36).substring(7).split("").join(".")},a={INIT:"@@redux/INIT"+i(),REPLACE:"@@redux/REPLACE"+i(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+i()}};function o(e){if("object"!==typeof e||null===e)return!1;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function s(e,t,n){var i;if("function"===typeof t&&"function"===typeof n||"function"===typeof n&&"function"===typeof arguments[3])throw new Error("It looks like you are passing several store enhancers to createStore(). This is not supported. Instead, compose them together to a single function.");if("function"===typeof t&&"undefined"===typeof n&&(n=t,t=void 0),"undefined"!==typeof n){if("function"!==typeof n)throw new Error("Expected the enhancer to be a function.");return n(s)(e,t)}if("function"!==typeof e)throw new Error("Expected the reducer to be a function.");var l=e,u=t,c=[],f=c,d=!1;function h(){f===c&&(f=c.slice())}function p(){if(d)throw new Error("You may not call store.getState() while the reducer is executing. The reducer has already received the state as an argument. Pass it down from the top reducer instead of reading it from the store.");return u}function g(e){if("function"!==typeof e)throw new Error("Expected the listener to be a function.");if(d)throw new Error("You may not call store.subscribe() while the reducer is executing. If you would like to be notified after the store has been updated, subscribe from a component and invoke store.getState() in the callback to access the latest state. See https://redux.js.org/api-reference/store#subscribelistener for more details.");var t=!0;return h(),f.push(e),function(){if(t){if(d)throw new Error("You may not unsubscribe from a store listener while the reducer is executing. See https://redux.js.org/api-reference/store#subscribelistener for more details.");t=!1,h();var n=f.indexOf(e);f.splice(n,1),c=null}}}function v(e){if(!o(e))throw new Error("Actions must be plain objects. Use custom middleware for async actions.");if("undefined"===typeof e.type)throw new Error('Actions may not have an undefined "type" property. Have you misspelled a constant?');if(d)throw new Error("Reducers may not dispatch actions.");try{d=!0,u=l(u,e)}finally{d=!1}for(var t=c=f,n=0;n<t.length;n++){(0,t[n])()}return e}function m(e){if("function"!==typeof e)throw new Error("Expected the nextReducer to be a function.");l=e,v({type:a.REPLACE})}function y(){var e,t=g;return(e={subscribe:function(e){if("object"!==typeof e||null===e)throw new TypeError("Expected the observer to be an object.");function n(){e.next&&e.next(p())}return n(),{unsubscribe:t(n)}}})[r.a]=function(){return this},e}return v({type:a.INIT}),(i={dispatch:v,subscribe:g,getState:p,replaceReducer:m})[r.a]=y,i}function l(e,t){var n=t&&t.type;return"Given "+(n&&'action "'+String(n)+'"'||"an action")+', reducer "'+e+'" returned undefined. To ignore an action, you must explicitly return the previous state. If you want this reducer to hold no value, you can return null instead of undefined.'}function u(e){for(var t=Object.keys(e),n={},r=0;r<t.length;r++){var i=t[r];0,"function"===typeof e[i]&&(n[i]=e[i])}var o,s=Object.keys(n);try{!function(e){Object.keys(e).forEach((function(t){var n=e[t];if("undefined"===typeof n(void 0,{type:a.INIT}))throw new Error('Reducer "'+t+"\" returned undefined during initialization. If the state passed to the reducer is undefined, you must explicitly return the initial state. The initial state may not be undefined. If you don't want to set a value for this reducer, you can use null instead of undefined.");if("undefined"===typeof n(void 0,{type:a.PROBE_UNKNOWN_ACTION()}))throw new Error('Reducer "'+t+"\" returned undefined when probed with a random type. Don't try to handle "+a.INIT+' or other actions in "redux/*" namespace. They are considered private. Instead, you must return the current state for any unknown actions, unless it is undefined, in which case you must return the initial state, regardless of the action type. The initial state may not be undefined, but can be null.')}))}(n)}catch(u){o=u}return function(e,t){if(void 0===e&&(e={}),o)throw o;for(var r=!1,i={},a=0;a<s.length;a++){var u=s[a],c=n[u],f=e[u],d=c(f,t);if("undefined"===typeof d){var h=l(u,t);throw new Error(h)}i[u]=d,r=r||d!==f}return(r=r||s.length!==Object.keys(e).length)?i:e}}function c(e,t){return function(){return t(e.apply(this,arguments))}}function f(e,t){if("function"===typeof e)return c(e,t);if("object"!==typeof e||null===e)throw new Error("bindActionCreators expected an object or a function, instead received "+(null===e?"null":typeof e)+'. Did you write "import ActionCreators from" instead of "import * as ActionCreators from"?');var n={};for(var r in e){var i=e[r];"function"===typeof i&&(n[r]=c(i,t))}return n}function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function h(e,t){var n=Object.keys(e);return Object.getOwnPropertySymbols&&n.push.apply(n,Object.getOwnPropertySymbols(e)),t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(n,!0).forEach((function(t){d(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function g(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?function(e){return e}:1===t.length?t[0]:t.reduce((function(e,t){return function(){return e(t.apply(void 0,arguments))}}))}function v(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return function(){var n=e.apply(void 0,arguments),r=function(){throw new Error("Dispatching while constructing your middleware is not allowed. Other middleware would not be applied to this dispatch.")},i={getState:n.getState,dispatch:function(){return r.apply(void 0,arguments)}},a=t.map((function(e){return e(i)}));return p({},n,{dispatch:r=g.apply(void 0,a)(n.dispatch)})}}}},function(e,t,n){"use strict";function r(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce((function(e,t){return null==t?e:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];e.apply(this,r),t.apply(this,r)}}),(function(){}))}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";function r(e){return(r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";function r(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";e.exports=n(92)},function(e,t,n){"use strict";var r=n(72),i=Object(r.a)();t.a=i},function(e,t,n){"use strict";function r(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:166;function r(){for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];var o=this,s=function(){e.apply(o,i)};clearTimeout(t),t=setTimeout(s,n)}return r.clear=function(){clearTimeout(t)},r}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(0);function i(e){var t=e.controlled,n=e.default,i=(e.name,e.state,r.useRef(void 0!==t).current),a=r.useState(n),o=a[0],s=a[1];return[i?t:o,r.useCallback((function(e){i||s(e)}),[])]}},function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}n.d(t,"a",(function(){return i}))},function(e,t,n){"use strict";var r=n(0),i=n.n(r);t.a=i.a.createContext(null)},function(e,t,n){"use strict";function r(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";var r=n(0),i=n.n(r).a.createContext(null);t.a=i},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(45);function i(e,t){if(e){if("string"===typeof e)return Object(r.a)(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Object(r.a)(e,t):void 0}}},function(e,t,n){"use strict";var r="function"===typeof Symbol&&Symbol.for;t.a=r?Symbol.for("mui.nested"):"__THEME_NESTED__"},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));n(20),n(1);var r=n(36),i=(n(5),n(32),{xs:0,sm:600,md:960,lg:1280,xl:1920}),a={keys:["xs","sm","md","lg","xl"],up:function(e){return"@media (min-width:".concat(i[e],"px)")}};function o(e,t,n){if(Array.isArray(t)){var i=e.theme.breakpoints||a;return t.reduce((function(e,r,a){return e[i.up(i.keys[a])]=n(t[a]),e}),{})}if("object"===Object(r.a)(t)){var o=e.theme.breakpoints||a;return Object.keys(t).reduce((function(e,r){return e[o.up(r)]=n(t[r]),e}),{})}return n(t)}},function(e,t,n){"use strict";t.a={mobileStepper:1e3,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(16);function i(e){return Object(r.a)(e).defaultView||window}},function(e,t,n){"use strict";function r(){var e=document.createElement("div");e.style.width="99px",e.style.height="99px",e.style.position="absolute",e.style.top="-9999px",e.style.overflow="scroll",document.body.appendChild(e);var t=e.offsetWidth-e.clientWidth;return document.body.removeChild(e),t}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";function r(e,t,n,r){return Math.abs(n)+Math.abs(t*r)+1e-32}function i(e,t,n){return Math.max(t,Math.abs(n))}function a(e){return e}function o(e,t){return(e>0?Math.max:Math.min)(e,t)}e.exports=function(e,t,n,r,i){return new s(e,t,n,r,i)};var s=function(e,t,n,o,s){var l=s||{};this.tol=void 0===l.tol?1e-8:l.tol,this.maxIncreaseFactor=void 0===l.maxIncreaseFactor?10:l.maxIncreaseFactor,this.maxDecreaseFactor=void 0===l.maxDecreaseFactor?10:l.maxDecreaseFactor,this.dtMinMag=void 0===l.dtMinMag?0:Math.abs(l.dtMinMag),this.dtMaxMag=void 0===l.dtMaxMag?void 0:Math.abs(l.dtMaxMag),this.verbose=void 0===l.verbose||!!l.verbose;var u=0,c=!1;this.__log=function(e,t){this.verbose&&(u<10?(console.log("ode45-cash-karp::"+e+"(): "+t),u++):c||(console.log("ode45-cash-karp: too many warnings. Silencing further output"),c=!0))}.bind(this),this.errorScaleFunction=void 0===l.errorScaleFunction?r:l.errorScaleFunction,this.errorReduceFunction=void 0===l.errorReduceFunction?i:l.errorReduceFunction,this.errorPostFunction=void 0===l.errorPostFunction?a:l.errorPostFunction,this.safetyFactor=void 0===l.safetyFactor?.9:l.safetyFactor,this.deriv=t,this.y=e,this.n=this.y.length,this.dt=o,this.t=n,this._ctor=this.y.constructor,this._errorScale=new this._ctor(this.n),this._w=new this._ctor(this.n),this._k1=new this._ctor(this.n),this._k2=new this._ctor(this.n),this._k3=new this._ctor(this.n),this._k4=new this._ctor(this.n),this._k5=new this._ctor(this.n),this._k6=new this._ctor(this.n)};s.prototype._calculateK1=function(){return this.deriv(this._k1,this.y,this.t),this},s.prototype._calculateKs=function(e){var t;for(t=0;t<this.n;t++)this._w[t]=this.y[t]+e*(.2*this._k1[t]);for(this.deriv(this._k2,this._w,this.t+.2*e),t=0;t<this.n;t++)this._w[t]=this.y[t]+e*(.075*this._k1[t]+.225*this._k2[t]);for(this.deriv(this._k3,this._w,this.t+.3*e),t=0;t<this.n;t++)this._w[t]=this.y[t]+e*(.3*this._k1[t]+-.9*this._k2[t]+1.2*this._k3[t]);for(this.deriv(this._k4,this._w,this.t+.6*e),t=0;t<this.n;t++)this._w[t]=this.y[t]+e*(-.2037037037037037*this._k1[t]+2.5*this._k2[t]+-2.5925925925925926*this._k3[t]+1.2962962962962963*this._k4[t]);for(this.deriv(this._k5,this._w,this.t+e),t=0;t<this.n;t++)this._w[t]=this.y[t]+e*(.029495804398148147*this._k1[t]+.341796875*this._k2[t]+.041594328703703706*this._k3[t]+.40034541377314814*this._k4[t]+.061767578125*this._k5[t]);return this.deriv(this._k6,this._w,this.t+.875*e),this},s.prototype._calculateError=function(e){for(var t=0,n=0;n<this.n;n++)t=this.errorReduceFunction(n,t,e*(.004293774801587301*this._k1[n]+-.018668586093857832*this._k3[n]+.03415502683080808*this._k4[n]+.019321986607142856*this._k5[n]+-.03910220214568041*this._k6[n])/this._errorScale[n]);return this.errorPostFunction(t)},s.prototype._update=function(e){for(var t=0;t<this.n;t++)this.y[t]+=e*(.09788359788359788*this._k1[t]+.4025764895330113*this._k3[t]+.21043771043771042*this._k4[t]+.2891022021456804*this._k6[t]);return this.t+=e,this},s.prototype._calculateErrorScale=function(e){for(var t=0;t<this.n;t++)this._errorScale[t]=this.errorScaleFunction(t,e,this.y[t],this._k1[t]);return this},s.prototype.step=function(e){if(Math.abs(this.t-e)<1e-10*this.dt)return!1;var t=this.dt;void 0!==e&&(t=t>0?Math.min(e-this.t,t):Math.max(e-this.t,t)),void 0!==this.dtMaxMag&&Math.abs(t)>this.dtMaxMag&&(this.__log("step","step greater than maximum stepsize requested. dt magnitude has been limited."),t=t>0?this.dtMaxMag:-this.dtMaxMag),void 0!==this.dtMinMag&&Math.abs(t)<this.dtMinMag&&(this.__log("step","step smaller than minimum stepsize requested. dt magnitude has been limited."),t=t>0?this.dtMinMag:-this.dtMinMag),this._calculateK1(),this._calculateErrorScale(t);for(var n,r,i,a=1/0,s=!1;this._calculateKs(t),!((a=this._calculateError(t))<this.tol||s);){if(!Number.isFinite(a))throw new Error("ode45-cash-karp::step() NaN encountered while integrating.");n=this.safetyFactor*t*Math.pow(this.tol/a,.2),t=o(t/this.maxDecreaseFactor,n),void 0!==this.dtMinMag&&Math.abs(t)<this.dtMinMag&&(t=this.dtMinMag*(t>0?1:-1),this.__log("step","minimum stepsize reached."),s=!0)}return this._update(t),n=this.safetyFactor*t*Math.pow(this.tol/a,.25),this.dt=o(this.dt/this.maxDecreaseFactor,(r=this.dt*this.maxIncreaseFactor,i=n,(r>0?Math.min:Math.max)(r,i))),void 0===e||Math.abs(this.t-e)>1e-8*this.dt},s.prototype.steps=function(e,t){for(var n=0;n<e;n++)if(!this.step(t))return!1}},,function(e,t,n){"use strict";var r=Object.getOwnPropertySymbols,i=Object.prototype.hasOwnProperty,a=Object.prototype.propertyIsEnumerable;function o(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(e){r[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(i){return!1}}()?Object.assign:function(e,t){for(var n,s,l=o(e),u=1;u<arguments.length;u++){for(var c in n=Object(arguments[u]))i.call(n,c)&&(l[c]=n[c]);if(r){s=r(n);for(var f=0;f<s.length;f++)a.call(n,s[f])&&(l[s[f]]=n[s[f]])}}return l}},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(r){"object"===typeof window&&(n=window)}e.exports=n},function(e,t,n){"use strict";(function(e,r){var i,a=n(64);i="undefined"!==typeof self?self:"undefined"!==typeof window?window:"undefined"!==typeof e?e:r;var o=Object(a.a)(i);t.a=o}).call(this,n(56),n(93)(e))},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(0),i=n.n(r),a=n(46);function o(){return i.a.useContext(a.a)}},,,,,,function(e,t,n){"use strict";function r(e){var t,n=e.Symbol;return"function"===typeof n?n.observable?t=n.observable:(t=n("observable"),n.observable=t):t="@@observable",t}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";function r(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";function r(e){if(Array.isArray(e))return e}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";function r(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";(function(e){var n="undefined"!==typeof window&&"undefined"!==typeof document&&"undefined"!==typeof navigator,r=function(){for(var e=["Edge","Trident","Firefox"],t=0;t<e.length;t+=1)if(n&&navigator.userAgent.indexOf(e[t])>=0)return 1;return 0}();var i=n&&window.Promise?function(e){var t=!1;return function(){t||(t=!0,window.Promise.resolve().then((function(){t=!1,e()})))}}:function(e){var t=!1;return function(){t||(t=!0,setTimeout((function(){t=!1,e()}),r))}};function a(e){return e&&"[object Function]"==={}.toString.call(e)}function o(e,t){if(1!==e.nodeType)return[];var n=e.ownerDocument.defaultView.getComputedStyle(e,null);return t?n[t]:n}function s(e){return"HTML"===e.nodeName?e:e.parentNode||e.host}function l(e){if(!e)return document.body;switch(e.nodeName){case"HTML":case"BODY":return e.ownerDocument.body;case"#document":return e.body}var t=o(e),n=t.overflow,r=t.overflowX,i=t.overflowY;return/(auto|scroll|overlay)/.test(n+i+r)?e:l(s(e))}function u(e){return e&&e.referenceNode?e.referenceNode:e}var c=n&&!(!window.MSInputMethodContext||!document.documentMode),f=n&&/MSIE 10/.test(navigator.userAgent);function d(e){return 11===e?c:10===e?f:c||f}function h(e){if(!e)return document.documentElement;for(var t=d(10)?document.body:null,n=e.offsetParent||null;n===t&&e.nextElementSibling;)n=(e=e.nextElementSibling).offsetParent;var r=n&&n.nodeName;return r&&"BODY"!==r&&"HTML"!==r?-1!==["TH","TD","TABLE"].indexOf(n.nodeName)&&"static"===o(n,"position")?h(n):n:e?e.ownerDocument.documentElement:document.documentElement}function p(e){return null!==e.parentNode?p(e.parentNode):e}function g(e,t){if(!e||!e.nodeType||!t||!t.nodeType)return document.documentElement;var n=e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_FOLLOWING,r=n?e:t,i=n?t:e,a=document.createRange();a.setStart(r,0),a.setEnd(i,0);var o=a.commonAncestorContainer;if(e!==o&&t!==o||r.contains(i))return function(e){var t=e.nodeName;return"BODY"!==t&&("HTML"===t||h(e.firstElementChild)===e)}(o)?o:h(o);var s=p(e);return s.host?g(s.host,t):g(e,p(t).host)}function v(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"top",n="top"===t?"scrollTop":"scrollLeft",r=e.nodeName;if("BODY"===r||"HTML"===r){var i=e.ownerDocument.documentElement,a=e.ownerDocument.scrollingElement||i;return a[n]}return e[n]}function m(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=v(t,"top"),i=v(t,"left"),a=n?-1:1;return e.top+=r*a,e.bottom+=r*a,e.left+=i*a,e.right+=i*a,e}function y(e,t){var n="x"===t?"Left":"Top",r="Left"===n?"Right":"Bottom";return parseFloat(e["border"+n+"Width"])+parseFloat(e["border"+r+"Width"])}function b(e,t,n,r){return Math.max(t["offset"+e],t["scroll"+e],n["client"+e],n["offset"+e],n["scroll"+e],d(10)?parseInt(n["offset"+e])+parseInt(r["margin"+("Height"===e?"Top":"Left")])+parseInt(r["margin"+("Height"===e?"Bottom":"Right")]):0)}function x(e){var t=e.body,n=e.documentElement,r=d(10)&&getComputedStyle(n);return{height:b("Height",t,n,r),width:b("Width",t,n,r)}}var _=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},w=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),k=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},M=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};function T(e){return M({},e,{right:e.left+e.width,bottom:e.top+e.height})}function A(e){var t={};try{if(d(10)){t=e.getBoundingClientRect();var n=v(e,"top"),r=v(e,"left");t.top+=n,t.left+=r,t.bottom+=n,t.right+=r}else t=e.getBoundingClientRect()}catch(h){}var i={left:t.left,top:t.top,width:t.right-t.left,height:t.bottom-t.top},a="HTML"===e.nodeName?x(e.ownerDocument):{},s=a.width||e.clientWidth||i.width,l=a.height||e.clientHeight||i.height,u=e.offsetWidth-s,c=e.offsetHeight-l;if(u||c){var f=o(e);u-=y(f,"x"),c-=y(f,"y"),i.width-=u,i.height-=c}return T(i)}function E(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=d(10),i="HTML"===t.nodeName,a=A(e),s=A(t),u=l(e),c=o(t),f=parseFloat(c.borderTopWidth),h=parseFloat(c.borderLeftWidth);n&&i&&(s.top=Math.max(s.top,0),s.left=Math.max(s.left,0));var p=T({top:a.top-s.top-f,left:a.left-s.left-h,width:a.width,height:a.height});if(p.marginTop=0,p.marginLeft=0,!r&&i){var g=parseFloat(c.marginTop),v=parseFloat(c.marginLeft);p.top-=f-g,p.bottom-=f-g,p.left-=h-v,p.right-=h-v,p.marginTop=g,p.marginLeft=v}return(r&&!n?t.contains(u):t===u&&"BODY"!==u.nodeName)&&(p=m(p,t)),p}function S(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=e.ownerDocument.documentElement,r=E(e,n),i=Math.max(n.clientWidth,window.innerWidth||0),a=Math.max(n.clientHeight,window.innerHeight||0),o=t?0:v(n),s=t?0:v(n,"left"),l={top:o-r.top+r.marginTop,left:s-r.left+r.marginLeft,width:i,height:a};return T(l)}function O(e){var t=e.nodeName;if("BODY"===t||"HTML"===t)return!1;if("fixed"===o(e,"position"))return!0;var n=s(e);return!!n&&O(n)}function C(e){if(!e||!e.parentElement||d())return document.documentElement;for(var t=e.parentElement;t&&"none"===o(t,"transform");)t=t.parentElement;return t||document.documentElement}function L(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]&&arguments[4],a={top:0,left:0},o=i?C(e):g(e,u(t));if("viewport"===r)a=S(o,i);else{var c=void 0;"scrollParent"===r?"BODY"===(c=l(s(t))).nodeName&&(c=e.ownerDocument.documentElement):c="window"===r?e.ownerDocument.documentElement:r;var f=E(c,o,i);if("HTML"!==c.nodeName||O(o))a=f;else{var d=x(e.ownerDocument),h=d.height,p=d.width;a.top+=f.top-f.marginTop,a.bottom=h+f.top,a.left+=f.left-f.marginLeft,a.right=p+f.left}}var v="number"===typeof(n=n||0);return a.left+=v?n:n.left||0,a.top+=v?n:n.top||0,a.right-=v?n:n.right||0,a.bottom-=v?n:n.bottom||0,a}function R(e){return e.width*e.height}function P(e,t,n,r,i){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;if(-1===e.indexOf("auto"))return e;var o=L(n,r,a,i),s={top:{width:o.width,height:t.top-o.top},right:{width:o.right-t.right,height:o.height},bottom:{width:o.width,height:o.bottom-t.bottom},left:{width:t.left-o.left,height:o.height}},l=Object.keys(s).map((function(e){return M({key:e},s[e],{area:R(s[e])})})).sort((function(e,t){return t.area-e.area})),u=l.filter((function(e){var t=e.width,r=e.height;return t>=n.clientWidth&&r>=n.clientHeight})),c=u.length>0?u[0].key:l[0].key,f=e.split("-")[1];return c+(f?"-"+f:"")}function j(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,i=r?C(t):g(t,u(n));return E(n,i,r)}function z(e){var t=e.ownerDocument.defaultView.getComputedStyle(e),n=parseFloat(t.marginTop||0)+parseFloat(t.marginBottom||0),r=parseFloat(t.marginLeft||0)+parseFloat(t.marginRight||0);return{width:e.offsetWidth+r,height:e.offsetHeight+n}}function I(e){var t={left:"right",right:"left",bottom:"top",top:"bottom"};return e.replace(/left|right|bottom|top/g,(function(e){return t[e]}))}function N(e,t,n){n=n.split("-")[0];var r=z(e),i={width:r.width,height:r.height},a=-1!==["right","left"].indexOf(n),o=a?"top":"left",s=a?"left":"top",l=a?"height":"width",u=a?"width":"height";return i[o]=t[o]+t[l]/2-r[l]/2,i[s]=n===s?t[s]-r[u]:t[I(s)],i}function D(e,t){return Array.prototype.find?e.find(t):e.filter(t)[0]}function F(e,t,n){return(void 0===n?e:e.slice(0,function(e,t,n){if(Array.prototype.findIndex)return e.findIndex((function(e){return e[t]===n}));var r=D(e,(function(e){return e[t]===n}));return e.indexOf(r)}(e,"name",n))).forEach((function(e){e.function&&console.warn("`modifier.function` is deprecated, use `modifier.fn`!");var n=e.function||e.fn;e.enabled&&a(n)&&(t.offsets.popper=T(t.offsets.popper),t.offsets.reference=T(t.offsets.reference),t=n(t,e))})),t}function B(){if(!this.state.isDestroyed){var e={instance:this,styles:{},arrowStyles:{},attributes:{},flipped:!1,offsets:{}};e.offsets.reference=j(this.state,this.popper,this.reference,this.options.positionFixed),e.placement=P(this.options.placement,e.offsets.reference,this.popper,this.reference,this.options.modifiers.flip.boundariesElement,this.options.modifiers.flip.padding),e.originalPlacement=e.placement,e.positionFixed=this.options.positionFixed,e.offsets.popper=N(this.popper,e.offsets.reference,e.placement),e.offsets.popper.position=this.options.positionFixed?"fixed":"absolute",e=F(this.modifiers,e),this.state.isCreated?this.options.onUpdate(e):(this.state.isCreated=!0,this.options.onCreate(e))}}function U(e,t){return e.some((function(e){var n=e.name;return e.enabled&&n===t}))}function V(e){for(var t=[!1,"ms","Webkit","Moz","O"],n=e.charAt(0).toUpperCase()+e.slice(1),r=0;r<t.length;r++){var i=t[r],a=i?""+i+n:e;if("undefined"!==typeof document.body.style[a])return a}return null}function H(){return this.state.isDestroyed=!0,U(this.modifiers,"applyStyle")&&(this.popper.removeAttribute("x-placement"),this.popper.style.position="",this.popper.style.top="",this.popper.style.left="",this.popper.style.right="",this.popper.style.bottom="",this.popper.style.willChange="",this.popper.style[V("transform")]=""),this.disableEventListeners(),this.options.removeOnDestroy&&this.popper.parentNode.removeChild(this.popper),this}function q(e){var t=e.ownerDocument;return t?t.defaultView:window}function W(e,t,n,r){var i="BODY"===e.nodeName,a=i?e.ownerDocument.defaultView:e;a.addEventListener(t,n,{passive:!0}),i||W(l(a.parentNode),t,n,r),r.push(a)}function G(e,t,n,r){n.updateBound=r,q(e).addEventListener("resize",n.updateBound,{passive:!0});var i=l(e);return W(i,"scroll",n.updateBound,n.scrollParents),n.scrollElement=i,n.eventsEnabled=!0,n}function X(){this.state.eventsEnabled||(this.state=G(this.reference,this.options,this.state,this.scheduleUpdate))}function Y(){var e,t;this.state.eventsEnabled&&(cancelAnimationFrame(this.scheduleUpdate),this.state=(e=this.reference,t=this.state,q(e).removeEventListener("resize",t.updateBound),t.scrollParents.forEach((function(e){e.removeEventListener("scroll",t.updateBound)})),t.updateBound=null,t.scrollParents=[],t.scrollElement=null,t.eventsEnabled=!1,t))}function Z(e){return""!==e&&!isNaN(parseFloat(e))&&isFinite(e)}function $(e,t){Object.keys(t).forEach((function(n){var r="";-1!==["width","height","top","right","bottom","left"].indexOf(n)&&Z(t[n])&&(r="px"),e.style[n]=t[n]+r}))}var K=n&&/Firefox/i.test(navigator.userAgent);function Q(e,t,n){var r=D(e,(function(e){return e.name===t})),i=!!r&&e.some((function(e){return e.name===n&&e.enabled&&e.order<r.order}));if(!i){var a="`"+t+"`",o="`"+n+"`";console.warn(o+" modifier is required by "+a+" modifier in order to work, be sure to include it before "+a+"!")}return i}var J=["auto-start","auto","auto-end","top-start","top","top-end","right-start","right","right-end","bottom-end","bottom","bottom-start","left-end","left","left-start"],ee=J.slice(3);function te(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=ee.indexOf(e),r=ee.slice(n+1).concat(ee.slice(0,n));return t?r.reverse():r}var ne="flip",re="clockwise",ie="counterclockwise";function ae(e,t,n,r){var i=[0,0],a=-1!==["right","left"].indexOf(r),o=e.split(/(\+|\-)/).map((function(e){return e.trim()})),s=o.indexOf(D(o,(function(e){return-1!==e.search(/,|\s/)})));o[s]&&-1===o[s].indexOf(",")&&console.warn("Offsets separated by white space(s) are deprecated, use a comma (,) instead.");var l=/\s*,\s*|\s+/,u=-1!==s?[o.slice(0,s).concat([o[s].split(l)[0]]),[o[s].split(l)[1]].concat(o.slice(s+1))]:[o];return(u=u.map((function(e,r){var i=(1===r?!a:a)?"height":"width",o=!1;return e.reduce((function(e,t){return""===e[e.length-1]&&-1!==["+","-"].indexOf(t)?(e[e.length-1]=t,o=!0,e):o?(e[e.length-1]+=t,o=!1,e):e.concat(t)}),[]).map((function(e){return function(e,t,n,r){var i=e.match(/((?:\-|\+)?\d*\.?\d*)(.*)/),a=+i[1],o=i[2];if(!a)return e;if(0===o.indexOf("%")){var s=void 0;switch(o){case"%p":s=n;break;case"%":case"%r":default:s=r}return T(s)[t]/100*a}if("vh"===o||"vw"===o)return("vh"===o?Math.max(document.documentElement.clientHeight,window.innerHeight||0):Math.max(document.documentElement.clientWidth,window.innerWidth||0))/100*a;return a}(e,i,t,n)}))}))).forEach((function(e,t){e.forEach((function(n,r){Z(n)&&(i[t]+=n*("-"===e[r-1]?-1:1))}))})),i}var oe={placement:"bottom",positionFixed:!1,eventsEnabled:!0,removeOnDestroy:!1,onCreate:function(){},onUpdate:function(){},modifiers:{shift:{order:100,enabled:!0,fn:function(e){var t=e.placement,n=t.split("-")[0],r=t.split("-")[1];if(r){var i=e.offsets,a=i.reference,o=i.popper,s=-1!==["bottom","top"].indexOf(n),l=s?"left":"top",u=s?"width":"height",c={start:k({},l,a[l]),end:k({},l,a[l]+a[u]-o[u])};e.offsets.popper=M({},o,c[r])}return e}},offset:{order:200,enabled:!0,fn:function(e,t){var n=t.offset,r=e.placement,i=e.offsets,a=i.popper,o=i.reference,s=r.split("-")[0],l=void 0;return l=Z(+n)?[+n,0]:ae(n,a,o,s),"left"===s?(a.top+=l[0],a.left-=l[1]):"right"===s?(a.top+=l[0],a.left+=l[1]):"top"===s?(a.left+=l[0],a.top-=l[1]):"bottom"===s&&(a.left+=l[0],a.top+=l[1]),e.popper=a,e},offset:0},preventOverflow:{order:300,enabled:!0,fn:function(e,t){var n=t.boundariesElement||h(e.instance.popper);e.instance.reference===n&&(n=h(n));var r=V("transform"),i=e.instance.popper.style,a=i.top,o=i.left,s=i[r];i.top="",i.left="",i[r]="";var l=L(e.instance.popper,e.instance.reference,t.padding,n,e.positionFixed);i.top=a,i.left=o,i[r]=s,t.boundaries=l;var u=t.priority,c=e.offsets.popper,f={primary:function(e){var n=c[e];return c[e]<l[e]&&!t.escapeWithReference&&(n=Math.max(c[e],l[e])),k({},e,n)},secondary:function(e){var n="right"===e?"left":"top",r=c[n];return c[e]>l[e]&&!t.escapeWithReference&&(r=Math.min(c[n],l[e]-("right"===e?c.width:c.height))),k({},n,r)}};return u.forEach((function(e){var t=-1!==["left","top"].indexOf(e)?"primary":"secondary";c=M({},c,f[t](e))})),e.offsets.popper=c,e},priority:["left","right","top","bottom"],padding:5,boundariesElement:"scrollParent"},keepTogether:{order:400,enabled:!0,fn:function(e){var t=e.offsets,n=t.popper,r=t.reference,i=e.placement.split("-")[0],a=Math.floor,o=-1!==["top","bottom"].indexOf(i),s=o?"right":"bottom",l=o?"left":"top",u=o?"width":"height";return n[s]<a(r[l])&&(e.offsets.popper[l]=a(r[l])-n[u]),n[l]>a(r[s])&&(e.offsets.popper[l]=a(r[s])),e}},arrow:{order:500,enabled:!0,fn:function(e,t){var n;if(!Q(e.instance.modifiers,"arrow","keepTogether"))return e;var r=t.element;if("string"===typeof r){if(!(r=e.instance.popper.querySelector(r)))return e}else if(!e.instance.popper.contains(r))return console.warn("WARNING: `arrow.element` must be child of its popper element!"),e;var i=e.placement.split("-")[0],a=e.offsets,s=a.popper,l=a.reference,u=-1!==["left","right"].indexOf(i),c=u?"height":"width",f=u?"Top":"Left",d=f.toLowerCase(),h=u?"left":"top",p=u?"bottom":"right",g=z(r)[c];l[p]-g<s[d]&&(e.offsets.popper[d]-=s[d]-(l[p]-g)),l[d]+g>s[p]&&(e.offsets.popper[d]+=l[d]+g-s[p]),e.offsets.popper=T(e.offsets.popper);var v=l[d]+l[c]/2-g/2,m=o(e.instance.popper),y=parseFloat(m["margin"+f]),b=parseFloat(m["border"+f+"Width"]),x=v-e.offsets.popper[d]-y-b;return x=Math.max(Math.min(s[c]-g,x),0),e.arrowElement=r,e.offsets.arrow=(k(n={},d,Math.round(x)),k(n,h,""),n),e},element:"[x-arrow]"},flip:{order:600,enabled:!0,fn:function(e,t){if(U(e.instance.modifiers,"inner"))return e;if(e.flipped&&e.placement===e.originalPlacement)return e;var n=L(e.instance.popper,e.instance.reference,t.padding,t.boundariesElement,e.positionFixed),r=e.placement.split("-")[0],i=I(r),a=e.placement.split("-")[1]||"",o=[];switch(t.behavior){case ne:o=[r,i];break;case re:o=te(r);break;case ie:o=te(r,!0);break;default:o=t.behavior}return o.forEach((function(s,l){if(r!==s||o.length===l+1)return e;r=e.placement.split("-")[0],i=I(r);var u=e.offsets.popper,c=e.offsets.reference,f=Math.floor,d="left"===r&&f(u.right)>f(c.left)||"right"===r&&f(u.left)<f(c.right)||"top"===r&&f(u.bottom)>f(c.top)||"bottom"===r&&f(u.top)<f(c.bottom),h=f(u.left)<f(n.left),p=f(u.right)>f(n.right),g=f(u.top)<f(n.top),v=f(u.bottom)>f(n.bottom),m="left"===r&&h||"right"===r&&p||"top"===r&&g||"bottom"===r&&v,y=-1!==["top","bottom"].indexOf(r),b=!!t.flipVariations&&(y&&"start"===a&&h||y&&"end"===a&&p||!y&&"start"===a&&g||!y&&"end"===a&&v),x=!!t.flipVariationsByContent&&(y&&"start"===a&&p||y&&"end"===a&&h||!y&&"start"===a&&v||!y&&"end"===a&&g),_=b||x;(d||m||_)&&(e.flipped=!0,(d||m)&&(r=o[l+1]),_&&(a=function(e){return"end"===e?"start":"start"===e?"end":e}(a)),e.placement=r+(a?"-"+a:""),e.offsets.popper=M({},e.offsets.popper,N(e.instance.popper,e.offsets.reference,e.placement)),e=F(e.instance.modifiers,e,"flip"))})),e},behavior:"flip",padding:5,boundariesElement:"viewport",flipVariations:!1,flipVariationsByContent:!1},inner:{order:700,enabled:!1,fn:function(e){var t=e.placement,n=t.split("-")[0],r=e.offsets,i=r.popper,a=r.reference,o=-1!==["left","right"].indexOf(n),s=-1===["top","left"].indexOf(n);return i[o?"left":"top"]=a[n]-(s?i[o?"width":"height"]:0),e.placement=I(t),e.offsets.popper=T(i),e}},hide:{order:800,enabled:!0,fn:function(e){if(!Q(e.instance.modifiers,"hide","preventOverflow"))return e;var t=e.offsets.reference,n=D(e.instance.modifiers,(function(e){return"preventOverflow"===e.name})).boundaries;if(t.bottom<n.top||t.left>n.right||t.top>n.bottom||t.right<n.left){if(!0===e.hide)return e;e.hide=!0,e.attributes["x-out-of-boundaries"]=""}else{if(!1===e.hide)return e;e.hide=!1,e.attributes["x-out-of-boundaries"]=!1}return e}},computeStyle:{order:850,enabled:!0,fn:function(e,t){var n=t.x,r=t.y,i=e.offsets.popper,a=D(e.instance.modifiers,(function(e){return"applyStyle"===e.name})).gpuAcceleration;void 0!==a&&console.warn("WARNING: `gpuAcceleration` option moved to `computeStyle` modifier and will not be supported in future versions of Popper.js!");var o=void 0!==a?a:t.gpuAcceleration,s=h(e.instance.popper),l=A(s),u={position:i.position},c=function(e,t){var n=e.offsets,r=n.popper,i=n.reference,a=Math.round,o=Math.floor,s=function(e){return e},l=a(i.width),u=a(r.width),c=-1!==["left","right"].indexOf(e.placement),f=-1!==e.placement.indexOf("-"),d=t?c||f||l%2===u%2?a:o:s,h=t?a:s;return{left:d(l%2===1&&u%2===1&&!f&&t?r.left-1:r.left),top:h(r.top),bottom:h(r.bottom),right:d(r.right)}}(e,window.devicePixelRatio<2||!K),f="bottom"===n?"top":"bottom",d="right"===r?"left":"right",p=V("transform"),g=void 0,v=void 0;if(v="bottom"===f?"HTML"===s.nodeName?-s.clientHeight+c.bottom:-l.height+c.bottom:c.top,g="right"===d?"HTML"===s.nodeName?-s.clientWidth+c.right:-l.width+c.right:c.left,o&&p)u[p]="translate3d("+g+"px, "+v+"px, 0)",u[f]=0,u[d]=0,u.willChange="transform";else{var m="bottom"===f?-1:1,y="right"===d?-1:1;u[f]=v*m,u[d]=g*y,u.willChange=f+", "+d}var b={"x-placement":e.placement};return e.attributes=M({},b,e.attributes),e.styles=M({},u,e.styles),e.arrowStyles=M({},e.offsets.arrow,e.arrowStyles),e},gpuAcceleration:!0,x:"bottom",y:"right"},applyStyle:{order:900,enabled:!0,fn:function(e){var t,n;return $(e.instance.popper,e.styles),t=e.instance.popper,n=e.attributes,Object.keys(n).forEach((function(e){!1!==n[e]?t.setAttribute(e,n[e]):t.removeAttribute(e)})),e.arrowElement&&Object.keys(e.arrowStyles).length&&$(e.arrowElement,e.arrowStyles),e},onLoad:function(e,t,n,r,i){var a=j(i,t,e,n.positionFixed),o=P(n.placement,a,t,e,n.modifiers.flip.boundariesElement,n.modifiers.flip.padding);return t.setAttribute("x-placement",o),$(t,{position:n.positionFixed?"fixed":"absolute"}),n},gpuAcceleration:void 0}}},se=function(){function e(t,n){var r=this,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};_(this,e),this.scheduleUpdate=function(){return requestAnimationFrame(r.update)},this.update=i(this.update.bind(this)),this.options=M({},e.Defaults,o),this.state={isDestroyed:!1,isCreated:!1,scrollParents:[]},this.reference=t&&t.jquery?t[0]:t,this.popper=n&&n.jquery?n[0]:n,this.options.modifiers={},Object.keys(M({},e.Defaults.modifiers,o.modifiers)).forEach((function(t){r.options.modifiers[t]=M({},e.Defaults.modifiers[t]||{},o.modifiers?o.modifiers[t]:{})})),this.modifiers=Object.keys(this.options.modifiers).map((function(e){return M({name:e},r.options.modifiers[e])})).sort((function(e,t){return e.order-t.order})),this.modifiers.forEach((function(e){e.enabled&&a(e.onLoad)&&e.onLoad(r.reference,r.popper,r.options,e,r.state)})),this.update();var s=this.options.eventsEnabled;s&&this.enableEventListeners(),this.state.eventsEnabled=s}return w(e,[{key:"update",value:function(){return B.call(this)}},{key:"destroy",value:function(){return H.call(this)}},{key:"enableEventListeners",value:function(){return X.call(this)}},{key:"disableEventListeners",value:function(){return Y.call(this)}}]),e}();se.Utils=("undefined"!==typeof window?window:e).PopperUtils,se.placements=J,se.Defaults=oe,t.a=se}).call(this,n(56))},function(e,t,n){(function(t){var r=n(94);e.exports=function(){var e;return function(){function e(t,n,r){function i(o,s){if(!n[o]){if(!t[o]){if(a)return a(o,!0);var l=new Error("Cannot find module '"+o+"'");throw l.code="MODULE_NOT_FOUND",l}var u=n[o]={exports:{}};t[o][0].call(u.exports,(function(e){return i(t[o][1][e]||e)}),u,u.exports,e,t,n,r)}return n[o].exports}for(var a=!1,o=0;o<r.length;o++)i(r[o]);return i}return e}()({1:[function(e,t,n){"use strict";var r=e("../src/lib"),i={"X,X div":"direction:ltr;font-family:'Open Sans', verdana, arial, sans-serif;margin:0;padding:0;","X input,X button":"font-family:'Open Sans', verdana, arial, sans-serif;","X input:focus,X button:focus":"outline:none;","X a":"text-decoration:none;","X a:hover":"text-decoration:none;","X .crisp":"shape-rendering:crispEdges;","X .user-select-none":"-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;-o-user-select:none;user-select:none;","X svg":"overflow:hidden;","X svg a":"fill:#447adb;","X svg a:hover":"fill:#3c6dc5;","X .main-svg":"position:absolute;top:0;left:0;pointer-events:none;","X .main-svg .draglayer":"pointer-events:all;","X .cursor-default":"cursor:default;","X .cursor-pointer":"cursor:pointer;","X .cursor-crosshair":"cursor:crosshair;","X .cursor-move":"cursor:move;","X .cursor-col-resize":"cursor:col-resize;","X .cursor-row-resize":"cursor:row-resize;","X .cursor-ns-resize":"cursor:ns-resize;","X .cursor-ew-resize":"cursor:ew-resize;","X .cursor-sw-resize":"cursor:sw-resize;","X .cursor-s-resize":"cursor:s-resize;","X .cursor-se-resize":"cursor:se-resize;","X .cursor-w-resize":"cursor:w-resize;","X .cursor-e-resize":"cursor:e-resize;","X .cursor-nw-resize":"cursor:nw-resize;","X .cursor-n-resize":"cursor:n-resize;","X .cursor-ne-resize":"cursor:ne-resize;","X .cursor-grab":"cursor:-webkit-grab;cursor:grab;","X .modebar":"position:absolute;top:2px;right:2px;","X .ease-bg":"-webkit-transition:background-color 0.3s ease 0s;-moz-transition:background-color 0.3s ease 0s;-ms-transition:background-color 0.3s ease 0s;-o-transition:background-color 0.3s ease 0s;transition:background-color 0.3s ease 0s;","X .modebar--hover>:not(.watermark)":"opacity:0;-webkit-transition:opacity 0.3s ease 0s;-moz-transition:opacity 0.3s ease 0s;-ms-transition:opacity 0.3s ease 0s;-o-transition:opacity 0.3s ease 0s;transition:opacity 0.3s ease 0s;","X:hover .modebar--hover .modebar-group":"opacity:1;","X .modebar-group":"float:left;display:inline-block;box-sizing:border-box;padding-left:8px;position:relative;vertical-align:middle;white-space:nowrap;","X .modebar-btn":"position:relative;font-size:16px;padding:3px 4px;height:22px;cursor:pointer;line-height:normal;box-sizing:border-box;","X .modebar-btn svg":"position:relative;top:2px;","X .modebar.vertical":"display:flex;flex-direction:column;flex-wrap:wrap;align-content:flex-end;max-height:100%;","X .modebar.vertical svg":"top:-1px;","X .modebar.vertical .modebar-group":"display:block;float:none;padding-left:0px;padding-bottom:8px;","X .modebar.vertical .modebar-group .modebar-btn":"display:block;text-align:center;","X [data-title]:before,X [data-title]:after":"position:absolute;-webkit-transform:translate3d(0, 0, 0);-moz-transform:translate3d(0, 0, 0);-ms-transform:translate3d(0, 0, 0);-o-transform:translate3d(0, 0, 0);transform:translate3d(0, 0, 0);display:none;opacity:0;z-index:1001;pointer-events:none;top:110%;right:50%;","X [data-title]:hover:before,X [data-title]:hover:after":"display:block;opacity:1;","X [data-title]:before":"content:'';position:absolute;background:transparent;border:6px solid transparent;z-index:1002;margin-top:-12px;border-bottom-color:#69738a;margin-right:-6px;","X [data-title]:after":"content:attr(data-title);background:#69738a;color:white;padding:8px 10px;font-size:12px;line-height:12px;white-space:nowrap;margin-right:-18px;border-radius:2px;","X .vertical [data-title]:before,X .vertical [data-title]:after":"top:0%;right:200%;","X .vertical [data-title]:before":"border:6px solid transparent;border-left-color:#69738a;margin-top:8px;margin-right:-30px;","X .select-outline":"fill:none;stroke-width:1;shape-rendering:crispEdges;","X .select-outline-1":"stroke:white;","X .select-outline-2":"stroke:black;stroke-dasharray:2px 2px;",Y:"font-family:'Open Sans', verdana, arial, sans-serif;position:fixed;top:50px;right:20px;z-index:10000;font-size:10pt;max-width:180px;","Y p":"margin:0;","Y .notifier-note":"min-width:180px;max-width:250px;border:1px solid #fff;z-index:3000;margin:0;background-color:#8c97af;background-color:rgba(140,151,175,0.9);color:#fff;padding:10px;overflow-wrap:break-word;word-wrap:break-word;-ms-hyphens:auto;-webkit-hyphens:auto;hyphens:auto;","Y .notifier-close":"color:#fff;opacity:0.8;float:right;padding:0 5px;background:none;border:none;font-size:20px;font-weight:bold;line-height:20px;","Y .notifier-close:hover":"color:#444;text-decoration:none;cursor:pointer;"};for(var a in i){var o=a.replace(/^,/," ,").replace(/X/g,".js-plotly-plot .plotly").replace(/Y/g,".plotly-notifier");r.addStyleRule(o,i[a])}},{"../src/lib":524}],2:[function(e,t,n){"use strict";t.exports=e("../src/traces/cone")},{"../src/traces/cone":639}],3:[function(e,t,n){"use strict";t.exports=e("../src/core")},{"../src/core":504}],4:[function(e,t,n){"use strict";var r=e("./core");r.register([e("./scatter3d"),e("./surface"),e("./mesh3d"),e("./isosurface"),e("./volume"),e("./cone"),e("./streamtube")]),t.exports=r},{"./cone":2,"./core":3,"./isosurface":5,"./mesh3d":6,"./scatter3d":7,"./streamtube":8,"./surface":9,"./volume":10}],5:[function(e,t,n){"use strict";t.exports=e("../src/traces/isosurface")},{"../src/traces/isosurface":646}],6:[function(e,t,n){"use strict";t.exports=e("../src/traces/mesh3d")},{"../src/traces/mesh3d":651}],7:[function(e,t,n){"use strict";t.exports=e("../src/traces/scatter3d")},{"../src/traces/scatter3d":688}],8:[function(e,t,n){"use strict";t.exports=e("../src/traces/streamtube")},{"../src/traces/streamtube":693}],9:[function(e,t,n){"use strict";t.exports=e("../src/traces/surface")},{"../src/traces/surface":698}],10:[function(e,t,n){"use strict";t.exports=e("../src/traces/volume")},{"../src/traces/volume":702}],11:[function(e,t,n){"use strict";t.exports=l;var r=e("turntable-camera-controller"),i=e("orbit-camera-controller"),a=e("matrix-camera-controller");function o(e,t){this._controllerNames=Object.keys(e),this._controllerList=this._controllerNames.map((function(t){return e[t]})),this._mode=t,this._active=e[t],this._active||(this._mode="turntable",this._active=e.turntable),this.modes=this._controllerNames,this.computedMatrix=this._active.computedMatrix,this.computedEye=this._active.computedEye,this.computedUp=this._active.computedUp,this.computedCenter=this._active.computedCenter,this.computedRadius=this._active.computedRadius}var s=o.prototype;function l(e){var t=(e=e||{}).eye||[0,0,1],n=e.center||[0,0,0],s=e.up||[0,1,0],l=e.distanceLimits||[0,1/0],u=e.mode||"turntable",c=r(),f=i(),d=a();return c.setDistanceLimits(l[0],l[1]),c.lookAt(0,t,n,s),f.setDistanceLimits(l[0],l[1]),f.lookAt(0,t,n,s),d.setDistanceLimits(l[0],l[1]),d.lookAt(0,t,n,s),new o({turntable:c,orbit:f,matrix:d},u)}[["flush",1],["idle",1],["lookAt",4],["rotate",4],["pan",4],["translate",4],["setMatrix",2],["setDistanceLimits",2],["setDistance",2]].forEach((function(e){for(var t=e[0],n=[],r=0;r<e[1];++r)n.push("a"+r);var i="var cc=this._controllerList;for(var i=0;i<cc.length;++i){cc[i]."+e[0]+"("+n.join()+")}";s[t]=Function.apply(null,n.concat(i))})),s.recalcMatrix=function(e){this._active.recalcMatrix(e)},s.getDistance=function(e){return this._active.getDistance(e)},s.getDistanceLimits=function(e){return this._active.getDistanceLimits(e)},s.lastT=function(){return this._active.lastT()},s.setMode=function(e){if(e!==this._mode){var t=this._controllerNames.indexOf(e);if(!(t<0)){var n=this._active,r=this._controllerList[t],i=Math.max(n.lastT(),r.lastT());n.recalcMatrix(i),r.setMatrix(i,n.computedMatrix),this._active=r,this._mode=e,this.computedMatrix=this._active.computedMatrix,this.computedEye=this._active.computedEye,this.computedUp=this._active.computedUp,this.computedCenter=this._active.computedCenter,this.computedRadius=this._active.computedRadius}}},s.getMode=function(){return this._mode}},{"matrix-camera-controller":286,"orbit-camera-controller":305,"turntable-camera-controller":363}],12:[function(e,t,n){"use strict";var r="undefined"===typeof WeakMap?e("weak-map"):WeakMap,i=e("gl-buffer"),a=e("gl-vao"),o=new r;function s(e){var t=o.get(e),n=t&&(t._triangleBuffer.handle||t._triangleBuffer.buffer);if(!n||!e.isBuffer(n)){var r=i(e,new Float32Array([-1,-1,-1,4,4,-1]));(t=a(e,[{buffer:r,type:e.FLOAT,size:2}]))._triangleBuffer=r,o.set(e,t)}t.bind(),e.drawArrays(e.TRIANGLES,0,3),t.unbind()}t.exports=s},{"gl-buffer":106,"gl-vao":186,"weak-map":371}],13:[function(e,t,n){var r=e("pad-left");function i(e,t,n){t="number"===typeof t?t:1,n=n||": ";var i=e.split(/\r?\n/),a=String(i.length+t-1).length;return i.map((function(e,i){var o=i+t,s=String(o).length;return r(o,a-s)+n+e})).join("\n")}t.exports=i},{"pad-left":306}],14:[function(e,t,n){"use strict";t.exports=a;var r=e("robust-orientation");function i(e,t){for(var n=new Array(t+1),i=0;i<e.length;++i)n[i]=e[i];for(i=0;i<=e.length;++i){for(var a=e.length;a<=t;++a){for(var o=new Array(t),s=0;s<t;++s)o[s]=Math.pow(a+1-i,s);n[a]=o}if(r.apply(void 0,n))return!0}return!1}function a(e){var t=e.length;if(0===t)return[];if(1===t)return[0];for(var n=e[0].length,r=[e[0]],a=[0],o=1;o<t;++o)if(r.push(e[o]),i(r,n)){if(a.push(o),a.length===n+1)return a}else r.pop();return a}},{"robust-orientation":339}],15:[function(e,t,n){"use strict";t.exports=a;var r=e("delaunay-triangulate"),i=e("circumradius");function a(e,t){return r(t).filter((function(n){for(var r=new Array(n.length),a=0;a<n.length;++a)r[a]=t[n[a]];return i(r)*e<1}))}},{circumradius:57,"delaunay-triangulate":84}],16:[function(e,t,n){t.exports=a;var r=e("alpha-complex"),i=e("simplicial-complex-boundary");function a(e,t){return i(r(e,t))}},{"alpha-complex":15,"simplicial-complex-boundary":346}],17:[function(e,t,n){t.exports=function(e){return atob(e)}},{}],18:[function(e,t,n){"use strict";t.exports=a;var r=e("robust-linear-solve");function i(e){for(var t=0,n=0;n<e.length;++n)t+=e[n];return t}function a(e,t){for(var n=t.length,a=new Array(n+1),o=0;o<n;++o){for(var s=new Array(n+1),l=0;l<=n;++l)s[l]=e[l][o];a[o]=s}for(a[n]=new Array(n+1),o=0;o<=n;++o)a[n][o]=1;var u=new Array(n+1);for(o=0;o<n;++o)u[o]=t[o];u[n]=1;var c=r(a,u),f=i(c[n+1]);0===f&&(f=1);var d=new Array(n+1);for(o=0;o<=n;++o)d[o]=i(c[o])/f;return d}},{"robust-linear-solve":338}],19:[function(e,t,n){"use strict";n.byteLength=c,n.toByteArray=d,n.fromByteArray=g;for(var r=[],i=[],a="undefined"!==typeof Uint8Array?Uint8Array:Array,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,l=o.length;s<l;++s)r[s]=o[s],i[o.charCodeAt(s)]=s;function u(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");return-1===n&&(n=t),[n,n===t?0:4-n%4]}function c(e){var t=u(e),n=t[0],r=t[1];return 3*(n+r)/4-r}function f(e,t,n){return 3*(t+n)/4-n}function d(e){var t,n,r=u(e),o=r[0],s=r[1],l=new a(f(e,o,s)),c=0,d=s>0?o-4:o;for(n=0;n<d;n+=4)t=i[e.charCodeAt(n)]<<18|i[e.charCodeAt(n+1)]<<12|i[e.charCodeAt(n+2)]<<6|i[e.charCodeAt(n+3)],l[c++]=t>>16&255,l[c++]=t>>8&255,l[c++]=255&t;return 2===s&&(t=i[e.charCodeAt(n)]<<2|i[e.charCodeAt(n+1)]>>4,l[c++]=255&t),1===s&&(t=i[e.charCodeAt(n)]<<10|i[e.charCodeAt(n+1)]<<4|i[e.charCodeAt(n+2)]>>2,l[c++]=t>>8&255,l[c++]=255&t),l}function h(e){return r[e>>18&63]+r[e>>12&63]+r[e>>6&63]+r[63&e]}function p(e,t,n){for(var r,i=[],a=t;a<n;a+=3)r=(e[a]<<16&16711680)+(e[a+1]<<8&65280)+(255&e[a+2]),i.push(h(r));return i.join("")}function g(e){for(var t,n=e.length,i=n%3,a=[],o=16383,s=0,l=n-i;s<l;s+=o)a.push(p(e,s,s+o>l?l:s+o));return 1===i?(t=e[n-1],a.push(r[t>>2]+r[t<<4&63]+"==")):2===i&&(t=(e[n-2]<<8)+e[n-1],a.push(r[t>>10]+r[t>>4&63]+r[t<<2&63]+"=")),a.join("")}i["-".charCodeAt(0)]=62,i["_".charCodeAt(0)]=63},{}],20:[function(e,t,n){"use strict";var r=e("./lib/rationalize");function i(e,t){return r(e[0].mul(t[1]).add(t[0].mul(e[1])),e[1].mul(t[1]))}t.exports=i},{"./lib/rationalize":30}],21:[function(e,t,n){"use strict";function r(e,t){return e[0].mul(t[1]).cmp(t[0].mul(e[1]))}t.exports=r},{}],22:[function(e,t,n){"use strict";var r=e("./lib/rationalize");function i(e,t){return r(e[0].mul(t[1]),e[1].mul(t[0]))}t.exports=i},{"./lib/rationalize":30}],23:[function(e,t,n){"use strict";var r=e("./is-rat"),i=e("./lib/is-bn"),a=e("./lib/num-to-bn"),o=e("./lib/str-to-bn"),s=e("./lib/rationalize"),l=e("./div");function u(e,t){if(r(e))return t?l(e,u(t)):[e[0].clone(),e[1].clone()];var n,c,f=0;if(i(e))n=e.clone();else if("string"===typeof e)n=o(e);else{if(0===e)return[a(0),a(1)];if(e===Math.floor(e))n=a(e);else{for(;e!==Math.floor(e);)e*=Math.pow(2,256),f-=256;n=a(e)}}if(r(t))n.mul(t[1]),c=t[0].clone();else if(i(t))c=t.clone();else if("string"===typeof t)c=o(t);else if(t)if(t===Math.floor(t))c=a(t);else{for(;t!==Math.floor(t);)t*=Math.pow(2,256),f+=256;c=a(t)}else c=a(1);return f>0?n=n.ushln(f):f<0&&(c=c.ushln(-f)),s(n,c)}t.exports=u},{"./div":22,"./is-rat":24,"./lib/is-bn":28,"./lib/num-to-bn":29,"./lib/rationalize":30,"./lib/str-to-bn":31}],24:[function(e,t,n){"use strict";var r=e("./lib/is-bn");function i(e){return Array.isArray(e)&&2===e.length&&r(e[0])&&r(e[1])}t.exports=i},{"./lib/is-bn":28}],25:[function(e,t,n){"use strict";var r=e("bn.js");function i(e){return e.cmp(new r(0))}t.exports=i},{"bn.js":38}],26:[function(e,t,n){"use strict";var r=e("./bn-sign");function i(e){var t=e.length,n=e.words,i=0;if(1===t)i=n[0];else if(2===t)i=n[0]+67108864*n[1];else for(var a=0;a<t;a++)i+=n[a]*Math.pow(67108864,a);return r(e)*i}t.exports=i},{"./bn-sign":25}],27:[function(e,t,n){"use strict";var r=e("double-bits"),i=e("bit-twiddle").countTrailingZeros;function a(e){var t=i(r.lo(e));if(t<32)return t;var n=i(r.hi(e));return n>20?52:n+32}t.exports=a},{"bit-twiddle":37,"double-bits":85}],28:[function(e,t,n){"use strict";function r(e){return e&&"object"===typeof e&&Boolean(e.words)}e("bn.js"),t.exports=r},{"bn.js":38}],29:[function(e,t,n){"use strict";var r=e("bn.js"),i=e("double-bits");function a(e){var t=i.exponent(e);return t<52?new r(e):new r(e*Math.pow(2,52-t)).ushln(t-52)}t.exports=a},{"bn.js":38,"double-bits":85}],30:[function(e,t,n){"use strict";var r=e("./num-to-bn"),i=e("./bn-sign");function a(e,t){var n=i(e),a=i(t);if(0===n)return[r(0),r(1)];if(0===a)return[r(0),r(0)];a<0&&(e=e.neg(),t=t.neg());var o=e.gcd(t);return o.cmpn(1)?[e.div(o),t.div(o)]:[e,t]}t.exports=a},{"./bn-sign":25,"./num-to-bn":29}],31:[function(e,t,n){"use strict";var r=e("bn.js");function i(e){return new r(e)}t.exports=i},{"bn.js":38}],32:[function(e,t,n){"use strict";var r=e("./lib/rationalize");function i(e,t){return r(e[0].mul(t[0]),e[1].mul(t[1]))}t.exports=i},{"./lib/rationalize":30}],33:[function(e,t,n){"use strict";var r=e("./lib/bn-sign");function i(e){return r(e[0])*r(e[1])}t.exports=i},{"./lib/bn-sign":25}],34:[function(e,t,n){"use strict";var r=e("./lib/rationalize");function i(e,t){return r(e[0].mul(t[1]).sub(e[1].mul(t[0])),e[1].mul(t[1]))}t.exports=i},{"./lib/rationalize":30}],35:[function(e,t,n){"use strict";var r=e("./lib/bn-to-num"),i=e("./lib/ctz");function a(e){var t=e[0],n=e[1];if(0===t.cmpn(0))return 0;var a=t.abs().divmod(n.abs()),o=a.div,s=r(o),l=a.mod,u=t.negative!==n.negative?-1:1;if(0===l.cmpn(0))return u*s;if(s){var c=i(s)+4;return u*(s+(d=r(l.ushln(c).divRound(n)))*Math.pow(2,-c))}var f=n.bitLength()-l.bitLength()+53,d=r(l.ushln(f).divRound(n));return f<1023?u*d*Math.pow(2,-f):u*(d*=Math.pow(2,-1023))*Math.pow(2,1023-f)}t.exports=a},{"./lib/bn-to-num":26,"./lib/ctz":27}],36:[function(e,t,n){"use strict";function r(e,t,n,r,i){var a=["function ",e,"(a,l,h,",r.join(","),"){",i?"":"var i=",n?"l-1":"h+1",";while(l<=h){var m=(l+h)>>>1,x=a[m]"];return i?t.indexOf("c")<0?a.push(";if(x===y){return m}else if(x<=y){"):a.push(";var p=c(x,y);if(p===0){return m}else if(p<=0){"):a.push(";if(",t,"){i=m;"),n?a.push("l=m+1}else{h=m-1}"):a.push("h=m-1}else{l=m+1}"),a.push("}"),i?a.push("return -1};"):a.push("return i};"),a.join("")}function i(e,t,n,i){return new Function([r("A","x"+e+"y",t,["y"],i),r("P","c(x,y)"+e+"0",t,["y","c"],i),"function dispatchBsearch",n,"(a,y,c,l,h){if(typeof(c)==='function'){return P(a,(l===void 0)?0:l|0,(h===void 0)?a.length-1:h|0,y,c)}else{return A(a,(c===void 0)?0:c|0,(l===void 0)?a.length-1:l|0,y)}}return dispatchBsearch",n].join(""))()}t.exports={ge:i(">=",!1,"GE"),gt:i(">",!1,"GT"),lt:i("<",!0,"LT"),le:i("<=",!0,"LE"),eq:i("-",!0,"EQ",!0)}},{}],37:[function(e,t,n){"use strict";var r=32;function i(e){var t=32;return(e&=-e)&&t--,65535&e&&(t-=16),16711935&e&&(t-=8),252645135&e&&(t-=4),858993459&e&&(t-=2),1431655765&e&&(t-=1),t}n.INT_BITS=r,n.INT_MAX=2147483647,n.INT_MIN=-1<<r-1,n.sign=function(e){return(e>0)-(e<0)},n.abs=function(e){var t=e>>r-1;return(e^t)-t},n.min=function(e,t){return t^(e^t)&-(e<t)},n.max=function(e,t){return e^(e^t)&-(e<t)},n.isPow2=function(e){return!(e&e-1)&&!!e},n.log2=function(e){var t,n;return t=(e>65535)<<4,t|=n=((e>>>=t)>255)<<3,t|=n=((e>>>=n)>15)<<2,(t|=n=((e>>>=n)>3)<<1)|(e>>>=n)>>1},n.log10=function(e){return e>=1e9?9:e>=1e8?8:e>=1e7?7:e>=1e6?6:e>=1e5?5:e>=1e4?4:e>=1e3?3:e>=100?2:e>=10?1:0},n.popCount=function(e){return 16843009*((e=(858993459&(e-=e>>>1&1431655765))+(e>>>2&858993459))+(e>>>4)&252645135)>>>24},n.countTrailingZeros=i,n.nextPow2=function(e){return e+=0===e,--e,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,1+(e|=e>>>16)},n.prevPow2=function(e){return e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,(e|=e>>>16)-(e>>>1)},n.parity=function(e){return e^=e>>>16,e^=e>>>8,e^=e>>>4,27030>>>(e&=15)&1};var a=new Array(256);!function(e){for(var t=0;t<256;++t){var n=t,r=t,i=7;for(n>>>=1;n;n>>>=1)r<<=1,r|=1&n,--i;e[t]=r<<i&255}}(a),n.reverse=function(e){return a[255&e]<<24|a[e>>>8&255]<<16|a[e>>>16&255]<<8|a[e>>>24&255]},n.interleave2=function(e,t){return(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e&=65535)|e<<8))|e<<4))|e<<2))|e<<1))|(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t&=65535)|t<<8))|t<<4))|t<<2))|t<<1))<<1},n.deinterleave2=function(e,t){return(e=65535&((e=16711935&((e=252645135&((e=858993459&((e=e>>>t&1431655765)|e>>>1))|e>>>2))|e>>>4))|e>>>16))<<16>>16},n.interleave3=function(e,t,n){return e=1227133513&((e=3272356035&((e=251719695&((e=4278190335&((e&=1023)|e<<16))|e<<8))|e<<4))|e<<2),(e|=(t=1227133513&((t=3272356035&((t=251719695&((t=4278190335&((t&=1023)|t<<16))|t<<8))|t<<4))|t<<2))<<1)|(n=1227133513&((n=3272356035&((n=251719695&((n=4278190335&((n&=1023)|n<<16))|n<<8))|n<<4))|n<<2))<<2},n.deinterleave3=function(e,t){return(e=1023&((e=4278190335&((e=251719695&((e=3272356035&((e=e>>>t&1227133513)|e>>>2))|e>>>4))|e>>>8))|e>>>16))<<22>>22},n.nextCombination=function(e){var t=e|e-1;return t+1|(~t&-~t)-1>>>i(e)+1}},{}],38:[function(e,t,n){!function(t,n){"use strict";function r(e,t){if(!e)throw new Error(t||"Assertion failed")}function i(e,t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}function a(e,t,n){if(a.isBN(e))return e;this.negative=0,this.words=null,this.length=0,this.red=null,null!==e&&("le"!==t&&"be"!==t||(n=t,t=10),this._init(e||0,t||10,n||"be"))}var o;"object"===typeof t?t.exports=a:n.BN=a,a.BN=a,a.wordSize=26;try{o=e("buffer").Buffer}catch(A){}function s(e,t,n){for(var r=0,i=Math.min(e.length,n),a=t;a<i;a++){var o=e.charCodeAt(a)-48;r<<=4,r|=o>=49&&o<=54?o-49+10:o>=17&&o<=22?o-17+10:15&o}return r}function l(e,t,n,r){for(var i=0,a=Math.min(e.length,n),o=t;o<a;o++){var s=e.charCodeAt(o)-48;i*=r,i+=s>=49?s-49+10:s>=17?s-17+10:s}return i}a.isBN=function(e){return e instanceof a||null!==e&&"object"===typeof e&&e.constructor.wordSize===a.wordSize&&Array.isArray(e.words)},a.max=function(e,t){return e.cmp(t)>0?e:t},a.min=function(e,t){return e.cmp(t)<0?e:t},a.prototype._init=function(e,t,n){if("number"===typeof e)return this._initNumber(e,t,n);if("object"===typeof e)return this._initArray(e,t,n);"hex"===t&&(t=16),r(t===(0|t)&&t>=2&&t<=36);var i=0;"-"===(e=e.toString().replace(/\s+/g,""))[0]&&i++,16===t?this._parseHex(e,i):this._parseBase(e,t,i),"-"===e[0]&&(this.negative=1),this.strip(),"le"===n&&this._initArray(this.toArray(),t,n)},a.prototype._initNumber=function(e,t,n){e<0&&(this.negative=1,e=-e),e<67108864?(this.words=[67108863&e],this.length=1):e<4503599627370496?(this.words=[67108863&e,e/67108864&67108863],this.length=2):(r(e<9007199254740992),this.words=[67108863&e,e/67108864&67108863,1],this.length=3),"le"===n&&this._initArray(this.toArray(),t,n)},a.prototype._initArray=function(e,t,n){if(r("number"===typeof e.length),e.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(e.length/3),this.words=new Array(this.length);for(var i=0;i<this.length;i++)this.words[i]=0;var a,o,s=0;if("be"===n)for(i=e.length-1,a=0;i>=0;i-=3)o=e[i]|e[i-1]<<8|e[i-2]<<16,this.words[a]|=o<<s&67108863,this.words[a+1]=o>>>26-s&67108863,(s+=24)>=26&&(s-=26,a++);else if("le"===n)for(i=0,a=0;i<e.length;i+=3)o=e[i]|e[i+1]<<8|e[i+2]<<16,this.words[a]|=o<<s&67108863,this.words[a+1]=o>>>26-s&67108863,(s+=24)>=26&&(s-=26,a++);return this.strip()},a.prototype._parseHex=function(e,t){this.length=Math.ceil((e.length-t)/6),this.words=new Array(this.length);for(var n=0;n<this.length;n++)this.words[n]=0;var r,i,a=0;for(n=e.length-6,r=0;n>=t;n-=6)i=s(e,n,n+6),this.words[r]|=i<<a&67108863,this.words[r+1]|=i>>>26-a&4194303,(a+=24)>=26&&(a-=26,r++);n+6!==t&&(i=s(e,t,n+6),this.words[r]|=i<<a&67108863,this.words[r+1]|=i>>>26-a&4194303),this.strip()},a.prototype._parseBase=function(e,t,n){this.words=[0],this.length=1;for(var r=0,i=1;i<=67108863;i*=t)r++;r--,i=i/t|0;for(var a=e.length-n,o=a%r,s=Math.min(a,a-o)+n,u=0,c=n;c<s;c+=r)u=l(e,c,c+r,t),this.imuln(i),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u);if(0!==o){var f=1;for(u=l(e,c,e.length,t),c=0;c<o;c++)f*=t;this.imuln(f),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u)}},a.prototype.copy=function(e){e.words=new Array(this.length);for(var t=0;t<this.length;t++)e.words[t]=this.words[t];e.length=this.length,e.negative=this.negative,e.red=this.red},a.prototype.clone=function(){var e=new a(null);return this.copy(e),e},a.prototype._expand=function(e){for(;this.length<e;)this.words[this.length++]=0;return this},a.prototype.strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},a.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},a.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var u=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],c=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],f=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function d(e){for(var t=new Array(e.bitLength()),n=0;n<t.length;n++){var r=n/26|0,i=n%26;t[n]=(e.words[r]&1<<i)>>>i}return t}function h(e,t,n){n.negative=t.negative^e.negative;var r=e.length+t.length|0;n.length=r,r=r-1|0;var i=0|e.words[0],a=0|t.words[0],o=i*a,s=67108863&o,l=o/67108864|0;n.words[0]=s;for(var u=1;u<r;u++){for(var c=l>>>26,f=67108863&l,d=Math.min(u,t.length-1),h=Math.max(0,u-e.length+1);h<=d;h++){var p=u-h|0;c+=(o=(i=0|e.words[p])*(a=0|t.words[h])+f)/67108864|0,f=67108863&o}n.words[u]=0|f,l=0|c}return 0!==l?n.words[u]=0|l:n.length--,n.strip()}a.prototype.toString=function(e,t){var n;if(t=0|t||1,16===(e=e||10)||"hex"===e){n="";for(var i=0,a=0,o=0;o<this.length;o++){var s=this.words[o],l=(16777215&(s<<i|a)).toString(16);n=0!==(a=s>>>24-i&16777215)||o!==this.length-1?u[6-l.length]+l+n:l+n,(i+=2)>=26&&(i-=26,o--)}for(0!==a&&(n=a.toString(16)+n);n.length%t!==0;)n="0"+n;return 0!==this.negative&&(n="-"+n),n}if(e===(0|e)&&e>=2&&e<=36){var d=c[e],h=f[e];n="";var p=this.clone();for(p.negative=0;!p.isZero();){var g=p.modn(h).toString(e);n=(p=p.idivn(h)).isZero()?g+n:u[d-g.length]+g+n}for(this.isZero()&&(n="0"+n);n.length%t!==0;)n="0"+n;return 0!==this.negative&&(n="-"+n),n}r(!1,"Base should be between 2 and 36")},a.prototype.toNumber=function(){var e=this.words[0];return 2===this.length?e+=67108864*this.words[1]:3===this.length&&1===this.words[2]?e+=4503599627370496+67108864*this.words[1]:this.length>2&&r(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-e:e},a.prototype.toJSON=function(){return this.toString(16)},a.prototype.toBuffer=function(e,t){return r("undefined"!==typeof o),this.toArrayLike(o,e,t)},a.prototype.toArray=function(e,t){return this.toArrayLike(Array,e,t)},a.prototype.toArrayLike=function(e,t,n){var i=this.byteLength(),a=n||Math.max(1,i);r(i<=a,"byte array longer than desired length"),r(a>0,"Requested array length <= 0"),this.strip();var o,s,l="le"===t,u=new e(a),c=this.clone();if(l){for(s=0;!c.isZero();s++)o=c.andln(255),c.iushrn(8),u[s]=o;for(;s<a;s++)u[s]=0}else{for(s=0;s<a-i;s++)u[s]=0;for(s=0;!c.isZero();s++)o=c.andln(255),c.iushrn(8),u[a-s-1]=o}return u},Math.clz32?a.prototype._countBits=function(e){return 32-Math.clz32(e)}:a.prototype._countBits=function(e){var t=e,n=0;return t>=4096&&(n+=13,t>>>=13),t>=64&&(n+=7,t>>>=7),t>=8&&(n+=4,t>>>=4),t>=2&&(n+=2,t>>>=2),n+t},a.prototype._zeroBits=function(e){if(0===e)return 26;var t=e,n=0;return 0===(8191&t)&&(n+=13,t>>>=13),0===(127&t)&&(n+=7,t>>>=7),0===(15&t)&&(n+=4,t>>>=4),0===(3&t)&&(n+=2,t>>>=2),0===(1&t)&&n++,n},a.prototype.bitLength=function(){var e=this.words[this.length-1],t=this._countBits(e);return 26*(this.length-1)+t},a.prototype.zeroBits=function(){if(this.isZero())return 0;for(var e=0,t=0;t<this.length;t++){var n=this._zeroBits(this.words[t]);if(e+=n,26!==n)break}return e},a.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},a.prototype.toTwos=function(e){return 0!==this.negative?this.abs().inotn(e).iaddn(1):this.clone()},a.prototype.fromTwos=function(e){return this.testn(e-1)?this.notn(e).iaddn(1).ineg():this.clone()},a.prototype.isNeg=function(){return 0!==this.negative},a.prototype.neg=function(){return this.clone().ineg()},a.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},a.prototype.iuor=function(e){for(;this.length<e.length;)this.words[this.length++]=0;for(var t=0;t<e.length;t++)this.words[t]=this.words[t]|e.words[t];return this.strip()},a.prototype.ior=function(e){return r(0===(this.negative|e.negative)),this.iuor(e)},a.prototype.or=function(e){return this.length>e.length?this.clone().ior(e):e.clone().ior(this)},a.prototype.uor=function(e){return this.length>e.length?this.clone().iuor(e):e.clone().iuor(this)},a.prototype.iuand=function(e){var t;t=this.length>e.length?e:this;for(var n=0;n<t.length;n++)this.words[n]=this.words[n]&e.words[n];return this.length=t.length,this.strip()},a.prototype.iand=function(e){return r(0===(this.negative|e.negative)),this.iuand(e)},a.prototype.and=function(e){return this.length>e.length?this.clone().iand(e):e.clone().iand(this)},a.prototype.uand=function(e){return this.length>e.length?this.clone().iuand(e):e.clone().iuand(this)},a.prototype.iuxor=function(e){var t,n;this.length>e.length?(t=this,n=e):(t=e,n=this);for(var r=0;r<n.length;r++)this.words[r]=t.words[r]^n.words[r];if(this!==t)for(;r<t.length;r++)this.words[r]=t.words[r];return this.length=t.length,this.strip()},a.prototype.ixor=function(e){return r(0===(this.negative|e.negative)),this.iuxor(e)},a.prototype.xor=function(e){return this.length>e.length?this.clone().ixor(e):e.clone().ixor(this)},a.prototype.uxor=function(e){return this.length>e.length?this.clone().iuxor(e):e.clone().iuxor(this)},a.prototype.inotn=function(e){r("number"===typeof e&&e>=0);var t=0|Math.ceil(e/26),n=e%26;this._expand(t),n>0&&t--;for(var i=0;i<t;i++)this.words[i]=67108863&~this.words[i];return n>0&&(this.words[i]=~this.words[i]&67108863>>26-n),this.strip()},a.prototype.notn=function(e){return this.clone().inotn(e)},a.prototype.setn=function(e,t){r("number"===typeof e&&e>=0);var n=e/26|0,i=e%26;return this._expand(n+1),this.words[n]=t?this.words[n]|1<<i:this.words[n]&~(1<<i),this.strip()},a.prototype.iadd=function(e){var t,n,r;if(0!==this.negative&&0===e.negative)return this.negative=0,t=this.isub(e),this.negative^=1,this._normSign();if(0===this.negative&&0!==e.negative)return e.negative=0,t=this.isub(e),e.negative=1,t._normSign();this.length>e.length?(n=this,r=e):(n=e,r=this);for(var i=0,a=0;a<r.length;a++)t=(0|n.words[a])+(0|r.words[a])+i,this.words[a]=67108863&t,i=t>>>26;for(;0!==i&&a<n.length;a++)t=(0|n.words[a])+i,this.words[a]=67108863&t,i=t>>>26;if(this.length=n.length,0!==i)this.words[this.length]=i,this.length++;else if(n!==this)for(;a<n.length;a++)this.words[a]=n.words[a];return this},a.prototype.add=function(e){var t;return 0!==e.negative&&0===this.negative?(e.negative=0,t=this.sub(e),e.negative^=1,t):0===e.negative&&0!==this.negative?(this.negative=0,t=e.sub(this),this.negative=1,t):this.length>e.length?this.clone().iadd(e):e.clone().iadd(this)},a.prototype.isub=function(e){if(0!==e.negative){e.negative=0;var t=this.iadd(e);return e.negative=1,t._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(e),this.negative=1,this._normSign();var n,r,i=this.cmp(e);if(0===i)return this.negative=0,this.length=1,this.words[0]=0,this;i>0?(n=this,r=e):(n=e,r=this);for(var a=0,o=0;o<r.length;o++)a=(t=(0|n.words[o])-(0|r.words[o])+a)>>26,this.words[o]=67108863&t;for(;0!==a&&o<n.length;o++)a=(t=(0|n.words[o])+a)>>26,this.words[o]=67108863&t;if(0===a&&o<n.length&&n!==this)for(;o<n.length;o++)this.words[o]=n.words[o];return this.length=Math.max(this.length,o),n!==this&&(this.negative=1),this.strip()},a.prototype.sub=function(e){return this.clone().isub(e)};var p=function(e,t,n){var r,i,a,o=e.words,s=t.words,l=n.words,u=0,c=0|o[0],f=8191&c,d=c>>>13,h=0|o[1],p=8191&h,g=h>>>13,v=0|o[2],m=8191&v,y=v>>>13,b=0|o[3],x=8191&b,_=b>>>13,w=0|o[4],k=8191&w,M=w>>>13,T=0|o[5],A=8191&T,E=T>>>13,S=0|o[6],O=8191&S,C=S>>>13,L=0|o[7],R=8191&L,P=L>>>13,j=0|o[8],z=8191&j,I=j>>>13,N=0|o[9],D=8191&N,F=N>>>13,B=0|s[0],U=8191&B,V=B>>>13,H=0|s[1],q=8191&H,W=H>>>13,G=0|s[2],X=8191&G,Y=G>>>13,Z=0|s[3],$=8191&Z,K=Z>>>13,Q=0|s[4],J=8191&Q,ee=Q>>>13,te=0|s[5],ne=8191&te,re=te>>>13,ie=0|s[6],ae=8191&ie,oe=ie>>>13,se=0|s[7],le=8191&se,ue=se>>>13,ce=0|s[8],fe=8191&ce,de=ce>>>13,he=0|s[9],pe=8191&he,ge=he>>>13;n.negative=e.negative^t.negative,n.length=19;var ve=(u+(r=Math.imul(f,U))|0)+((8191&(i=(i=Math.imul(f,V))+Math.imul(d,U)|0))<<13)|0;u=((a=Math.imul(d,V))+(i>>>13)|0)+(ve>>>26)|0,ve&=67108863,r=Math.imul(p,U),i=(i=Math.imul(p,V))+Math.imul(g,U)|0,a=Math.imul(g,V);var me=(u+(r=r+Math.imul(f,q)|0)|0)+((8191&(i=(i=i+Math.imul(f,W)|0)+Math.imul(d,q)|0))<<13)|0;u=((a=a+Math.imul(d,W)|0)+(i>>>13)|0)+(me>>>26)|0,me&=67108863,r=Math.imul(m,U),i=(i=Math.imul(m,V))+Math.imul(y,U)|0,a=Math.imul(y,V),r=r+Math.imul(p,q)|0,i=(i=i+Math.imul(p,W)|0)+Math.imul(g,q)|0,a=a+Math.imul(g,W)|0;var ye=(u+(r=r+Math.imul(f,X)|0)|0)+((8191&(i=(i=i+Math.imul(f,Y)|0)+Math.imul(d,X)|0))<<13)|0;u=((a=a+Math.imul(d,Y)|0)+(i>>>13)|0)+(ye>>>26)|0,ye&=67108863,r=Math.imul(x,U),i=(i=Math.imul(x,V))+Math.imul(_,U)|0,a=Math.imul(_,V),r=r+Math.imul(m,q)|0,i=(i=i+Math.imul(m,W)|0)+Math.imul(y,q)|0,a=a+Math.imul(y,W)|0,r=r+Math.imul(p,X)|0,i=(i=i+Math.imul(p,Y)|0)+Math.imul(g,X)|0,a=a+Math.imul(g,Y)|0;var be=(u+(r=r+Math.imul(f,$)|0)|0)+((8191&(i=(i=i+Math.imul(f,K)|0)+Math.imul(d,$)|0))<<13)|0;u=((a=a+Math.imul(d,K)|0)+(i>>>13)|0)+(be>>>26)|0,be&=67108863,r=Math.imul(k,U),i=(i=Math.imul(k,V))+Math.imul(M,U)|0,a=Math.imul(M,V),r=r+Math.imul(x,q)|0,i=(i=i+Math.imul(x,W)|0)+Math.imul(_,q)|0,a=a+Math.imul(_,W)|0,r=r+Math.imul(m,X)|0,i=(i=i+Math.imul(m,Y)|0)+Math.imul(y,X)|0,a=a+Math.imul(y,Y)|0,r=r+Math.imul(p,$)|0,i=(i=i+Math.imul(p,K)|0)+Math.imul(g,$)|0,a=a+Math.imul(g,K)|0;var xe=(u+(r=r+Math.imul(f,J)|0)|0)+((8191&(i=(i=i+Math.imul(f,ee)|0)+Math.imul(d,J)|0))<<13)|0;u=((a=a+Math.imul(d,ee)|0)+(i>>>13)|0)+(xe>>>26)|0,xe&=67108863,r=Math.imul(A,U),i=(i=Math.imul(A,V))+Math.imul(E,U)|0,a=Math.imul(E,V),r=r+Math.imul(k,q)|0,i=(i=i+Math.imul(k,W)|0)+Math.imul(M,q)|0,a=a+Math.imul(M,W)|0,r=r+Math.imul(x,X)|0,i=(i=i+Math.imul(x,Y)|0)+Math.imul(_,X)|0,a=a+Math.imul(_,Y)|0,r=r+Math.imul(m,$)|0,i=(i=i+Math.imul(m,K)|0)+Math.imul(y,$)|0,a=a+Math.imul(y,K)|0,r=r+Math.imul(p,J)|0,i=(i=i+Math.imul(p,ee)|0)+Math.imul(g,J)|0,a=a+Math.imul(g,ee)|0;var _e=(u+(r=r+Math.imul(f,ne)|0)|0)+((8191&(i=(i=i+Math.imul(f,re)|0)+Math.imul(d,ne)|0))<<13)|0;u=((a=a+Math.imul(d,re)|0)+(i>>>13)|0)+(_e>>>26)|0,_e&=67108863,r=Math.imul(O,U),i=(i=Math.imul(O,V))+Math.imul(C,U)|0,a=Math.imul(C,V),r=r+Math.imul(A,q)|0,i=(i=i+Math.imul(A,W)|0)+Math.imul(E,q)|0,a=a+Math.imul(E,W)|0,r=r+Math.imul(k,X)|0,i=(i=i+Math.imul(k,Y)|0)+Math.imul(M,X)|0,a=a+Math.imul(M,Y)|0,r=r+Math.imul(x,$)|0,i=(i=i+Math.imul(x,K)|0)+Math.imul(_,$)|0,a=a+Math.imul(_,K)|0,r=r+Math.imul(m,J)|0,i=(i=i+Math.imul(m,ee)|0)+Math.imul(y,J)|0,a=a+Math.imul(y,ee)|0,r=r+Math.imul(p,ne)|0,i=(i=i+Math.imul(p,re)|0)+Math.imul(g,ne)|0,a=a+Math.imul(g,re)|0;var we=(u+(r=r+Math.imul(f,ae)|0)|0)+((8191&(i=(i=i+Math.imul(f,oe)|0)+Math.imul(d,ae)|0))<<13)|0;u=((a=a+Math.imul(d,oe)|0)+(i>>>13)|0)+(we>>>26)|0,we&=67108863,r=Math.imul(R,U),i=(i=Math.imul(R,V))+Math.imul(P,U)|0,a=Math.imul(P,V),r=r+Math.imul(O,q)|0,i=(i=i+Math.imul(O,W)|0)+Math.imul(C,q)|0,a=a+Math.imul(C,W)|0,r=r+Math.imul(A,X)|0,i=(i=i+Math.imul(A,Y)|0)+Math.imul(E,X)|0,a=a+Math.imul(E,Y)|0,r=r+Math.imul(k,$)|0,i=(i=i+Math.imul(k,K)|0)+Math.imul(M,$)|0,a=a+Math.imul(M,K)|0,r=r+Math.imul(x,J)|0,i=(i=i+Math.imul(x,ee)|0)+Math.imul(_,J)|0,a=a+Math.imul(_,ee)|0,r=r+Math.imul(m,ne)|0,i=(i=i+Math.imul(m,re)|0)+Math.imul(y,ne)|0,a=a+Math.imul(y,re)|0,r=r+Math.imul(p,ae)|0,i=(i=i+Math.imul(p,oe)|0)+Math.imul(g,ae)|0,a=a+Math.imul(g,oe)|0;var ke=(u+(r=r+Math.imul(f,le)|0)|0)+((8191&(i=(i=i+Math.imul(f,ue)|0)+Math.imul(d,le)|0))<<13)|0;u=((a=a+Math.imul(d,ue)|0)+(i>>>13)|0)+(ke>>>26)|0,ke&=67108863,r=Math.imul(z,U),i=(i=Math.imul(z,V))+Math.imul(I,U)|0,a=Math.imul(I,V),r=r+Math.imul(R,q)|0,i=(i=i+Math.imul(R,W)|0)+Math.imul(P,q)|0,a=a+Math.imul(P,W)|0,r=r+Math.imul(O,X)|0,i=(i=i+Math.imul(O,Y)|0)+Math.imul(C,X)|0,a=a+Math.imul(C,Y)|0,r=r+Math.imul(A,$)|0,i=(i=i+Math.imul(A,K)|0)+Math.imul(E,$)|0,a=a+Math.imul(E,K)|0,r=r+Math.imul(k,J)|0,i=(i=i+Math.imul(k,ee)|0)+Math.imul(M,J)|0,a=a+Math.imul(M,ee)|0,r=r+Math.imul(x,ne)|0,i=(i=i+Math.imul(x,re)|0)+Math.imul(_,ne)|0,a=a+Math.imul(_,re)|0,r=r+Math.imul(m,ae)|0,i=(i=i+Math.imul(m,oe)|0)+Math.imul(y,ae)|0,a=a+Math.imul(y,oe)|0,r=r+Math.imul(p,le)|0,i=(i=i+Math.imul(p,ue)|0)+Math.imul(g,le)|0,a=a+Math.imul(g,ue)|0;var Me=(u+(r=r+Math.imul(f,fe)|0)|0)+((8191&(i=(i=i+Math.imul(f,de)|0)+Math.imul(d,fe)|0))<<13)|0;u=((a=a+Math.imul(d,de)|0)+(i>>>13)|0)+(Me>>>26)|0,Me&=67108863,r=Math.imul(D,U),i=(i=Math.imul(D,V))+Math.imul(F,U)|0,a=Math.imul(F,V),r=r+Math.imul(z,q)|0,i=(i=i+Math.imul(z,W)|0)+Math.imul(I,q)|0,a=a+Math.imul(I,W)|0,r=r+Math.imul(R,X)|0,i=(i=i+Math.imul(R,Y)|0)+Math.imul(P,X)|0,a=a+Math.imul(P,Y)|0,r=r+Math.imul(O,$)|0,i=(i=i+Math.imul(O,K)|0)+Math.imul(C,$)|0,a=a+Math.imul(C,K)|0,r=r+Math.imul(A,J)|0,i=(i=i+Math.imul(A,ee)|0)+Math.imul(E,J)|0,a=a+Math.imul(E,ee)|0,r=r+Math.imul(k,ne)|0,i=(i=i+Math.imul(k,re)|0)+Math.imul(M,ne)|0,a=a+Math.imul(M,re)|0,r=r+Math.imul(x,ae)|0,i=(i=i+Math.imul(x,oe)|0)+Math.imul(_,ae)|0,a=a+Math.imul(_,oe)|0,r=r+Math.imul(m,le)|0,i=(i=i+Math.imul(m,ue)|0)+Math.imul(y,le)|0,a=a+Math.imul(y,ue)|0,r=r+Math.imul(p,fe)|0,i=(i=i+Math.imul(p,de)|0)+Math.imul(g,fe)|0,a=a+Math.imul(g,de)|0;var Te=(u+(r=r+Math.imul(f,pe)|0)|0)+((8191&(i=(i=i+Math.imul(f,ge)|0)+Math.imul(d,pe)|0))<<13)|0;u=((a=a+Math.imul(d,ge)|0)+(i>>>13)|0)+(Te>>>26)|0,Te&=67108863,r=Math.imul(D,q),i=(i=Math.imul(D,W))+Math.imul(F,q)|0,a=Math.imul(F,W),r=r+Math.imul(z,X)|0,i=(i=i+Math.imul(z,Y)|0)+Math.imul(I,X)|0,a=a+Math.imul(I,Y)|0,r=r+Math.imul(R,$)|0,i=(i=i+Math.imul(R,K)|0)+Math.imul(P,$)|0,a=a+Math.imul(P,K)|0,r=r+Math.imul(O,J)|0,i=(i=i+Math.imul(O,ee)|0)+Math.imul(C,J)|0,a=a+Math.imul(C,ee)|0,r=r+Math.imul(A,ne)|0,i=(i=i+Math.imul(A,re)|0)+Math.imul(E,ne)|0,a=a+Math.imul(E,re)|0,r=r+Math.imul(k,ae)|0,i=(i=i+Math.imul(k,oe)|0)+Math.imul(M,ae)|0,a=a+Math.imul(M,oe)|0,r=r+Math.imul(x,le)|0,i=(i=i+Math.imul(x,ue)|0)+Math.imul(_,le)|0,a=a+Math.imul(_,ue)|0,r=r+Math.imul(m,fe)|0,i=(i=i+Math.imul(m,de)|0)+Math.imul(y,fe)|0,a=a+Math.imul(y,de)|0;var Ae=(u+(r=r+Math.imul(p,pe)|0)|0)+((8191&(i=(i=i+Math.imul(p,ge)|0)+Math.imul(g,pe)|0))<<13)|0;u=((a=a+Math.imul(g,ge)|0)+(i>>>13)|0)+(Ae>>>26)|0,Ae&=67108863,r=Math.imul(D,X),i=(i=Math.imul(D,Y))+Math.imul(F,X)|0,a=Math.imul(F,Y),r=r+Math.imul(z,$)|0,i=(i=i+Math.imul(z,K)|0)+Math.imul(I,$)|0,a=a+Math.imul(I,K)|0,r=r+Math.imul(R,J)|0,i=(i=i+Math.imul(R,ee)|0)+Math.imul(P,J)|0,a=a+Math.imul(P,ee)|0,r=r+Math.imul(O,ne)|0,i=(i=i+Math.imul(O,re)|0)+Math.imul(C,ne)|0,a=a+Math.imul(C,re)|0,r=r+Math.imul(A,ae)|0,i=(i=i+Math.imul(A,oe)|0)+Math.imul(E,ae)|0,a=a+Math.imul(E,oe)|0,r=r+Math.imul(k,le)|0,i=(i=i+Math.imul(k,ue)|0)+Math.imul(M,le)|0,a=a+Math.imul(M,ue)|0,r=r+Math.imul(x,fe)|0,i=(i=i+Math.imul(x,de)|0)+Math.imul(_,fe)|0,a=a+Math.imul(_,de)|0;var Ee=(u+(r=r+Math.imul(m,pe)|0)|0)+((8191&(i=(i=i+Math.imul(m,ge)|0)+Math.imul(y,pe)|0))<<13)|0;u=((a=a+Math.imul(y,ge)|0)+(i>>>13)|0)+(Ee>>>26)|0,Ee&=67108863,r=Math.imul(D,$),i=(i=Math.imul(D,K))+Math.imul(F,$)|0,a=Math.imul(F,K),r=r+Math.imul(z,J)|0,i=(i=i+Math.imul(z,ee)|0)+Math.imul(I,J)|0,a=a+Math.imul(I,ee)|0,r=r+Math.imul(R,ne)|0,i=(i=i+Math.imul(R,re)|0)+Math.imul(P,ne)|0,a=a+Math.imul(P,re)|0,r=r+Math.imul(O,ae)|0,i=(i=i+Math.imul(O,oe)|0)+Math.imul(C,ae)|0,a=a+Math.imul(C,oe)|0,r=r+Math.imul(A,le)|0,i=(i=i+Math.imul(A,ue)|0)+Math.imul(E,le)|0,a=a+Math.imul(E,ue)|0,r=r+Math.imul(k,fe)|0,i=(i=i+Math.imul(k,de)|0)+Math.imul(M,fe)|0,a=a+Math.imul(M,de)|0;var Se=(u+(r=r+Math.imul(x,pe)|0)|0)+((8191&(i=(i=i+Math.imul(x,ge)|0)+Math.imul(_,pe)|0))<<13)|0;u=((a=a+Math.imul(_,ge)|0)+(i>>>13)|0)+(Se>>>26)|0,Se&=67108863,r=Math.imul(D,J),i=(i=Math.imul(D,ee))+Math.imul(F,J)|0,a=Math.imul(F,ee),r=r+Math.imul(z,ne)|0,i=(i=i+Math.imul(z,re)|0)+Math.imul(I,ne)|0,a=a+Math.imul(I,re)|0,r=r+Math.imul(R,ae)|0,i=(i=i+Math.imul(R,oe)|0)+Math.imul(P,ae)|0,a=a+Math.imul(P,oe)|0,r=r+Math.imul(O,le)|0,i=(i=i+Math.imul(O,ue)|0)+Math.imul(C,le)|0,a=a+Math.imul(C,ue)|0,r=r+Math.imul(A,fe)|0,i=(i=i+Math.imul(A,de)|0)+Math.imul(E,fe)|0,a=a+Math.imul(E,de)|0;var Oe=(u+(r=r+Math.imul(k,pe)|0)|0)+((8191&(i=(i=i+Math.imul(k,ge)|0)+Math.imul(M,pe)|0))<<13)|0;u=((a=a+Math.imul(M,ge)|0)+(i>>>13)|0)+(Oe>>>26)|0,Oe&=67108863,r=Math.imul(D,ne),i=(i=Math.imul(D,re))+Math.imul(F,ne)|0,a=Math.imul(F,re),r=r+Math.imul(z,ae)|0,i=(i=i+Math.imul(z,oe)|0)+Math.imul(I,ae)|0,a=a+Math.imul(I,oe)|0,r=r+Math.imul(R,le)|0,i=(i=i+Math.imul(R,ue)|0)+Math.imul(P,le)|0,a=a+Math.imul(P,ue)|0,r=r+Math.imul(O,fe)|0,i=(i=i+Math.imul(O,de)|0)+Math.imul(C,fe)|0,a=a+Math.imul(C,de)|0;var Ce=(u+(r=r+Math.imul(A,pe)|0)|0)+((8191&(i=(i=i+Math.imul(A,ge)|0)+Math.imul(E,pe)|0))<<13)|0;u=((a=a+Math.imul(E,ge)|0)+(i>>>13)|0)+(Ce>>>26)|0,Ce&=67108863,r=Math.imul(D,ae),i=(i=Math.imul(D,oe))+Math.imul(F,ae)|0,a=Math.imul(F,oe),r=r+Math.imul(z,le)|0,i=(i=i+Math.imul(z,ue)|0)+Math.imul(I,le)|0,a=a+Math.imul(I,ue)|0,r=r+Math.imul(R,fe)|0,i=(i=i+Math.imul(R,de)|0)+Math.imul(P,fe)|0,a=a+Math.imul(P,de)|0;var Le=(u+(r=r+Math.imul(O,pe)|0)|0)+((8191&(i=(i=i+Math.imul(O,ge)|0)+Math.imul(C,pe)|0))<<13)|0;u=((a=a+Math.imul(C,ge)|0)+(i>>>13)|0)+(Le>>>26)|0,Le&=67108863,r=Math.imul(D,le),i=(i=Math.imul(D,ue))+Math.imul(F,le)|0,a=Math.imul(F,ue),r=r+Math.imul(z,fe)|0,i=(i=i+Math.imul(z,de)|0)+Math.imul(I,fe)|0,a=a+Math.imul(I,de)|0;var Re=(u+(r=r+Math.imul(R,pe)|0)|0)+((8191&(i=(i=i+Math.imul(R,ge)|0)+Math.imul(P,pe)|0))<<13)|0;u=((a=a+Math.imul(P,ge)|0)+(i>>>13)|0)+(Re>>>26)|0,Re&=67108863,r=Math.imul(D,fe),i=(i=Math.imul(D,de))+Math.imul(F,fe)|0,a=Math.imul(F,de);var Pe=(u+(r=r+Math.imul(z,pe)|0)|0)+((8191&(i=(i=i+Math.imul(z,ge)|0)+Math.imul(I,pe)|0))<<13)|0;u=((a=a+Math.imul(I,ge)|0)+(i>>>13)|0)+(Pe>>>26)|0,Pe&=67108863;var je=(u+(r=Math.imul(D,pe))|0)+((8191&(i=(i=Math.imul(D,ge))+Math.imul(F,pe)|0))<<13)|0;return u=((a=Math.imul(F,ge))+(i>>>13)|0)+(je>>>26)|0,je&=67108863,l[0]=ve,l[1]=me,l[2]=ye,l[3]=be,l[4]=xe,l[5]=_e,l[6]=we,l[7]=ke,l[8]=Me,l[9]=Te,l[10]=Ae,l[11]=Ee,l[12]=Se,l[13]=Oe,l[14]=Ce,l[15]=Le,l[16]=Re,l[17]=Pe,l[18]=je,0!==u&&(l[19]=u,n.length++),n};function g(e,t,n){n.negative=t.negative^e.negative,n.length=e.length+t.length;for(var r=0,i=0,a=0;a<n.length-1;a++){var o=i;i=0;for(var s=67108863&r,l=Math.min(a,t.length-1),u=Math.max(0,a-e.length+1);u<=l;u++){var c=a-u,f=(0|e.words[c])*(0|t.words[u]),d=67108863&f;s=67108863&(d=d+s|0),i+=(o=(o=o+(f/67108864|0)|0)+(d>>>26)|0)>>>26,o&=67108863}n.words[a]=s,r=o,o=i}return 0!==r?n.words[a]=r:n.length--,n.strip()}function v(e,t,n){return(new m).mulp(e,t,n)}function m(e,t){this.x=e,this.y=t}Math.imul||(p=h),a.prototype.mulTo=function(e,t){var n=this.length+e.length;return 10===this.length&&10===e.length?p(this,e,t):n<63?h(this,e,t):n<1024?g(this,e,t):v(this,e,t)},m.prototype.makeRBT=function(e){for(var t=new Array(e),n=a.prototype._countBits(e)-1,r=0;r<e;r++)t[r]=this.revBin(r,n,e);return t},m.prototype.revBin=function(e,t,n){if(0===e||e===n-1)return e;for(var r=0,i=0;i<t;i++)r|=(1&e)<<t-i-1,e>>=1;return r},m.prototype.permute=function(e,t,n,r,i,a){for(var o=0;o<a;o++)r[o]=t[e[o]],i[o]=n[e[o]]},m.prototype.transform=function(e,t,n,r,i,a){this.permute(a,e,t,n,r,i);for(var o=1;o<i;o<<=1)for(var s=o<<1,l=Math.cos(2*Math.PI/s),u=Math.sin(2*Math.PI/s),c=0;c<i;c+=s)for(var f=l,d=u,h=0;h<o;h++){var p=n[c+h],g=r[c+h],v=n[c+h+o],m=r[c+h+o],y=f*v-d*m;m=f*m+d*v,v=y,n[c+h]=p+v,r[c+h]=g+m,n[c+h+o]=p-v,r[c+h+o]=g-m,h!==s&&(y=l*f-u*d,d=l*d+u*f,f=y)}},m.prototype.guessLen13b=function(e,t){var n=1|Math.max(t,e),r=1&n,i=0;for(n=n/2|0;n;n>>>=1)i++;return 1<<i+1+r},m.prototype.conjugate=function(e,t,n){if(!(n<=1))for(var r=0;r<n/2;r++){var i=e[r];e[r]=e[n-r-1],e[n-r-1]=i,i=t[r],t[r]=-t[n-r-1],t[n-r-1]=-i}},m.prototype.normalize13b=function(e,t){for(var n=0,r=0;r<t/2;r++){var i=8192*Math.round(e[2*r+1]/t)+Math.round(e[2*r]/t)+n;e[r]=67108863&i,n=i<67108864?0:i/67108864|0}return e},m.prototype.convert13b=function(e,t,n,i){for(var a=0,o=0;o<t;o++)a+=0|e[o],n[2*o]=8191&a,a>>>=13,n[2*o+1]=8191&a,a>>>=13;for(o=2*t;o<i;++o)n[o]=0;r(0===a),r(0===(-8192&a))},m.prototype.stub=function(e){for(var t=new Array(e),n=0;n<e;n++)t[n]=0;return t},m.prototype.mulp=function(e,t,n){var r=2*this.guessLen13b(e.length,t.length),i=this.makeRBT(r),a=this.stub(r),o=new Array(r),s=new Array(r),l=new Array(r),u=new Array(r),c=new Array(r),f=new Array(r),d=n.words;d.length=r,this.convert13b(e.words,e.length,o,r),this.convert13b(t.words,t.length,u,r),this.transform(o,a,s,l,r,i),this.transform(u,a,c,f,r,i);for(var h=0;h<r;h++){var p=s[h]*c[h]-l[h]*f[h];l[h]=s[h]*f[h]+l[h]*c[h],s[h]=p}return this.conjugate(s,l,r),this.transform(s,l,d,a,r,i),this.conjugate(d,a,r),this.normalize13b(d,r),n.negative=e.negative^t.negative,n.length=e.length+t.length,n.strip()},a.prototype.mul=function(e){var t=new a(null);return t.words=new Array(this.length+e.length),this.mulTo(e,t)},a.prototype.mulf=function(e){var t=new a(null);return t.words=new Array(this.length+e.length),v(this,e,t)},a.prototype.imul=function(e){return this.clone().mulTo(e,this)},a.prototype.imuln=function(e){r("number"===typeof e),r(e<67108864);for(var t=0,n=0;n<this.length;n++){var i=(0|this.words[n])*e,a=(67108863&i)+(67108863&t);t>>=26,t+=i/67108864|0,t+=a>>>26,this.words[n]=67108863&a}return 0!==t&&(this.words[n]=t,this.length++),this},a.prototype.muln=function(e){return this.clone().imuln(e)},a.prototype.sqr=function(){return this.mul(this)},a.prototype.isqr=function(){return this.imul(this.clone())},a.prototype.pow=function(e){var t=d(e);if(0===t.length)return new a(1);for(var n=this,r=0;r<t.length&&0===t[r];r++,n=n.sqr());if(++r<t.length)for(var i=n.sqr();r<t.length;r++,i=i.sqr())0!==t[r]&&(n=n.mul(i));return n},a.prototype.iushln=function(e){r("number"===typeof e&&e>=0);var t,n=e%26,i=(e-n)/26,a=67108863>>>26-n<<26-n;if(0!==n){var o=0;for(t=0;t<this.length;t++){var s=this.words[t]&a,l=(0|this.words[t])-s<<n;this.words[t]=l|o,o=s>>>26-n}o&&(this.words[t]=o,this.length++)}if(0!==i){for(t=this.length-1;t>=0;t--)this.words[t+i]=this.words[t];for(t=0;t<i;t++)this.words[t]=0;this.length+=i}return this.strip()},a.prototype.ishln=function(e){return r(0===this.negative),this.iushln(e)},a.prototype.iushrn=function(e,t,n){var i;r("number"===typeof e&&e>=0),i=t?(t-t%26)/26:0;var a=e%26,o=Math.min((e-a)/26,this.length),s=67108863^67108863>>>a<<a,l=n;if(i-=o,i=Math.max(0,i),l){for(var u=0;u<o;u++)l.words[u]=this.words[u];l.length=o}if(0===o);else if(this.length>o)for(this.length-=o,u=0;u<this.length;u++)this.words[u]=this.words[u+o];else this.words[0]=0,this.length=1;var c=0;for(u=this.length-1;u>=0&&(0!==c||u>=i);u--){var f=0|this.words[u];this.words[u]=c<<26-a|f>>>a,c=f&s}return l&&0!==c&&(l.words[l.length++]=c),0===this.length&&(this.words[0]=0,this.length=1),this.strip()},a.prototype.ishrn=function(e,t,n){return r(0===this.negative),this.iushrn(e,t,n)},a.prototype.shln=function(e){return this.clone().ishln(e)},a.prototype.ushln=function(e){return this.clone().iushln(e)},a.prototype.shrn=function(e){return this.clone().ishrn(e)},a.prototype.ushrn=function(e){return this.clone().iushrn(e)},a.prototype.testn=function(e){r("number"===typeof e&&e>=0);var t=e%26,n=(e-t)/26,i=1<<t;return!(this.length<=n)&&!!(this.words[n]&i)},a.prototype.imaskn=function(e){r("number"===typeof e&&e>=0);var t=e%26,n=(e-t)/26;if(r(0===this.negative,"imaskn works only with positive numbers"),this.length<=n)return this;if(0!==t&&n++,this.length=Math.min(n,this.length),0!==t){var i=67108863^67108863>>>t<<t;this.words[this.length-1]&=i}return this.strip()},a.prototype.maskn=function(e){return this.clone().imaskn(e)},a.prototype.iaddn=function(e){return r("number"===typeof e),r(e<67108864),e<0?this.isubn(-e):0!==this.negative?1===this.length&&(0|this.words[0])<e?(this.words[0]=e-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(e),this.negative=1,this):this._iaddn(e)},a.prototype._iaddn=function(e){this.words[0]+=e;for(var t=0;t<this.length&&this.words[t]>=67108864;t++)this.words[t]-=67108864,t===this.length-1?this.words[t+1]=1:this.words[t+1]++;return this.length=Math.max(this.length,t+1),this},a.prototype.isubn=function(e){if(r("number"===typeof e),r(e<67108864),e<0)return this.iaddn(-e);if(0!==this.negative)return this.negative=0,this.iaddn(e),this.negative=1,this;if(this.words[0]-=e,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var t=0;t<this.length&&this.words[t]<0;t++)this.words[t]+=67108864,this.words[t+1]-=1;return this.strip()},a.prototype.addn=function(e){return this.clone().iaddn(e)},a.prototype.subn=function(e){return this.clone().isubn(e)},a.prototype.iabs=function(){return this.negative=0,this},a.prototype.abs=function(){return this.clone().iabs()},a.prototype._ishlnsubmul=function(e,t,n){var i,a,o=e.length+n;this._expand(o);var s=0;for(i=0;i<e.length;i++){a=(0|this.words[i+n])+s;var l=(0|e.words[i])*t;s=((a-=67108863&l)>>26)-(l/67108864|0),this.words[i+n]=67108863&a}for(;i<this.length-n;i++)s=(a=(0|this.words[i+n])+s)>>26,this.words[i+n]=67108863&a;if(0===s)return this.strip();for(r(-1===s),s=0,i=0;i<this.length;i++)s=(a=-(0|this.words[i])+s)>>26,this.words[i]=67108863&a;return this.negative=1,this.strip()},a.prototype._wordDiv=function(e,t){var n=this.length-e.length,r=this.clone(),i=e,o=0|i.words[i.length-1];0!==(n=26-this._countBits(o))&&(i=i.ushln(n),r.iushln(n),o=0|i.words[i.length-1]);var s,l=r.length-i.length;if("mod"!==t){(s=new a(null)).length=l+1,s.words=new Array(s.length);for(var u=0;u<s.length;u++)s.words[u]=0}var c=r.clone()._ishlnsubmul(i,1,l);0===c.negative&&(r=c,s&&(s.words[l]=1));for(var f=l-1;f>=0;f--){var d=67108864*(0|r.words[i.length+f])+(0|r.words[i.length+f-1]);for(d=Math.min(d/o|0,67108863),r._ishlnsubmul(i,d,f);0!==r.negative;)d--,r.negative=0,r._ishlnsubmul(i,1,f),r.isZero()||(r.negative^=1);s&&(s.words[f]=d)}return s&&s.strip(),r.strip(),"div"!==t&&0!==n&&r.iushrn(n),{div:s||null,mod:r}},a.prototype.divmod=function(e,t,n){return r(!e.isZero()),this.isZero()?{div:new a(0),mod:new a(0)}:0!==this.negative&&0===e.negative?(s=this.neg().divmod(e,t),"mod"!==t&&(i=s.div.neg()),"div"!==t&&(o=s.mod.neg(),n&&0!==o.negative&&o.iadd(e)),{div:i,mod:o}):0===this.negative&&0!==e.negative?(s=this.divmod(e.neg(),t),"mod"!==t&&(i=s.div.neg()),{div:i,mod:s.mod}):0!==(this.negative&e.negative)?(s=this.neg().divmod(e.neg(),t),"div"!==t&&(o=s.mod.neg(),n&&0!==o.negative&&o.isub(e)),{div:s.div,mod:o}):e.length>this.length||this.cmp(e)<0?{div:new a(0),mod:this}:1===e.length?"div"===t?{div:this.divn(e.words[0]),mod:null}:"mod"===t?{div:null,mod:new a(this.modn(e.words[0]))}:{div:this.divn(e.words[0]),mod:new a(this.modn(e.words[0]))}:this._wordDiv(e,t);var i,o,s},a.prototype.div=function(e){return this.divmod(e,"div",!1).div},a.prototype.mod=function(e){return this.divmod(e,"mod",!1).mod},a.prototype.umod=function(e){return this.divmod(e,"mod",!0).mod},a.prototype.divRound=function(e){var t=this.divmod(e);if(t.mod.isZero())return t.div;var n=0!==t.div.negative?t.mod.isub(e):t.mod,r=e.ushrn(1),i=e.andln(1),a=n.cmp(r);return a<0||1===i&&0===a?t.div:0!==t.div.negative?t.div.isubn(1):t.div.iaddn(1)},a.prototype.modn=function(e){r(e<=67108863);for(var t=(1<<26)%e,n=0,i=this.length-1;i>=0;i--)n=(t*n+(0|this.words[i]))%e;return n},a.prototype.idivn=function(e){r(e<=67108863);for(var t=0,n=this.length-1;n>=0;n--){var i=(0|this.words[n])+67108864*t;this.words[n]=i/e|0,t=i%e}return this.strip()},a.prototype.divn=function(e){return this.clone().idivn(e)},a.prototype.egcd=function(e){r(0===e.negative),r(!e.isZero());var t=this,n=e.clone();t=0!==t.negative?t.umod(e):t.clone();for(var i=new a(1),o=new a(0),s=new a(0),l=new a(1),u=0;t.isEven()&&n.isEven();)t.iushrn(1),n.iushrn(1),++u;for(var c=n.clone(),f=t.clone();!t.isZero();){for(var d=0,h=1;0===(t.words[0]&h)&&d<26;++d,h<<=1);if(d>0)for(t.iushrn(d);d-- >0;)(i.isOdd()||o.isOdd())&&(i.iadd(c),o.isub(f)),i.iushrn(1),o.iushrn(1);for(var p=0,g=1;0===(n.words[0]&g)&&p<26;++p,g<<=1);if(p>0)for(n.iushrn(p);p-- >0;)(s.isOdd()||l.isOdd())&&(s.iadd(c),l.isub(f)),s.iushrn(1),l.iushrn(1);t.cmp(n)>=0?(t.isub(n),i.isub(s),o.isub(l)):(n.isub(t),s.isub(i),l.isub(o))}return{a:s,b:l,gcd:n.iushln(u)}},a.prototype._invmp=function(e){r(0===e.negative),r(!e.isZero());var t=this,n=e.clone();t=0!==t.negative?t.umod(e):t.clone();for(var i,o=new a(1),s=new a(0),l=n.clone();t.cmpn(1)>0&&n.cmpn(1)>0;){for(var u=0,c=1;0===(t.words[0]&c)&&u<26;++u,c<<=1);if(u>0)for(t.iushrn(u);u-- >0;)o.isOdd()&&o.iadd(l),o.iushrn(1);for(var f=0,d=1;0===(n.words[0]&d)&&f<26;++f,d<<=1);if(f>0)for(n.iushrn(f);f-- >0;)s.isOdd()&&s.iadd(l),s.iushrn(1);t.cmp(n)>=0?(t.isub(n),o.isub(s)):(n.isub(t),s.isub(o))}return(i=0===t.cmpn(1)?o:s).cmpn(0)<0&&i.iadd(e),i},a.prototype.gcd=function(e){if(this.isZero())return e.abs();if(e.isZero())return this.abs();var t=this.clone(),n=e.clone();t.negative=0,n.negative=0;for(var r=0;t.isEven()&&n.isEven();r++)t.iushrn(1),n.iushrn(1);for(;;){for(;t.isEven();)t.iushrn(1);for(;n.isEven();)n.iushrn(1);var i=t.cmp(n);if(i<0){var a=t;t=n,n=a}else if(0===i||0===n.cmpn(1))break;t.isub(n)}return n.iushln(r)},a.prototype.invm=function(e){return this.egcd(e).a.umod(e)},a.prototype.isEven=function(){return 0===(1&this.words[0])},a.prototype.isOdd=function(){return 1===(1&this.words[0])},a.prototype.andln=function(e){return this.words[0]&e},a.prototype.bincn=function(e){r("number"===typeof e);var t=e%26,n=(e-t)/26,i=1<<t;if(this.length<=n)return this._expand(n+1),this.words[n]|=i,this;for(var a=i,o=n;0!==a&&o<this.length;o++){var s=0|this.words[o];a=(s+=a)>>>26,s&=67108863,this.words[o]=s}return 0!==a&&(this.words[o]=a,this.length++),this},a.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},a.prototype.cmpn=function(e){var t,n=e<0;if(0!==this.negative&&!n)return-1;if(0===this.negative&&n)return 1;if(this.strip(),this.length>1)t=1;else{n&&(e=-e),r(e<=67108863,"Number is too big");var i=0|this.words[0];t=i===e?0:i<e?-1:1}return 0!==this.negative?0|-t:t},a.prototype.cmp=function(e){if(0!==this.negative&&0===e.negative)return-1;if(0===this.negative&&0!==e.negative)return 1;var t=this.ucmp(e);return 0!==this.negative?0|-t:t},a.prototype.ucmp=function(e){if(this.length>e.length)return 1;if(this.length<e.length)return-1;for(var t=0,n=this.length-1;n>=0;n--){var r=0|this.words[n],i=0|e.words[n];if(r!==i){r<i?t=-1:r>i&&(t=1);break}}return t},a.prototype.gtn=function(e){return 1===this.cmpn(e)},a.prototype.gt=function(e){return 1===this.cmp(e)},a.prototype.gten=function(e){return this.cmpn(e)>=0},a.prototype.gte=function(e){return this.cmp(e)>=0},a.prototype.ltn=function(e){return-1===this.cmpn(e)},a.prototype.lt=function(e){return-1===this.cmp(e)},a.prototype.lten=function(e){return this.cmpn(e)<=0},a.prototype.lte=function(e){return this.cmp(e)<=0},a.prototype.eqn=function(e){return 0===this.cmpn(e)},a.prototype.eq=function(e){return 0===this.cmp(e)},a.red=function(e){return new M(e)},a.prototype.toRed=function(e){return r(!this.red,"Already a number in reduction context"),r(0===this.negative,"red works only with positives"),e.convertTo(this)._forceRed(e)},a.prototype.fromRed=function(){return r(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},a.prototype._forceRed=function(e){return this.red=e,this},a.prototype.forceRed=function(e){return r(!this.red,"Already a number in reduction context"),this._forceRed(e)},a.prototype.redAdd=function(e){return r(this.red,"redAdd works only with red numbers"),this.red.add(this,e)},a.prototype.redIAdd=function(e){return r(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,e)},a.prototype.redSub=function(e){return r(this.red,"redSub works only with red numbers"),this.red.sub(this,e)},a.prototype.redISub=function(e){return r(this.red,"redISub works only with red numbers"),this.red.isub(this,e)},a.prototype.redShl=function(e){return r(this.red,"redShl works only with red numbers"),this.red.shl(this,e)},a.prototype.redMul=function(e){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.mul(this,e)},a.prototype.redIMul=function(e){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.imul(this,e)},a.prototype.redSqr=function(){return r(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},a.prototype.redISqr=function(){return r(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},a.prototype.redSqrt=function(){return r(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},a.prototype.redInvm=function(){return r(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},a.prototype.redNeg=function(){return r(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},a.prototype.redPow=function(e){return r(this.red&&!e.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,e)};var y={k256:null,p224:null,p192:null,p25519:null};function b(e,t){this.name=e,this.p=new a(t,16),this.n=this.p.bitLength(),this.k=new a(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function x(){b.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function _(){b.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function w(){b.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function k(){b.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function M(e){if("string"===typeof e){var t=a._prime(e);this.m=t.p,this.prime=t}else r(e.gtn(1),"modulus must be greater than 1"),this.m=e,this.prime=null}function T(e){M.call(this,e),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new a(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}b.prototype._tmp=function(){var e=new a(null);return e.words=new Array(Math.ceil(this.n/13)),e},b.prototype.ireduce=function(e){var t,n=e;do{this.split(n,this.tmp),t=(n=(n=this.imulK(n)).iadd(this.tmp)).bitLength()}while(t>this.n);var r=t<this.n?-1:n.ucmp(this.p);return 0===r?(n.words[0]=0,n.length=1):r>0?n.isub(this.p):n.strip(),n},b.prototype.split=function(e,t){e.iushrn(this.n,0,t)},b.prototype.imulK=function(e){return e.imul(this.k)},i(x,b),x.prototype.split=function(e,t){for(var n=4194303,r=Math.min(e.length,9),i=0;i<r;i++)t.words[i]=e.words[i];if(t.length=r,e.length<=9)return e.words[0]=0,void(e.length=1);var a=e.words[9];for(t.words[t.length++]=a&n,i=10;i<e.length;i++){var o=0|e.words[i];e.words[i-10]=(o&n)<<4|a>>>22,a=o}a>>>=22,e.words[i-10]=a,0===a&&e.length>10?e.length-=10:e.length-=9},x.prototype.imulK=function(e){e.words[e.length]=0,e.words[e.length+1]=0,e.length+=2;for(var t=0,n=0;n<e.length;n++){var r=0|e.words[n];t+=977*r,e.words[n]=67108863&t,t=64*r+(t/67108864|0)}return 0===e.words[e.length-1]&&(e.length--,0===e.words[e.length-1]&&e.length--),e},i(_,b),i(w,b),i(k,b),k.prototype.imulK=function(e){for(var t=0,n=0;n<e.length;n++){var r=19*(0|e.words[n])+t,i=67108863&r;r>>>=26,e.words[n]=i,t=r}return 0!==t&&(e.words[e.length++]=t),e},a._prime=function(e){if(y[e])return y[e];var t;if("k256"===e)t=new x;else if("p224"===e)t=new _;else if("p192"===e)t=new w;else{if("p25519"!==e)throw new Error("Unknown prime "+e);t=new k}return y[e]=t,t},M.prototype._verify1=function(e){r(0===e.negative,"red works only with positives"),r(e.red,"red works only with red numbers")},M.prototype._verify2=function(e,t){r(0===(e.negative|t.negative),"red works only with positives"),r(e.red&&e.red===t.red,"red works only with red numbers")},M.prototype.imod=function(e){return this.prime?this.prime.ireduce(e)._forceRed(this):e.umod(this.m)._forceRed(this)},M.prototype.neg=function(e){return e.isZero()?e.clone():this.m.sub(e)._forceRed(this)},M.prototype.add=function(e,t){this._verify2(e,t);var n=e.add(t);return n.cmp(this.m)>=0&&n.isub(this.m),n._forceRed(this)},M.prototype.iadd=function(e,t){this._verify2(e,t);var n=e.iadd(t);return n.cmp(this.m)>=0&&n.isub(this.m),n},M.prototype.sub=function(e,t){this._verify2(e,t);var n=e.sub(t);return n.cmpn(0)<0&&n.iadd(this.m),n._forceRed(this)},M.prototype.isub=function(e,t){this._verify2(e,t);var n=e.isub(t);return n.cmpn(0)<0&&n.iadd(this.m),n},M.prototype.shl=function(e,t){return this._verify1(e),this.imod(e.ushln(t))},M.prototype.imul=function(e,t){return this._verify2(e,t),this.imod(e.imul(t))},M.prototype.mul=function(e,t){return this._verify2(e,t),this.imod(e.mul(t))},M.prototype.isqr=function(e){return this.imul(e,e.clone())},M.prototype.sqr=function(e){return this.mul(e,e)},M.prototype.sqrt=function(e){if(e.isZero())return e.clone();var t=this.m.andln(3);if(r(t%2===1),3===t){var n=this.m.add(new a(1)).iushrn(2);return this.pow(e,n)}for(var i=this.m.subn(1),o=0;!i.isZero()&&0===i.andln(1);)o++,i.iushrn(1);r(!i.isZero());var s=new a(1).toRed(this),l=s.redNeg(),u=this.m.subn(1).iushrn(1),c=this.m.bitLength();for(c=new a(2*c*c).toRed(this);0!==this.pow(c,u).cmp(l);)c.redIAdd(l);for(var f=this.pow(c,i),d=this.pow(e,i.addn(1).iushrn(1)),h=this.pow(e,i),p=o;0!==h.cmp(s);){for(var g=h,v=0;0!==g.cmp(s);v++)g=g.redSqr();r(v<p);var m=this.pow(f,new a(1).iushln(p-v-1));d=d.redMul(m),f=m.redSqr(),h=h.redMul(f),p=v}return d},M.prototype.invm=function(e){var t=e._invmp(this.m);return 0!==t.negative?(t.negative=0,this.imod(t).redNeg()):this.imod(t)},M.prototype.pow=function(e,t){if(t.isZero())return new a(1).toRed(this);if(0===t.cmpn(1))return e.clone();var n=4,r=new Array(1<<n);r[0]=new a(1).toRed(this),r[1]=e;for(var i=2;i<r.length;i++)r[i]=this.mul(r[i-1],e);var o=r[0],s=0,l=0,u=t.bitLength()%26;for(0===u&&(u=26),i=t.length-1;i>=0;i--){for(var c=t.words[i],f=u-1;f>=0;f--){var d=c>>f&1;o!==r[0]&&(o=this.sqr(o)),0!==d||0!==s?(s<<=1,s|=d,(++l===n||0===i&&0===f)&&(o=this.mul(o,r[s]),l=0,s=0)):l=0}u=26}return o},M.prototype.convertTo=function(e){var t=e.umod(this.m);return t===e?t.clone():t},M.prototype.convertFrom=function(e){var t=e.clone();return t.red=null,t},a.mont=function(e){return new T(e)},i(T,M),T.prototype.convertTo=function(e){return this.imod(e.ushln(this.shift))},T.prototype.convertFrom=function(e){var t=this.imod(e.mul(this.rinv));return t.red=null,t},T.prototype.imul=function(e,t){if(e.isZero()||t.isZero())return e.words[0]=0,e.length=1,e;var n=e.imul(t),r=n.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=n.isub(r).iushrn(this.shift),a=i;return i.cmp(this.m)>=0?a=i.isub(this.m):i.cmpn(0)<0&&(a=i.iadd(this.m)),a._forceRed(this)},T.prototype.mul=function(e,t){if(e.isZero()||t.isZero())return new a(0)._forceRed(this);var n=e.mul(t),r=n.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=n.isub(r).iushrn(this.shift),o=i;return i.cmp(this.m)>=0?o=i.isub(this.m):i.cmpn(0)<0&&(o=i.iadd(this.m)),o._forceRed(this)},T.prototype.invm=function(e){return this.imod(e._invmp(this.m).mul(this.r2))._forceRed(this)}}("undefined"===typeof t||t,this)},{buffer:47}],39:[function(e,t,n){"use strict";function r(e){var t,n,r,i=e.length,a=0;for(t=0;t<i;++t)a+=e[t].length;var o=new Array(a),s=0;for(t=0;t<i;++t){var l=e[t],u=l.length;for(n=0;n<u;++n){var c=o[s++]=new Array(u-1),f=0;for(r=0;r<u;++r)r!==n&&(c[f++]=l[r]);if(1&n){var d=c[1];c[1]=c[0],c[0]=d}}}return o}t.exports=r},{}],40:[function(e,t,n){"use strict";t.exports=h;var r,i=e("typedarray-pool"),a=e("./lib/sweep"),o=e("./lib/intersect");function s(e,t){for(var n=0;n<e;++n)if(!(t[n]<=t[n+e]))return!0;return!1}function l(e,t,n,r){for(var i=0,a=0,o=0,l=e.length;o<l;++o){var u=e[o];if(!s(t,u)){for(var c=0;c<2*t;++c)n[i++]=u[c];r[a++]=o}}return a}function u(e,t,n,r){var s=e.length,u=t.length;if(!(s<=0||u<=0)){var c=e[0].length>>>1;if(!(c<=0)){var f,d=i.mallocDouble(2*c*s),h=i.mallocInt32(s);if((s=l(e,c,d,h))>0){if(1===c&&r)a.init(s),f=a.sweepComplete(c,n,0,s,d,h,0,s,d,h);else{var p=i.mallocDouble(2*c*u),g=i.mallocInt32(u);(u=l(t,c,p,g))>0&&(a.init(s+u),f=1===c?a.sweepBipartite(c,n,0,s,d,h,0,u,p,g):o(c,n,r,s,d,h,u,p,g),i.free(p),i.free(g))}i.free(d),i.free(h)}return f}}}function c(e,t){r.push([e,t])}function f(e){return r=[],u(e,e,c,!0),r}function d(e,t){return r=[],u(e,t,c,!1),r}function h(e,t,n){switch(arguments.length){case 1:return f(e);case 2:return"function"===typeof t?u(e,e,t,!0):d(e,t);case 3:return u(e,t,n,!1);default:throw new Error("box-intersect: Invalid arguments")}}},{"./lib/intersect":42,"./lib/sweep":46,"typedarray-pool":366}],41:[function(e,t,n){"use strict";var r="d",i="ax",a="vv",o="fp",s="es",l="rs",u="re",c="rb",f="ri",d="rp",h="bs",p="be",g="bb",v="bi",m="bp",y="rv",b="Q",x=[r,i,a,l,u,c,f,h,p,g,v];function _(e,t,n){var o="bruteForce"+(e?"Red":"Blue")+(t?"Flip":"")+(n?"Full":""),_=["function ",o,"(",x.join(),"){","var ",s,"=2*",r,";"],w="for(var i="+l+","+d+"="+s+"*"+l+";i<"+u+";++i,"+d+"+="+s+"){var x0="+c+"["+i+"+"+d+"],x1="+c+"["+i+"+"+d+"+"+r+"],xi="+f+"[i];",k="for(var j="+h+","+m+"="+s+"*"+h+";j<"+p+";++j,"+m+"+="+s+"){var y0="+g+"["+i+"+"+m+"],"+(n?"y1="+g+"["+i+"+"+m+"+"+r+"],":"")+"yi="+v+"[j];";return e?_.push(w,b,":",k):_.push(k,b,":",w),n?_.push("if(y1<x0||x1<y0)continue;"):t?_.push("if(y0<=x0||x1<y0)continue;"):_.push("if(y0<x0||x1<y0)continue;"),_.push("for(var k="+i+"+1;k<"+r+";++k){var r0="+c+"[k+"+d+"],r1="+c+"[k+"+r+"+"+d+"],b0="+g+"[k+"+m+"],b1="+g+"[k+"+r+"+"+m+"];if(r1<b0||b1<r0)continue "+b+";}var "+y+"="+a+"("),t?_.push("yi,xi"):_.push("xi,yi"),_.push(");if("+y+"!==void 0)return "+y+";}}}"),{name:o,code:_.join("")}}function w(e){var t="bruteForce"+(e?"Full":"Partial"),n=[],r=x.slice();e||r.splice(3,0,o);var i=["function "+t+"("+r.join()+"){"];function a(t,r){var a=_(t,r,e);n.push(a.code),i.push("return "+a.name+"("+x.join()+");")}i.push("if("+u+"-"+l+">"+p+"-"+h+"){"),e?(a(!0,!1),i.push("}else{"),a(!1,!1)):(i.push("if("+o+"){"),a(!0,!0),i.push("}else{"),a(!0,!1),i.push("}}else{if("+o+"){"),a(!1,!0),i.push("}else{"),a(!1,!1),i.push("}")),i.push("}}return "+t);var s=n.join("")+i.join("");return new Function(s)()}n.partial=w(!1),n.full=w(!0)},{}],42:[function(e,t,n){"use strict";t.exports=O;var r=e("typedarray-pool"),i=e("bit-twiddle"),a=e("./brute"),o=a.partial,s=a.full,l=e("./sweep"),u=e("./median"),c=e("./partition"),f=128,d=1<<22,h=1<<22,p=c("!(lo>=p0)&&!(p1>=hi)",["p0","p1"]),g=c("lo===p0",["p0"]),v=c("lo<p0",["p0"]),m=c("hi<=p0",["p0"]),y=c("lo<=p0&&p0<=hi",["p0"]),b=c("lo<p0&&p0<=hi",["p0"]),x=6,_=2,w=1024,k=r.mallocInt32(w),M=r.mallocDouble(w);function T(e,t){var n=8*i.log2(t+1)*(e+1)|0,a=i.nextPow2(x*n);k.length<a&&(r.free(k),k=r.mallocInt32(a));var o=i.nextPow2(_*n);M.length<o&&(r.free(M),M=r.mallocDouble(o))}function A(e,t,n,r,i,a,o,s,l){var u=x*e;k[u]=t,k[u+1]=n,k[u+2]=r,k[u+3]=i,k[u+4]=a,k[u+5]=o;var c=_*e;M[c]=s,M[c+1]=l}function E(e,t,n,r,i,a,o,s,l,u,c){var f=2*e,d=l*f,h=u[d+t];e:for(var p=i,g=i*f;p<a;++p,g+=f){var v=o[g+t],m=o[g+t+e];if(!(h<v||m<h)&&(!r||h!==v)){for(var y,b=s[p],x=t+1;x<e;++x){v=o[g+x],m=o[g+x+e];var _=u[d+x],w=u[d+x+e];if(m<_||w<v)continue e}if(void 0!==(y=r?n(c,b):n(b,c)))return y}}}function S(e,t,n,r,i,a,o,s,l,u){var c=2*e,f=s*c,d=l[f+t];e:for(var h=r,p=r*c;h<i;++h,p+=c){var g=o[h];if(g!==u){var v=a[p+t],m=a[p+t+e];if(!(d<v||m<d)){for(var y=t+1;y<e;++y){v=a[p+y],m=a[p+y+e];var b=l[f+y],x=l[f+y+e];if(m<b||x<v)continue e}var _=n(g,u);if(void 0!==_)return _}}}}function O(e,t,n,r,i,a,c,w,O){T(e,r+c);var C,L=0,R=2*e;for(A(L++,0,0,r,0,c,n?16:0,-1/0,1/0),n||A(L++,0,0,c,0,r,1,-1/0,1/0);L>0;){var P=(L-=1)*x,j=k[P],z=k[P+1],I=k[P+2],N=k[P+3],D=k[P+4],F=k[P+5],B=L*_,U=M[B],V=M[B+1],H=1&F,q=!!(16&F),W=i,G=a,X=w,Y=O;if(H&&(W=w,G=O,X=i,Y=a),!(2&F&&z>=(I=v(e,j,z,I,W,G,V)))&&!(4&F&&(z=m(e,j,z,I,W,G,U))>=I)){var Z=I-z,$=D-N;if(q){if(e*Z*(Z+$)<h){if(void 0!==(C=l.scanComplete(e,j,t,z,I,W,G,N,D,X,Y)))return C;continue}}else{if(e*Math.min(Z,$)<f){if(void 0!==(C=o(e,j,t,H,z,I,W,G,N,D,X,Y)))return C;continue}if(e*Z*$<d){if(void 0!==(C=l.scanBipartite(e,j,t,H,z,I,W,G,N,D,X,Y)))return C;continue}}var K=p(e,j,z,I,W,G,U,V);if(z<K)if(e*(K-z)<f){if(void 0!==(C=s(e,j+1,t,z,K,W,G,N,D,X,Y)))return C}else if(j===e-2){if(void 0!==(C=H?l.sweepBipartite(e,t,N,D,X,Y,z,K,W,G):l.sweepBipartite(e,t,z,K,W,G,N,D,X,Y)))return C}else A(L++,j+1,z,K,N,D,H,-1/0,1/0),A(L++,j+1,N,D,z,K,1^H,-1/0,1/0);if(K<I){var Q=u(e,j,N,D,X,Y),J=X[R*Q+j],ee=g(e,j,Q,D,X,Y,J);if(ee<D&&A(L++,j,K,I,ee,D,(4|H)+(q?16:0),J,V),N<Q&&A(L++,j,K,I,N,Q,(2|H)+(q?16:0),U,J),Q+1===ee){if(void 0!==(C=q?S(e,j,t,K,I,W,G,Q,X,Y[Q]):E(e,j,t,H,K,I,W,G,Q,X,Y[Q])))return C}else if(Q<ee){var te;if(q){if(K<(te=y(e,j,K,I,W,G,J))){var ne=g(e,j,K,te,W,G,J);if(j===e-2){if(K<ne&&void 0!==(C=l.sweepComplete(e,t,K,ne,W,G,Q,ee,X,Y)))return C;if(ne<te&&void 0!==(C=l.sweepBipartite(e,t,ne,te,W,G,Q,ee,X,Y)))return C}else K<ne&&A(L++,j+1,K,ne,Q,ee,16,-1/0,1/0),ne<te&&(A(L++,j+1,ne,te,Q,ee,0,-1/0,1/0),A(L++,j+1,Q,ee,ne,te,1,-1/0,1/0))}}else K<(te=H?b(e,j,K,I,W,G,J):y(e,j,K,I,W,G,J))&&(j===e-2?C=H?l.sweepBipartite(e,t,Q,ee,X,Y,K,te,W,G):l.sweepBipartite(e,t,K,te,W,G,Q,ee,X,Y):(A(L++,j+1,K,te,Q,ee,H,-1/0,1/0),A(L++,j+1,Q,ee,K,te,1^H,-1/0,1/0)))}}}}}},{"./brute":41,"./median":43,"./partition":44,"./sweep":46,"bit-twiddle":37,"typedarray-pool":366}],43:[function(e,t,n){"use strict";t.exports=o;var r=e("./partition")("lo<p0",["p0"]),i=8;function a(e,t,n,r,i,a){for(var o=2*e,s=o*(n+1)+t,l=n+1;l<r;++l,s+=o)for(var u=i[s],c=l,f=o*(l-1);c>n&&i[f+t]>u;--c,f-=o){for(var d=f,h=f+o,p=0;p<o;++p,++d,++h){var g=i[d];i[d]=i[h],i[h]=g}var v=a[c];a[c]=a[c-1],a[c-1]=v}}function o(e,t,n,o,s,l){if(o<=n+1)return n;for(var u=n,c=o,f=o+n>>>1,d=2*e,h=f,p=s[d*f+t];u<c;){if(c-u<i){a(e,t,u,c,s,l),p=s[d*f+t];break}var g=c-u,v=Math.random()*g+u|0,m=s[d*v+t],y=Math.random()*g+u|0,b=s[d*y+t],x=Math.random()*g+u|0,_=s[d*x+t];m<=b?_>=b?(h=y,p=b):m>=_?(h=v,p=m):(h=x,p=_):b>=_?(h=y,p=b):_>=m?(h=v,p=m):(h=x,p=_);for(var w=d*(c-1),k=d*h,M=0;M<d;++M,++w,++k){var T=s[w];s[w]=s[k],s[k]=T}var A=l[c-1];for(l[c-1]=l[h],l[h]=A,w=d*(c-1),k=d*(h=r(e,t,u,c-1,s,l,p)),M=0;M<d;++M,++w,++k)T=s[w],s[w]=s[k],s[k]=T;if(A=l[c-1],l[c-1]=l[h],l[h]=A,f<h){for(c=h-1;u<c&&s[d*(c-1)+t]===p;)c-=1;c+=1}else{if(!(h<f))break;for(u=h+1;u<c&&s[d*u+t]===p;)u+=1}}return r(e,t,n,f,s,l,s[d*f+t])}},{"./partition":44}],44:[function(e,t,n){"use strict";t.exports=i;var r="for(var j=2*a,k=j*c,l=k,m=c,n=b,o=a+b,p=c;d>p;++p,k+=j){var _;if($)if(m===p)m+=1,l+=j;else{for(var s=0;j>s;++s){var t=e[k+s];e[k+s]=e[l],e[l++]=t}var u=f[p];f[p]=f[m],f[m++]=u}}return m";function i(e,t){var n="abcdef".split("").concat(t),i=[];return e.indexOf("lo")>=0&&i.push("lo=e[k+n]"),e.indexOf("hi")>=0&&i.push("hi=e[k+o]"),n.push(r.replace("_",i.join()).replace("$",e)),Function.apply(void 0,n)}},{}],45:[function(e,t,n){"use strict";t.exports=i;var r=32;function i(e,t){t<=4*r?a(0,t-1,e):d(0,t-1,e)}function a(e,t,n){for(var r=2*(e+1),i=e+1;i<=t;++i){for(var a=n[r++],o=n[r++],s=i,l=r-2;s-- >e;){var u=n[l-2],c=n[l-1];if(u<a)break;if(u===a&&c<o)break;n[l]=u,n[l+1]=c,l-=2}n[l]=a,n[l+1]=o}}function o(e,t,n){t*=2;var r=n[e*=2],i=n[e+1];n[e]=n[t],n[e+1]=n[t+1],n[t]=r,n[t+1]=i}function s(e,t,n){t*=2,n[e*=2]=n[t],n[e+1]=n[t+1]}function l(e,t,n,r){t*=2,n*=2;var i=r[e*=2],a=r[e+1];r[e]=r[t],r[e+1]=r[t+1],r[t]=r[n],r[t+1]=r[n+1],r[n]=i,r[n+1]=a}function u(e,t,n,r,i){t*=2,i[e*=2]=i[t],i[t]=n,i[e+1]=i[t+1],i[t+1]=r}function c(e,t,n){t*=2;var r=n[e*=2],i=n[t];return!(r<i)&&(r!==i||n[e+1]>n[t+1])}function f(e,t,n,r){var i=r[e*=2];return i<t||i===t&&r[e+1]<n}function d(e,t,n){var i=(t-e+1)/6|0,h=e+i,p=t-i,g=e+t>>1,v=g-i,m=g+i,y=h,b=v,x=g,_=m,w=p,k=e+1,M=t-1,T=0;c(y,b,n)&&(T=y,y=b,b=T),c(_,w,n)&&(T=_,_=w,w=T),c(y,x,n)&&(T=y,y=x,x=T),c(b,x,n)&&(T=b,b=x,x=T),c(y,_,n)&&(T=y,y=_,_=T),c(x,_,n)&&(T=x,x=_,_=T),c(b,w,n)&&(T=b,b=w,w=T),c(b,x,n)&&(T=b,b=x,x=T),c(_,w,n)&&(T=_,_=w,w=T);for(var A=n[2*b],E=n[2*b+1],S=n[2*_],O=n[2*_+1],C=2*y,L=2*x,R=2*w,P=2*h,j=2*g,z=2*p,I=0;I<2;++I){var N=n[C+I],D=n[L+I],F=n[R+I];n[P+I]=N,n[j+I]=D,n[z+I]=F}s(v,e,n),s(m,t,n);for(var B=k;B<=M;++B)if(f(B,A,E,n))B!==k&&o(B,k,n),++k;else if(!f(B,S,O,n))for(;;){if(f(M,S,O,n)){f(M,A,E,n)?(l(B,k,M,n),++k,--M):(o(B,M,n),--M);break}if(--M<B)break}u(e,k-1,A,E,n),u(t,M+1,S,O,n),k-2-e<=r?a(e,k-2,n):d(e,k-2,n),t-(M+2)<=r?a(M+2,t,n):d(M+2,t,n),M-k<=r?a(k,M,n):d(k,M,n)}},{}],46:[function(e,t,n){"use strict";t.exports={init:g,sweepBipartite:y,sweepComplete:b,scanBipartite:x,scanComplete:_};var r=e("typedarray-pool"),i=e("bit-twiddle"),a=e("./sort"),o=1<<28,s=1024,l=r.mallocInt32(s),u=r.mallocInt32(s),c=r.mallocInt32(s),f=r.mallocInt32(s),d=r.mallocInt32(s),h=r.mallocInt32(s),p=r.mallocDouble(8*s);function g(e){var t=i.nextPow2(e);l.length<t&&(r.free(l),l=r.mallocInt32(t)),u.length<t&&(r.free(u),u=r.mallocInt32(t)),c.length<t&&(r.free(c),c=r.mallocInt32(t)),f.length<t&&(r.free(f),f=r.mallocInt32(t)),d.length<t&&(r.free(d),d=r.mallocInt32(t)),h.length<t&&(r.free(h),h=r.mallocInt32(t));var n=8*t;p.length<n&&(r.free(p),p=r.mallocDouble(n))}function v(e,t,n,r){var i=t[r],a=e[n-1];e[i]=a,t[a]=i}function m(e,t,n,r){e[n]=r,t[r]=n}function y(e,t,n,r,i,s,d,h,g,y){for(var b=0,x=2*e,_=e-1,w=x-1,k=n;k<r;++k){var M=s[k],T=x*k;p[b++]=i[T+_],p[b++]=-(M+1),p[b++]=i[T+w],p[b++]=M}for(k=d;k<h;++k){M=y[k]+o;var A=x*k;p[b++]=g[A+_],p[b++]=-M,p[b++]=g[A+w],p[b++]=M}var E=b>>>1;a(p,E);var S=0,O=0;for(k=0;k<E;++k){var C=0|p[2*k+1];if(C>=o)v(c,f,O--,C=C-o|0);else if(C>=0)v(l,u,S--,C);else if(C<=-o){C=-C-o|0;for(var L=0;L<S;++L)if(void 0!==(R=t(l[L],C)))return R;m(c,f,O++,C)}else{for(C=-C-1|0,L=0;L<O;++L){var R;if(void 0!==(R=t(C,c[L])))return R}m(l,u,S++,C)}}}function b(e,t,n,r,i,o,s,g,y,b){for(var x=0,_=2*e,w=e-1,k=_-1,M=n;M<r;++M){var T=o[M]+1<<1,A=_*M;p[x++]=i[A+w],p[x++]=-T,p[x++]=i[A+k],p[x++]=T}for(M=s;M<g;++M){T=b[M]+1<<1;var E=_*M;p[x++]=y[E+w],p[x++]=1|-T,p[x++]=y[E+k],p[x++]=1|T}var S=x>>>1;a(p,S);var O=0,C=0,L=0;for(M=0;M<S;++M){var R=0|p[2*M+1],P=1&R;if(M<S-1&&R>>1===p[2*M+3]>>1&&(P=2,M+=1),R<0){for(var j=-(R>>1)-1,z=0;z<L;++z)if(void 0!==(I=t(d[z],j)))return I;if(0!==P)for(z=0;z<O;++z)if(void 0!==(I=t(l[z],j)))return I;if(1!==P)for(z=0;z<C;++z){var I;if(void 0!==(I=t(c[z],j)))return I}0===P?m(l,u,O++,j):1===P?m(c,f,C++,j):2===P&&m(d,h,L++,j)}else j=(R>>1)-1,0===P?v(l,u,O--,j):1===P?v(c,f,C--,j):2===P&&v(d,h,L--,j)}}function x(e,t,n,r,i,s,c,f,d,h,g,y){var b=0,x=2*e,_=t,w=t+e,k=1,M=1;r?M=o:k=o;for(var T=i;T<s;++T){var A=T+k,E=x*T;p[b++]=c[E+_],p[b++]=-A,p[b++]=c[E+w],p[b++]=A}for(T=d;T<h;++T){A=T+M;var S=x*T;p[b++]=g[S+_],p[b++]=-A}var O=b>>>1;a(p,O);var C=0;for(T=0;T<O;++T){var L=0|p[2*T+1];if(L<0){var R=!1;if((A=-L)>=o?(R=!r,A-=o):(R=!!r,A-=1),R)m(l,u,C++,A);else{var P=y[A],j=x*A,z=g[j+t+1],I=g[j+t+1+e];e:for(var N=0;N<C;++N){var D=l[N],F=x*D;if(!(I<c[F+t+1]||c[F+t+1+e]<z)){for(var B=t+2;B<e;++B)if(g[j+B+e]<c[F+B]||c[F+B+e]<g[j+B])continue e;var U,V=f[D];if(void 0!==(U=r?n(P,V):n(V,P)))return U}}}}else v(l,u,C--,L-k)}}function _(e,t,n,r,i,s,u,c,f,d,h){for(var g=0,v=2*e,m=t,y=t+e,b=r;b<i;++b){var x=b+o,_=v*b;p[g++]=s[_+m],p[g++]=-x,p[g++]=s[_+y],p[g++]=x}for(b=c;b<f;++b){x=b+1;var w=v*b;p[g++]=d[w+m],p[g++]=-x}var k=g>>>1;a(p,k);var M=0;for(b=0;b<k;++b){var T=0|p[2*b+1];if(T<0)if((x=-T)>=o)l[M++]=x-o;else{var A=h[x-=1],E=v*x,S=d[E+t+1],O=d[E+t+1+e];e:for(var C=0;C<M;++C){var L=l[C],R=u[L];if(R===A)break;var P=v*L;if(!(O<s[P+t+1]||s[P+t+1+e]<S)){for(var j=t+2;j<e;++j)if(d[E+j+e]<s[P+j]||s[P+j+e]<d[E+j])continue e;var z=n(R,A);if(void 0!==z)return z}}}else{for(x=T-o,C=M-1;C>=0;--C)if(l[C]===x){for(j=C+1;j<M;++j)l[j-1]=l[j];break}--M}}}},{"./sort":45,"bit-twiddle":37,"typedarray-pool":366}],47:[function(e,t,n){},{}],48:[function(e,t,n){"use strict";var r,i="object"===typeof Reflect?Reflect:null,a=i&&"function"===typeof i.apply?i.apply:function(e,t,n){return Function.prototype.apply.call(e,t,n)};function o(e){console&&console.warn&&console.warn(e)}r=i&&"function"===typeof i.ownKeys?i.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var s=Number.isNaN||function(e){return e!==e};function l(){l.init.call(this)}t.exports=l,t.exports.once=x,l.EventEmitter=l,l.prototype._events=void 0,l.prototype._eventsCount=0,l.prototype._maxListeners=void 0;var u=10;function c(e){if("function"!==typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function f(e){return void 0===e._maxListeners?l.defaultMaxListeners:e._maxListeners}function d(e,t,n,r){var i,a,s;if(c(n),void 0===(a=e._events)?(a=e._events=Object.create(null),e._eventsCount=0):(void 0!==a.newListener&&(e.emit("newListener",t,n.listener?n.listener:n),a=e._events),s=a[t]),void 0===s)s=a[t]=n,++e._eventsCount;else if("function"===typeof s?s=a[t]=r?[n,s]:[s,n]:r?s.unshift(n):s.push(n),(i=f(e))>0&&s.length>i&&!s.warned){s.warned=!0;var l=new Error("Possible EventEmitter memory leak detected. "+s.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");l.name="MaxListenersExceededWarning",l.emitter=e,l.type=t,l.count=s.length,o(l)}return e}function h(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function p(e,t,n){var r={fired:!1,wrapFn:void 0,target:e,type:t,listener:n},i=h.bind(r);return i.listener=n,r.wrapFn=i,i}function g(e,t,n){var r=e._events;if(void 0===r)return[];var i=r[t];return void 0===i?[]:"function"===typeof i?n?[i.listener||i]:[i]:n?b(i):m(i,i.length)}function v(e){var t=this._events;if(void 0!==t){var n=t[e];if("function"===typeof n)return 1;if(void 0!==n)return n.length}return 0}function m(e,t){for(var n=new Array(t),r=0;r<t;++r)n[r]=e[r];return n}function y(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}function b(e){for(var t=new Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}function x(e,t){return new Promise((function(n,r){function i(){void 0!==a&&e.removeListener("error",a),n([].slice.call(arguments))}var a;"error"!==t&&(a=function(n){e.removeListener(t,i),r(n)},e.once("error",a)),e.once(t,i)}))}Object.defineProperty(l,"defaultMaxListeners",{enumerable:!0,get:function(){return u},set:function(e){if("number"!==typeof e||e<0||s(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");u=e}}),l.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},l.prototype.setMaxListeners=function(e){if("number"!==typeof e||e<0||s(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},l.prototype.getMaxListeners=function(){return f(this)},l.prototype.emit=function(e){for(var t=[],n=1;n<arguments.length;n++)t.push(arguments[n]);var r="error"===e,i=this._events;if(void 0!==i)r=r&&void 0===i.error;else if(!r)return!1;if(r){var o;if(t.length>0&&(o=t[0]),o instanceof Error)throw o;var s=new Error("Unhandled error."+(o?" ("+o.message+")":""));throw s.context=o,s}var l=i[e];if(void 0===l)return!1;if("function"===typeof l)a(l,this,t);else{var u=l.length,c=m(l,u);for(n=0;n<u;++n)a(c[n],this,t)}return!0},l.prototype.addListener=function(e,t){return d(this,e,t,!1)},l.prototype.on=l.prototype.addListener,l.prototype.prependListener=function(e,t){return d(this,e,t,!0)},l.prototype.once=function(e,t){return c(t),this.on(e,p(this,e,t)),this},l.prototype.prependOnceListener=function(e,t){return c(t),this.prependListener(e,p(this,e,t)),this},l.prototype.removeListener=function(e,t){var n,r,i,a,o;if(c(t),void 0===(r=this._events))return this;if(void 0===(n=r[e]))return this;if(n===t||n.listener===t)0===--this._eventsCount?this._events=Object.create(null):(delete r[e],r.removeListener&&this.emit("removeListener",e,n.listener||t));else if("function"!==typeof n){for(i=-1,a=n.length-1;a>=0;a--)if(n[a]===t||n[a].listener===t){o=n[a].listener,i=a;break}if(i<0)return this;0===i?n.shift():y(n,i),1===n.length&&(r[e]=n[0]),void 0!==r.removeListener&&this.emit("removeListener",e,o||t)}return this},l.prototype.off=l.prototype.removeListener,l.prototype.removeAllListeners=function(e){var t,n,r;if(void 0===(n=this._events))return this;if(void 0===n.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[e]&&(0===--this._eventsCount?this._events=Object.create(null):delete n[e]),this;if(0===arguments.length){var i,a=Object.keys(n);for(r=0;r<a.length;++r)"removeListener"!==(i=a[r])&&this.removeAllListeners(i);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"===typeof(t=n[e]))this.removeListener(e,t);else if(void 0!==t)for(r=t.length-1;r>=0;r--)this.removeListener(e,t[r]);return this},l.prototype.listeners=function(e){return g(this,e,!0)},l.prototype.rawListeners=function(e){return g(this,e,!1)},l.listenerCount=function(e,t){return"function"===typeof e.listenerCount?e.listenerCount(t):v.call(e,t)},l.prototype.listenerCount=v,l.prototype.eventNames=function(){return this._eventsCount>0?r(this._events):[]}},{}],49:[function(e,t,n){(function(t){(function(){"use strict";var t=e("base64-js"),r=e("ieee754");n.Buffer=s,n.SlowBuffer=m,n.INSPECT_MAX_BYTES=50;var i=2147483647;function a(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()}catch(t){return!1}}function o(e){if(e>i)throw new RangeError('The value "'+e+'" is invalid for option "size"');var t=new Uint8Array(e);return t.__proto__=s.prototype,t}function s(e,t,n){if("number"===typeof e){if("string"===typeof t)throw new TypeError('The "string" argument must be of type string. Received type number');return f(e)}return l(e,t,n)}function l(e,t,n){if("string"===typeof e)return d(e,t);if(ArrayBuffer.isView(e))return h(e);if(null==e)throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);if($(e,ArrayBuffer)||e&&$(e.buffer,ArrayBuffer))return p(e,t,n);if("number"===typeof e)throw new TypeError('The "value" argument must not be of type number. Received type number');var r=e.valueOf&&e.valueOf();if(null!=r&&r!==e)return s.from(r,t,n);var i=g(e);if(i)return i;if("undefined"!==typeof Symbol&&null!=Symbol.toPrimitive&&"function"===typeof e[Symbol.toPrimitive])return s.from(e[Symbol.toPrimitive]("string"),t,n);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e)}function u(e){if("number"!==typeof e)throw new TypeError('"size" argument must be of type number');if(e<0)throw new RangeError('The value "'+e+'" is invalid for option "size"')}function c(e,t,n){return u(e),e<=0?o(e):void 0!==t?"string"===typeof n?o(e).fill(t,n):o(e).fill(t):o(e)}function f(e){return u(e),o(e<0?0:0|v(e))}function d(e,t){if("string"===typeof t&&""!==t||(t="utf8"),!s.isEncoding(t))throw new TypeError("Unknown encoding: "+t);var n=0|y(e,t),r=o(n),i=r.write(e,t);return i!==n&&(r=r.slice(0,i)),r}function h(e){for(var t=e.length<0?0:0|v(e.length),n=o(t),r=0;r<t;r+=1)n[r]=255&e[r];return n}function p(e,t,n){if(t<0||e.byteLength<t)throw new RangeError('"offset" is outside of buffer bounds');if(e.byteLength<t+(n||0))throw new RangeError('"length" is outside of buffer bounds');var r;return(r=void 0===t&&void 0===n?new Uint8Array(e):void 0===n?new Uint8Array(e,t):new Uint8Array(e,t,n)).__proto__=s.prototype,r}function g(e){if(s.isBuffer(e)){var t=0|v(e.length),n=o(t);return 0===n.length||e.copy(n,0,0,t),n}return void 0!==e.length?"number"!==typeof e.length||K(e.length)?o(0):h(e):"Buffer"===e.type&&Array.isArray(e.data)?h(e.data):void 0}function v(e){if(e>=i)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+i.toString(16)+" bytes");return 0|e}function m(e){return+e!=e&&(e=0),s.alloc(+e)}function y(e,t){if(s.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||$(e,ArrayBuffer))return e.byteLength;if("string"!==typeof e)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof e);var n=e.length,r=arguments.length>2&&!0===arguments[2];if(!r&&0===n)return 0;for(var i=!1;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":return W(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return Y(e).length;default:if(i)return r?-1:W(e).length;t=(""+t).toLowerCase(),i=!0}}function b(e,t,n){var r=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return z(this,t,n);case"utf8":case"utf-8":return C(this,t,n);case"ascii":return P(this,t,n);case"latin1":case"binary":return j(this,t,n);case"base64":return O(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return I(this,t,n);default:if(r)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),r=!0}}function x(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function _(e,t,n,r,i){if(0===e.length)return-1;if("string"===typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),K(n=+n)&&(n=i?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(i)return-1;n=e.length-1}else if(n<0){if(!i)return-1;n=0}if("string"===typeof t&&(t=s.from(t,r)),s.isBuffer(t))return 0===t.length?-1:w(e,t,n,r,i);if("number"===typeof t)return t&=255,"function"===typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):w(e,[t],n,r,i);throw new TypeError("val must be string, number or Buffer")}function w(e,t,n,r,i){var a,o=1,s=e.length,l=t.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(e.length<2||t.length<2)return-1;o=2,s/=2,l/=2,n/=2}function u(e,t){return 1===o?e[t]:e.readUInt16BE(t*o)}if(i){var c=-1;for(a=n;a<s;a++)if(u(e,a)===u(t,-1===c?0:a-c)){if(-1===c&&(c=a),a-c+1===l)return c*o}else-1!==c&&(a-=a-c),c=-1}else for(n+l>s&&(n=s-l),a=n;a>=0;a--){for(var f=!0,d=0;d<l;d++)if(u(e,a+d)!==u(t,d)){f=!1;break}if(f)return a}return-1}function k(e,t,n,r){n=Number(n)||0;var i=e.length-n;r?(r=Number(r))>i&&(r=i):r=i;var a=t.length;r>a/2&&(r=a/2);for(var o=0;o<r;++o){var s=parseInt(t.substr(2*o,2),16);if(K(s))return o;e[n+o]=s}return o}function M(e,t,n,r){return Z(W(t,e.length-n),e,n,r)}function T(e,t,n,r){return Z(G(t),e,n,r)}function A(e,t,n,r){return T(e,t,n,r)}function E(e,t,n,r){return Z(Y(t),e,n,r)}function S(e,t,n,r){return Z(X(t,e.length-n),e,n,r)}function O(e,n,r){return 0===n&&r===e.length?t.fromByteArray(e):t.fromByteArray(e.slice(n,r))}function C(e,t,n){n=Math.min(e.length,n);for(var r=[],i=t;i<n;){var a,o,s,l,u=e[i],c=null,f=u>239?4:u>223?3:u>191?2:1;if(i+f<=n)switch(f){case 1:u<128&&(c=u);break;case 2:128===(192&(a=e[i+1]))&&(l=(31&u)<<6|63&a)>127&&(c=l);break;case 3:a=e[i+1],o=e[i+2],128===(192&a)&&128===(192&o)&&(l=(15&u)<<12|(63&a)<<6|63&o)>2047&&(l<55296||l>57343)&&(c=l);break;case 4:a=e[i+1],o=e[i+2],s=e[i+3],128===(192&a)&&128===(192&o)&&128===(192&s)&&(l=(15&u)<<18|(63&a)<<12|(63&o)<<6|63&s)>65535&&l<1114112&&(c=l)}null===c?(c=65533,f=1):c>65535&&(c-=65536,r.push(c>>>10&1023|55296),c=56320|1023&c),r.push(c),i+=f}return R(r)}n.kMaxLength=i,s.TYPED_ARRAY_SUPPORT=a(),s.TYPED_ARRAY_SUPPORT||"undefined"===typeof console||"function"!==typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(s.prototype,"parent",{enumerable:!0,get:function(){if(s.isBuffer(this))return this.buffer}}),Object.defineProperty(s.prototype,"offset",{enumerable:!0,get:function(){if(s.isBuffer(this))return this.byteOffset}}),"undefined"!==typeof Symbol&&null!=Symbol.species&&s[Symbol.species]===s&&Object.defineProperty(s,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1}),s.poolSize=8192,s.from=function(e,t,n){return l(e,t,n)},s.prototype.__proto__=Uint8Array.prototype,s.__proto__=Uint8Array,s.alloc=function(e,t,n){return c(e,t,n)},s.allocUnsafe=function(e){return f(e)},s.allocUnsafeSlow=function(e){return f(e)},s.isBuffer=function(e){return null!=e&&!0===e._isBuffer&&e!==s.prototype},s.compare=function(e,t){if($(e,Uint8Array)&&(e=s.from(e,e.offset,e.byteLength)),$(t,Uint8Array)&&(t=s.from(t,t.offset,t.byteLength)),!s.isBuffer(e)||!s.isBuffer(t))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;for(var n=e.length,r=t.length,i=0,a=Math.min(n,r);i<a;++i)if(e[i]!==t[i]){n=e[i],r=t[i];break}return n<r?-1:r<n?1:0},s.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},s.concat=function(e,t){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return s.alloc(0);var n;if(void 0===t)for(t=0,n=0;n<e.length;++n)t+=e[n].length;var r=s.allocUnsafe(t),i=0;for(n=0;n<e.length;++n){var a=e[n];if($(a,Uint8Array)&&(a=s.from(a)),!s.isBuffer(a))throw new TypeError('"list" argument must be an Array of Buffers');a.copy(r,i),i+=a.length}return r},s.byteLength=y,s.prototype._isBuffer=!0,s.prototype.swap16=function(){var e=this.length;if(e%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)x(this,t,t+1);return this},s.prototype.swap32=function(){var e=this.length;if(e%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)x(this,t,t+3),x(this,t+1,t+2);return this},s.prototype.swap64=function(){var e=this.length;if(e%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)x(this,t,t+7),x(this,t+1,t+6),x(this,t+2,t+5),x(this,t+3,t+4);return this},s.prototype.toString=function(){var e=this.length;return 0===e?"":0===arguments.length?C(this,0,e):b.apply(this,arguments)},s.prototype.toLocaleString=s.prototype.toString,s.prototype.equals=function(e){if(!s.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===s.compare(this,e)},s.prototype.inspect=function(){var e="",t=n.INSPECT_MAX_BYTES;return e=this.toString("hex",0,t).replace(/(.{2})/g,"$1 ").trim(),this.length>t&&(e+=" ... "),"<Buffer "+e+">"},s.prototype.compare=function(e,t,n,r,i){if($(e,Uint8Array)&&(e=s.from(e,e.offset,e.byteLength)),!s.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===r&&(r=0),void 0===i&&(i=this.length),t<0||n>e.length||r<0||i>this.length)throw new RangeError("out of range index");if(r>=i&&t>=n)return 0;if(r>=i)return-1;if(t>=n)return 1;if(this===e)return 0;for(var a=(i>>>=0)-(r>>>=0),o=(n>>>=0)-(t>>>=0),l=Math.min(a,o),u=this.slice(r,i),c=e.slice(t,n),f=0;f<l;++f)if(u[f]!==c[f]){a=u[f],o=c[f];break}return a<o?-1:o<a?1:0},s.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},s.prototype.indexOf=function(e,t,n){return _(this,e,t,n,!0)},s.prototype.lastIndexOf=function(e,t,n){return _(this,e,t,n,!1)},s.prototype.write=function(e,t,n,r){if(void 0===t)r="utf8",n=this.length,t=0;else if(void 0===n&&"string"===typeof t)r=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t>>>=0,isFinite(n)?(n>>>=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}var i=this.length-t;if((void 0===n||n>i)&&(n=i),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var a=!1;;)switch(r){case"hex":return k(this,e,t,n);case"utf8":case"utf-8":return M(this,e,t,n);case"ascii":return T(this,e,t,n);case"latin1":case"binary":return A(this,e,t,n);case"base64":return E(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return S(this,e,t,n);default:if(a)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),a=!0}},s.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var L=4096;function R(e){var t=e.length;if(t<=L)return String.fromCharCode.apply(String,e);for(var n="",r=0;r<t;)n+=String.fromCharCode.apply(String,e.slice(r,r+=L));return n}function P(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;i<n;++i)r+=String.fromCharCode(127&e[i]);return r}function j(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;i<n;++i)r+=String.fromCharCode(e[i]);return r}function z(e,t,n){var r=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>r)&&(n=r);for(var i="",a=t;a<n;++a)i+=q(e[a]);return i}function I(e,t,n){for(var r=e.slice(t,n),i="",a=0;a<r.length;a+=2)i+=String.fromCharCode(r[a]+256*r[a+1]);return i}function N(e,t,n){if(e%1!==0||e<0)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function D(e,t,n,r,i,a){if(!s.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<a)throw new RangeError('"value" argument is out of bounds');if(n+r>e.length)throw new RangeError("Index out of range")}function F(e,t,n,r,i,a){if(n+r>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function B(e,t,n,i,a){return t=+t,n>>>=0,a||F(e,t,n,4,34028234663852886e22,-34028234663852886e22),r.write(e,t,n,i,23,4),n+4}function U(e,t,n,i,a){return t=+t,n>>>=0,a||F(e,t,n,8,17976931348623157e292,-17976931348623157e292),r.write(e,t,n,i,52,8),n+8}s.prototype.slice=function(e,t){var n=this.length;(e=~~e)<0?(e+=n)<0&&(e=0):e>n&&(e=n),(t=void 0===t?n:~~t)<0?(t+=n)<0&&(t=0):t>n&&(t=n),t<e&&(t=e);var r=this.subarray(e,t);return r.__proto__=s.prototype,r},s.prototype.readUIntLE=function(e,t,n){e>>>=0,t>>>=0,n||N(e,t,this.length);for(var r=this[e],i=1,a=0;++a<t&&(i*=256);)r+=this[e+a]*i;return r},s.prototype.readUIntBE=function(e,t,n){e>>>=0,t>>>=0,n||N(e,t,this.length);for(var r=this[e+--t],i=1;t>0&&(i*=256);)r+=this[e+--t]*i;return r},s.prototype.readUInt8=function(e,t){return e>>>=0,t||N(e,1,this.length),this[e]},s.prototype.readUInt16LE=function(e,t){return e>>>=0,t||N(e,2,this.length),this[e]|this[e+1]<<8},s.prototype.readUInt16BE=function(e,t){return e>>>=0,t||N(e,2,this.length),this[e]<<8|this[e+1]},s.prototype.readUInt32LE=function(e,t){return e>>>=0,t||N(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},s.prototype.readUInt32BE=function(e,t){return e>>>=0,t||N(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},s.prototype.readIntLE=function(e,t,n){e>>>=0,t>>>=0,n||N(e,t,this.length);for(var r=this[e],i=1,a=0;++a<t&&(i*=256);)r+=this[e+a]*i;return r>=(i*=128)&&(r-=Math.pow(2,8*t)),r},s.prototype.readIntBE=function(e,t,n){e>>>=0,t>>>=0,n||N(e,t,this.length);for(var r=t,i=1,a=this[e+--r];r>0&&(i*=256);)a+=this[e+--r]*i;return a>=(i*=128)&&(a-=Math.pow(2,8*t)),a},s.prototype.readInt8=function(e,t){return e>>>=0,t||N(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},s.prototype.readInt16LE=function(e,t){e>>>=0,t||N(e,2,this.length);var n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},s.prototype.readInt16BE=function(e,t){e>>>=0,t||N(e,2,this.length);var n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},s.prototype.readInt32LE=function(e,t){return e>>>=0,t||N(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},s.prototype.readInt32BE=function(e,t){return e>>>=0,t||N(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},s.prototype.readFloatLE=function(e,t){return e>>>=0,t||N(e,4,this.length),r.read(this,e,!0,23,4)},s.prototype.readFloatBE=function(e,t){return e>>>=0,t||N(e,4,this.length),r.read(this,e,!1,23,4)},s.prototype.readDoubleLE=function(e,t){return e>>>=0,t||N(e,8,this.length),r.read(this,e,!0,52,8)},s.prototype.readDoubleBE=function(e,t){return e>>>=0,t||N(e,8,this.length),r.read(this,e,!1,52,8)},s.prototype.writeUIntLE=function(e,t,n,r){e=+e,t>>>=0,n>>>=0,r||D(this,e,t,n,Math.pow(2,8*n)-1,0);var i=1,a=0;for(this[t]=255&e;++a<n&&(i*=256);)this[t+a]=e/i&255;return t+n},s.prototype.writeUIntBE=function(e,t,n,r){e=+e,t>>>=0,n>>>=0,r||D(this,e,t,n,Math.pow(2,8*n)-1,0);var i=n-1,a=1;for(this[t+i]=255&e;--i>=0&&(a*=256);)this[t+i]=e/a&255;return t+n},s.prototype.writeUInt8=function(e,t,n){return e=+e,t>>>=0,n||D(this,e,t,1,255,0),this[t]=255&e,t+1},s.prototype.writeUInt16LE=function(e,t,n){return e=+e,t>>>=0,n||D(this,e,t,2,65535,0),this[t]=255&e,this[t+1]=e>>>8,t+2},s.prototype.writeUInt16BE=function(e,t,n){return e=+e,t>>>=0,n||D(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=255&e,t+2},s.prototype.writeUInt32LE=function(e,t,n){return e=+e,t>>>=0,n||D(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e,t+4},s.prototype.writeUInt32BE=function(e,t,n){return e=+e,t>>>=0,n||D(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},s.prototype.writeIntLE=function(e,t,n,r){if(e=+e,t>>>=0,!r){var i=Math.pow(2,8*n-1);D(this,e,t,n,i-1,-i)}var a=0,o=1,s=0;for(this[t]=255&e;++a<n&&(o*=256);)e<0&&0===s&&0!==this[t+a-1]&&(s=1),this[t+a]=(e/o>>0)-s&255;return t+n},s.prototype.writeIntBE=function(e,t,n,r){if(e=+e,t>>>=0,!r){var i=Math.pow(2,8*n-1);D(this,e,t,n,i-1,-i)}var a=n-1,o=1,s=0;for(this[t+a]=255&e;--a>=0&&(o*=256);)e<0&&0===s&&0!==this[t+a+1]&&(s=1),this[t+a]=(e/o>>0)-s&255;return t+n},s.prototype.writeInt8=function(e,t,n){return e=+e,t>>>=0,n||D(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=255&e,t+1},s.prototype.writeInt16LE=function(e,t,n){return e=+e,t>>>=0,n||D(this,e,t,2,32767,-32768),this[t]=255&e,this[t+1]=e>>>8,t+2},s.prototype.writeInt16BE=function(e,t,n){return e=+e,t>>>=0,n||D(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=255&e,t+2},s.prototype.writeInt32LE=function(e,t,n){return e=+e,t>>>=0,n||D(this,e,t,4,2147483647,-2147483648),this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},s.prototype.writeInt32BE=function(e,t,n){return e=+e,t>>>=0,n||D(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},s.prototype.writeFloatLE=function(e,t,n){return B(this,e,t,!0,n)},s.prototype.writeFloatBE=function(e,t,n){return B(this,e,t,!1,n)},s.prototype.writeDoubleLE=function(e,t,n){return U(this,e,t,!0,n)},s.prototype.writeDoubleBE=function(e,t,n){return U(this,e,t,!1,n)},s.prototype.copy=function(e,t,n,r){if(!s.isBuffer(e))throw new TypeError("argument should be a Buffer");if(n||(n=0),r||0===r||(r=this.length),t>=e.length&&(t=e.length),t||(t=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),e.length-t<r-n&&(r=e.length-t+n);var i=r-n;if(this===e&&"function"===typeof Uint8Array.prototype.copyWithin)this.copyWithin(t,n,r);else if(this===e&&n<t&&t<r)for(var a=i-1;a>=0;--a)e[a+t]=this[a+n];else Uint8Array.prototype.set.call(e,this.subarray(n,r),t);return i},s.prototype.fill=function(e,t,n,r){if("string"===typeof e){if("string"===typeof t?(r=t,t=0,n=this.length):"string"===typeof n&&(r=n,n=this.length),void 0!==r&&"string"!==typeof r)throw new TypeError("encoding must be a string");if("string"===typeof r&&!s.isEncoding(r))throw new TypeError("Unknown encoding: "+r);if(1===e.length){var i=e.charCodeAt(0);("utf8"===r&&i<128||"latin1"===r)&&(e=i)}}else"number"===typeof e&&(e&=255);if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;var a;if(t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0),"number"===typeof e)for(a=t;a<n;++a)this[a]=e;else{var o=s.isBuffer(e)?e:s.from(e,r),l=o.length;if(0===l)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(a=0;a<n-t;++a)this[a+t]=o[a%l]}return this};var V=/[^+/0-9A-Za-z-_]/g;function H(e){if((e=(e=e.split("=")[0]).trim().replace(V,"")).length<2)return"";for(;e.length%4!==0;)e+="=";return e}function q(e){return e<16?"0"+e.toString(16):e.toString(16)}function W(e,t){var n;t=t||1/0;for(var r=e.length,i=null,a=[],o=0;o<r;++o){if((n=e.charCodeAt(o))>55295&&n<57344){if(!i){if(n>56319){(t-=3)>-1&&a.push(239,191,189);continue}if(o+1===r){(t-=3)>-1&&a.push(239,191,189);continue}i=n;continue}if(n<56320){(t-=3)>-1&&a.push(239,191,189),i=n;continue}n=65536+(i-55296<<10|n-56320)}else i&&(t-=3)>-1&&a.push(239,191,189);if(i=null,n<128){if((t-=1)<0)break;a.push(n)}else if(n<2048){if((t-=2)<0)break;a.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;a.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;a.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return a}function G(e){for(var t=[],n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}function X(e,t){for(var n,r,i,a=[],o=0;o<e.length&&!((t-=2)<0);++o)r=(n=e.charCodeAt(o))>>8,i=n%256,a.push(i),a.push(r);return a}function Y(e){return t.toByteArray(H(e))}function Z(e,t,n,r){for(var i=0;i<r&&!(i+n>=t.length||i>=e.length);++i)t[i+n]=e[i];return i}function $(e,t){return e instanceof t||null!=e&&null!=e.constructor&&null!=e.constructor.name&&e.constructor.name===t.name}function K(e){return e!==e}}).call(this)}).call(this,e("buffer").Buffer)},{"base64-js":19,buffer:49,ieee754:269}],50:[function(e,t,n){"use strict";var r=e("./lib/monotone"),i=e("./lib/triangulation"),a=e("./lib/delaunay"),o=e("./lib/filter");function s(e){return[Math.min(e[0],e[1]),Math.max(e[0],e[1])]}function l(e,t){return e[0]-t[0]||e[1]-t[1]}function u(e){return e.map(s).sort(l)}function c(e,t,n){return t in e?e[t]:n}function f(e,t,n){Array.isArray(t)?(n=n||{},t=t||[]):(n=t||{},t=[]);var s=!!c(n,"delaunay",!0),l=!!c(n,"interior",!0),f=!!c(n,"exterior",!0),d=!!c(n,"infinity",!1);if(!l&&!f||0===e.length)return[];var h=r(e,t);if(s||l!==f||d){for(var p=i(e.length,u(t)),g=0;g<h.length;++g){var v=h[g];p.addTriangle(v[0],v[1],v[2])}return s&&a(e,p),f?l?d?o(p,0,d):p.cells():o(p,1,d):o(p,-1)}return h}t.exports=f},{"./lib/delaunay":51,"./lib/filter":52,"./lib/monotone":53,"./lib/triangulation":54}],51:[function(e,t,n){"use strict";var r=e("robust-in-sphere")[4];function i(e,t,n,i,a,o){var s=t.opposite(i,a);if(!(s<0)){if(a<i){var l=i;i=a,a=l,l=o,o=s,s=l}t.isConstraint(i,a)||r(e[i],e[a],e[o],e[s])<0&&n.push(i,a)}}function a(e,t){for(var n=[],a=e.length,o=t.stars,s=0;s<a;++s)for(var l=o[s],u=1;u<l.length;u+=2)if(!((h=l[u])<s)&&!t.isConstraint(s,h)){for(var c=l[u-1],f=-1,d=1;d<l.length;d+=2)if(l[d-1]===h){f=l[d];break}f<0||r(e[s],e[h],e[c],e[f])<0&&n.push(s,h)}for(;n.length>0;){for(var h=n.pop(),p=(c=-1,f=-1,l=o[s=n.pop()],1);p<l.length;p+=2){var g=l[p-1],v=l[p];g===h?f=v:v===h&&(c=g)}c<0||f<0||r(e[s],e[h],e[c],e[f])>=0||(t.flip(s,h),i(e,t,n,c,s,f),i(e,t,n,s,f,c),i(e,t,n,f,h,c),i(e,t,n,h,c,f))}}e("binary-search-bounds"),t.exports=a},{"binary-search-bounds":36,"robust-in-sphere":337}],52:[function(e,t,n){"use strict";var r=e("binary-search-bounds");function i(e,t,n,r,i,a,o){this.cells=e,this.neighbor=t,this.flags=r,this.constraint=n,this.active=i,this.next=a,this.boundary=o}function a(e,t){return e[0]-t[0]||e[1]-t[1]||e[2]-t[2]}function o(e,t){for(var n=e.cells(),r=n.length,o=0;o<r;++o){var s=(m=n[o])[0],l=m[1],u=m[2];l<u?l<s&&(m[0]=l,m[1]=u,m[2]=s):u<s&&(m[0]=u,m[1]=s,m[2]=l)}n.sort(a);var c=new Array(r);for(o=0;o<c.length;++o)c[o]=0;var f=[],d=[],h=new Array(3*r),p=new Array(3*r),g=null;t&&(g=[]);var v=new i(n,h,p,c,f,d,g);for(o=0;o<r;++o)for(var m=n[o],y=0;y<3;++y){s=m[y],l=m[(y+1)%3];var b=h[3*o+y]=v.locate(l,s,e.opposite(l,s)),x=p[3*o+y]=e.isConstraint(s,l);b<0&&(x?d.push(o):(f.push(o),c[o]=1),t&&g.push([l,s,-1]))}return v}function s(e,t,n){for(var r=0,i=0;i<e.length;++i)t[i]===n&&(e[r++]=e[i]);return e.length=r,e}function l(e,t,n){var r=o(e,n);if(0===t)return n?r.cells.concat(r.boundary):r.cells;for(var i=1,a=r.active,l=r.next,u=r.flags,c=r.cells,f=r.constraint,d=r.neighbor;a.length>0||l.length>0;){for(;a.length>0;){var h=a.pop();if(u[h]!==-i){u[h]=i,c[h];for(var p=0;p<3;++p){var g=d[3*h+p];g>=0&&0===u[g]&&(f[3*h+p]?l.push(g):(a.push(g),u[g]=i))}}}var v=l;l=a,a=v,l.length=0,i=-i}var m=s(c,u,t);return n?m.concat(r.boundary):m}t.exports=l,i.prototype.locate=function(){var e=[0,0,0];return function(t,n,i){var o=t,s=n,l=i;return n<i?n<t&&(o=n,s=i,l=t):i<t&&(o=i,s=t,l=n),o<0?-1:(e[0]=o,e[1]=s,e[2]=l,r.eq(this.cells,e,a))}}()},{"binary-search-bounds":36}],53:[function(e,t,n){"use strict";var r=e("binary-search-bounds"),i=e("robust-orientation")[3],a=0,o=1,s=2;function l(e,t,n,r,i){this.a=e,this.b=t,this.idx=n,this.lowerIds=r,this.upperIds=i}function u(e,t,n,r){this.a=e,this.b=t,this.type=n,this.idx=r}function c(e,t){var n=e.a[0]-t.a[0]||e.a[1]-t.a[1]||e.type-t.type;return n||(e.type!==a&&(n=i(e.a,e.b,t.b))?n:e.idx-t.idx)}function f(e,t){return i(e.a,e.b,t)}function d(e,t,n,a,o){for(var s=r.lt(t,a,f),l=r.gt(t,a,f),u=s;u<l;++u){for(var c=t[u],d=c.lowerIds,h=d.length;h>1&&i(n[d[h-2]],n[d[h-1]],a)>0;)e.push([d[h-1],d[h-2],o]),h-=1;d.length=h,d.push(o);var p=c.upperIds;for(h=p.length;h>1&&i(n[p[h-2]],n[p[h-1]],a)<0;)e.push([p[h-2],p[h-1],o]),h-=1;p.length=h,p.push(o)}}function h(e,t){var n;return(n=e.a[0]<t.a[0]?i(e.a,e.b,t.a):i(t.b,t.a,e.a))?n:(n=t.b[0]<e.b[0]?i(e.a,e.b,t.b):i(t.b,t.a,e.b))||e.idx-t.idx}function p(e,t,n){var i=r.le(e,n,h),a=e[i],o=a.upperIds,s=o[o.length-1];a.upperIds=[s],e.splice(i+1,0,new l(n.a,n.b,n.idx,[s],o))}function g(e,t,n){var i=n.a;n.a=n.b,n.b=i;var a=r.eq(e,n,h),o=e[a];e[a-1].upperIds=o.upperIds,e.splice(a,1)}function v(e,t){for(var n=e.length,r=t.length,i=[],f=0;f<n;++f)i.push(new u(e[f],null,a,f));for(f=0;f<r;++f){var h=t[f],v=e[h[0]],m=e[h[1]];v[0]<m[0]?i.push(new u(v,m,s,f),new u(m,v,o,f)):v[0]>m[0]&&i.push(new u(m,v,s,f),new u(v,m,o,f))}i.sort(c);for(var y=i[0].a[0]-(1+Math.abs(i[0].a[0]))*Math.pow(2,-52),b=[new l([y,1],[y,0],-1,[],[],[],[])],x=[],_=(f=0,i.length);f<_;++f){var w=i[f],k=w.type;k===a?d(x,b,e,w.a,w.idx):k===s?p(b,e,w):g(b,e,w)}return x}t.exports=v},{"binary-search-bounds":36,"robust-orientation":339}],54:[function(e,t,n){"use strict";var r=e("binary-search-bounds");function i(e,t){this.stars=e,this.edges=t}t.exports=s;var a=i.prototype;function o(e,t,n){for(var r=1,i=e.length;r<i;r+=2)if(e[r-1]===t&&e[r]===n)return e[r-1]=e[i-2],e[r]=e[i-1],void(e.length=i-2)}function s(e,t){for(var n=new Array(e),r=0;r<e;++r)n[r]=[];return new i(n,t)}a.isConstraint=function(){var e=[0,0];function t(e,t){return e[0]-t[0]||e[1]-t[1]}return function(n,i){return e[0]=Math.min(n,i),e[1]=Math.max(n,i),r.eq(this.edges,e,t)>=0}}(),a.removeTriangle=function(e,t,n){var r=this.stars;o(r[e],t,n),o(r[t],n,e),o(r[n],e,t)},a.addTriangle=function(e,t,n){var r=this.stars;r[e].push(t,n),r[t].push(n,e),r[n].push(e,t)},a.opposite=function(e,t){for(var n=this.stars[t],r=1,i=n.length;r<i;r+=2)if(n[r]===e)return n[r-1];return-1},a.flip=function(e,t){var n=this.opposite(e,t),r=this.opposite(t,e);this.removeTriangle(e,t,n),this.removeTriangle(t,e,r),this.addTriangle(e,r,n),this.addTriangle(t,n,r)},a.edges=function(){for(var e=this.stars,t=[],n=0,r=e.length;n<r;++n)for(var i=e[n],a=0,o=i.length;a<o;a+=2)t.push([i[a],i[a+1]]);return t},a.cells=function(){for(var e=this.stars,t=[],n=0,r=e.length;n<r;++n)for(var i=e[n],a=0,o=i.length;a<o;a+=2){var s=i[a],l=i[a+1];n<Math.min(s,l)&&t.push([n,s,l])}return t}},{"binary-search-bounds":36}],55:[function(e,t,n){"use strict";function r(e){for(var t=1,n=1;n<e.length;++n)for(var r=0;r<n;++r)if(e[n]<e[r])t=-t;else if(e[r]===e[n])return 0;return t}t.exports=r},{}],56:[function(e,t,n){"use strict";var r=e("dup"),i=e("robust-linear-solve");function a(e,t){for(var n=0,r=e.length,i=0;i<r;++i)n+=e[i]*t[i];return n}function o(e){var t=e.length;if(0===t)return[];e[0].length;var n=r([e.length+1,e.length+1],1),o=r([e.length+1],1);n[t][t]=0;for(var s=0;s<t;++s){for(var l=0;l<=s;++l)n[l][s]=n[s][l]=2*a(e[s],e[l]);o[s]=a(e[s],e[s])}var u=i(n,o),c=0,f=u[t+1];for(s=0;s<f.length;++s)c+=f[s];var d=new Array(t);for(s=0;s<t;++s){f=u[s];var h=0;for(l=0;l<f.length;++l)h+=f[l];d[s]=h/c}return d}function s(e){if(0===e.length)return[];for(var t=e[0].length,n=r([t]),i=o(e),a=0;a<e.length;++a)for(var s=0;s<t;++s)n[s]+=e[a][s]*i[a];return n}s.barycenetric=o,t.exports=s},{dup:87,"robust-linear-solve":338}],57:[function(e,t,n){t.exports=i;var r=e("circumcenter");function i(e){for(var t=r(e),n=0,i=0;i<e.length;++i)for(var a=e[i],o=0;o<t.length;++o)n+=Math.pow(a[o]-t[o],2);return Math.sqrt(n/e.length)}},{circumcenter:56}],58:[function(e,t,n){function r(e,t,n){return t<n?e<t?t:e>n?n:e:e<n?n:e>t?t:e}t.exports=r},{}],59:[function(e,t,n){"use strict";t.exports=M;var r=e("union-find"),i=e("box-intersect"),a=e("robust-segment-intersect"),o=e("big-rat"),s=e("big-rat/cmp"),l=e("big-rat/to-float"),u=e("rat-vec"),c=e("nextafter"),f=e("./lib/rat-seg-intersect");function d(e){var t=l(e);return[c(t,-1/0),c(t,1/0)]}function h(e,t){for(var n=new Array(t.length),r=0;r<t.length;++r){var i=t[r],a=e[i[0]],o=e[i[1]];n[r]=[c(Math.min(a[0],o[0]),-1/0),c(Math.min(a[1],o[1]),-1/0),c(Math.max(a[0],o[0]),1/0),c(Math.max(a[1],o[1]),1/0)]}return n}function p(e){for(var t=new Array(e.length),n=0;n<e.length;++n){var r=e[n];t[n]=[c(r[0],-1/0),c(r[1],-1/0),c(r[0],1/0),c(r[1],1/0)]}return t}function g(e,t,n){var r=[];return i(n,(function(n,i){var o=t[n],s=t[i];if(o[0]!==s[0]&&o[0]!==s[1]&&o[1]!==s[0]&&o[1]!==s[1]){var l=e[o[0]],u=e[o[1]],c=e[s[0]],f=e[s[1]];a(l,u,c,f)&&r.push([n,i])}})),r}function v(e,t,n,r){var o=[];return i(n,r,(function(n,r){var i=t[n];if(i[0]!==r&&i[1]!==r){var s=e[r],l=e[i[0]],u=e[i[1]];a(l,u,s,s)&&o.push([n,r])}})),o}function m(e,t,n,r,i){var a,c,d=e.map((function(e){return[o(e[0]),o(e[1])]}));for(a=0;a<n.length;++a){var h=n[a];c=h[0];var p=h[1],g=t[c],v=t[p],m=f(u(e[g[0]]),u(e[g[1]]),u(e[v[0]]),u(e[v[1]]));if(m){var y=e.length;e.push([l(m[0]),l(m[1])]),d.push(m),r.push([c,y],[p,y])}}for(r.sort((function(e,t){if(e[0]!==t[0])return e[0]-t[0];var n=d[e[1]],r=d[t[1]];return s(n[0],r[0])||s(n[1],r[1])})),a=r.length-1;a>=0;--a){var b=t[c=(E=r[a])[0]],x=b[0],_=b[1],w=e[x],k=e[_];if((w[0]-k[0]||w[1]-k[1])<0){var M=x;x=_,_=M}b[0]=x;var T,A=b[1]=E[1];for(i&&(T=b[2]);a>0&&r[a-1][0]===c;){var E,S=(E=r[--a])[1];i?t.push([A,S,T]):t.push([A,S]),A=S}i?t.push([A,_,T]):t.push([A,_])}return d}function y(e,t,n){for(var a=t.length,o=new r(a),s=[],l=0;l<t.length;++l){var u=t[l],f=d(u[0]),h=d(u[1]);s.push([c(f[0],-1/0),c(h[0],-1/0),c(f[1],1/0),c(h[1],1/0)])}i(s,(function(e,t){o.link(e,t)}));var p=!0,g=new Array(a);for(l=0;l<a;++l)(m=o.find(l))!==l&&(p=!1,e[m]=[Math.min(e[l][0],e[m][0]),Math.min(e[l][1],e[m][1])]);if(p)return null;var v=0;for(l=0;l<a;++l){var m;(m=o.find(l))===l?(g[l]=v,e[v++]=e[l]):g[l]=-1}for(e.length=v,l=0;l<a;++l)g[l]<0&&(g[l]=g[o.find(l)]);return g}function b(e,t){return e[0]-t[0]||e[1]-t[1]}function x(e,t){var n=e[0]-t[0]||e[1]-t[1];return n||(e[2]<t[2]?-1:e[2]>t[2]?1:0)}function _(e,t,n){if(0!==e.length){if(t)for(var r=0;r<e.length;++r){var i=t[(o=e[r])[0]],a=t[o[1]];o[0]=Math.min(i,a),o[1]=Math.max(i,a)}else for(r=0;r<e.length;++r){var o;i=(o=e[r])[0],a=o[1],o[0]=Math.min(i,a),o[1]=Math.max(i,a)}n?e.sort(x):e.sort(b);var s=1;for(r=1;r<e.length;++r){var l=e[r-1],u=e[r];(u[0]!==l[0]||u[1]!==l[1]||n&&u[2]!==l[2])&&(e[s++]=u)}e.length=s}}function w(e,t,n){var r=y(e,[],p(e));return _(t,r,n),!!r}function k(e,t,n){var r=h(e,t),i=g(e,t,r),a=p(e),o=v(e,t,r,a),s=y(e,m(e,t,i,o,n),a);return _(t,s,n),!!s||i.length>0||o.length>0}function M(e,t,n){var r;if(n){r=t;for(var i=new Array(t.length),a=0;a<t.length;++a){var o=t[a];i[a]=[o[0],o[1],n[a]]}t=i}for(var s=w(e,t,!!n);k(e,t,!!n);)s=!0;if(n&&s)for(r.length=0,n.length=0,a=0;a<t.length;++a)o=t[a],r.push([o[0],o[1]]),n.push(o[2]);return s}},{"./lib/rat-seg-intersect":60,"big-rat":23,"big-rat/cmp":21,"big-rat/to-float":35,"box-intersect":40,nextafter:302,"rat-vec":328,"robust-segment-intersect":342,"union-find":367}],60:[function(e,t,n){"use strict";t.exports=f;var r=e("big-rat/mul"),i=e("big-rat/div"),a=e("big-rat/sub"),o=e("big-rat/sign"),s=e("rat-vec/sub"),l=e("rat-vec/add"),u=e("rat-vec/muls");function c(e,t){return a(r(e[0],t[1]),r(e[1],t[0]))}function f(e,t,n,r){var a=s(t,e),f=s(r,n),d=c(a,f);if(0===o(d))return null;var h=c(f,s(e,n)),p=i(h,d),g=u(a,p);return l(e,g)}},{"big-rat/div":22,"big-rat/mul":32,"big-rat/sign":33,"big-rat/sub":34,"rat-vec/add":327,"rat-vec/muls":329,"rat-vec/sub":330}],61:[function(e,t,n){"use strict";t.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}},{}],62:[function(e,t,n){"use strict";var r=e("color-rgba"),i=e("clamp"),a=e("dtype");function o(e){return e instanceof Uint8Array||e instanceof Uint8ClampedArray||!!(Array.isArray(e)&&(e[0]>1||0===e[0])&&(e[1]>1||0===e[1])&&(e[2]>1||0===e[2])&&(!e[3]||e[3]>1))}t.exports=function(e,t){"float"!==t&&t||(t="array"),"uint"===t&&(t="uint8"),"uint_clamped"===t&&(t="uint8_clamped");var n=new(a(t))(4),s="uint8"!==t&&"uint8_clamped"!==t;return e.length&&"string"!==typeof e||((e=r(e))[0]/=255,e[1]/=255,e[2]/=255),o(e)?(n[0]=e[0],n[1]=e[1],n[2]=e[2],n[3]=null!=e[3]?e[3]:255,s&&(n[0]/=255,n[1]/=255,n[2]/=255,n[3]/=255),n):(s?(n[0]=e[0],n[1]=e[1],n[2]=e[2],n[3]=null!=e[3]?e[3]:1):(n[0]=i(Math.floor(255*e[0]),0,255),n[1]=i(Math.floor(255*e[1]),0,255),n[2]=i(Math.floor(255*e[2]),0,255),n[3]=null==e[3]?255:i(Math.floor(255*e[3]),0,255)),n)}},{clamp:58,"color-rgba":64,dtype:86}],63:[function(e,n,r){(function(t){(function(){"use strict";var r=e("color-name"),i=e("is-plain-obj"),a=e("defined");n.exports=s;var o={red:0,orange:60,yellow:120,green:180,blue:240,purple:300};function s(e){var n,s,l=[],u=1;if("string"===typeof e)if(r[e])l=r[e].slice(),s="rgb";else if("transparent"===e)u=0,s="rgb",l=[0,0,0];else if(/^#[A-Fa-f0-9]+$/.test(e)){var c=e.slice(1);u=1,(h=c.length)<=4?(l=[parseInt(c[0]+c[0],16),parseInt(c[1]+c[1],16),parseInt(c[2]+c[2],16)],4===h&&(u=parseInt(c[3]+c[3],16)/255)):(l=[parseInt(c[0]+c[1],16),parseInt(c[2]+c[3],16),parseInt(c[4]+c[5],16)],8===h&&(u=parseInt(c[6]+c[7],16)/255)),l[0]||(l[0]=0),l[1]||(l[1]=0),l[2]||(l[2]=0),s="rgb"}else if(n=/^((?:rgb|hs[lvb]|hwb|cmyk?|xy[zy]|gray|lab|lchu?v?|[ly]uv|lms)a?)\s*\(([^\)]*)\)/.exec(e)){var f=n[1],d="rgb"===f;s=c=f.replace(/a$/,"");var h="cmyk"===c?4:"gray"===c?1:3;l=n[2].trim().split(/\s*,\s*/).map((function(e,t){if(/%$/.test(e))return t===h?parseFloat(e)/100:"rgb"===c?255*parseFloat(e)/100:parseFloat(e);if("h"===c[t]){if(/deg$/.test(e))return parseFloat(e);if(void 0!==o[e])return o[e]}return parseFloat(e)})),f===c&&l.push(1),u=d||void 0===l[h]?1:l[h],l=l.slice(0,h)}else e.length>10&&/[0-9](?:\s|\/)/.test(e)&&(l=e.match(/([0-9]+)/g).map((function(e){return parseFloat(e)})),s=e.match(/([a-z])/gi).join("").toLowerCase());else if(isNaN(e))if(i(e)){var p=a(e.r,e.red,e.R,null);null!==p?(s="rgb",l=[p,a(e.g,e.green,e.G),a(e.b,e.blue,e.B)]):(s="hsl",l=[a(e.h,e.hue,e.H),a(e.s,e.saturation,e.S),a(e.l,e.lightness,e.L,e.b,e.brightness)]),u=a(e.a,e.alpha,e.opacity,1),null!=e.opacity&&(u/=100)}else(Array.isArray(e)||t.ArrayBuffer&&ArrayBuffer.isView&&ArrayBuffer.isView(e))&&(l=[e[0],e[1],e[2]],s="rgb",u=4===e.length?e[3]:1);else s="rgb",l=[e>>>16,(65280&e)>>>8,255&e];return{space:s,values:l,alpha:u}}}).call(this)}).call(this,"undefined"!==typeof t?t:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})},{"color-name":61,defined:83,"is-plain-obj":278}],64:[function(e,t,n){"use strict";var r=e("color-parse"),i=e("color-space/hsl"),a=e("clamp");t.exports=function(e){var t,n=r(e);return n.space?((t=Array(3))[0]=a(n.values[0],0,255),t[1]=a(n.values[1],0,255),t[2]=a(n.values[2],0,255),"h"===n.space[0]&&(t=i.rgb(t)),t.push(a(n.alpha,0,1)),t):[]}},{clamp:58,"color-parse":63,"color-space/hsl":65}],65:[function(e,t,n){"use strict";var r=e("./rgb");t.exports={name:"hsl",min:[0,0,0],max:[360,100,100],channel:["hue","saturation","lightness"],alias:["HSL"],rgb:function(e){var t,n,r,i,a,o=e[0]/360,s=e[1]/100,l=e[2]/100;if(0===s)return[a=255*l,a,a];t=2*l-(n=l<.5?l*(1+s):l+s-l*s),i=[0,0,0];for(var u=0;u<3;u++)(r=o+1/3*-(u-1))<0?r++:r>1&&r--,a=6*r<1?t+6*(n-t)*r:2*r<1?n:3*r<2?t+(n-t)*(2/3-r)*6:t,i[u]=255*a;return i}},r.hsl=function(e){var t,n,r=e[0]/255,i=e[1]/255,a=e[2]/255,o=Math.min(r,i,a),s=Math.max(r,i,a),l=s-o;return s===o?t=0:r===s?t=(i-a)/l:i===s?t=2+(a-r)/l:a===s&&(t=4+(r-i)/l),(t=Math.min(60*t,360))<0&&(t+=360),n=(o+s)/2,[t,100*(s===o?0:n<=.5?l/(s+o):l/(2-s-o)),100*n]}},{"./rgb":66}],66:[function(e,t,n){"use strict";t.exports={name:"rgb",min:[0,0,0],max:[255,255,255],channel:["red","green","blue"],alias:["RGB"]}},{}],67:[function(e,t,n){var i;t.exports=(r(i={jet:[{index:0,rgb:[0,0,131]},{index:.125,rgb:[0,60,170]},{index:.375,rgb:[5,255,255]},{index:.625,rgb:[255,255,0]},{index:.875,rgb:[250,0,0]},{index:1,rgb:[128,0,0]}],hsv:[{index:0,rgb:[255,0,0]},{index:.169,rgb:[253,255,2]},{index:.173,rgb:[247,255,2]},{index:.337,rgb:[0,252,4]},{index:.341,rgb:[0,252,10]},{index:.506,rgb:[1,249,255]},{index:.671,rgb:[2,0,253]},{index:.675,rgb:[8,0,253]},{index:.839,rgb:[255,0,251]},{index:.843,rgb:[255,0,245]},{index:1,rgb:[255,0,6]}],hot:[{index:0,rgb:[0,0,0]},{index:.3,rgb:[230,0,0]},{index:.6,rgb:[255,210,0]},{index:1,rgb:[255,255,255]}],cool:[{index:0,rgb:[0,255,255]},{index:1,rgb:[255,0,255]}],spring:[{index:0,rgb:[255,0,255]},{index:1,rgb:[255,255,0]}],summer:[{index:0,rgb:[0,128,102]},{index:1,rgb:[255,255,102]}],autumn:[{index:0,rgb:[255,0,0]},{index:1,rgb:[255,255,0]}],winter:[{index:0,rgb:[0,0,255]},{index:1,rgb:[0,255,128]}],bone:[{index:0,rgb:[0,0,0]},{index:.376,rgb:[84,84,116]},{index:.753,rgb:[169,200,200]},{index:1,rgb:[255,255,255]}],copper:[{index:0,rgb:[0,0,0]},{index:.804,rgb:[255,160,102]},{index:1,rgb:[255,199,127]}],greys:[{index:0,rgb:[0,0,0]},{index:1,rgb:[255,255,255]}],yignbu:[{index:0,rgb:[8,29,88]},{index:.125,rgb:[37,52,148]},{index:.25,rgb:[34,94,168]},{index:.375,rgb:[29,145,192]},{index:.5,rgb:[65,182,196]},{index:.625,rgb:[127,205,187]},{index:.75,rgb:[199,233,180]},{index:.875,rgb:[237,248,217]},{index:1,rgb:[255,255,217]}],greens:[{index:0,rgb:[0,68,27]},{index:.125,rgb:[0,109,44]},{index:.25,rgb:[35,139,69]},{index:.375,rgb:[65,171,93]},{index:.5,rgb:[116,196,118]},{index:.625,rgb:[161,217,155]},{index:.75,rgb:[199,233,192]},{index:.875,rgb:[229,245,224]},{index:1,rgb:[247,252,245]}],yiorrd:[{index:0,rgb:[128,0,38]},{index:.125,rgb:[189,0,38]},{index:.25,rgb:[227,26,28]},{index:.375,rgb:[252,78,42]},{index:.5,rgb:[253,141,60]},{index:.625,rgb:[254,178,76]},{index:.75,rgb:[254,217,118]},{index:.875,rgb:[255,237,160]},{index:1,rgb:[255,255,204]}],bluered:[{index:0,rgb:[0,0,255]},{index:1,rgb:[255,0,0]}],rdbu:[{index:0,rgb:[5,10,172]},{index:.35,rgb:[106,137,247]},{index:.5,rgb:[190,190,190]},{index:.6,rgb:[220,170,132]},{index:.7,rgb:[230,145,90]},{index:1,rgb:[178,10,28]}],picnic:[{index:0,rgb:[0,0,255]},{index:.1,rgb:[51,153,255]},{index:.2,rgb:[102,204,255]},{index:.3,rgb:[153,204,255]},{index:.4,rgb:[204,204,255]},{index:.5,rgb:[255,255,255]},{index:.6,rgb:[255,204,255]},{index:.7,rgb:[255,153,255]},{index:.8,rgb:[255,102,204]},{index:.9,rgb:[255,102,102]},{index:1,rgb:[255,0,0]}],rainbow:[{index:0,rgb:[150,0,90]},{index:.125,rgb:[0,0,200]},{index:.25,rgb:[0,25,255]},{index:.375,rgb:[0,152,255]},{index:.5,rgb:[44,255,150]},{index:.625,rgb:[151,255,0]},{index:.75,rgb:[255,234,0]},{index:.875,rgb:[255,111,0]},{index:1,rgb:[255,0,0]}],portland:[{index:0,rgb:[12,51,131]},{index:.25,rgb:[10,136,186]},{index:.5,rgb:[242,211,56]},{index:.75,rgb:[242,143,56]},{index:1,rgb:[217,30,30]}],blackbody:[{index:0,rgb:[0,0,0]},{index:.2,rgb:[230,0,0]},{index:.4,rgb:[230,210,0]},{index:.7,rgb:[255,255,255]},{index:1,rgb:[160,200,255]}],earth:[{index:0,rgb:[0,0,130]},{index:.1,rgb:[0,180,180]},{index:.2,rgb:[40,210,40]},{index:.4,rgb:[230,230,50]},{index:.6,rgb:[120,70,20]},{index:1,rgb:[255,255,255]}],electric:[{index:0,rgb:[0,0,0]},{index:.15,rgb:[30,0,100]},{index:.4,rgb:[120,0,100]},{index:.6,rgb:[160,90,0]},{index:.8,rgb:[230,200,0]},{index:1,rgb:[255,250,220]}],alpha:[{index:0,rgb:[255,255,255,0]},{index:1,rgb:[255,255,255,1]}],viridis:[{index:0,rgb:[68,1,84]},{index:.13,rgb:[71,44,122]},{index:.25,rgb:[59,81,139]},{index:.38,rgb:[44,113,142]},{index:.5,rgb:[33,144,141]},{index:.63,rgb:[39,173,129]},{index:.75,rgb:[92,200,99]},{index:.88,rgb:[170,220,50]},{index:1,rgb:[253,231,37]}],inferno:[{index:0,rgb:[0,0,4]},{index:.13,rgb:[31,12,72]},{index:.25,rgb:[85,15,109]},{index:.38,rgb:[136,34,106]},{index:.5,rgb:[186,54,85]},{index:.63,rgb:[227,89,51]},{index:.75,rgb:[249,140,10]},{index:.88,rgb:[249,201,50]},{index:1,rgb:[252,255,164]}],magma:[{index:0,rgb:[0,0,4]},{index:.13,rgb:[28,16,68]},{index:.25,rgb:[79,18,123]},{index:.38,rgb:[129,37,129]},{index:.5,rgb:[181,54,122]},{index:.63,rgb:[229,80,100]},{index:.75,rgb:[251,135,97]},{index:.88,rgb:[254,194,135]},{index:1,rgb:[252,253,191]}],plasma:[{index:0,rgb:[13,8,135]},{index:.13,rgb:[75,3,161]},{index:.25,rgb:[125,3,168]},{index:.38,rgb:[168,34,150]},{index:.5,rgb:[203,70,121]},{index:.63,rgb:[229,107,93]},{index:.75,rgb:[248,148,65]},{index:.88,rgb:[253,195,40]},{index:1,rgb:[240,249,33]}],warm:[{index:0,rgb:[125,0,179]},{index:.13,rgb:[172,0,187]},{index:.25,rgb:[219,0,170]},{index:.38,rgb:[255,0,130]},{index:.5,rgb:[255,63,74]},{index:.63,rgb:[255,123,0]},{index:.75,rgb:[234,176,0]},{index:.88,rgb:[190,228,0]},{index:1,rgb:[147,255,0]}]},"cool",[{index:0,rgb:[125,0,179]},{index:.13,rgb:[116,0,218]},{index:.25,rgb:[98,74,237]},{index:.38,rgb:[68,146,231]},{index:.5,rgb:[0,204,197]},{index:.63,rgb:[0,247,146]},{index:.75,rgb:[0,255,88]},{index:.88,rgb:[40,255,8]},{index:1,rgb:[147,255,0]}]),r(i,"rainbow-soft",[{index:0,rgb:[125,0,179]},{index:.1,rgb:[199,0,180]},{index:.2,rgb:[255,0,121]},{index:.3,rgb:[255,108,0]},{index:.4,rgb:[222,194,0]},{index:.5,rgb:[150,255,0]},{index:.6,rgb:[0,255,55]},{index:.7,rgb:[0,246,150]},{index:.8,rgb:[50,167,222]},{index:.9,rgb:[103,51,235]},{index:1,rgb:[124,0,186]}]),r(i,"bathymetry",[{index:0,rgb:[40,26,44]},{index:.13,rgb:[59,49,90]},{index:.25,rgb:[64,76,139]},{index:.38,rgb:[63,110,151]},{index:.5,rgb:[72,142,158]},{index:.63,rgb:[85,174,163]},{index:.75,rgb:[120,206,163]},{index:.88,rgb:[187,230,172]},{index:1,rgb:[253,254,204]}]),r(i,"cdom",[{index:0,rgb:[47,15,62]},{index:.13,rgb:[87,23,86]},{index:.25,rgb:[130,28,99]},{index:.38,rgb:[171,41,96]},{index:.5,rgb:[206,67,86]},{index:.63,rgb:[230,106,84]},{index:.75,rgb:[242,149,103]},{index:.88,rgb:[249,193,135]},{index:1,rgb:[254,237,176]}]),r(i,"chlorophyll",[{index:0,rgb:[18,36,20]},{index:.13,rgb:[25,63,41]},{index:.25,rgb:[24,91,59]},{index:.38,rgb:[13,119,72]},{index:.5,rgb:[18,148,80]},{index:.63,rgb:[80,173,89]},{index:.75,rgb:[132,196,122]},{index:.88,rgb:[175,221,162]},{index:1,rgb:[215,249,208]}]),r(i,"density",[{index:0,rgb:[54,14,36]},{index:.13,rgb:[89,23,80]},{index:.25,rgb:[110,45,132]},{index:.38,rgb:[120,77,178]},{index:.5,rgb:[120,113,213]},{index:.63,rgb:[115,151,228]},{index:.75,rgb:[134,185,227]},{index:.88,rgb:[177,214,227]},{index:1,rgb:[230,241,241]}]),r(i,"freesurface-blue",[{index:0,rgb:[30,4,110]},{index:.13,rgb:[47,14,176]},{index:.25,rgb:[41,45,236]},{index:.38,rgb:[25,99,212]},{index:.5,rgb:[68,131,200]},{index:.63,rgb:[114,156,197]},{index:.75,rgb:[157,181,203]},{index:.88,rgb:[200,208,216]},{index:1,rgb:[241,237,236]}]),r(i,"freesurface-red",[{index:0,rgb:[60,9,18]},{index:.13,rgb:[100,17,27]},{index:.25,rgb:[142,20,29]},{index:.38,rgb:[177,43,27]},{index:.5,rgb:[192,87,63]},{index:.63,rgb:[205,125,105]},{index:.75,rgb:[216,162,148]},{index:.88,rgb:[227,199,193]},{index:1,rgb:[241,237,236]}]),r(i,"oxygen",[{index:0,rgb:[64,5,5]},{index:.13,rgb:[106,6,15]},{index:.25,rgb:[144,26,7]},{index:.38,rgb:[168,64,3]},{index:.5,rgb:[188,100,4]},{index:.63,rgb:[206,136,11]},{index:.75,rgb:[220,174,25]},{index:.88,rgb:[231,215,44]},{index:1,rgb:[248,254,105]}]),r(i,"par",[{index:0,rgb:[51,20,24]},{index:.13,rgb:[90,32,35]},{index:.25,rgb:[129,44,34]},{index:.38,rgb:[159,68,25]},{index:.5,rgb:[182,99,19]},{index:.63,rgb:[199,134,22]},{index:.75,rgb:[212,171,35]},{index:.88,rgb:[221,210,54]},{index:1,rgb:[225,253,75]}]),r(i,"phase",[{index:0,rgb:[145,105,18]},{index:.13,rgb:[184,71,38]},{index:.25,rgb:[186,58,115]},{index:.38,rgb:[160,71,185]},{index:.5,rgb:[110,97,218]},{index:.63,rgb:[50,123,164]},{index:.75,rgb:[31,131,110]},{index:.88,rgb:[77,129,34]},{index:1,rgb:[145,105,18]}]),r(i,"salinity",[{index:0,rgb:[42,24,108]},{index:.13,rgb:[33,50,162]},{index:.25,rgb:[15,90,145]},{index:.38,rgb:[40,118,137]},{index:.5,rgb:[59,146,135]},{index:.63,rgb:[79,175,126]},{index:.75,rgb:[120,203,104]},{index:.88,rgb:[193,221,100]},{index:1,rgb:[253,239,154]}]),r(i,"temperature",[{index:0,rgb:[4,35,51]},{index:.13,rgb:[23,51,122]},{index:.25,rgb:[85,59,157]},{index:.38,rgb:[129,79,143]},{index:.5,rgb:[175,95,130]},{index:.63,rgb:[222,112,101]},{index:.75,rgb:[249,146,66]},{index:.88,rgb:[249,196,65]},{index:1,rgb:[232,250,91]}]),r(i,"turbidity",[{index:0,rgb:[34,31,27]},{index:.13,rgb:[65,50,41]},{index:.25,rgb:[98,69,52]},{index:.38,rgb:[131,89,57]},{index:.5,rgb:[161,112,59]},{index:.63,rgb:[185,140,66]},{index:.75,rgb:[202,174,88]},{index:.88,rgb:[216,209,126]},{index:1,rgb:[233,246,171]}]),r(i,"velocity-blue",[{index:0,rgb:[17,32,64]},{index:.13,rgb:[35,52,116]},{index:.25,rgb:[29,81,156]},{index:.38,rgb:[31,113,162]},{index:.5,rgb:[50,144,169]},{index:.63,rgb:[87,173,176]},{index:.75,rgb:[149,196,189]},{index:.88,rgb:[203,221,211]},{index:1,rgb:[254,251,230]}]),r(i,"velocity-green",[{index:0,rgb:[23,35,19]},{index:.13,rgb:[24,64,38]},{index:.25,rgb:[11,95,45]},{index:.38,rgb:[39,123,35]},{index:.5,rgb:[95,146,12]},{index:.63,rgb:[152,165,18]},{index:.75,rgb:[201,186,69]},{index:.88,rgb:[233,216,137]},{index:1,rgb:[255,253,205]}]),r(i,"cubehelix",[{index:0,rgb:[0,0,0]},{index:.07,rgb:[22,5,59]},{index:.13,rgb:[60,4,105]},{index:.2,rgb:[109,1,135]},{index:.27,rgb:[161,0,147]},{index:.33,rgb:[210,2,142]},{index:.4,rgb:[251,11,123]},{index:.47,rgb:[255,29,97]},{index:.53,rgb:[255,54,69]},{index:.6,rgb:[255,85,46]},{index:.67,rgb:[255,120,34]},{index:.73,rgb:[255,157,37]},{index:.8,rgb:[241,191,57]},{index:.87,rgb:[224,220,93]},{index:.93,rgb:[218,241,142]},{index:1,rgb:[227,253,198]}]),i)},{}],68:[function(e,t,n){"use strict";var r=e("./colorScale"),i=e("lerp");function a(e){var t,n,a,u,c,f,d,h,p,g;if(e||(e={}),h=(e.nshades||72)-1,d=e.format||"hex",(f=e.colormap)||(f="jet"),"string"===typeof f){if(f=f.toLowerCase(),!r[f])throw Error(f+" not a supported colorscale");c=r[f]}else{if(!Array.isArray(f))throw Error("unsupported colormap option",f);c=f.slice()}if(c.length>h+1)throw new Error(f+" map requires nshades to be at least size "+c.length);p=Array.isArray(e.alpha)?2!==e.alpha.length?[1,1]:e.alpha.slice():"number"===typeof e.alpha?[e.alpha,e.alpha]:[1,1],t=c.map((function(e){return Math.round(e.index*h)})),p[0]=Math.min(Math.max(p[0],0),1),p[1]=Math.min(Math.max(p[1],0),1);var v=c.map((function(e,t){var n=c[t].index,r=c[t].rgb.slice();return 4===r.length&&r[3]>=0&&r[3]<=1||(r[3]=p[0]+(p[1]-p[0])*n),r})),m=[];for(g=0;g<t.length-1;++g){u=t[g+1]-t[g],n=v[g],a=v[g+1];for(var y=0;y<u;y++){var b=y/u;m.push([Math.round(i(n[0],a[0],b)),Math.round(i(n[1],a[1],b)),Math.round(i(n[2],a[2],b)),i(n[3],a[3],b)])}}return m.push(c[c.length-1].rgb.concat(p[1])),"hex"===d?m=m.map(s):"rgbaString"===d?m=m.map(l):"float"===d&&(m=m.map(o)),m}function o(e){return[e[0]/255,e[1]/255,e[2]/255,e[3]]}function s(e){for(var t,n="#",r=0;r<3;++r)n+=("00"+(t=(t=e[r]).toString(16))).substr(t.length);return n}function l(e){return"rgba("+e.join(",")+")"}t.exports=a},{"./colorScale":67,lerp:280}],69:[function(e,t,n){"use strict";t.exports=u;var r=e("robust-orientation"),i=e("signum"),a=e("two-sum"),o=e("robust-product"),s=e("robust-sum");function l(e,t,n){var r=a(e[0],-t[0]),i=a(e[1],-t[1]),l=a(n[0],-t[0]),u=a(n[1],-t[1]),c=s(o(r,l),o(i,u));return c[c.length-1]>=0}function u(e,t,n,a){var o=r(t,n,a);if(0===o){var s=i(r(e,t,n)),u=i(r(e,t,a));if(s===u){if(0===s){var c=l(e,t,n);return c===l(e,t,a)?0:c?1:-1}return 0}return 0===u?s>0||l(e,t,a)?-1:1:0===s?u>0||l(e,t,n)?1:-1:i(u-s)}var f=r(e,t,n);return f>0?o>0&&r(e,t,a)>0?1:-1:f<0?o>0||r(e,t,a)>0?1:-1:r(e,t,a)>0||l(e,t,n)?1:-1}},{"robust-orientation":339,"robust-product":340,"robust-sum":344,signum:345,"two-sum":365}],70:[function(e,t,n){t.exports=a;var r=Math.min;function i(e,t){return e-t}function a(e,t){var n=e.length,a=e.length-t.length;if(a)return a;switch(n){case 0:return 0;case 1:return e[0]-t[0];case 2:return e[0]+e[1]-t[0]-t[1]||r(e[0],e[1])-r(t[0],t[1]);case 3:var o=e[0]+e[1],s=t[0]+t[1];if(a=o+e[2]-(s+t[2]))return a;var l=r(e[0],e[1]),u=r(t[0],t[1]);return r(l,e[2])-r(u,t[2])||r(l+e[2],o)-r(u+t[2],s);case 4:var c=e[0],f=e[1],d=e[2],h=e[3],p=t[0],g=t[1],v=t[2],m=t[3];return c+f+d+h-(p+g+v+m)||r(c,f,d,h)-r(p,g,v,m,p)||r(c+f,c+d,c+h,f+d,f+h,d+h)-r(p+g,p+v,p+m,g+v,g+m,v+m)||r(c+f+d,c+f+h,c+d+h,f+d+h)-r(p+g+v,p+g+m,p+v+m,g+v+m);default:for(var y=e.slice().sort(i),b=t.slice().sort(i),x=0;x<n;++x)if(a=y[x]-b[x])return a;return 0}}},{}],71:[function(e,t,n){"use strict";var r=e("compare-cell"),i=e("cell-orientation");function a(e,t){return r(e,t)||i(e)-i(t)}t.exports=a},{"cell-orientation":55,"compare-cell":70}],72:[function(e,t,n){"use strict";var r=e("./lib/ch1d"),i=e("./lib/ch2d"),a=e("./lib/chnd");function o(e){var t=e.length;if(0===t)return[];if(1===t)return[[0]];var n=e[0].length;return 0===n?[]:1===n?r(e):2===n?i(e):a(e,n)}t.exports=o},{"./lib/ch1d":73,"./lib/ch2d":74,"./lib/chnd":75}],73:[function(e,t,n){"use strict";function r(e){for(var t=0,n=0,r=1;r<e.length;++r)e[r][0]<e[t][0]&&(t=r),e[r][0]>e[n][0]&&(n=r);return t<n?[[t],[n]]:t>n?[[n],[t]]:[[t]]}t.exports=r},{}],74:[function(e,t,n){"use strict";t.exports=i;var r=e("monotone-convex-hull-2d");function i(e){var t=r(e),n=t.length;if(n<=2)return[];for(var i=new Array(n),a=t[n-1],o=0;o<n;++o){var s=t[o];i[o]=[a,s],a=s}return i}},{"monotone-convex-hull-2d":288}],75:[function(e,t,n){"use strict";t.exports=s;var r=e("incremental-convex-hull"),i=e("affine-hull");function a(e,t){for(var n=e.length,r=new Array(n),i=0;i<t.length;++i)r[i]=e[t[i]];var a=t.length;for(i=0;i<n;++i)t.indexOf(i)<0&&(r[a++]=e[i]);return r}function o(e,t){for(var n=e.length,r=t.length,i=0;i<n;++i)for(var a=e[i],o=0;o<a.length;++o){var s=a[o];if(s<r)a[o]=t[s];else{s-=r;for(var l=0;l<r;++l)s>=t[l]&&(s+=1);a[o]=s}}return e}function s(e,t){try{return r(e,!0)}catch(l){var n=i(e);if(n.length<=t)return[];var s=a(e,n);return o(r(s,!0),n)}}},{"affine-hull":14,"incremental-convex-hull":270}],76:[function(e,t,n){"use strict";function r(e,t,n,r,i,a){var o=6*i*i-6*i,s=3*i*i-4*i+1,l=-6*i*i+6*i,u=3*i*i-2*i;if(e.length){a||(a=new Array(e.length));for(var c=e.length-1;c>=0;--c)a[c]=o*e[c]+s*t[c]+l*n[c]+u*r[c];return a}return o*e+s*t+l*n[c]+u*r}function i(e,t,n,r,i,a){var o=i-1,s=i*i,l=o*o,u=(1+2*i)*l,c=i*l,f=s*(3-2*i),d=s*o;if(e.length){a||(a=new Array(e.length));for(var h=e.length-1;h>=0;--h)a[h]=u*e[h]+c*t[h]+f*n[h]+d*r[h];return a}return u*e+c*t+f*n+d*r}t.exports=i,t.exports.derivative=r},{}],77:[function(e,t,n){"use strict";var r=e("./lib/thunk.js");function i(){this.argTypes=[],this.shimArgs=[],this.arrayArgs=[],this.arrayBlockIndices=[],this.scalarArgs=[],this.offsetArgs=[],this.offsetArgIndex=[],this.indexArgs=[],this.shapeArgs=[],this.funcName="",this.pre=null,this.body=null,this.post=null,this.debug=!1}function a(e){var t=new i;t.pre=e.pre,t.body=e.body,t.post=e.post;var n=e.args.slice(0);t.argTypes=n;for(var a=0;a<n.length;++a){var o=n[a];if("array"===o||"object"===typeof o&&o.blockIndices){if(t.argTypes[a]="array",t.arrayArgs.push(a),t.arrayBlockIndices.push(o.blockIndices?o.blockIndices:0),t.shimArgs.push("array"+a),a<t.pre.args.length&&t.pre.args[a].count>0)throw new Error("cwise: pre() block may not reference array args");if(a<t.post.args.length&&t.post.args[a].count>0)throw new Error("cwise: post() block may not reference array args")}else if("scalar"===o)t.scalarArgs.push(a),t.shimArgs.push("scalar"+a);else if("index"===o){if(t.indexArgs.push(a),a<t.pre.args.length&&t.pre.args[a].count>0)throw new Error("cwise: pre() block may not reference array index");if(a<t.body.args.length&&t.body.args[a].lvalue)throw new Error("cwise: body() block may not write to array index");if(a<t.post.args.length&&t.post.args[a].count>0)throw new Error("cwise: post() block may not reference array index")}else if("shape"===o){if(t.shapeArgs.push(a),a<t.pre.args.length&&t.pre.args[a].lvalue)throw new Error("cwise: pre() block may not write to array shape");if(a<t.body.args.length&&t.body.args[a].lvalue)throw new Error("cwise: body() block may not write to array shape");if(a<t.post.args.length&&t.post.args[a].lvalue)throw new Error("cwise: post() block may not write to array shape")}else{if("object"!==typeof o||!o.offset)throw new Error("cwise: Unknown argument type "+n[a]);t.argTypes[a]="offset",t.offsetArgs.push({array:o.array,offset:o.offset}),t.offsetArgIndex.push(a)}}if(t.arrayArgs.length<=0)throw new Error("cwise: No array arguments specified");if(t.pre.args.length>n.length)throw new Error("cwise: Too many arguments in pre() block");if(t.body.args.length>n.length)throw new Error("cwise: Too many arguments in body() block");if(t.post.args.length>n.length)throw new Error("cwise: Too many arguments in post() block");return t.debug=!!e.printCode||!!e.debug,t.funcName=e.funcName||"cwise",t.blockSize=e.blockSize||64,r(t)}t.exports=a},{"./lib/thunk.js":79}],78:[function(e,t,n){"use strict";var r=e("uniq");function i(e,t,n){var r,i,a=e.length,o=t.arrayArgs.length,s=t.indexArgs.length>0,l=[],u=[],c=0,f=0;for(r=0;r<a;++r)u.push(["i",r,"=0"].join(""));for(i=0;i<o;++i)for(r=0;r<a;++r)f=c,c=e[r],0===r?u.push(["d",i,"s",r,"=t",i,"p",c].join("")):u.push(["d",i,"s",r,"=(t",i,"p",c,"-s",f,"*t",i,"p",f,")"].join(""));for(u.length>0&&l.push("var "+u.join(",")),r=a-1;r>=0;--r)c=e[r],l.push(["for(i",r,"=0;i",r,"<s",c,";++i",r,"){"].join(""));for(l.push(n),r=0;r<a;++r){for(f=c,c=e[r],i=0;i<o;++i)l.push(["p",i,"+=d",i,"s",r].join(""));s&&(r>0&&l.push(["index[",f,"]-=s",f].join("")),l.push(["++index[",c,"]"].join(""))),l.push("}")}return l.join("\n")}function a(e,t,n,r){for(var a=t.length,o=n.arrayArgs.length,s=n.blockSize,l=n.indexArgs.length>0,u=[],c=0;c<o;++c)u.push(["var offset",c,"=p",c].join(""));for(c=e;c<a;++c)u.push(["for(var j"+c+"=SS[",t[c],"]|0;j",c,">0;){"].join("")),u.push(["if(j",c,"<",s,"){"].join("")),u.push(["s",t[c],"=j",c].join("")),u.push(["j",c,"=0"].join("")),u.push(["}else{s",t[c],"=",s].join("")),u.push(["j",c,"-=",s,"}"].join("")),l&&u.push(["index[",t[c],"]=j",c].join(""));for(c=0;c<o;++c){for(var f=["offset"+c],d=e;d<a;++d)f.push(["j",d,"*t",c,"p",t[d]].join(""));u.push(["p",c,"=(",f.join("+"),")"].join(""))}for(u.push(i(t,n,r)),c=e;c<a;++c)u.push("}");return u.join("\n")}function o(e){for(var t=0,n=e[0].length;t<n;){for(var r=1;r<e.length;++r)if(e[r][t]!==e[0][t])return t;++t}return t}function s(e,t,n){for(var r=e.body,i=[],a=[],o=0;o<e.args.length;++o){var s=e.args[o];if(!(s.count<=0)){var l=new RegExp(s.name,"g"),u="",c=t.arrayArgs.indexOf(o);switch(t.argTypes[o]){case"offset":var f=t.offsetArgIndex.indexOf(o);c=t.offsetArgs[f].array,u="+q"+f;case"array":u="p"+c+u;var d="l"+o,h="a"+c;if(0===t.arrayBlockIndices[c])1===s.count?"generic"===n[c]?s.lvalue?(i.push(["var ",d,"=",h,".get(",u,")"].join("")),r=r.replace(l,d),a.push([h,".set(",u,",",d,")"].join(""))):r=r.replace(l,[h,".get(",u,")"].join("")):r=r.replace(l,[h,"[",u,"]"].join("")):"generic"===n[c]?(i.push(["var ",d,"=",h,".get(",u,")"].join("")),r=r.replace(l,d),s.lvalue&&a.push([h,".set(",u,",",d,")"].join(""))):(i.push(["var ",d,"=",h,"[",u,"]"].join("")),r=r.replace(l,d),s.lvalue&&a.push([h,"[",u,"]=",d].join("")));else{for(var p=[s.name],g=[u],v=0;v<Math.abs(t.arrayBlockIndices[c]);v++)p.push("\\s*\\[([^\\]]+)\\]"),g.push("$"+(v+1)+"*t"+c+"b"+v);if(l=new RegExp(p.join(""),"g"),u=g.join("+"),"generic"===n[c])throw new Error("cwise: Generic arrays not supported in combination with blocks!");r=r.replace(l,[h,"[",u,"]"].join(""))}break;case"scalar":r=r.replace(l,"Y"+t.scalarArgs.indexOf(o));break;case"index":r=r.replace(l,"index");break;case"shape":r=r.replace(l,"shape")}}}return[i.join("\n"),r,a.join("\n")].join("\n").trim()}function l(e){for(var t=new Array(e.length),n=!0,r=0;r<e.length;++r){var i=e[r],a=i.match(/\d+/);a=a?a[0]:"",0===i.charAt(0)?t[r]="u"+i.charAt(1)+a:t[r]=i.charAt(0)+a,r>0&&(n=n&&t[r]===t[r-1])}return n?t[0]:t.join("")}function u(e,t){for(var n=t[1].length-Math.abs(e.arrayBlockIndices[0])|0,u=new Array(e.arrayArgs.length),c=new Array(e.arrayArgs.length),f=0;f<e.arrayArgs.length;++f)c[f]=t[2*f],u[f]=t[2*f+1];var d=[],h=[],p=[],g=[],v=[];for(f=0;f<e.arrayArgs.length;++f){e.arrayBlockIndices[f]<0?(p.push(0),g.push(n),d.push(n),h.push(n+e.arrayBlockIndices[f])):(p.push(e.arrayBlockIndices[f]),g.push(e.arrayBlockIndices[f]+n),d.push(0),h.push(e.arrayBlockIndices[f]));for(var m=[],y=0;y<u[f].length;y++)p[f]<=u[f][y]&&u[f][y]<g[f]&&m.push(u[f][y]-p[f]);v.push(m)}var b=["SS"],x=["'use strict'"],_=[];for(y=0;y<n;++y)_.push(["s",y,"=SS[",y,"]"].join(""));for(f=0;f<e.arrayArgs.length;++f){for(b.push("a"+f),b.push("t"+f),b.push("p"+f),y=0;y<n;++y)_.push(["t",f,"p",y,"=t",f,"[",p[f]+y,"]"].join(""));for(y=0;y<Math.abs(e.arrayBlockIndices[f]);++y)_.push(["t",f,"b",y,"=t",f,"[",d[f]+y,"]"].join(""))}for(f=0;f<e.scalarArgs.length;++f)b.push("Y"+f);if(e.shapeArgs.length>0&&_.push("shape=SS.slice(0)"),e.indexArgs.length>0){var w=new Array(n);for(f=0;f<n;++f)w[f]="0";_.push(["index=[",w.join(","),"]"].join(""))}for(f=0;f<e.offsetArgs.length;++f){var k=e.offsetArgs[f],M=[];for(y=0;y<k.offset.length;++y)0!==k.offset[y]&&(1===k.offset[y]?M.push(["t",k.array,"p",y].join("")):M.push([k.offset[y],"*t",k.array,"p",y].join("")));0===M.length?_.push("q"+f+"=0"):_.push(["q",f,"=",M.join("+")].join(""))}var T=r([].concat(e.pre.thisVars).concat(e.body.thisVars).concat(e.post.thisVars));for((_=_.concat(T)).length>0&&x.push("var "+_.join(",")),f=0;f<e.arrayArgs.length;++f)x.push("p"+f+"|=0");e.pre.body.length>3&&x.push(s(e.pre,e,c));var A=s(e.body,e,c),E=o(v);E<n?x.push(a(E,v[0],e,A)):x.push(i(v[0],e,A)),e.post.body.length>3&&x.push(s(e.post,e,c)),e.debug&&console.log("-----Generated cwise routine for ",t,":\n"+x.join("\n")+"\n----------");var S=[e.funcName||"unnamed","_cwise_loop_",u[0].join("s"),"m",E,l(c)].join("");return new Function(["function ",S,"(",b.join(","),"){",x.join("\n"),"} return ",S].join(""))()}t.exports=u},{uniq:368}],79:[function(e,t,n){"use strict";var r=e("./compile.js");function i(e){var t=["'use strict'","var CACHED={}"],n=[],i=e.funcName+"_cwise_thunk";t.push(["return function ",i,"(",e.shimArgs.join(","),"){"].join(""));for(var a=[],o=[],s=[["array",e.arrayArgs[0],".shape.slice(",Math.max(0,e.arrayBlockIndices[0]),e.arrayBlockIndices[0]<0?","+e.arrayBlockIndices[0]+")":")"].join("")],l=[],u=[],c=0;c<e.arrayArgs.length;++c){var f=e.arrayArgs[c];n.push(["t",f,"=array",f,".dtype,","r",f,"=array",f,".order"].join("")),a.push("t"+f),a.push("r"+f),o.push("t"+f),o.push("r"+f+".join()"),s.push("array"+f+".data"),s.push("array"+f+".stride"),s.push("array"+f+".offset|0"),c>0&&(l.push("array"+e.arrayArgs[0]+".shape.length===array"+f+".shape.length+"+(Math.abs(e.arrayBlockIndices[0])-Math.abs(e.arrayBlockIndices[c]))),u.push("array"+e.arrayArgs[0]+".shape[shapeIndex+"+Math.max(0,e.arrayBlockIndices[0])+"]===array"+f+".shape[shapeIndex+"+Math.max(0,e.arrayBlockIndices[c])+"]"))}for(e.arrayArgs.length>1&&(t.push("if (!("+l.join(" && ")+")) throw new Error('cwise: Arrays do not all have the same dimensionality!')"),t.push("for(var shapeIndex=array"+e.arrayArgs[0]+".shape.length-"+Math.abs(e.arrayBlockIndices[0])+"; shapeIndex--\x3e0;) {"),t.push("if (!("+u.join(" && ")+")) throw new Error('cwise: Arrays do not all have the same shape!')"),t.push("}")),c=0;c<e.scalarArgs.length;++c)s.push("scalar"+e.scalarArgs[c]);return n.push(["type=[",o.join(","),"].join()"].join("")),n.push("proc=CACHED[type]"),t.push("var "+n.join(",")),t.push(["if(!proc){","CACHED[type]=proc=compile([",a.join(","),"])}","return proc(",s.join(","),")}"].join("")),e.debug&&console.log("-----Generated thunk:\n"+t.join("\n")+"\n----------"),new Function("compile",t.join("\n"))(r.bind(void 0,e))}t.exports=i},{"./compile.js":78}],80:[function(t,n,r){!function(i,a){"object"===typeof r&&"undefined"!==typeof n?a(r,t("d3-time")):"function"===typeof e&&e.amd?e(["exports","d3-time"],a):a((i=i||self).d3=i.d3||{},i.d3)}(this,(function(e,t){"use strict";function n(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function r(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function i(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}function a(e){var a=e.dateTime,o=e.date,l=e.time,u=e.periods,c=e.days,f=e.shortDays,d=e.months,ye=e.shortMonths,be=h(u),xe=p(u),_e=h(c),we=p(c),ke=h(f),Me=p(f),Te=h(d),Ae=p(d),Ee=h(ye),Se=p(ye),Oe={a:He,A:qe,b:We,B:Ge,c:null,d:z,e:z,f:B,H:I,I:N,j:D,L:F,m:U,M:V,p:Xe,q:Ye,Q:ve,s:me,S:H,u:q,U:W,V:G,w:X,W:Y,x:null,X:null,y:Z,Y:$,Z:K,"%":ge},Ce={a:Ze,A:$e,b:Ke,B:Qe,c:null,d:Q,e:Q,f:re,H:J,I:ee,j:te,L:ne,m:ie,M:ae,p:Je,q:et,Q:ve,s:me,S:oe,u:se,U:le,V:ue,w:ce,W:fe,x:null,X:null,y:de,Y:he,Z:pe,"%":ge},Le={a:Ie,A:Ne,b:De,B:Fe,c:Be,d:T,e:T,f:L,H:E,I:E,j:A,L:C,m:M,M:S,p:ze,q:k,Q:P,s:j,S:O,u:v,U:m,V:y,w:g,W:b,x:Ue,X:Ve,y:_,Y:x,Z:w,"%":R};function Re(e,t){return function(n){var r,i,a,o=[],l=-1,u=0,c=e.length;for(n instanceof Date||(n=new Date(+n));++l<c;)37===e.charCodeAt(l)&&(o.push(e.slice(u,l)),null!=(i=s[r=e.charAt(++l)])?r=e.charAt(++l):i="e"===r?" ":"0",(a=t[r])&&(r=a(n,i)),o.push(r),u=l+1);return o.push(e.slice(u,l)),o.join("")}}function Pe(e,a){return function(o){var s,l,u=i(1900,void 0,1);if(je(u,e,o+="",0)!=o.length)return null;if("Q"in u)return new Date(u.Q);if("s"in u)return new Date(1e3*u.s+("L"in u?u.L:0));if(a&&!("Z"in u)&&(u.Z=0),"p"in u&&(u.H=u.H%12+12*u.p),void 0===u.m&&(u.m="q"in u?u.q:0),"V"in u){if(u.V<1||u.V>53)return null;"w"in u||(u.w=1),"Z"in u?(l=(s=r(i(u.y,0,1))).getUTCDay(),s=l>4||0===l?t.utcMonday.ceil(s):t.utcMonday(s),s=t.utcDay.offset(s,7*(u.V-1)),u.y=s.getUTCFullYear(),u.m=s.getUTCMonth(),u.d=s.getUTCDate()+(u.w+6)%7):(l=(s=n(i(u.y,0,1))).getDay(),s=l>4||0===l?t.timeMonday.ceil(s):t.timeMonday(s),s=t.timeDay.offset(s,7*(u.V-1)),u.y=s.getFullYear(),u.m=s.getMonth(),u.d=s.getDate()+(u.w+6)%7)}else("W"in u||"U"in u)&&("w"in u||(u.w="u"in u?u.u%7:"W"in u?1:0),l="Z"in u?r(i(u.y,0,1)).getUTCDay():n(i(u.y,0,1)).getDay(),u.m=0,u.d="W"in u?(u.w+6)%7+7*u.W-(l+5)%7:u.w+7*u.U-(l+6)%7);return"Z"in u?(u.H+=u.Z/100|0,u.M+=u.Z%100,r(u)):n(u)}}function je(e,t,n,r){for(var i,a,o=0,l=t.length,u=n.length;o<l;){if(r>=u)return-1;if(37===(i=t.charCodeAt(o++))){if(i=t.charAt(o++),!(a=Le[i in s?t.charAt(o++):i])||(r=a(e,n,r))<0)return-1}else if(i!=n.charCodeAt(r++))return-1}return r}function ze(e,t,n){var r=be.exec(t.slice(n));return r?(e.p=xe[r[0].toLowerCase()],n+r[0].length):-1}function Ie(e,t,n){var r=ke.exec(t.slice(n));return r?(e.w=Me[r[0].toLowerCase()],n+r[0].length):-1}function Ne(e,t,n){var r=_e.exec(t.slice(n));return r?(e.w=we[r[0].toLowerCase()],n+r[0].length):-1}function De(e,t,n){var r=Ee.exec(t.slice(n));return r?(e.m=Se[r[0].toLowerCase()],n+r[0].length):-1}function Fe(e,t,n){var r=Te.exec(t.slice(n));return r?(e.m=Ae[r[0].toLowerCase()],n+r[0].length):-1}function Be(e,t,n){return je(e,a,t,n)}function Ue(e,t,n){return je(e,o,t,n)}function Ve(e,t,n){return je(e,l,t,n)}function He(e){return f[e.getDay()]}function qe(e){return c[e.getDay()]}function We(e){return ye[e.getMonth()]}function Ge(e){return d[e.getMonth()]}function Xe(e){return u[+(e.getHours()>=12)]}function Ye(e){return 1+~~(e.getMonth()/3)}function Ze(e){return f[e.getUTCDay()]}function $e(e){return c[e.getUTCDay()]}function Ke(e){return ye[e.getUTCMonth()]}function Qe(e){return d[e.getUTCMonth()]}function Je(e){return u[+(e.getUTCHours()>=12)]}function et(e){return 1+~~(e.getUTCMonth()/3)}return Oe.x=Re(o,Oe),Oe.X=Re(l,Oe),Oe.c=Re(a,Oe),Ce.x=Re(o,Ce),Ce.X=Re(l,Ce),Ce.c=Re(a,Ce),{format:function(e){var t=Re(e+="",Oe);return t.toString=function(){return e},t},parse:function(e){var t=Pe(e+="",!1);return t.toString=function(){return e},t},utcFormat:function(e){var t=Re(e+="",Ce);return t.toString=function(){return e},t},utcParse:function(e){var t=Pe(e+="",!0);return t.toString=function(){return e},t}}}var o,s={"-":"",_:" ",0:"0"},l=/^\s*\d+/,u=/^%/,c=/[\\^$*+?|[\]().{}]/g;function f(e,t,n){var r=e<0?"-":"",i=(r?-e:e)+"",a=i.length;return r+(a<n?new Array(n-a+1).join(t)+i:i)}function d(e){return e.replace(c,"\\$&")}function h(e){return new RegExp("^(?:"+e.map(d).join("|")+")","i")}function p(e){for(var t={},n=-1,r=e.length;++n<r;)t[e[n].toLowerCase()]=n;return t}function g(e,t,n){var r=l.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function v(e,t,n){var r=l.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function m(e,t,n){var r=l.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function y(e,t,n){var r=l.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function b(e,t,n){var r=l.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function x(e,t,n){var r=l.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function _(e,t,n){var r=l.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function w(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function k(e,t,n){var r=l.exec(t.slice(n,n+1));return r?(e.q=3*r[0]-3,n+r[0].length):-1}function M(e,t,n){var r=l.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function T(e,t,n){var r=l.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function A(e,t,n){var r=l.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function E(e,t,n){var r=l.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function S(e,t,n){var r=l.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function O(e,t,n){var r=l.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function C(e,t,n){var r=l.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function L(e,t,n){var r=l.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function R(e,t,n){var r=u.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function P(e,t,n){var r=l.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function j(e,t,n){var r=l.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function z(e,t){return f(e.getDate(),t,2)}function I(e,t){return f(e.getHours(),t,2)}function N(e,t){return f(e.getHours()%12||12,t,2)}function D(e,n){return f(1+t.timeDay.count(t.timeYear(e),e),n,3)}function F(e,t){return f(e.getMilliseconds(),t,3)}function B(e,t){return F(e,t)+"000"}function U(e,t){return f(e.getMonth()+1,t,2)}function V(e,t){return f(e.getMinutes(),t,2)}function H(e,t){return f(e.getSeconds(),t,2)}function q(e){var t=e.getDay();return 0===t?7:t}function W(e,n){return f(t.timeSunday.count(t.timeYear(e)-1,e),n,2)}function G(e,n){var r=e.getDay();return e=r>=4||0===r?t.timeThursday(e):t.timeThursday.ceil(e),f(t.timeThursday.count(t.timeYear(e),e)+(4===t.timeYear(e).getDay()),n,2)}function X(e){return e.getDay()}function Y(e,n){return f(t.timeMonday.count(t.timeYear(e)-1,e),n,2)}function Z(e,t){return f(e.getFullYear()%100,t,2)}function $(e,t){return f(e.getFullYear()%1e4,t,4)}function K(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+f(t/60|0,"0",2)+f(t%60,"0",2)}function Q(e,t){return f(e.getUTCDate(),t,2)}function J(e,t){return f(e.getUTCHours(),t,2)}function ee(e,t){return f(e.getUTCHours()%12||12,t,2)}function te(e,n){return f(1+t.utcDay.count(t.utcYear(e),e),n,3)}function ne(e,t){return f(e.getUTCMilliseconds(),t,3)}function re(e,t){return ne(e,t)+"000"}function ie(e,t){return f(e.getUTCMonth()+1,t,2)}function ae(e,t){return f(e.getUTCMinutes(),t,2)}function oe(e,t){return f(e.getUTCSeconds(),t,2)}function se(e){var t=e.getUTCDay();return 0===t?7:t}function le(e,n){return f(t.utcSunday.count(t.utcYear(e)-1,e),n,2)}function ue(e,n){var r=e.getUTCDay();return e=r>=4||0===r?t.utcThursday(e):t.utcThursday.ceil(e),f(t.utcThursday.count(t.utcYear(e),e)+(4===t.utcYear(e).getUTCDay()),n,2)}function ce(e){return e.getUTCDay()}function fe(e,n){return f(t.utcMonday.count(t.utcYear(e)-1,e),n,2)}function de(e,t){return f(e.getUTCFullYear()%100,t,2)}function he(e,t){return f(e.getUTCFullYear()%1e4,t,4)}function pe(){return"+0000"}function ge(){return"%"}function ve(e){return+e}function me(e){return Math.floor(+e/1e3)}function ye(t){return o=a(t),e.timeFormat=o.format,e.timeParse=o.parse,e.utcFormat=o.utcFormat,e.utcParse=o.utcParse,o}ye({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});var be="%Y-%m-%dT%H:%M:%S.%LZ";function xe(e){return e.toISOString()}var _e=Date.prototype.toISOString?xe:e.utcFormat(be);function we(e){var t=new Date(e);return isNaN(t)?null:t}var ke=+new Date("2000-01-01T00:00:00.000Z")?we:e.utcParse(be);e.isoFormat=_e,e.isoParse=ke,e.timeFormatDefaultLocale=ye,e.timeFormatLocale=a,Object.defineProperty(e,"__esModule",{value:!0})}))},{"d3-time":81}],81:[function(t,n,r){!function(t,i){"object"===typeof r&&"undefined"!==typeof n?i(r):"function"===typeof e&&e.amd?e(["exports"],i):i((t=t||self).d3=t.d3||{})}(this,(function(e){"use strict";var t=new Date,n=new Date;function r(e,i,a,o){function s(t){return e(t=0===arguments.length?new Date:new Date(+t)),t}return s.floor=function(t){return e(t=new Date(+t)),t},s.ceil=function(t){return e(t=new Date(t-1)),i(t,1),e(t),t},s.round=function(e){var t=s(e),n=s.ceil(e);return e-t<n-e?t:n},s.offset=function(e,t){return i(e=new Date(+e),null==t?1:Math.floor(t)),e},s.range=function(t,n,r){var a,o=[];if(t=s.ceil(t),r=null==r?1:Math.floor(r),!(t<n)||!(r>0))return o;do{o.push(a=new Date(+t)),i(t,r),e(t)}while(a<t&&t<n);return o},s.filter=function(t){return r((function(n){if(n>=n)for(;e(n),!t(n);)n.setTime(n-1)}),(function(e,n){if(e>=e)if(n<0)for(;++n<=0;)for(;i(e,-1),!t(e););else for(;--n>=0;)for(;i(e,1),!t(e););}))},a&&(s.count=function(r,i){return t.setTime(+r),n.setTime(+i),e(t),e(n),Math.floor(a(t,n))},s.every=function(e){return e=Math.floor(e),isFinite(e)&&e>0?e>1?s.filter(o?function(t){return o(t)%e===0}:function(t){return s.count(0,t)%e===0}):s:null}),s}var i=r((function(){}),(function(e,t){e.setTime(+e+t)}),(function(e,t){return t-e}));i.every=function(e){return e=Math.floor(e),isFinite(e)&&e>0?e>1?r((function(t){t.setTime(Math.floor(t/e)*e)}),(function(t,n){t.setTime(+t+n*e)}),(function(t,n){return(n-t)/e})):i:null};var a=i.range,o=1e3,s=6e4,l=36e5,u=864e5,c=6048e5,f=r((function(e){e.setTime(e-e.getMilliseconds())}),(function(e,t){e.setTime(+e+t*o)}),(function(e,t){return(t-e)/o}),(function(e){return e.getUTCSeconds()})),d=f.range,h=r((function(e){e.setTime(e-e.getMilliseconds()-e.getSeconds()*o)}),(function(e,t){e.setTime(+e+t*s)}),(function(e,t){return(t-e)/s}),(function(e){return e.getMinutes()})),p=h.range,g=r((function(e){e.setTime(e-e.getMilliseconds()-e.getSeconds()*o-e.getMinutes()*s)}),(function(e,t){e.setTime(+e+t*l)}),(function(e,t){return(t-e)/l}),(function(e){return e.getHours()})),v=g.range,m=r((function(e){e.setHours(0,0,0,0)}),(function(e,t){e.setDate(e.getDate()+t)}),(function(e,t){return(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*s)/u}),(function(e){return e.getDate()-1})),y=m.range;function b(e){return r((function(t){t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)}),(function(e,t){e.setDate(e.getDate()+7*t)}),(function(e,t){return(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*s)/c}))}var x=b(0),_=b(1),w=b(2),k=b(3),M=b(4),T=b(5),A=b(6),E=x.range,S=_.range,O=w.range,C=k.range,L=M.range,R=T.range,P=A.range,j=r((function(e){e.setDate(1),e.setHours(0,0,0,0)}),(function(e,t){e.setMonth(e.getMonth()+t)}),(function(e,t){return t.getMonth()-e.getMonth()+12*(t.getFullYear()-e.getFullYear())}),(function(e){return e.getMonth()})),z=j.range,I=r((function(e){e.setMonth(0,1),e.setHours(0,0,0,0)}),(function(e,t){e.setFullYear(e.getFullYear()+t)}),(function(e,t){return t.getFullYear()-e.getFullYear()}),(function(e){return e.getFullYear()}));I.every=function(e){return isFinite(e=Math.floor(e))&&e>0?r((function(t){t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)}),(function(t,n){t.setFullYear(t.getFullYear()+n*e)})):null};var N=I.range,D=r((function(e){e.setUTCSeconds(0,0)}),(function(e,t){e.setTime(+e+t*s)}),(function(e,t){return(t-e)/s}),(function(e){return e.getUTCMinutes()})),F=D.range,B=r((function(e){e.setUTCMinutes(0,0,0)}),(function(e,t){e.setTime(+e+t*l)}),(function(e,t){return(t-e)/l}),(function(e){return e.getUTCHours()})),U=B.range,V=r((function(e){e.setUTCHours(0,0,0,0)}),(function(e,t){e.setUTCDate(e.getUTCDate()+t)}),(function(e,t){return(t-e)/u}),(function(e){return e.getUTCDate()-1})),H=V.range;function q(e){return r((function(t){t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)}),(function(e,t){e.setUTCDate(e.getUTCDate()+7*t)}),(function(e,t){return(t-e)/c}))}var W=q(0),G=q(1),X=q(2),Y=q(3),Z=q(4),$=q(5),K=q(6),Q=W.range,J=G.range,ee=X.range,te=Y.range,ne=Z.range,re=$.range,ie=K.range,ae=r((function(e){e.setUTCDate(1),e.setUTCHours(0,0,0,0)}),(function(e,t){e.setUTCMonth(e.getUTCMonth()+t)}),(function(e,t){return t.getUTCMonth()-e.getUTCMonth()+12*(t.getUTCFullYear()-e.getUTCFullYear())}),(function(e){return e.getUTCMonth()})),oe=ae.range,se=r((function(e){e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)}),(function(e,t){e.setUTCFullYear(e.getUTCFullYear()+t)}),(function(e,t){return t.getUTCFullYear()-e.getUTCFullYear()}),(function(e){return e.getUTCFullYear()}));se.every=function(e){return isFinite(e=Math.floor(e))&&e>0?r((function(t){t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)}),(function(t,n){t.setUTCFullYear(t.getUTCFullYear()+n*e)})):null};var le=se.range;e.timeDay=m,e.timeDays=y,e.timeFriday=T,e.timeFridays=R,e.timeHour=g,e.timeHours=v,e.timeInterval=r,e.timeMillisecond=i,e.timeMilliseconds=a,e.timeMinute=h,e.timeMinutes=p,e.timeMonday=_,e.timeMondays=S,e.timeMonth=j,e.timeMonths=z,e.timeSaturday=A,e.timeSaturdays=P,e.timeSecond=f,e.timeSeconds=d,e.timeSunday=x,e.timeSundays=E,e.timeThursday=M,e.timeThursdays=L,e.timeTuesday=w,e.timeTuesdays=O,e.timeWednesday=k,e.timeWednesdays=C,e.timeWeek=x,e.timeWeeks=E,e.timeYear=I,e.timeYears=N,e.utcDay=V,e.utcDays=H,e.utcFriday=$,e.utcFridays=re,e.utcHour=B,e.utcHours=U,e.utcMillisecond=i,e.utcMilliseconds=a,e.utcMinute=D,e.utcMinutes=F,e.utcMonday=G,e.utcMondays=J,e.utcMonth=ae,e.utcMonths=oe,e.utcSaturday=K,e.utcSaturdays=ie,e.utcSecond=f,e.utcSeconds=d,e.utcSunday=W,e.utcSundays=Q,e.utcThursday=Z,e.utcThursdays=ne,e.utcTuesday=X,e.utcTuesdays=ee,e.utcWednesday=Y,e.utcWednesdays=te,e.utcWeek=W,e.utcWeeks=Q,e.utcYear=se,e.utcYears=le,Object.defineProperty(e,"__esModule",{value:!0})}))},{}],82:[function(t,n,r){!function(){var t={version:"3.5.17"},r=[].slice,i=function(e){return r.call(e)},a=this.document;function o(e){return e&&(e.ownerDocument||e.document||e).documentElement}function s(e){return e&&(e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView)}if(a)try{i(a.documentElement.childNodes)[0].nodeType}catch(iu){i=function(e){for(var t=e.length,n=new Array(t);t--;)n[t]=e[t];return n}}if(Date.now||(Date.now=function(){return+new Date}),a)try{a.createElement("DIV").style.setProperty("opacity",0,"")}catch(au){var l=this.Element.prototype,u=l.setAttribute,c=l.setAttributeNS,f=this.CSSStyleDeclaration.prototype,d=f.setProperty;l.setAttribute=function(e,t){u.call(this,e,t+"")},l.setAttributeNS=function(e,t,n){c.call(this,e,t,n+"")},f.setProperty=function(e,t,n){d.call(this,e,t+"",n)}}function h(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function p(e){return null===e?NaN:+e}function g(e){return!isNaN(e)}function v(e){return{left:function(t,n,r,i){for(arguments.length<3&&(r=0),arguments.length<4&&(i=t.length);r<i;){var a=r+i>>>1;e(t[a],n)<0?r=a+1:i=a}return r},right:function(t,n,r,i){for(arguments.length<3&&(r=0),arguments.length<4&&(i=t.length);r<i;){var a=r+i>>>1;e(t[a],n)>0?i=a:r=a+1}return r}}}t.ascending=h,t.descending=function(e,t){return t<e?-1:t>e?1:t>=e?0:NaN},t.min=function(e,t){var n,r,i=-1,a=e.length;if(1===arguments.length){for(;++i<a;)if(null!=(r=e[i])&&r>=r){n=r;break}for(;++i<a;)null!=(r=e[i])&&n>r&&(n=r)}else{for(;++i<a;)if(null!=(r=t.call(e,e[i],i))&&r>=r){n=r;break}for(;++i<a;)null!=(r=t.call(e,e[i],i))&&n>r&&(n=r)}return n},t.max=function(e,t){var n,r,i=-1,a=e.length;if(1===arguments.length){for(;++i<a;)if(null!=(r=e[i])&&r>=r){n=r;break}for(;++i<a;)null!=(r=e[i])&&r>n&&(n=r)}else{for(;++i<a;)if(null!=(r=t.call(e,e[i],i))&&r>=r){n=r;break}for(;++i<a;)null!=(r=t.call(e,e[i],i))&&r>n&&(n=r)}return n},t.extent=function(e,t){var n,r,i,a=-1,o=e.length;if(1===arguments.length){for(;++a<o;)if(null!=(r=e[a])&&r>=r){n=i=r;break}for(;++a<o;)null!=(r=e[a])&&(n>r&&(n=r),i<r&&(i=r))}else{for(;++a<o;)if(null!=(r=t.call(e,e[a],a))&&r>=r){n=i=r;break}for(;++a<o;)null!=(r=t.call(e,e[a],a))&&(n>r&&(n=r),i<r&&(i=r))}return[n,i]},t.sum=function(e,t){var n,r=0,i=e.length,a=-1;if(1===arguments.length)for(;++a<i;)g(n=+e[a])&&(r+=n);else for(;++a<i;)g(n=+t.call(e,e[a],a))&&(r+=n);return r},t.mean=function(e,t){var n,r=0,i=e.length,a=-1,o=i;if(1===arguments.length)for(;++a<i;)g(n=p(e[a]))?r+=n:--o;else for(;++a<i;)g(n=p(t.call(e,e[a],a)))?r+=n:--o;if(o)return r/o},t.quantile=function(e,t){var n=(e.length-1)*t+1,r=Math.floor(n),i=+e[r-1],a=n-r;return a?i+a*(e[r]-i):i},t.median=function(e,n){var r,i=[],a=e.length,o=-1;if(1===arguments.length)for(;++o<a;)g(r=p(e[o]))&&i.push(r);else for(;++o<a;)g(r=p(n.call(e,e[o],o)))&&i.push(r);if(i.length)return t.quantile(i.sort(h),.5)},t.variance=function(e,t){var n,r,i=e.length,a=0,o=0,s=-1,l=0;if(1===arguments.length)for(;++s<i;)g(n=p(e[s]))&&(o+=(r=n-a)*(n-(a+=r/++l)));else for(;++s<i;)g(n=p(t.call(e,e[s],s)))&&(o+=(r=n-a)*(n-(a+=r/++l)));if(l>1)return o/(l-1)},t.deviation=function(){var e=t.variance.apply(this,arguments);return e?Math.sqrt(e):e};var m=v(h);function y(e){return e.length}t.bisectLeft=m.left,t.bisect=t.bisectRight=m.right,t.bisector=function(e){return v(1===e.length?function(t,n){return h(e(t),n)}:e)},t.shuffle=function(e,t,n){(a=arguments.length)<3&&(n=e.length,a<2&&(t=0));for(var r,i,a=n-t;a;)i=Math.random()*a--|0,r=e[a+t],e[a+t]=e[i+t],e[i+t]=r;return e},t.permute=function(e,t){for(var n=t.length,r=new Array(n);n--;)r[n]=e[t[n]];return r},t.pairs=function(e){for(var t=0,n=e.length-1,r=e[0],i=new Array(n<0?0:n);t<n;)i[t]=[r,r=e[++t]];return i},t.transpose=function(e){if(!(a=e.length))return[];for(var n=-1,r=t.min(e,y),i=new Array(r);++n<r;)for(var a,o=-1,s=i[n]=new Array(a);++o<a;)s[o]=e[o][n];return i},t.zip=function(){return t.transpose(arguments)},t.keys=function(e){var t=[];for(var n in e)t.push(n);return t},t.values=function(e){var t=[];for(var n in e)t.push(e[n]);return t},t.entries=function(e){var t=[];for(var n in e)t.push({key:n,value:e[n]});return t},t.merge=function(e){for(var t,n,r,i=e.length,a=-1,o=0;++a<i;)o+=e[a].length;for(n=new Array(o);--i>=0;)for(t=(r=e[i]).length;--t>=0;)n[--o]=r[t];return n};var b=Math.abs;function x(e){for(var t=1;e*t%1;)t*=10;return t}function _(e,t){for(var n in t)Object.defineProperty(e.prototype,n,{value:t[n],enumerable:!1})}function w(){this._=Object.create(null)}t.range=function(e,t,n){if(arguments.length<3&&(n=1,arguments.length<2&&(t=e,e=0)),(t-e)/n===1/0)throw new Error("infinite range");var r,i=[],a=x(b(n)),o=-1;if(e*=a,t*=a,(n*=a)<0)for(;(r=e+n*++o)>t;)i.push(r/a);else for(;(r=e+n*++o)<t;)i.push(r/a);return i},t.map=function(e,t){var n=new w;if(e instanceof w)e.forEach((function(e,t){n.set(e,t)}));else if(Array.isArray(e)){var r,i=-1,a=e.length;if(1===arguments.length)for(;++i<a;)n.set(i,e[i]);else for(;++i<a;)n.set(t.call(e,r=e[i],i),r)}else for(var o in e)n.set(o,e[o]);return n};var k="__proto__",M="\0";function T(e){return(e+="")===k||e[0]===M?M+e:e}function A(e){return(e+="")[0]===M?e.slice(1):e}function E(e){return T(e)in this._}function S(e){return(e=T(e))in this._&&delete this._[e]}function O(){var e=[];for(var t in this._)e.push(A(t));return e}function C(){var e=0;for(var t in this._)++e;return e}function L(){for(var e in this._)return!1;return!0}function R(){this._=Object.create(null)}function P(e){return e}function j(e,t,n){return function(){var r=n.apply(t,arguments);return r===t?e:r}}function z(e,t){if(t in e)return t;t=t.charAt(0).toUpperCase()+t.slice(1);for(var n=0,r=I.length;n<r;++n){var i=I[n]+t;if(i in e)return i}}_(w,{has:E,get:function(e){return this._[T(e)]},set:function(e,t){return this._[T(e)]=t},remove:S,keys:O,values:function(){var e=[];for(var t in this._)e.push(this._[t]);return e},entries:function(){var e=[];for(var t in this._)e.push({key:A(t),value:this._[t]});return e},size:C,empty:L,forEach:function(e){for(var t in this._)e.call(this,A(t),this._[t])}}),t.nest=function(){var e,n,r={},i=[],a=[];function o(t,a,s){if(s>=i.length)return n?n.call(r,a):e?a.sort(e):a;for(var l,u,c,f,d=-1,h=a.length,p=i[s++],g=new w;++d<h;)(f=g.get(l=p(u=a[d])))?f.push(u):g.set(l,[u]);return t?(u=t(),c=function(e,n){u.set(e,o(t,n,s))}):(u={},c=function(e,n){u[e]=o(t,n,s)}),g.forEach(c),u}function s(e,t){if(t>=i.length)return e;var n=[],r=a[t++];return e.forEach((function(e,r){n.push({key:e,values:s(r,t)})})),r?n.sort((function(e,t){return r(e.key,t.key)})):n}return r.map=function(e,t){return o(t,e,0)},r.entries=function(e){return s(o(t.map,e,0),0)},r.key=function(e){return i.push(e),r},r.sortKeys=function(e){return a[i.length-1]=e,r},r.sortValues=function(t){return e=t,r},r.rollup=function(e){return n=e,r},r},t.set=function(e){var t=new R;if(e)for(var n=0,r=e.length;n<r;++n)t.add(e[n]);return t},_(R,{has:E,add:function(e){return this._[T(e+="")]=!0,e},remove:S,values:O,size:C,empty:L,forEach:function(e){for(var t in this._)e.call(this,A(t))}}),t.behavior={},t.rebind=function(e,t){for(var n,r=1,i=arguments.length;++r<i;)e[n=arguments[r]]=j(e,t,t[n]);return e};var I=["webkit","ms","moz","Moz","o","O"];function N(){}function D(){}function F(e){var t=[],n=new w;function r(){for(var n,r=t,i=-1,a=r.length;++i<a;)(n=r[i].on)&&n.apply(this,arguments);return e}return r.on=function(r,i){var a,o=n.get(r);return arguments.length<2?o&&o.on:(o&&(o.on=null,t=t.slice(0,a=t.indexOf(o)).concat(t.slice(a+1)),n.remove(r)),i&&t.push(n.set(r,{on:i})),e)},r}function B(){t.event.preventDefault()}function U(){for(var e,n=t.event;e=n.sourceEvent;)n=e;return n}function V(e){for(var n=new D,r=0,i=arguments.length;++r<i;)n[arguments[r]]=F(n);return n.of=function(r,i){return function(a){try{var o=a.sourceEvent=t.event;a.target=e,t.event=a,n[a.type].apply(r,i)}finally{t.event=o}}},n}t.dispatch=function(){for(var e=new D,t=-1,n=arguments.length;++t<n;)e[arguments[t]]=F(e);return e},D.prototype.on=function(e,t){var n=e.indexOf("."),r="";if(n>=0&&(r=e.slice(n+1),e=e.slice(0,n)),e)return arguments.length<2?this[e].on(r):this[e].on(r,t);if(2===arguments.length){if(null==t)for(e in this)this.hasOwnProperty(e)&&this[e].on(r,null);return this}},t.event=null,t.requote=function(e){return e.replace(H,"\\$&")};var H=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g,q={}.__proto__?function(e,t){e.__proto__=t}:function(e,t){for(var n in t)e[n]=t[n]};function W(e){return q(e,Z),e}var G=function(e,t){return t.querySelector(e)},X=function(e,t){return t.querySelectorAll(e)},Y=function(e,t){var n=e.matches||e[z(e,"matchesSelector")];return(Y=function(e,t){return n.call(e,t)})(e,t)};"function"===typeof Sizzle&&(G=function(e,t){return Sizzle(e,t)[0]||null},X=Sizzle,Y=Sizzle.matchesSelector),t.selection=function(){return t.select(a.documentElement)};var Z=t.selection.prototype=[];function $(e){return"function"===typeof e?e:function(){return G(e,this)}}function K(e){return"function"===typeof e?e:function(){return X(e,this)}}Z.select=function(e){var t,n,r,i,a=[];e=$(e);for(var o=-1,s=this.length;++o<s;){a.push(t=[]),t.parentNode=(r=this[o]).parentNode;for(var l=-1,u=r.length;++l<u;)(i=r[l])?(t.push(n=e.call(i,i.__data__,l,o)),n&&"__data__"in i&&(n.__data__=i.__data__)):t.push(null)}return W(a)},Z.selectAll=function(e){var t,n,r=[];e=K(e);for(var a=-1,o=this.length;++a<o;)for(var s=this[a],l=-1,u=s.length;++l<u;)(n=s[l])&&(r.push(t=i(e.call(n,n.__data__,l,a))),t.parentNode=n);return W(r)};var Q="http://www.w3.org/1999/xhtml",J={svg:"http://www.w3.org/2000/svg",xhtml:Q,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function ee(e,n){function r(){this.removeAttribute(e)}function i(){this.removeAttributeNS(e.space,e.local)}function a(){this.setAttribute(e,n)}function o(){this.setAttributeNS(e.space,e.local,n)}function s(){var t=n.apply(this,arguments);null==t?this.removeAttribute(e):this.setAttribute(e,t)}function l(){var t=n.apply(this,arguments);null==t?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,t)}return e=t.ns.qualify(e),null==n?e.local?i:r:"function"===typeof n?e.local?l:s:e.local?o:a}function te(e){return e.trim().replace(/\s+/g," ")}function ne(e){return new RegExp("(?:^|\\s+)"+t.requote(e)+"(?:\\s+|$)","g")}function re(e){return(e+"").trim().split(/^|\s+/)}function ie(e,t){var n=(e=re(e).map(ae)).length;function r(){for(var r=-1;++r<n;)e[r](this,t)}function i(){for(var r=-1,i=t.apply(this,arguments);++r<n;)e[r](this,i)}return"function"===typeof t?i:r}function ae(e){var t=ne(e);return function(n,r){if(i=n.classList)return r?i.add(e):i.remove(e);var i=n.getAttribute("class")||"";r?(t.lastIndex=0,t.test(i)||n.setAttribute("class",te(i+" "+e))):n.setAttribute("class",te(i.replace(t," ")))}}function oe(e,t,n){function r(){this.style.removeProperty(e)}function i(){this.style.setProperty(e,t,n)}function a(){var r=t.apply(this,arguments);null==r?this.style.removeProperty(e):this.style.setProperty(e,r,n)}return null==t?r:"function"===typeof t?a:i}function se(e,t){function n(){delete this[e]}function r(){this[e]=t}function i(){var n=t.apply(this,arguments);null==n?delete this[e]:this[e]=n}return null==t?n:"function"===typeof t?i:r}function le(e){function n(){var t=this.ownerDocument,n=this.namespaceURI;return n===Q&&t.documentElement.namespaceURI===Q?t.createElement(e):t.createElementNS(n,e)}function r(){return this.ownerDocument.createElementNS(e.space,e.local)}return"function"===typeof e?e:(e=t.ns.qualify(e)).local?r:n}function ue(){var e=this.parentNode;e&&e.removeChild(this)}function ce(e){return{__data__:e}}function fe(e){return function(){return Y(this,e)}}function de(e){return arguments.length||(e=h),function(t,n){return t&&n?e(t.__data__,n.__data__):!t-!n}}function he(e,t){for(var n=0,r=e.length;n<r;n++)for(var i,a=e[n],o=0,s=a.length;o<s;o++)(i=a[o])&&t(i,o,n);return e}function pe(e){return q(e,ge),e}t.ns={prefix:J,qualify:function(e){var t=e.indexOf(":"),n=e;return t>=0&&"xmlns"!==(n=e.slice(0,t))&&(e=e.slice(t+1)),J.hasOwnProperty(n)?{space:J[n],local:e}:e}},Z.attr=function(e,n){if(arguments.length<2){if("string"===typeof e){var r=this.node();return(e=t.ns.qualify(e)).local?r.getAttributeNS(e.space,e.local):r.getAttribute(e)}for(n in e)this.each(ee(n,e[n]));return this}return this.each(ee(e,n))},Z.classed=function(e,t){if(arguments.length<2){if("string"===typeof e){var n=this.node(),r=(e=re(e)).length,i=-1;if(t=n.classList){for(;++i<r;)if(!t.contains(e[i]))return!1}else for(t=n.getAttribute("class");++i<r;)if(!ne(e[i]).test(t))return!1;return!0}for(t in e)this.each(ie(t,e[t]));return this}return this.each(ie(e,t))},Z.style=function(e,t,n){var r=arguments.length;if(r<3){if("string"!==typeof e){for(n in r<2&&(t=""),e)this.each(oe(n,e[n],t));return this}if(r<2){var i=this.node();return s(i).getComputedStyle(i,null).getPropertyValue(e)}n=""}return this.each(oe(e,t,n))},Z.property=function(e,t){if(arguments.length<2){if("string"===typeof e)return this.node()[e];for(t in e)this.each(se(t,e[t]));return this}return this.each(se(e,t))},Z.text=function(e){return arguments.length?this.each("function"===typeof e?function(){var t=e.apply(this,arguments);this.textContent=null==t?"":t}:null==e?function(){this.textContent=""}:function(){this.textContent=e}):this.node().textContent},Z.html=function(e){return arguments.length?this.each("function"===typeof e?function(){var t=e.apply(this,arguments);this.innerHTML=null==t?"":t}:null==e?function(){this.innerHTML=""}:function(){this.innerHTML=e}):this.node().innerHTML},Z.append=function(e){return e=le(e),this.select((function(){return this.appendChild(e.apply(this,arguments))}))},Z.insert=function(e,t){return e=le(e),t=$(t),this.select((function(){return this.insertBefore(e.apply(this,arguments),t.apply(this,arguments)||null)}))},Z.remove=function(){return this.each(ue)},Z.data=function(e,t){var n,r,i=-1,a=this.length;if(!arguments.length){for(e=new Array(a=(n=this[0]).length);++i<a;)(r=n[i])&&(e[i]=r.__data__);return e}function o(e,n){var r,i,a,o=e.length,c=n.length,f=Math.min(o,c),d=new Array(c),h=new Array(c),p=new Array(o);if(t){var g,v=new w,m=new Array(o);for(r=-1;++r<o;)(i=e[r])&&(v.has(g=t.call(i,i.__data__,r))?p[r]=i:v.set(g,i),m[r]=g);for(r=-1;++r<c;)(i=v.get(g=t.call(n,a=n[r],r)))?!0!==i&&(d[r]=i,i.__data__=a):h[r]=ce(a),v.set(g,!0);for(r=-1;++r<o;)r in m&&!0!==v.get(m[r])&&(p[r]=e[r])}else{for(r=-1;++r<f;)i=e[r],a=n[r],i?(i.__data__=a,d[r]=i):h[r]=ce(a);for(;r<c;++r)h[r]=ce(n[r]);for(;r<o;++r)p[r]=e[r]}h.update=d,h.parentNode=d.parentNode=p.parentNode=e.parentNode,s.push(h),l.push(d),u.push(p)}var s=pe([]),l=W([]),u=W([]);if("function"===typeof e)for(;++i<a;)o(n=this[i],e.call(n,n.parentNode.__data__,i));else for(;++i<a;)o(n=this[i],e);return l.enter=function(){return s},l.exit=function(){return u},l},Z.datum=function(e){return arguments.length?this.property("__data__",e):this.property("__data__")},Z.filter=function(e){var t,n,r,i=[];"function"!==typeof e&&(e=fe(e));for(var a=0,o=this.length;a<o;a++){i.push(t=[]),t.parentNode=(n=this[a]).parentNode;for(var s=0,l=n.length;s<l;s++)(r=n[s])&&e.call(r,r.__data__,s,a)&&t.push(r)}return W(i)},Z.order=function(){for(var e=-1,t=this.length;++e<t;)for(var n,r=this[e],i=r.length-1,a=r[i];--i>=0;)(n=r[i])&&(a&&a!==n.nextSibling&&a.parentNode.insertBefore(n,a),a=n);return this},Z.sort=function(e){e=de.apply(this,arguments);for(var t=-1,n=this.length;++t<n;)this[t].sort(e);return this.order()},Z.each=function(e){return he(this,(function(t,n,r){e.call(t,t.__data__,n,r)}))},Z.call=function(e){var t=i(arguments);return e.apply(t[0]=this,t),this},Z.empty=function(){return!this.node()},Z.node=function(){for(var e=0,t=this.length;e<t;e++)for(var n=this[e],r=0,i=n.length;r<i;r++){var a=n[r];if(a)return a}return null},Z.size=function(){var e=0;return he(this,(function(){++e})),e};var ge=[];function ve(e){var t,n;return function(r,i,a){var o,s=e[a].update,l=s.length;for(a!=n&&(n=a,t=0),i>=t&&(t=i+1);!(o=s[t])&&++t<l;);return o}}function me(e,n,r){var a="__on"+e,o=e.indexOf("."),s=be;o>0&&(e=e.slice(0,o));var l=ye.get(e);function u(){var t=this[a];t&&(this.removeEventListener(e,t,t.$),delete this[a])}function c(){var t=s(n,i(arguments));u.call(this),this.addEventListener(e,this[a]=t,t.$=r),t._=n}function f(){var n,r=new RegExp("^__on([^.]+)"+t.requote(e)+"$");for(var i in this)if(n=i.match(r)){var a=this[i];this.removeEventListener(n[1],a,a.$),delete this[i]}}return l&&(e=l,s=xe),o?n?c:u:n?N:f}t.selection.enter=pe,t.selection.enter.prototype=ge,ge.append=Z.append,ge.empty=Z.empty,ge.node=Z.node,ge.call=Z.call,ge.size=Z.size,ge.select=function(e){for(var t,n,r,i,a,o=[],s=-1,l=this.length;++s<l;){r=(i=this[s]).update,o.push(t=[]),t.parentNode=i.parentNode;for(var u=-1,c=i.length;++u<c;)(a=i[u])?(t.push(r[u]=n=e.call(i.parentNode,a.__data__,u,s)),n.__data__=a.__data__):t.push(null)}return W(o)},ge.insert=function(e,t){return arguments.length<2&&(t=ve(this)),Z.insert.call(this,e,t)},t.select=function(e){var t;return"string"===typeof e?(t=[G(e,a)]).parentNode=a.documentElement:(t=[e]).parentNode=o(e),W([t])},t.selectAll=function(e){var t;return"string"===typeof e?(t=i(X(e,a))).parentNode=a.documentElement:(t=i(e)).parentNode=null,W([t])},Z.on=function(e,t,n){var r=arguments.length;if(r<3){if("string"!==typeof e){for(n in r<2&&(t=!1),e)this.each(me(n,e[n],t));return this}if(r<2)return(r=this.node()["__on"+e])&&r._;n=!1}return this.each(me(e,t,n))};var ye=t.map({mouseenter:"mouseover",mouseleave:"mouseout"});function be(e,n){return function(r){var i=t.event;t.event=r,n[0]=this.__data__;try{e.apply(this,n)}finally{t.event=i}}}function xe(e,t){var n=be(e,t);return function(e){var t=this,r=e.relatedTarget;r&&(r===t||8&r.compareDocumentPosition(t))||n.call(t,e)}}a&&ye.forEach((function(e){"on"+e in a&&ye.remove(e)}));var _e,we=0;function ke(e){var n=".dragsuppress-"+ ++we,r="click"+n,i=t.select(s(e)).on("touchmove"+n,B).on("dragstart"+n,B).on("selectstart"+n,B);if(null==_e&&(_e=!("onselectstart"in e)&&z(e.style,"userSelect")),_e){var a=o(e).style,l=a[_e];a[_e]="none"}return function(e){if(i.on(n,null),_e&&(a[_e]=l),e){var t=function(){i.on(r,null)};i.on(r,(function(){B(),t()}),!0),setTimeout(t,0)}}}t.mouse=function(e){return Te(e,U())};var Me=this.navigator&&/WebKit/.test(this.navigator.userAgent)?-1:0;function Te(e,n){n.changedTouches&&(n=n.changedTouches[0]);var r=e.ownerSVGElement||e;if(r.createSVGPoint){var i=r.createSVGPoint();if(Me<0){var a=s(e);if(a.scrollX||a.scrollY){var o=(r=t.select("body").append("svg").style({position:"absolute",top:0,left:0,margin:0,padding:0,border:"none"},"important"))[0][0].getScreenCTM();Me=!(o.f||o.e),r.remove()}}return Me?(i.x=n.pageX,i.y=n.pageY):(i.x=n.clientX,i.y=n.clientY),[(i=i.matrixTransform(e.getScreenCTM().inverse())).x,i.y]}var l=e.getBoundingClientRect();return[n.clientX-l.left-e.clientLeft,n.clientY-l.top-e.clientTop]}function Ae(){return t.event.changedTouches[0].identifier}t.touch=function(e,t,n){if(arguments.length<3&&(n=t,t=U().changedTouches),t)for(var r,i=0,a=t.length;i<a;++i)if((r=t[i]).identifier===n)return Te(e,r)},t.behavior.drag=function(){var e=V(a,"drag","dragstart","dragend"),n=null,r=o(N,t.mouse,s,"mousemove","mouseup"),i=o(Ae,t.touch,P,"touchmove","touchend");function a(){this.on("mousedown.drag",r).on("touchstart.drag",i)}function o(r,i,a,o,s){return function(){var l,u=this,c=t.event.target.correspondingElement||t.event.target,f=u.parentNode,d=e.of(u,arguments),h=0,p=r(),g=".drag"+(null==p?"":"-"+p),v=t.select(a(c)).on(o+g,b).on(s+g,x),m=ke(c),y=i(f,p);function b(){var e,t,n=i(f,p);n&&(e=n[0]-y[0],t=n[1]-y[1],h|=e|t,y=n,d({type:"drag",x:n[0]+l[0],y:n[1]+l[1],dx:e,dy:t}))}function x(){i(f,p)&&(v.on(o+g,null).on(s+g,null),m(h),d({type:"dragend"}))}l=n?[(l=n.apply(u,arguments)).x-y[0],l.y-y[1]]:[0,0],d({type:"dragstart"})}}return a.origin=function(e){return arguments.length?(n=e,a):n},t.rebind(a,e,"on")},t.touches=function(e,t){return arguments.length<2&&(t=U().touches),t?i(t).map((function(t){var n=Te(e,t);return n.identifier=t.identifier,n})):[]};var Ee=1e-6,Se=Ee*Ee,Oe=Math.PI,Ce=2*Oe,Le=Ce-Ee,Re=Oe/2,Pe=Oe/180,je=180/Oe;function ze(e){return e>0?1:e<0?-1:0}function Ie(e,t,n){return(t[0]-e[0])*(n[1]-e[1])-(t[1]-e[1])*(n[0]-e[0])}function Ne(e){return e>1?0:e<-1?Oe:Math.acos(e)}function De(e){return e>1?Re:e<-1?-Re:Math.asin(e)}function Fe(e){return((e=Math.exp(e))-1/e)/2}function Be(e){return((e=Math.exp(e))+1/e)/2}function Ue(e){return((e=Math.exp(2*e))-1)/(e+1)}function Ve(e){return(e=Math.sin(e/2))*e}var He=Math.SQRT2,qe=2,We=4;t.interpolateZoom=function(e,t){var n,r,i=e[0],a=e[1],o=e[2],s=t[0],l=t[1],u=t[2],c=s-i,f=l-a,d=c*c+f*f;if(d<Se)r=Math.log(u/o)/He,n=function(e){return[i+e*c,a+e*f,o*Math.exp(He*e*r)]};else{var h=Math.sqrt(d),p=(u*u-o*o+We*d)/(2*o*qe*h),g=(u*u-o*o-We*d)/(2*u*qe*h),v=Math.log(Math.sqrt(p*p+1)-p),m=Math.log(Math.sqrt(g*g+1)-g);r=(m-v)/He,n=function(e){var t=e*r,n=Be(v),s=o/(qe*h)*(n*Ue(He*t+v)-Fe(v));return[i+s*c,a+s*f,o*n/Be(He*t+v)]}}return n.duration=1e3*r,n},t.behavior.zoom=function(){var e,n,r,i,o,l,u,c,f,d={x:0,y:0,k:1},h=[960,500],p=Ye,g=250,v=0,m="mousedown.zoom",y="mousemove.zoom",b="mouseup.zoom",x="touchstart.zoom",_=V(w,"zoomstart","zoom","zoomend");function w(e){e.on(m,R).on(Xe+".zoom",j).on("dblclick.zoom",z).on(x,P)}function k(e){return[(e[0]-d.x)/d.k,(e[1]-d.y)/d.k]}function M(e){return[e[0]*d.k+d.x,e[1]*d.k+d.y]}function T(e){d.k=Math.max(p[0],Math.min(p[1],e))}function A(e,t){t=M(t),d.x+=e[0]-t[0],d.y+=e[1]-t[1]}function E(e,r,i,a){e.__chart__={x:d.x,y:d.y,k:d.k},T(Math.pow(2,a)),A(n=r,i),e=t.select(e),g>0&&(e=e.transition().duration(g)),e.call(w.event)}function S(){u&&u.domain(l.range().map((function(e){return(e-d.x)/d.k})).map(l.invert)),f&&f.domain(c.range().map((function(e){return(e-d.y)/d.k})).map(c.invert))}function O(e){v++||e({type:"zoomstart"})}function C(e){S(),e({type:"zoom",scale:d.k,translate:[d.x,d.y]})}function L(e){--v||(e({type:"zoomend"}),n=null)}function R(){var e=this,n=_.of(e,arguments),r=0,i=t.select(s(e)).on(y,l).on(b,u),a=k(t.mouse(e)),o=ke(e);function l(){r=1,A(t.mouse(e),a),C(n)}function u(){i.on(y,null).on(b,null),o(r),L(n)}El.call(e),O(n)}function P(){var e,n=this,r=_.of(n,arguments),i={},a=0,s=".zoom-"+t.event.changedTouches[0].identifier,l="touchmove"+s,u="touchend"+s,c=[],f=t.select(n),h=ke(n);function p(){var r=t.touches(n);return e=d.k,r.forEach((function(e){e.identifier in i&&(i[e.identifier]=k(e))})),r}function g(){var e=t.event.target;t.select(e).on(l,v).on(u,y),c.push(e);for(var r=t.event.changedTouches,s=0,f=r.length;s<f;++s)i[r[s].identifier]=null;var h=p(),g=Date.now();if(1===h.length){if(g-o<500){var m=h[0];E(n,m,i[m.identifier],Math.floor(Math.log(d.k)/Math.LN2)+1),B()}o=g}else if(h.length>1){m=h[0];var b=h[1],x=m[0]-b[0],_=m[1]-b[1];a=x*x+_*_}}function v(){var s,l,u,c,f=t.touches(n);El.call(n);for(var d=0,h=f.length;d<h;++d,c=null)if(u=f[d],c=i[u.identifier]){if(l)break;s=u,l=c}if(c){var p=(p=u[0]-s[0])*p+(p=u[1]-s[1])*p,g=a&&Math.sqrt(p/a);s=[(s[0]+u[0])/2,(s[1]+u[1])/2],l=[(l[0]+c[0])/2,(l[1]+c[1])/2],T(g*e)}o=null,A(s,l),C(r)}function y(){if(t.event.touches.length){for(var e=t.event.changedTouches,n=0,a=e.length;n<a;++n)delete i[e[n].identifier];for(var o in i)return void p()}t.selectAll(c).on(s,null),f.on(m,R).on(x,P),h(),L(r)}g(),O(r),f.on(m,null).on(x,g)}function j(){var a=_.of(this,arguments);i?clearTimeout(i):(El.call(this),e=k(n=r||t.mouse(this)),O(a)),i=setTimeout((function(){i=null,L(a)}),50),B(),T(Math.pow(2,.002*Ge())*d.k),A(n,e),C(a)}function z(){var e=t.mouse(this),n=Math.log(d.k)/Math.LN2;E(this,e,k(e),t.event.shiftKey?Math.ceil(n)-1:Math.floor(n)+1)}return Xe||(Xe="onwheel"in a?(Ge=function(){return-t.event.deltaY*(t.event.deltaMode?120:1)},"wheel"):"onmousewheel"in a?(Ge=function(){return t.event.wheelDelta},"mousewheel"):(Ge=function(){return-t.event.detail},"MozMousePixelScroll")),w.event=function(e){e.each((function(){var e=_.of(this,arguments),r=d;Cl?t.select(this).transition().each("start.zoom",(function(){d=this.__chart__||{x:0,y:0,k:1},O(e)})).tween("zoom:zoom",(function(){var i=h[0],a=h[1],o=n?n[0]:i/2,s=n?n[1]:a/2,l=t.interpolateZoom([(o-d.x)/d.k,(s-d.y)/d.k,i/d.k],[(o-r.x)/r.k,(s-r.y)/r.k,i/r.k]);return function(t){var n=l(t),r=i/n[2];this.__chart__=d={x:o-n[0]*r,y:s-n[1]*r,k:r},C(e)}})).each("interrupt.zoom",(function(){L(e)})).each("end.zoom",(function(){L(e)})):(this.__chart__=d,O(e),C(e),L(e))}))},w.translate=function(e){return arguments.length?(d={x:+e[0],y:+e[1],k:d.k},S(),w):[d.x,d.y]},w.scale=function(e){return arguments.length?(d={x:d.x,y:d.y,k:null},T(+e),S(),w):d.k},w.scaleExtent=function(e){return arguments.length?(p=null==e?Ye:[+e[0],+e[1]],w):p},w.center=function(e){return arguments.length?(r=e&&[+e[0],+e[1]],w):r},w.size=function(e){return arguments.length?(h=e&&[+e[0],+e[1]],w):h},w.duration=function(e){return arguments.length?(g=+e,w):g},w.x=function(e){return arguments.length?(u=e,l=e.copy(),d={x:0,y:0,k:1},w):u},w.y=function(e){return arguments.length?(f=e,c=e.copy(),d={x:0,y:0,k:1},w):f},t.rebind(w,_,"on")};var Ge,Xe,Ye=[0,1/0];function Ze(){}function $e(e,t,n){return this instanceof $e?(this.h=+e,this.s=+t,void(this.l=+n)):arguments.length<2?e instanceof $e?new $e(e.h,e.s,e.l):yt(""+e,bt,$e):new $e(e,t,n)}t.color=Ze,Ze.prototype.toString=function(){return this.rgb()+""},t.hsl=$e;var Ke=$e.prototype=new Ze;function Qe(e,t,n){var r,i;function a(e){return e>360?e-=360:e<0&&(e+=360),e<60?r+(i-r)*e/60:e<180?i:e<240?r+(i-r)*(240-e)/60:r}function o(e){return Math.round(255*a(e))}return e=isNaN(e)?0:(e%=360)<0?e+360:e,t=isNaN(t)||t<0?0:t>1?1:t,r=2*(n=n<0?0:n>1?1:n)-(i=n<=.5?n*(1+t):n+t-n*t),new ht(o(e+120),o(e),o(e-120))}function Je(e,n,r){return this instanceof Je?(this.h=+e,this.c=+n,void(this.l=+r)):arguments.length<2?e instanceof Je?new Je(e.h,e.c,e.l):ut(e instanceof nt?e.l:(e=xt((e=t.rgb(e)).r,e.g,e.b)).l,e.a,e.b):new Je(e,n,r)}Ke.brighter=function(e){return e=Math.pow(.7,arguments.length?e:1),new $e(this.h,this.s,this.l/e)},Ke.darker=function(e){return e=Math.pow(.7,arguments.length?e:1),new $e(this.h,this.s,e*this.l)},Ke.rgb=function(){return Qe(this.h,this.s,this.l)},t.hcl=Je;var et=Je.prototype=new Ze;function tt(e,t,n){return isNaN(e)&&(e=0),isNaN(t)&&(t=0),new nt(n,Math.cos(e*=Pe)*t,Math.sin(e)*t)}function nt(e,t,n){return this instanceof nt?(this.l=+e,this.a=+t,void(this.b=+n)):arguments.length<2?e instanceof nt?new nt(e.l,e.a,e.b):e instanceof Je?tt(e.h,e.c,e.l):xt((e=ht(e)).r,e.g,e.b):new nt(e,t,n)}et.brighter=function(e){return new Je(this.h,this.c,Math.min(100,this.l+rt*(arguments.length?e:1)))},et.darker=function(e){return new Je(this.h,this.c,Math.max(0,this.l-rt*(arguments.length?e:1)))},et.rgb=function(){return tt(this.h,this.c,this.l).rgb()},t.lab=nt;var rt=18,it=.95047,at=1,ot=1.08883,st=nt.prototype=new Ze;function lt(e,t,n){var r=(e+16)/116,i=r+t/500,a=r-n/200;return new ht(dt(3.2404542*(i=ct(i)*it)-1.5371385*(r=ct(r)*at)-.4985314*(a=ct(a)*ot)),dt(-.969266*i+1.8760108*r+.041556*a),dt(.0556434*i-.2040259*r+1.0572252*a))}function ut(e,t,n){return e>0?new Je(Math.atan2(n,t)*je,Math.sqrt(t*t+n*n),e):new Je(NaN,NaN,e)}function ct(e){return e>.206893034?e*e*e:(e-4/29)/7.787037}function ft(e){return e>.008856?Math.pow(e,1/3):7.787037*e+4/29}function dt(e){return Math.round(255*(e<=.00304?12.92*e:1.055*Math.pow(e,1/2.4)-.055))}function ht(e,t,n){return this instanceof ht?(this.r=~~e,this.g=~~t,void(this.b=~~n)):arguments.length<2?e instanceof ht?new ht(e.r,e.g,e.b):yt(""+e,ht,Qe):new ht(e,t,n)}function pt(e){return new ht(e>>16,e>>8&255,255&e)}function gt(e){return pt(e)+""}st.brighter=function(e){return new nt(Math.min(100,this.l+rt*(arguments.length?e:1)),this.a,this.b)},st.darker=function(e){return new nt(Math.max(0,this.l-rt*(arguments.length?e:1)),this.a,this.b)},st.rgb=function(){return lt(this.l,this.a,this.b)},t.rgb=ht;var vt=ht.prototype=new Ze;function mt(e){return e<16?"0"+Math.max(0,e).toString(16):Math.min(255,e).toString(16)}function yt(e,t,n){var r,i,a,o=0,s=0,l=0;if(r=/([a-z]+)\((.*)\)/.exec(e=e.toLowerCase()))switch(i=r[2].split(","),r[1]){case"hsl":return n(parseFloat(i[0]),parseFloat(i[1])/100,parseFloat(i[2])/100);case"rgb":return t(wt(i[0]),wt(i[1]),wt(i[2]))}return(a=kt.get(e))?t(a.r,a.g,a.b):(null==e||"#"!==e.charAt(0)||isNaN(a=parseInt(e.slice(1),16))||(4===e.length?(o=(3840&a)>>4,o|=o>>4,s=240&a,s|=s>>4,l=15&a,l|=l<<4):7===e.length&&(o=(16711680&a)>>16,s=(65280&a)>>8,l=255&a)),t(o,s,l))}function bt(e,t,n){var r,i,a=Math.min(e/=255,t/=255,n/=255),o=Math.max(e,t,n),s=o-a,l=(o+a)/2;return s?(i=l<.5?s/(o+a):s/(2-o-a),r=e==o?(t-n)/s+(t<n?6:0):t==o?(n-e)/s+2:(e-t)/s+4,r*=60):(r=NaN,i=l>0&&l<1?0:r),new $e(r,i,l)}function xt(e,t,n){var r=ft((.4124564*(e=_t(e))+.3575761*(t=_t(t))+.1804375*(n=_t(n)))/it),i=ft((.2126729*e+.7151522*t+.072175*n)/at);return nt(116*i-16,500*(r-i),200*(i-ft((.0193339*e+.119192*t+.9503041*n)/ot)))}function _t(e){return(e/=255)<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4)}function wt(e){var t=parseFloat(e);return"%"===e.charAt(e.length-1)?Math.round(2.55*t):t}vt.brighter=function(e){e=Math.pow(.7,arguments.length?e:1);var t=this.r,n=this.g,r=this.b,i=30;return t||n||r?(t&&t<i&&(t=i),n&&n<i&&(n=i),r&&r<i&&(r=i),new ht(Math.min(255,t/e),Math.min(255,n/e),Math.min(255,r/e))):new ht(i,i,i)},vt.darker=function(e){return new ht((e=Math.pow(.7,arguments.length?e:1))*this.r,e*this.g,e*this.b)},vt.hsl=function(){return bt(this.r,this.g,this.b)},vt.toString=function(){return"#"+mt(this.r)+mt(this.g)+mt(this.b)};var kt=t.map({aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074});function Mt(e){return"function"===typeof e?e:function(){return e}}function Tt(e){return function(t,n,r){return 2===arguments.length&&"function"===typeof n&&(r=n,n=null),At(t,n,e,r)}}function At(e,n,r,a){var o={},s=t.dispatch("beforesend","progress","load","error"),l={},u=new XMLHttpRequest,c=null;function f(){var e,t=u.status;if(!t&&St(u)||t>=200&&t<300||304===t){try{e=r.call(o,u)}catch(iu){return void s.error.call(o,iu)}s.load.call(o,e)}else s.error.call(o,u)}return this.XDomainRequest&&!("withCredentials"in u)&&/^(http(s)?:)?\/\//.test(e)&&(u=new XDomainRequest),"onload"in u?u.onload=u.onerror=f:u.onreadystatechange=function(){u.readyState>3&&f()},u.onprogress=function(e){var n=t.event;t.event=e;try{s.progress.call(o,u)}finally{t.event=n}},o.header=function(e,t){return e=(e+"").toLowerCase(),arguments.length<2?l[e]:(null==t?delete l[e]:l[e]=t+"",o)},o.mimeType=function(e){return arguments.length?(n=null==e?null:e+"",o):n},o.responseType=function(e){return arguments.length?(c=e,o):c},o.response=function(e){return r=e,o},["get","post"].forEach((function(e){o[e]=function(){return o.send.apply(o,[e].concat(i(arguments)))}})),o.send=function(t,r,i){if(2===arguments.length&&"function"===typeof r&&(i=r,r=null),u.open(t,e,!0),null==n||"accept"in l||(l.accept=n+",*/*"),u.setRequestHeader)for(var a in l)u.setRequestHeader(a,l[a]);return null!=n&&u.overrideMimeType&&u.overrideMimeType(n),null!=c&&(u.responseType=c),null!=i&&o.on("error",i).on("load",(function(e){i(null,e)})),s.beforesend.call(o,u),u.send(null==r?null:r),o},o.abort=function(){return u.abort(),o},t.rebind(o,s,"on"),null==a?o:o.get(Et(a))}function Et(e){return 1===e.length?function(t,n){e(null==t?n:null)}:e}function St(e){var t=e.responseType;return t&&"text"!==t?e.response:e.responseText}kt.forEach((function(e,t){kt.set(e,pt(t))})),t.functor=Mt,t.xhr=Tt(P),t.dsv=function(e,t){var n=new RegExp('["'+e+"\n]"),r=e.charCodeAt(0);function i(e,n,r){arguments.length<3&&(r=n,n=null);var i=At(e,t,null==n?a:o(n),r);return i.row=function(e){return arguments.length?i.response(null==(n=e)?a:o(e)):n},i}function a(e){return i.parse(e.responseText)}function o(e){return function(t){return i.parse(t.responseText,e)}}function s(t){return t.map(l).join(e)}function l(e){return n.test(e)?'"'+e.replace(/\"/g,'""')+'"':e}return i.parse=function(e,t){var n;return i.parseRows(e,(function(e,r){if(n)return n(e,r-1);var i=new Function("d","return {"+e.map((function(e,t){return JSON.stringify(e)+": d["+t+"]"})).join(",")+"}");n=t?function(e,n){return t(i(e),n)}:i}))},i.parseRows=function(e,t){var n,i,a={},o={},s=[],l=e.length,u=0,c=0;function f(){if(u>=l)return o;if(i)return i=!1,a;var t=u;if(34===e.charCodeAt(t)){for(var n=t;n++<l;)if(34===e.charCodeAt(n)){if(34!==e.charCodeAt(n+1))break;++n}return u=n+2,13===(s=e.charCodeAt(n+1))?(i=!0,10===e.charCodeAt(n+2)&&++u):10===s&&(i=!0),e.slice(t+1,n).replace(/""/g,'"')}for(;u<l;){var s,c=1;if(10===(s=e.charCodeAt(u++)))i=!0;else if(13===s)i=!0,10===e.charCodeAt(u)&&(++u,++c);else if(s!==r)continue;return e.slice(t,u-c)}return e.slice(t)}for(;(n=f())!==o;){for(var d=[];n!==a&&n!==o;)d.push(n),n=f();t&&null==(d=t(d,c++))||s.push(d)}return s},i.format=function(t){if(Array.isArray(t[0]))return i.formatRows(t);var n=new R,r=[];return t.forEach((function(e){for(var t in e)n.has(t)||r.push(n.add(t))})),[r.map(l).join(e)].concat(t.map((function(t){return r.map((function(e){return l(t[e])})).join(e)}))).join("\n")},i.formatRows=function(e){return e.map(s).join("\n")},i},t.csv=t.dsv(",","text/csv"),t.tsv=t.dsv("\t","text/tab-separated-values");var Ot,Ct,Lt,Rt,Pt=this[z(this,"requestAnimationFrame")]||function(e){setTimeout(e,17)};function jt(e,t,n){var r=arguments.length;r<2&&(t=0),r<3&&(n=Date.now());var i={c:e,t:n+t,n:null};return Ct?Ct.n=i:Ot=i,Ct=i,Lt||(Rt=clearTimeout(Rt),Lt=1,Pt(zt)),i}function zt(){var e=It(),t=Nt()-e;t>24?(isFinite(t)&&(clearTimeout(Rt),Rt=setTimeout(zt,t)),Lt=0):(Lt=1,Pt(zt))}function It(){for(var e=Date.now(),t=Ot;t;)e>=t.t&&t.c(e-t.t)&&(t.c=null),t=t.n;return e}function Nt(){for(var e,t=Ot,n=1/0;t;)t.c?(t.t<n&&(n=t.t),t=(e=t).n):t=e?e.n=t.n:Ot=t.n;return Ct=e,n}function Dt(e,t){return t-(e?Math.ceil(Math.log(e)/Math.LN10):1)}t.timer=function(){jt.apply(this,arguments)},t.timer.flush=function(){It(),Nt()},t.round=function(e,t){return t?Math.round(e*(t=Math.pow(10,t)))/t:Math.round(e)};var Ft=["y","z","a","f","p","n","\xb5","m","","k","M","G","T","P","E","Z","Y"].map(Bt);function Bt(e,t){var n=Math.pow(10,3*b(8-t));return{scale:t>8?function(e){return e/n}:function(e){return e*n},symbol:e}}function Ut(e){var n=e.decimal,r=e.thousands,i=e.grouping,a=e.currency,o=i&&r?function(e,t){for(var n=e.length,a=[],o=0,s=i[0],l=0;n>0&&s>0&&(l+s+1>t&&(s=Math.max(1,t-l)),a.push(e.substring(n-=s,n+s)),!((l+=s+1)>t));)s=i[o=(o+1)%i.length];return a.reverse().join(r)}:P;return function(e){var r=Vt.exec(e),i=r[1]||" ",s=r[2]||">",l=r[3]||"-",u=r[4]||"",c=r[5],f=+r[6],d=r[7],h=r[8],p=r[9],g=1,v="",m="",y=!1,b=!0;switch(h&&(h=+h.substring(1)),(c||"0"===i&&"="===s)&&(c=i="0",s="="),p){case"n":d=!0,p="g";break;case"%":g=100,m="%",p="f";break;case"p":g=100,m="%",p="r";break;case"b":case"o":case"x":case"X":"#"===u&&(v="0"+p.toLowerCase());case"c":b=!1;case"d":y=!0,h=0;break;case"s":g=-1,p="r"}"$"===u&&(v=a[0],m=a[1]),"r"!=p||h||(p="g"),null!=h&&("g"==p?h=Math.max(1,Math.min(21,h)):"e"!=p&&"f"!=p||(h=Math.max(0,Math.min(20,h)))),p=Ht.get(p)||qt;var x=c&&d;return function(e){var r=m;if(y&&e%1)return"";var a=e<0||0===e&&1/e<0?(e=-e,"-"):"-"===l?"":l;if(g<0){var u=t.formatPrefix(e,h);e=u.scale(e),r=u.symbol+m}else e*=g;var _,w,k=(e=p(e,h)).lastIndexOf(".");if(k<0){var M=b?e.lastIndexOf("e"):-1;M<0?(_=e,w=""):(_=e.substring(0,M),w=e.substring(M))}else _=e.substring(0,k),w=n+e.substring(k+1);!c&&d&&(_=o(_,1/0));var T=v.length+_.length+w.length+(x?0:a.length),A=T<f?new Array(T=f-T+1).join(i):"";return x&&(_=o(A+_,A.length?f-w.length:1/0)),a+=v,e=_+w,("<"===s?a+e+A:">"===s?A+a+e:"^"===s?A.substring(0,T>>=1)+a+e+A.substring(T):a+(x?e:A+e))+r}}}t.formatPrefix=function(e,n){var r=0;return(e=+e)&&(e<0&&(e*=-1),n&&(e=t.round(e,Dt(e,n))),r=1+Math.floor(1e-12+Math.log(e)/Math.LN10),r=Math.max(-24,Math.min(24,3*Math.floor((r-1)/3)))),Ft[8+r/3]};var Vt=/(?:([^{])?([<>=^]))?([+\- ])?([$#])?(0)?(\d+)?(,)?(\.-?\d+)?([a-z%])?/i,Ht=t.map({b:function(e){return e.toString(2)},c:function(e){return String.fromCharCode(e)},o:function(e){return e.toString(8)},x:function(e){return e.toString(16)},X:function(e){return e.toString(16).toUpperCase()},g:function(e,t){return e.toPrecision(t)},e:function(e,t){return e.toExponential(t)},f:function(e,t){return e.toFixed(t)},r:function(e,n){return(e=t.round(e,Dt(e,n))).toFixed(Math.max(0,Math.min(20,Dt(e*(1+1e-15),n))))}});function qt(e){return e+""}var Wt=t.time={},Gt=Date;function Xt(){this._=new Date(arguments.length>1?Date.UTC.apply(this,arguments):arguments[0])}Xt.prototype={getDate:function(){return this._.getUTCDate()},getDay:function(){return this._.getUTCDay()},getFullYear:function(){return this._.getUTCFullYear()},getHours:function(){return this._.getUTCHours()},getMilliseconds:function(){return this._.getUTCMilliseconds()},getMinutes:function(){return this._.getUTCMinutes()},getMonth:function(){return this._.getUTCMonth()},getSeconds:function(){return this._.getUTCSeconds()},getTime:function(){return this._.getTime()},getTimezoneOffset:function(){return 0},valueOf:function(){return this._.valueOf()},setDate:function(){Yt.setUTCDate.apply(this._,arguments)},setDay:function(){Yt.setUTCDay.apply(this._,arguments)},setFullYear:function(){Yt.setUTCFullYear.apply(this._,arguments)},setHours:function(){Yt.setUTCHours.apply(this._,arguments)},setMilliseconds:function(){Yt.setUTCMilliseconds.apply(this._,arguments)},setMinutes:function(){Yt.setUTCMinutes.apply(this._,arguments)},setMonth:function(){Yt.setUTCMonth.apply(this._,arguments)},setSeconds:function(){Yt.setUTCSeconds.apply(this._,arguments)},setTime:function(){Yt.setTime.apply(this._,arguments)}};var Yt=Date.prototype;function Zt(e,t,n){function r(t){var n=e(t),r=a(n,1);return t-n<r-t?n:r}function i(n){return t(n=e(new Gt(n-1)),1),n}function a(e,n){return t(e=new Gt(+e),n),e}function o(e,r,a){var o=i(e),s=[];if(a>1)for(;o<r;)n(o)%a||s.push(new Date(+o)),t(o,1);else for(;o<r;)s.push(new Date(+o)),t(o,1);return s}function s(e,t,n){try{Gt=Xt;var r=new Xt;return r._=e,o(r,t,n)}finally{Gt=Date}}e.floor=e,e.round=r,e.ceil=i,e.offset=a,e.range=o;var l=e.utc=$t(e);return l.floor=l,l.round=$t(r),l.ceil=$t(i),l.offset=$t(a),l.range=s,e}function $t(e){return function(t,n){try{Gt=Xt;var r=new Xt;return r._=t,e(r,n)._}finally{Gt=Date}}}function Kt(e){var n=e.dateTime,r=e.date,i=e.time,a=e.periods,o=e.days,s=e.shortDays,l=e.months,u=e.shortMonths;function c(e){var t=e.length;function n(n){for(var r,i,a,o=[],s=-1,l=0;++s<t;)37===e.charCodeAt(s)&&(o.push(e.slice(l,s)),null!=(i=Qt[r=e.charAt(++s)])&&(r=e.charAt(++s)),(a=_[r])&&(r=a(n,null==i?"e"===r?" ":"0":i)),o.push(r),l=s+1);return o.push(e.slice(l,s)),o.join("")}return n.parse=function(t){var n={y:1900,m:0,d:1,H:0,M:0,S:0,L:0,Z:null};if(f(n,e,t,0)!=t.length)return null;"p"in n&&(n.H=n.H%12+12*n.p);var r=null!=n.Z&&Gt!==Xt,i=new(r?Xt:Gt);return"j"in n?i.setFullYear(n.y,0,n.j):"W"in n||"U"in n?("w"in n||(n.w="W"in n?1:0),i.setFullYear(n.y,0,1),i.setFullYear(n.y,0,"W"in n?(n.w+6)%7+7*n.W-(i.getDay()+5)%7:n.w+7*n.U-(i.getDay()+6)%7)):i.setFullYear(n.y,n.m,n.d),i.setHours(n.H+(n.Z/100|0),n.M+n.Z%100,n.S,n.L),r?i._:i},n.toString=function(){return e},n}function f(e,t,n,r){for(var i,a,o,s=0,l=t.length,u=n.length;s<l;){if(r>=u)return-1;if(37===(i=t.charCodeAt(s++))){if(o=t.charAt(s++),!(a=w[o in Qt?t.charAt(s++):o])||(r=a(e,n,r))<0)return-1}else if(i!=n.charCodeAt(r++))return-1}return r}c.utc=function(e){var t=c(e);function n(e){try{var n=new(Gt=Xt);return n._=e,t(n)}finally{Gt=Date}}return n.parse=function(e){try{Gt=Xt;var n=t.parse(e);return n&&n._}finally{Gt=Date}},n.toString=t.toString,n},c.multi=c.utc.multi=_n;var d=t.map(),h=nn(o),p=rn(o),g=nn(s),v=rn(s),m=nn(l),y=rn(l),b=nn(u),x=rn(u);a.forEach((function(e,t){d.set(e.toLowerCase(),t)}));var _={a:function(e){return s[e.getDay()]},A:function(e){return o[e.getDay()]},b:function(e){return u[e.getMonth()]},B:function(e){return l[e.getMonth()]},c:c(n),d:function(e,t){return tn(e.getDate(),t,2)},e:function(e,t){return tn(e.getDate(),t,2)},H:function(e,t){return tn(e.getHours(),t,2)},I:function(e,t){return tn(e.getHours()%12||12,t,2)},j:function(e,t){return tn(1+Wt.dayOfYear(e),t,3)},L:function(e,t){return tn(e.getMilliseconds(),t,3)},m:function(e,t){return tn(e.getMonth()+1,t,2)},M:function(e,t){return tn(e.getMinutes(),t,2)},p:function(e){return a[+(e.getHours()>=12)]},S:function(e,t){return tn(e.getSeconds(),t,2)},U:function(e,t){return tn(Wt.sundayOfYear(e),t,2)},w:function(e){return e.getDay()},W:function(e,t){return tn(Wt.mondayOfYear(e),t,2)},x:c(r),X:c(i),y:function(e,t){return tn(e.getFullYear()%100,t,2)},Y:function(e,t){return tn(e.getFullYear()%1e4,t,4)},Z:bn,"%":function(){return"%"}},w={a:k,A:M,b:T,B:A,c:E,d:hn,e:hn,H:gn,I:gn,j:pn,L:yn,m:dn,M:vn,p:C,S:mn,U:on,w:an,W:sn,x:S,X:O,y:un,Y:ln,Z:cn,"%":xn};function k(e,t,n){g.lastIndex=0;var r=g.exec(t.slice(n));return r?(e.w=v.get(r[0].toLowerCase()),n+r[0].length):-1}function M(e,t,n){h.lastIndex=0;var r=h.exec(t.slice(n));return r?(e.w=p.get(r[0].toLowerCase()),n+r[0].length):-1}function T(e,t,n){b.lastIndex=0;var r=b.exec(t.slice(n));return r?(e.m=x.get(r[0].toLowerCase()),n+r[0].length):-1}function A(e,t,n){m.lastIndex=0;var r=m.exec(t.slice(n));return r?(e.m=y.get(r[0].toLowerCase()),n+r[0].length):-1}function E(e,t,n){return f(e,_.c.toString(),t,n)}function S(e,t,n){return f(e,_.x.toString(),t,n)}function O(e,t,n){return f(e,_.X.toString(),t,n)}function C(e,t,n){var r=d.get(t.slice(n,n+=2).toLowerCase());return null==r?-1:(e.p=r,n)}return c}Wt.year=Zt((function(e){return(e=Wt.day(e)).setMonth(0,1),e}),(function(e,t){e.setFullYear(e.getFullYear()+t)}),(function(e){return e.getFullYear()})),Wt.years=Wt.year.range,Wt.years.utc=Wt.year.utc.range,Wt.day=Zt((function(e){var t=new Gt(2e3,0);return t.setFullYear(e.getFullYear(),e.getMonth(),e.getDate()),t}),(function(e,t){e.setDate(e.getDate()+t)}),(function(e){return e.getDate()-1})),Wt.days=Wt.day.range,Wt.days.utc=Wt.day.utc.range,Wt.dayOfYear=function(e){var t=Wt.year(e);return Math.floor((e-t-6e4*(e.getTimezoneOffset()-t.getTimezoneOffset()))/864e5)},["sunday","monday","tuesday","wednesday","thursday","friday","saturday"].forEach((function(e,t){t=7-t;var n=Wt[e]=Zt((function(e){return(e=Wt.day(e)).setDate(e.getDate()-(e.getDay()+t)%7),e}),(function(e,t){e.setDate(e.getDate()+7*Math.floor(t))}),(function(e){var n=Wt.year(e).getDay();return Math.floor((Wt.dayOfYear(e)+(n+t)%7)/7)-(n!==t)}));Wt[e+"s"]=n.range,Wt[e+"s"].utc=n.utc.range,Wt[e+"OfYear"]=function(e){var n=Wt.year(e).getDay();return Math.floor((Wt.dayOfYear(e)+(n+t)%7)/7)}})),Wt.week=Wt.sunday,Wt.weeks=Wt.sunday.range,Wt.weeks.utc=Wt.sunday.utc.range,Wt.weekOfYear=Wt.sundayOfYear;var Qt={"-":"",_:" ",0:"0"},Jt=/^\s*\d+/,en=/^%/;function tn(e,t,n){var r=e<0?"-":"",i=(r?-e:e)+"",a=i.length;return r+(a<n?new Array(n-a+1).join(t)+i:i)}function nn(e){return new RegExp("^(?:"+e.map(t.requote).join("|")+")","i")}function rn(e){for(var t=new w,n=-1,r=e.length;++n<r;)t.set(e[n].toLowerCase(),n);return t}function an(e,t,n){Jt.lastIndex=0;var r=Jt.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function on(e,t,n){Jt.lastIndex=0;var r=Jt.exec(t.slice(n));return r?(e.U=+r[0],n+r[0].length):-1}function sn(e,t,n){Jt.lastIndex=0;var r=Jt.exec(t.slice(n));return r?(e.W=+r[0],n+r[0].length):-1}function ln(e,t,n){Jt.lastIndex=0;var r=Jt.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function un(e,t,n){Jt.lastIndex=0;var r=Jt.exec(t.slice(n,n+2));return r?(e.y=fn(+r[0]),n+r[0].length):-1}function cn(e,t,n){return/^[+-]\d{4}$/.test(t=t.slice(n,n+5))?(e.Z=-t,n+5):-1}function fn(e){return e+(e>68?1900:2e3)}function dn(e,t,n){Jt.lastIndex=0;var r=Jt.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function hn(e,t,n){Jt.lastIndex=0;var r=Jt.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function pn(e,t,n){Jt.lastIndex=0;var r=Jt.exec(t.slice(n,n+3));return r?(e.j=+r[0],n+r[0].length):-1}function gn(e,t,n){Jt.lastIndex=0;var r=Jt.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function vn(e,t,n){Jt.lastIndex=0;var r=Jt.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function mn(e,t,n){Jt.lastIndex=0;var r=Jt.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function yn(e,t,n){Jt.lastIndex=0;var r=Jt.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function bn(e){var t=e.getTimezoneOffset(),n=t>0?"-":"+",r=b(t)/60|0,i=b(t)%60;return n+tn(r,"0",2)+tn(i,"0",2)}function xn(e,t,n){en.lastIndex=0;var r=en.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function _n(e){for(var t=e.length,n=-1;++n<t;)e[n][0]=this(e[n][0]);return function(t){for(var n=0,r=e[n];!r[1](t);)r=e[++n];return r[0](t)}}t.locale=function(e){return{numberFormat:Ut(e),timeFormat:Kt(e)}};var wn=t.locale({decimal:".",thousands:",",grouping:[3],currency:["$",""],dateTime:"%a %b %e %X %Y",date:"%m/%d/%Y",time:"%H:%M:%S",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function kn(){}t.format=wn.numberFormat,t.geo={},kn.prototype={s:0,t:0,add:function(e){Tn(e,this.t,Mn),Tn(Mn.s,this.s,this),this.s?this.t+=Mn.t:this.s=Mn.t},reset:function(){this.s=this.t=0},valueOf:function(){return this.s}};var Mn=new kn;function Tn(e,t,n){var r=n.s=e+t,i=r-e,a=r-i;n.t=e-a+(t-i)}function An(e,t){e&&Sn.hasOwnProperty(e.type)&&Sn[e.type](e,t)}t.geo.stream=function(e,t){e&&En.hasOwnProperty(e.type)?En[e.type](e,t):An(e,t)};var En={Feature:function(e,t){An(e.geometry,t)},FeatureCollection:function(e,t){for(var n=e.features,r=-1,i=n.length;++r<i;)An(n[r].geometry,t)}},Sn={Sphere:function(e,t){t.sphere()},Point:function(e,t){e=e.coordinates,t.point(e[0],e[1],e[2])},MultiPoint:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)e=n[r],t.point(e[0],e[1],e[2])},LineString:function(e,t){On(e.coordinates,t,0)},MultiLineString:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)On(n[r],t,0)},Polygon:function(e,t){Cn(e.coordinates,t)},MultiPolygon:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)Cn(n[r],t)},GeometryCollection:function(e,t){for(var n=e.geometries,r=-1,i=n.length;++r<i;)An(n[r],t)}};function On(e,t,n){var r,i=-1,a=e.length-n;for(t.lineStart();++i<a;)r=e[i],t.point(r[0],r[1],r[2]);t.lineEnd()}function Cn(e,t){var n=-1,r=e.length;for(t.polygonStart();++n<r;)On(e[n],t,1);t.polygonEnd()}t.geo.area=function(e){return Ln=0,t.geo.stream(e,qn),Ln};var Ln,Rn,Pn,jn,zn,In,Nn,Dn,Fn,Bn,Un,Vn,Hn=new kn,qn={sphere:function(){Ln+=4*Oe},point:N,lineStart:N,lineEnd:N,polygonStart:function(){Hn.reset(),qn.lineStart=Wn},polygonEnd:function(){var e=2*Hn;Ln+=e<0?4*Oe+e:e,qn.lineStart=qn.lineEnd=qn.point=N}};function Wn(){var e,t,n,r,i;function a(e,t){t=t*Pe/2+Oe/4;var a=(e*=Pe)-n,o=a>=0?1:-1,s=o*a,l=Math.cos(t),u=Math.sin(t),c=i*u,f=r*l+c*Math.cos(s),d=c*o*Math.sin(s);Hn.add(Math.atan2(d,f)),n=e,r=l,i=u}qn.point=function(o,s){qn.point=a,n=(e=o)*Pe,r=Math.cos(s=(t=s)*Pe/2+Oe/4),i=Math.sin(s)},qn.lineEnd=function(){a(e,t)}}function Gn(e){var t=e[0],n=e[1],r=Math.cos(n);return[r*Math.cos(t),r*Math.sin(t),Math.sin(n)]}function Xn(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}function Yn(e,t){return[e[1]*t[2]-e[2]*t[1],e[2]*t[0]-e[0]*t[2],e[0]*t[1]-e[1]*t[0]]}function Zn(e,t){e[0]+=t[0],e[1]+=t[1],e[2]+=t[2]}function $n(e,t){return[e[0]*t,e[1]*t,e[2]*t]}function Kn(e){var t=Math.sqrt(e[0]*e[0]+e[1]*e[1]+e[2]*e[2]);e[0]/=t,e[1]/=t,e[2]/=t}function Qn(e){return[Math.atan2(e[1],e[0]),De(e[2])]}function Jn(e,t){return b(e[0]-t[0])<Ee&&b(e[1]-t[1])<Ee}t.geo.bounds=function(){var e,n,r,i,a,o,s,l,u,c,f,d={point:h,lineStart:g,lineEnd:v,polygonStart:function(){d.point=m,d.lineStart=y,d.lineEnd=x,u=0,qn.polygonStart()},polygonEnd:function(){qn.polygonEnd(),d.point=h,d.lineStart=g,d.lineEnd=v,Hn<0?(e=-(r=180),n=-(i=90)):u>Ee?i=90:u<-Ee&&(n=-90),f[0]=e,f[1]=r}};function h(t,a){c.push(f=[e=t,r=t]),a<n&&(n=a),a>i&&(i=a)}function p(t,o){var s=Gn([t*Pe,o*Pe]);if(l){var u=Yn(l,s),c=Yn([u[1],-u[0],0],u);Kn(c),c=Qn(c);var f=t-a,d=f>0?1:-1,p=c[0]*je*d,g=b(f)>180;if(g^(d*a<p&&p<d*t))(v=c[1]*je)>i&&(i=v);else if(g^(d*a<(p=(p+360)%360-180)&&p<d*t)){var v;(v=-c[1]*je)<n&&(n=v)}else o<n&&(n=o),o>i&&(i=o);g?t<a?_(e,t)>_(e,r)&&(r=t):_(t,r)>_(e,r)&&(e=t):r>=e?(t<e&&(e=t),t>r&&(r=t)):t>a?_(e,t)>_(e,r)&&(r=t):_(t,r)>_(e,r)&&(e=t)}else h(t,o);l=s,a=t}function g(){d.point=p}function v(){f[0]=e,f[1]=r,d.point=h,l=null}function m(e,t){if(l){var n=e-a;u+=b(n)>180?n+(n>0?360:-360):n}else o=e,s=t;qn.point(e,t),p(e,t)}function y(){qn.lineStart()}function x(){m(o,s),qn.lineEnd(),b(u)>Ee&&(e=-(r=180)),f[0]=e,f[1]=r,l=null}function _(e,t){return(t-=e)<0?t+360:t}function w(e,t){return e[0]-t[0]}function k(e,t){return t[0]<=t[1]?t[0]<=e&&e<=t[1]:e<t[0]||t[1]<e}return function(a){if(i=r=-(e=n=1/0),c=[],t.geo.stream(a,d),u=c.length){c.sort(w);for(var o=1,s=[g=c[0]];o<u;++o)k((h=c[o])[0],g)||k(h[1],g)?(_(g[0],h[1])>_(g[0],g[1])&&(g[1]=h[1]),_(h[0],g[1])>_(g[0],g[1])&&(g[0]=h[0])):s.push(g=h);for(var l,u,h,p=-1/0,g=(o=0,s[u=s.length-1]);o<=u;g=h,++o)h=s[o],(l=_(g[1],h[0]))>p&&(p=l,e=h[0],r=g[1])}return c=f=null,e===1/0||n===1/0?[[NaN,NaN],[NaN,NaN]]:[[e,n],[r,i]]}}(),t.geo.centroid=function(e){Rn=Pn=jn=zn=In=Nn=Dn=Fn=Bn=Un=Vn=0,t.geo.stream(e,er);var n=Bn,r=Un,i=Vn,a=n*n+r*r+i*i;return a<Se&&(n=Nn,r=Dn,i=Fn,Pn<Ee&&(n=jn,r=zn,i=In),(a=n*n+r*r+i*i)<Se)?[NaN,NaN]:[Math.atan2(r,n)*je,De(i/Math.sqrt(a))*je]};var er={sphere:N,point:tr,lineStart:rr,lineEnd:ir,polygonStart:function(){er.lineStart=ar},polygonEnd:function(){er.lineStart=rr}};function tr(e,t){e*=Pe;var n=Math.cos(t*=Pe);nr(n*Math.cos(e),n*Math.sin(e),Math.sin(t))}function nr(e,t,n){++Rn,jn+=(e-jn)/Rn,zn+=(t-zn)/Rn,In+=(n-In)/Rn}function rr(){var e,t,n;function r(r,i){r*=Pe;var a=Math.cos(i*=Pe),o=a*Math.cos(r),s=a*Math.sin(r),l=Math.sin(i),u=Math.atan2(Math.sqrt((u=t*l-n*s)*u+(u=n*o-e*l)*u+(u=e*s-t*o)*u),e*o+t*s+n*l);Pn+=u,Nn+=u*(e+(e=o)),Dn+=u*(t+(t=s)),Fn+=u*(n+(n=l)),nr(e,t,n)}er.point=function(i,a){i*=Pe;var o=Math.cos(a*=Pe);e=o*Math.cos(i),t=o*Math.sin(i),n=Math.sin(a),er.point=r,nr(e,t,n)}}function ir(){er.point=tr}function ar(){var e,t,n,r,i;function a(e,t){e*=Pe;var a=Math.cos(t*=Pe),o=a*Math.cos(e),s=a*Math.sin(e),l=Math.sin(t),u=r*l-i*s,c=i*o-n*l,f=n*s-r*o,d=Math.sqrt(u*u+c*c+f*f),h=n*o+r*s+i*l,p=d&&-Ne(h)/d,g=Math.atan2(d,h);Bn+=p*u,Un+=p*c,Vn+=p*f,Pn+=g,Nn+=g*(n+(n=o)),Dn+=g*(r+(r=s)),Fn+=g*(i+(i=l)),nr(n,r,i)}er.point=function(o,s){e=o,t=s,er.point=a,o*=Pe;var l=Math.cos(s*=Pe);n=l*Math.cos(o),r=l*Math.sin(o),i=Math.sin(s),nr(n,r,i)},er.lineEnd=function(){a(e,t),er.lineEnd=ir,er.point=tr}}function or(e,t){function n(n,r){return n=e(n,r),t(n[0],n[1])}return e.invert&&t.invert&&(n.invert=function(n,r){return(n=t.invert(n,r))&&e.invert(n[0],n[1])}),n}function sr(){return!0}function lr(e,t,n,r,i){var a=[],o=[];if(e.forEach((function(e){if(!((t=e.length-1)<=0)){var t,n=e[0],r=e[t];if(Jn(n,r)){i.lineStart();for(var s=0;s<t;++s)i.point((n=e[s])[0],n[1]);i.lineEnd()}else{var l=new cr(n,e,null,!0),u=new cr(n,null,l,!1);l.o=u,a.push(l),o.push(u),l=new cr(r,e,null,!1),u=new cr(r,null,l,!0),l.o=u,a.push(l),o.push(u)}}})),o.sort(t),ur(a),ur(o),a.length){for(var s=0,l=n,u=o.length;s<u;++s)o[s].e=l=!l;for(var c,f,d=a[0];;){for(var h=d,p=!0;h.v;)if((h=h.n)===d)return;c=h.z,i.lineStart();do{if(h.v=h.o.v=!0,h.e){if(p)for(s=0,u=c.length;s<u;++s)i.point((f=c[s])[0],f[1]);else r(h.x,h.n.x,1,i);h=h.n}else{if(p)for(s=(c=h.p.z).length-1;s>=0;--s)i.point((f=c[s])[0],f[1]);else r(h.x,h.p.x,-1,i);h=h.p}c=(h=h.o).z,p=!p}while(!h.v);i.lineEnd()}}}function ur(e){if(t=e.length){for(var t,n,r=0,i=e[0];++r<t;)i.n=n=e[r],n.p=i,i=n;i.n=n=e[0],n.p=i}}function cr(e,t,n,r){this.x=e,this.z=t,this.o=n,this.e=r,this.v=!1,this.n=this.p=null}function fr(e,n,r,i){return function(a,o){var s,l=n(o),u=a.invert(i[0],i[1]),c={point:f,lineStart:h,lineEnd:p,polygonStart:function(){c.point=x,c.lineStart=_,c.lineEnd=w,s=[],g=[]},polygonEnd:function(){c.point=f,c.lineStart=h,c.lineEnd=p,s=t.merge(s);var e=br(u,g);s.length?(b||(o.polygonStart(),b=!0),lr(s,pr,e,r,o)):e&&(b||(o.polygonStart(),b=!0),o.lineStart(),r(null,null,1,o),o.lineEnd()),b&&(o.polygonEnd(),b=!1),s=g=null},sphere:function(){o.polygonStart(),o.lineStart(),r(null,null,1,o),o.lineEnd(),o.polygonEnd()}};function f(t,n){var r=a(t,n);e(t=r[0],n=r[1])&&o.point(t,n)}function d(e,t){var n=a(e,t);l.point(n[0],n[1])}function h(){c.point=d,l.lineStart()}function p(){c.point=f,l.lineEnd()}var g,v,m=hr(),y=n(m),b=!1;function x(e,t){v.push([e,t]);var n=a(e,t);y.point(n[0],n[1])}function _(){y.lineStart(),v=[]}function w(){x(v[0][0],v[0][1]),y.lineEnd();var e,t=y.clean(),n=m.buffer(),r=n.length;if(v.pop(),g.push(v),v=null,r)if(1&t){var i,a=-1;if((r=(e=n[0]).length-1)>0){for(b||(o.polygonStart(),b=!0),o.lineStart();++a<r;)o.point((i=e[a])[0],i[1]);o.lineEnd()}}else r>1&&2&t&&n.push(n.pop().concat(n.shift())),s.push(n.filter(dr))}return c}}function dr(e){return e.length>1}function hr(){var e,t=[];return{lineStart:function(){t.push(e=[])},point:function(t,n){e.push([t,n])},lineEnd:N,buffer:function(){var n=t;return t=[],e=null,n},rejoin:function(){t.length>1&&t.push(t.pop().concat(t.shift()))}}}function pr(e,t){return((e=e.x)[0]<0?e[1]-Re-Ee:Re-e[1])-((t=t.x)[0]<0?t[1]-Re-Ee:Re-t[1])}var gr=fr(sr,vr,yr,[-Oe,-Oe/2]);function vr(e){var t,n=NaN,r=NaN,i=NaN;return{lineStart:function(){e.lineStart(),t=1},point:function(a,o){var s=a>0?Oe:-Oe,l=b(a-n);b(l-Oe)<Ee?(e.point(n,r=(r+o)/2>0?Re:-Re),e.point(i,r),e.lineEnd(),e.lineStart(),e.point(s,r),e.point(a,r),t=0):i!==s&&l>=Oe&&(b(n-i)<Ee&&(n-=i*Ee),b(a-s)<Ee&&(a-=s*Ee),r=mr(n,r,a,o),e.point(i,r),e.lineEnd(),e.lineStart(),e.point(s,r),t=0),e.point(n=a,r=o),i=s},lineEnd:function(){e.lineEnd(),n=r=NaN},clean:function(){return 2-t}}}function mr(e,t,n,r){var i,a,o=Math.sin(e-n);return b(o)>Ee?Math.atan((Math.sin(t)*(a=Math.cos(r))*Math.sin(n)-Math.sin(r)*(i=Math.cos(t))*Math.sin(e))/(i*a*o)):(t+r)/2}function yr(e,t,n,r){var i;if(null==e)i=n*Re,r.point(-Oe,i),r.point(0,i),r.point(Oe,i),r.point(Oe,0),r.point(Oe,-i),r.point(0,-i),r.point(-Oe,-i),r.point(-Oe,0),r.point(-Oe,i);else if(b(e[0]-t[0])>Ee){var a=e[0]<t[0]?Oe:-Oe;i=n*a/2,r.point(-a,i),r.point(0,i),r.point(a,i)}else r.point(t[0],t[1])}function br(e,t){var n=e[0],r=e[1],i=[Math.sin(n),-Math.cos(n),0],a=0,o=0;Hn.reset();for(var s=0,l=t.length;s<l;++s){var u=t[s],c=u.length;if(c)for(var f=u[0],d=f[0],h=f[1]/2+Oe/4,p=Math.sin(h),g=Math.cos(h),v=1;;){v===c&&(v=0);var m=(e=u[v])[0],y=e[1]/2+Oe/4,b=Math.sin(y),x=Math.cos(y),_=m-d,w=_>=0?1:-1,k=w*_,M=k>Oe,T=p*b;if(Hn.add(Math.atan2(T*w*Math.sin(k),g*x+T*Math.cos(k))),a+=M?_+w*Ce:_,M^d>=n^m>=n){var A=Yn(Gn(f),Gn(e));Kn(A);var E=Yn(i,A);Kn(E);var S=(M^_>=0?-1:1)*De(E[2]);(r>S||r===S&&(A[0]||A[1]))&&(o+=M^_>=0?1:-1)}if(!v++)break;d=m,p=b,g=x,f=e}}return(a<-Ee||a<Ee&&Hn<-Ee)^1&o}function xr(e){var t=Math.cos(e),n=t>0,r=b(t)>Ee;return fr(i,a,ii(e,6*Pe),n?[0,-e]:[-Oe,e-Oe]);function i(e,n){return Math.cos(e)*Math.cos(n)>t}function a(e){var t,a,l,u,c;return{lineStart:function(){u=l=!1,c=1},point:function(f,d){var h,p=[f,d],g=i(f,d),v=n?g?0:s(f,d):g?s(f+(f<0?Oe:-Oe),d):0;if(!t&&(u=l=g)&&e.lineStart(),g!==l&&(h=o(t,p),(Jn(t,h)||Jn(p,h))&&(p[0]+=Ee,p[1]+=Ee,g=i(p[0],p[1]))),g!==l)c=0,g?(e.lineStart(),h=o(p,t),e.point(h[0],h[1])):(h=o(t,p),e.point(h[0],h[1]),e.lineEnd()),t=h;else if(r&&t&&n^g){var m;v&a||!(m=o(p,t,!0))||(c=0,n?(e.lineStart(),e.point(m[0][0],m[0][1]),e.point(m[1][0],m[1][1]),e.lineEnd()):(e.point(m[1][0],m[1][1]),e.lineEnd(),e.lineStart(),e.point(m[0][0],m[0][1])))}!g||t&&Jn(t,p)||e.point(p[0],p[1]),t=p,l=g,a=v},lineEnd:function(){l&&e.lineEnd(),t=null},clean:function(){return c|(u&&l)<<1}}}function o(e,n,r){var i=[1,0,0],a=Yn(Gn(e),Gn(n)),o=Xn(a,a),s=a[0],l=o-s*s;if(!l)return!r&&e;var u=t*o/l,c=-t*s/l,f=Yn(i,a),d=$n(i,u);Zn(d,$n(a,c));var h=f,p=Xn(d,h),g=Xn(h,h),v=p*p-g*(Xn(d,d)-1);if(!(v<0)){var m=Math.sqrt(v),y=$n(h,(-p-m)/g);if(Zn(y,d),y=Qn(y),!r)return y;var x,_=e[0],w=n[0],k=e[1],M=n[1];w<_&&(x=_,_=w,w=x);var T=w-_,A=b(T-Oe)<Ee;if(!A&&M<k&&(x=k,k=M,M=x),A||T<Ee?A?k+M>0^y[1]<(b(y[0]-_)<Ee?k:M):k<=y[1]&&y[1]<=M:T>Oe^(_<=y[0]&&y[0]<=w)){var E=$n(h,(-p+m)/g);return Zn(E,d),[y,Qn(E)]}}}function s(t,r){var i=n?e:Oe-e,a=0;return t<-i?a|=1:t>i&&(a|=2),r<-i?a|=4:r>i&&(a|=8),a}}function _r(e,t,n,r){return function(i){var a,o=i.a,s=i.b,l=o.x,u=o.y,c=0,f=1,d=s.x-l,h=s.y-u;if(a=e-l,d||!(a>0)){if(a/=d,d<0){if(a<c)return;a<f&&(f=a)}else if(d>0){if(a>f)return;a>c&&(c=a)}if(a=n-l,d||!(a<0)){if(a/=d,d<0){if(a>f)return;a>c&&(c=a)}else if(d>0){if(a<c)return;a<f&&(f=a)}if(a=t-u,h||!(a>0)){if(a/=h,h<0){if(a<c)return;a<f&&(f=a)}else if(h>0){if(a>f)return;a>c&&(c=a)}if(a=r-u,h||!(a<0)){if(a/=h,h<0){if(a>f)return;a>c&&(c=a)}else if(h>0){if(a<c)return;a<f&&(f=a)}return c>0&&(i.a={x:l+c*d,y:u+c*h}),f<1&&(i.b={x:l+f*d,y:u+f*h}),i}}}}}}var wr=1e9;function kr(e,n,r,i){return function(l){var u,c,f,d,h,p,g,v,m,y,b,x=l,_=hr(),w=_r(e,n,r,i),k={point:E,lineStart:S,lineEnd:O,polygonStart:function(){l=_,u=[],c=[],b=!0},polygonEnd:function(){l=x,u=t.merge(u);var n=M([e,i]),r=b&&n,a=u.length;(r||a)&&(l.polygonStart(),r&&(l.lineStart(),T(null,null,1,l),l.lineEnd()),a&&lr(u,o,n,T,l),l.polygonEnd()),u=c=f=null}};function M(e){for(var t=0,n=c.length,r=e[1],i=0;i<n;++i)for(var a,o=1,s=c[i],l=s.length,u=s[0];o<l;++o)a=s[o],u[1]<=r?a[1]>r&&Ie(u,a,e)>0&&++t:a[1]<=r&&Ie(u,a,e)<0&&--t,u=a;return 0!==t}function T(t,o,l,u){var c=0,f=0;if(null==t||(c=a(t,l))!==(f=a(o,l))||s(t,o)<0^l>0)do{u.point(0===c||3===c?e:r,c>1?i:n)}while((c=(c+l+4)%4)!==f);else u.point(o[0],o[1])}function A(t,a){return e<=t&&t<=r&&n<=a&&a<=i}function E(e,t){A(e,t)&&l.point(e,t)}function S(){k.point=C,c&&c.push(f=[]),y=!0,m=!1,g=v=NaN}function O(){u&&(C(d,h),p&&m&&_.rejoin(),u.push(_.buffer())),k.point=E,m&&l.lineEnd()}function C(e,t){var n=A(e=Math.max(-wr,Math.min(wr,e)),t=Math.max(-wr,Math.min(wr,t)));if(c&&f.push([e,t]),y)d=e,h=t,p=n,y=!1,n&&(l.lineStart(),l.point(e,t));else if(n&&m)l.point(e,t);else{var r={a:{x:g,y:v},b:{x:e,y:t}};w(r)?(m||(l.lineStart(),l.point(r.a.x,r.a.y)),l.point(r.b.x,r.b.y),n||l.lineEnd(),b=!1):n&&(l.lineStart(),l.point(e,t),b=!1)}g=e,v=t,m=n}return k};function a(t,i){return b(t[0]-e)<Ee?i>0?0:3:b(t[0]-r)<Ee?i>0?2:1:b(t[1]-n)<Ee?i>0?1:0:i>0?3:2}function o(e,t){return s(e.x,t.x)}function s(e,t){var n=a(e,1),r=a(t,1);return n!==r?n-r:0===n?t[1]-e[1]:1===n?e[0]-t[0]:2===n?e[1]-t[1]:t[0]-e[0]}}function Mr(e){var t=0,n=Oe/3,r=$r(e),i=r(t,n);return i.parallels=function(e){return arguments.length?r(t=e[0]*Oe/180,n=e[1]*Oe/180):[t/Oe*180,n/Oe*180]},i}function Tr(e,t){var n=Math.sin(e),r=(n+Math.sin(t))/2,i=1+n*(2*r-n),a=Math.sqrt(i)/r;function o(e,t){var n=Math.sqrt(i-2*r*Math.sin(t))/r;return[n*Math.sin(e*=r),a-n*Math.cos(e)]}return o.invert=function(e,t){var n=a-t;return[Math.atan2(e,n)/r,De((i-(e*e+n*n)*r*r)/(2*r))]},o}t.geo.clipExtent=function(){var e,t,n,r,i,a,o={stream:function(e){return i&&(i.valid=!1),(i=a(e)).valid=!0,i},extent:function(s){return arguments.length?(a=kr(e=+s[0][0],t=+s[0][1],n=+s[1][0],r=+s[1][1]),i&&(i.valid=!1,i=null),o):[[e,t],[n,r]]}};return o.extent([[0,0],[960,500]])},(t.geo.conicEqualArea=function(){return Mr(Tr)}).raw=Tr,t.geo.albers=function(){return t.geo.conicEqualArea().rotate([96,0]).center([-.6,38.7]).parallels([29.5,45.5]).scale(1070)},t.geo.albersUsa=function(){var e,n,r,i,a=t.geo.albers(),o=t.geo.conicEqualArea().rotate([154,0]).center([-2,58.5]).parallels([55,65]),s=t.geo.conicEqualArea().rotate([157,0]).center([-3,19.9]).parallels([8,18]),l={point:function(t,n){e=[t,n]}};function u(t){var a=t[0],o=t[1];return e=null,n(a,o),e||(r(a,o),e)||i(a,o),e}return u.invert=function(e){var t=a.scale(),n=a.translate(),r=(e[0]-n[0])/t,i=(e[1]-n[1])/t;return(i>=.12&&i<.234&&r>=-.425&&r<-.214?o:i>=.166&&i<.234&&r>=-.214&&r<-.115?s:a).invert(e)},u.stream=function(e){var t=a.stream(e),n=o.stream(e),r=s.stream(e);return{point:function(e,i){t.point(e,i),n.point(e,i),r.point(e,i)},sphere:function(){t.sphere(),n.sphere(),r.sphere()},lineStart:function(){t.lineStart(),n.lineStart(),r.lineStart()},lineEnd:function(){t.lineEnd(),n.lineEnd(),r.lineEnd()},polygonStart:function(){t.polygonStart(),n.polygonStart(),r.polygonStart()},polygonEnd:function(){t.polygonEnd(),n.polygonEnd(),r.polygonEnd()}}},u.precision=function(e){return arguments.length?(a.precision(e),o.precision(e),s.precision(e),u):a.precision()},u.scale=function(e){return arguments.length?(a.scale(e),o.scale(.35*e),s.scale(e),u.translate(a.translate())):a.scale()},u.translate=function(e){if(!arguments.length)return a.translate();var t=a.scale(),c=+e[0],f=+e[1];return n=a.translate(e).clipExtent([[c-.455*t,f-.238*t],[c+.455*t,f+.238*t]]).stream(l).point,r=o.translate([c-.307*t,f+.201*t]).clipExtent([[c-.425*t+Ee,f+.12*t+Ee],[c-.214*t-Ee,f+.234*t-Ee]]).stream(l).point,i=s.translate([c-.205*t,f+.212*t]).clipExtent([[c-.214*t+Ee,f+.166*t+Ee],[c-.115*t-Ee,f+.234*t-Ee]]).stream(l).point,u},u.scale(1070)};var Ar,Er,Sr,Or,Cr,Lr,Rr={point:N,lineStart:N,lineEnd:N,polygonStart:function(){Er=0,Rr.lineStart=Pr},polygonEnd:function(){Rr.lineStart=Rr.lineEnd=Rr.point=N,Ar+=b(Er/2)}};function Pr(){var e,t,n,r;function i(e,t){Er+=r*e-n*t,n=e,r=t}Rr.point=function(a,o){Rr.point=i,e=n=a,t=r=o},Rr.lineEnd=function(){i(e,t)}}var jr={point:zr,lineStart:N,lineEnd:N,polygonStart:N,polygonEnd:N};function zr(e,t){e<Sr&&(Sr=e),e>Cr&&(Cr=e),t<Or&&(Or=t),t>Lr&&(Lr=t)}function Ir(){var e=Nr(4.5),t=[],n={point:r,lineStart:function(){n.point=i},lineEnd:o,polygonStart:function(){n.lineEnd=s},polygonEnd:function(){n.lineEnd=o,n.point=r},pointRadius:function(t){return e=Nr(t),n},result:function(){if(t.length){var e=t.join("");return t=[],e}}};function r(n,r){t.push("M",n,",",r,e)}function i(e,r){t.push("M",e,",",r),n.point=a}function a(e,n){t.push("L",e,",",n)}function o(){n.point=r}function s(){t.push("Z")}return n}function Nr(e){return"m0,"+e+"a"+e+","+e+" 0 1,1 0,"+-2*e+"a"+e+","+e+" 0 1,1 0,"+2*e+"z"}var Dr,Fr={point:Br,lineStart:Ur,lineEnd:Vr,polygonStart:function(){Fr.lineStart=Hr},polygonEnd:function(){Fr.point=Br,Fr.lineStart=Ur,Fr.lineEnd=Vr}};function Br(e,t){jn+=e,zn+=t,++In}function Ur(){var e,t;function n(n,r){var i=n-e,a=r-t,o=Math.sqrt(i*i+a*a);Nn+=o*(e+n)/2,Dn+=o*(t+r)/2,Fn+=o,Br(e=n,t=r)}Fr.point=function(r,i){Fr.point=n,Br(e=r,t=i)}}function Vr(){Fr.point=Br}function Hr(){var e,t,n,r;function i(e,t){var i=e-n,a=t-r,o=Math.sqrt(i*i+a*a);Nn+=o*(n+e)/2,Dn+=o*(r+t)/2,Fn+=o,Bn+=(o=r*e-n*t)*(n+e),Un+=o*(r+t),Vn+=3*o,Br(n=e,r=t)}Fr.point=function(a,o){Fr.point=i,Br(e=n=a,t=r=o)},Fr.lineEnd=function(){i(e,t)}}function qr(e){var t=4.5,n={point:r,lineStart:function(){n.point=i},lineEnd:o,polygonStart:function(){n.lineEnd=s},polygonEnd:function(){n.lineEnd=o,n.point=r},pointRadius:function(e){return t=e,n},result:N};function r(n,r){e.moveTo(n+t,r),e.arc(n,r,t,0,Ce)}function i(t,r){e.moveTo(t,r),n.point=a}function a(t,n){e.lineTo(t,n)}function o(){n.point=r}function s(){e.closePath()}return n}function Wr(e){var t=.5,n=Math.cos(30*Pe),r=16;function i(e){return(r?o:a)(e)}function a(t){return Yr(t,(function(n,r){n=e(n,r),t.point(n[0],n[1])}))}function o(t){var n,i,a,o,l,u,c,f,d,h,p,g,v={point:m,lineStart:y,lineEnd:x,polygonStart:function(){t.polygonStart(),v.lineStart=_},polygonEnd:function(){t.polygonEnd(),v.lineStart=y}};function m(n,r){n=e(n,r),t.point(n[0],n[1])}function y(){f=NaN,v.point=b,t.lineStart()}function b(n,i){var a=Gn([n,i]),o=e(n,i);s(f,d,c,h,p,g,f=o[0],d=o[1],c=n,h=a[0],p=a[1],g=a[2],r,t),t.point(f,d)}function x(){v.point=m,t.lineEnd()}function _(){y(),v.point=w,v.lineEnd=k}function w(e,t){b(n=e,t),i=f,a=d,o=h,l=p,u=g,v.point=b}function k(){s(f,d,c,h,p,g,i,a,n,o,l,u,r,t),v.lineEnd=x,x()}return v}function s(r,i,a,o,l,u,c,f,d,h,p,g,v,m){var y=c-r,x=f-i,_=y*y+x*x;if(_>4*t&&v--){var w=o+h,k=l+p,M=u+g,T=Math.sqrt(w*w+k*k+M*M),A=Math.asin(M/=T),E=b(b(M)-1)<Ee||b(a-d)<Ee?(a+d)/2:Math.atan2(k,w),S=e(E,A),O=S[0],C=S[1],L=O-r,R=C-i,P=x*L-y*R;(P*P/_>t||b((y*L+x*R)/_-.5)>.3||o*h+l*p+u*g<n)&&(s(r,i,a,o,l,u,O,C,E,w/=T,k/=T,M,v,m),m.point(O,C),s(O,C,E,w,k,M,c,f,d,h,p,g,v,m))}}return i.precision=function(e){return arguments.length?(r=(t=e*e)>0&&16,i):Math.sqrt(t)},i}function Gr(e){var t=Wr((function(t,n){return e([t*je,n*je])}));return function(e){return Kr(t(e))}}function Xr(e){this.stream=e}function Yr(e,t){return{point:t,sphere:function(){e.sphere()},lineStart:function(){e.lineStart()},lineEnd:function(){e.lineEnd()},polygonStart:function(){e.polygonStart()},polygonEnd:function(){e.polygonEnd()}}}function Zr(e){return $r((function(){return e}))()}function $r(e){var n,r,i,a,o,s,l=Wr((function(e,t){return[(e=n(e,t))[0]*u+a,o-e[1]*u]})),u=150,c=480,f=250,d=0,h=0,p=0,g=0,v=0,m=gr,y=P,b=null,x=null;function _(e){return[(e=i(e[0]*Pe,e[1]*Pe))[0]*u+a,o-e[1]*u]}function w(e){return(e=i.invert((e[0]-a)/u,(o-e[1])/u))&&[e[0]*je,e[1]*je]}function k(){i=or(r=ei(p,g,v),n);var e=n(d,h);return a=c-e[0]*u,o=f+e[1]*u,M()}function M(){return s&&(s.valid=!1,s=null),_}return _.stream=function(e){return s&&(s.valid=!1),(s=Kr(m(r,l(y(e))))).valid=!0,s},_.clipAngle=function(e){return arguments.length?(m=null==e?(b=e,gr):xr((b=+e)*Pe),M()):b},_.clipExtent=function(e){return arguments.length?(x=e,y=e?kr(e[0][0],e[0][1],e[1][0],e[1][1]):P,M()):x},_.scale=function(e){return arguments.length?(u=+e,k()):u},_.translate=function(e){return arguments.length?(c=+e[0],f=+e[1],k()):[c,f]},_.center=function(e){return arguments.length?(d=e[0]%360*Pe,h=e[1]%360*Pe,k()):[d*je,h*je]},_.rotate=function(e){return arguments.length?(p=e[0]%360*Pe,g=e[1]%360*Pe,v=e.length>2?e[2]%360*Pe:0,k()):[p*je,g*je,v*je]},t.rebind(_,l,"precision"),function(){return n=e.apply(this,arguments),_.invert=n.invert&&w,k()}}function Kr(e){return Yr(e,(function(t,n){e.point(t*Pe,n*Pe)}))}function Qr(e,t){return[e,t]}function Jr(e,t){return[e>Oe?e-Ce:e<-Oe?e+Ce:e,t]}function ei(e,t,n){return e?t||n?or(ni(e),ri(t,n)):ni(e):t||n?ri(t,n):Jr}function ti(e){return function(t,n){return[(t+=e)>Oe?t-Ce:t<-Oe?t+Ce:t,n]}}function ni(e){var t=ti(e);return t.invert=ti(-e),t}function ri(e,t){var n=Math.cos(e),r=Math.sin(e),i=Math.cos(t),a=Math.sin(t);function o(e,t){var o=Math.cos(t),s=Math.cos(e)*o,l=Math.sin(e)*o,u=Math.sin(t),c=u*n+s*r;return[Math.atan2(l*i-c*a,s*n-u*r),De(c*i+l*a)]}return o.invert=function(e,t){var o=Math.cos(t),s=Math.cos(e)*o,l=Math.sin(e)*o,u=Math.sin(t),c=u*i-l*a;return[Math.atan2(l*i+u*a,s*n+c*r),De(c*n-s*r)]},o}function ii(e,t){var n=Math.cos(e),r=Math.sin(e);return function(i,a,o,s){var l=o*t;null!=i?(i=ai(n,i),a=ai(n,a),(o>0?i<a:i>a)&&(i+=o*Ce)):(i=e+o*Ce,a=e-.5*l);for(var u,c=i;o>0?c>a:c<a;c-=l)s.point((u=Qn([n,-r*Math.cos(c),-r*Math.sin(c)]))[0],u[1])}}function ai(e,t){var n=Gn(t);n[0]-=e,Kn(n);var r=Ne(-n[1]);return((-n[2]<0?-r:r)+2*Math.PI-Ee)%(2*Math.PI)}function oi(e,n,r){var i=t.range(e,n-Ee,r).concat(n);return function(e){return i.map((function(t){return[e,t]}))}}function si(e,n,r){var i=t.range(e,n-Ee,r).concat(n);return function(e){return i.map((function(t){return[t,e]}))}}function li(e){return e.source}function ui(e){return e.target}function ci(e,t,n,r){var i=Math.cos(t),a=Math.sin(t),o=Math.cos(r),s=Math.sin(r),l=i*Math.cos(e),u=i*Math.sin(e),c=o*Math.cos(n),f=o*Math.sin(n),d=2*Math.asin(Math.sqrt(Ve(r-t)+i*o*Ve(n-e))),h=1/Math.sin(d),p=d?function(e){var t=Math.sin(e*=d)*h,n=Math.sin(d-e)*h,r=n*l+t*c,i=n*u+t*f,o=n*a+t*s;return[Math.atan2(i,r)*je,Math.atan2(o,Math.sqrt(r*r+i*i))*je]}:function(){return[e*je,t*je]};return p.distance=d,p}t.geo.path=function(){var e,n,r,i,a,o=4.5;function s(e){return e&&("function"===typeof o&&i.pointRadius(+o.apply(this,arguments)),a&&a.valid||(a=r(i)),t.geo.stream(e,a)),i.result()}function l(){return a=null,s}return s.area=function(e){return Ar=0,t.geo.stream(e,r(Rr)),Ar},s.centroid=function(e){return jn=zn=In=Nn=Dn=Fn=Bn=Un=Vn=0,t.geo.stream(e,r(Fr)),Vn?[Bn/Vn,Un/Vn]:Fn?[Nn/Fn,Dn/Fn]:In?[jn/In,zn/In]:[NaN,NaN]},s.bounds=function(e){return Cr=Lr=-(Sr=Or=1/0),t.geo.stream(e,r(jr)),[[Sr,Or],[Cr,Lr]]},s.projection=function(t){return arguments.length?(r=(e=t)?t.stream||Gr(t):P,l()):e},s.context=function(e){return arguments.length?(i=null==(n=e)?new Ir:new qr(e),"function"!==typeof o&&i.pointRadius(o),l()):n},s.pointRadius=function(e){return arguments.length?(o="function"===typeof e?e:(i.pointRadius(+e),+e),s):o},s.projection(t.geo.albersUsa()).context(null)},t.geo.transform=function(e){return{stream:function(t){var n=new Xr(t);for(var r in e)n[r]=e[r];return n}}},Xr.prototype={point:function(e,t){this.stream.point(e,t)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}},t.geo.projection=Zr,t.geo.projectionMutator=$r,(t.geo.equirectangular=function(){return Zr(Qr)}).raw=Qr.invert=Qr,t.geo.rotation=function(e){function t(t){return(t=e(t[0]*Pe,t[1]*Pe))[0]*=je,t[1]*=je,t}return e=ei(e[0]%360*Pe,e[1]*Pe,e.length>2?e[2]*Pe:0),t.invert=function(t){return(t=e.invert(t[0]*Pe,t[1]*Pe))[0]*=je,t[1]*=je,t},t},Jr.invert=Qr,t.geo.circle=function(){var e,t,n=[0,0],r=6;function i(){var e="function"===typeof n?n.apply(this,arguments):n,r=ei(-e[0]*Pe,-e[1]*Pe,0).invert,i=[];return t(null,null,1,{point:function(e,t){i.push(e=r(e,t)),e[0]*=je,e[1]*=je}}),{type:"Polygon",coordinates:[i]}}return i.origin=function(e){return arguments.length?(n=e,i):n},i.angle=function(n){return arguments.length?(t=ii((e=+n)*Pe,r*Pe),i):e},i.precision=function(n){return arguments.length?(t=ii(e*Pe,(r=+n)*Pe),i):r},i.angle(90)},t.geo.distance=function(e,t){var n,r=(t[0]-e[0])*Pe,i=e[1]*Pe,a=t[1]*Pe,o=Math.sin(r),s=Math.cos(r),l=Math.sin(i),u=Math.cos(i),c=Math.sin(a),f=Math.cos(a);return Math.atan2(Math.sqrt((n=f*o)*n+(n=u*c-l*f*s)*n),l*c+u*f*s)},t.geo.graticule=function(){var e,n,r,i,a,o,s,l,u,c,f,d,h=10,p=h,g=90,v=360,m=2.5;function y(){return{type:"MultiLineString",coordinates:x()}}function x(){return t.range(Math.ceil(i/g)*g,r,g).map(f).concat(t.range(Math.ceil(l/v)*v,s,v).map(d)).concat(t.range(Math.ceil(n/h)*h,e,h).filter((function(e){return b(e%g)>Ee})).map(u)).concat(t.range(Math.ceil(o/p)*p,a,p).filter((function(e){return b(e%v)>Ee})).map(c))}return y.lines=function(){return x().map((function(e){return{type:"LineString",coordinates:e}}))},y.outline=function(){return{type:"Polygon",coordinates:[f(i).concat(d(s).slice(1),f(r).reverse().slice(1),d(l).reverse().slice(1))]}},y.extent=function(e){return arguments.length?y.majorExtent(e).minorExtent(e):y.minorExtent()},y.majorExtent=function(e){return arguments.length?(i=+e[0][0],r=+e[1][0],l=+e[0][1],s=+e[1][1],i>r&&(e=i,i=r,r=e),l>s&&(e=l,l=s,s=e),y.precision(m)):[[i,l],[r,s]]},y.minorExtent=function(t){return arguments.length?(n=+t[0][0],e=+t[1][0],o=+t[0][1],a=+t[1][1],n>e&&(t=n,n=e,e=t),o>a&&(t=o,o=a,a=t),y.precision(m)):[[n,o],[e,a]]},y.step=function(e){return arguments.length?y.majorStep(e).minorStep(e):y.minorStep()},y.majorStep=function(e){return arguments.length?(g=+e[0],v=+e[1],y):[g,v]},y.minorStep=function(e){return arguments.length?(h=+e[0],p=+e[1],y):[h,p]},y.precision=function(t){return arguments.length?(m=+t,u=oi(o,a,90),c=si(n,e,m),f=oi(l,s,90),d=si(i,r,m),y):m},y.majorExtent([[-180,-90+Ee],[180,90-Ee]]).minorExtent([[-180,-80-Ee],[180,80+Ee]])},t.geo.greatArc=function(){var e,n,r=li,i=ui;function a(){return{type:"LineString",coordinates:[e||r.apply(this,arguments),n||i.apply(this,arguments)]}}return a.distance=function(){return t.geo.distance(e||r.apply(this,arguments),n||i.apply(this,arguments))},a.source=function(t){return arguments.length?(r=t,e="function"===typeof t?null:t,a):r},a.target=function(e){return arguments.length?(i=e,n="function"===typeof e?null:e,a):i},a.precision=function(){return arguments.length?a:0},a},t.geo.interpolate=function(e,t){return ci(e[0]*Pe,e[1]*Pe,t[0]*Pe,t[1]*Pe)},t.geo.length=function(e){return Dr=0,t.geo.stream(e,fi),Dr};var fi={sphere:N,point:N,lineStart:di,lineEnd:N,polygonStart:N,polygonEnd:N};function di(){var e,t,n;function r(r,i){var a=Math.sin(i*=Pe),o=Math.cos(i),s=b((r*=Pe)-e),l=Math.cos(s);Dr+=Math.atan2(Math.sqrt((s=o*Math.sin(s))*s+(s=n*a-t*o*l)*s),t*a+n*o*l),e=r,t=a,n=o}fi.point=function(i,a){e=i*Pe,t=Math.sin(a*=Pe),n=Math.cos(a),fi.point=r},fi.lineEnd=function(){fi.point=fi.lineEnd=N}}function hi(e,t){function n(t,n){var r=Math.cos(t),i=Math.cos(n),a=e(r*i);return[a*i*Math.sin(t),a*Math.sin(n)]}return n.invert=function(e,n){var r=Math.sqrt(e*e+n*n),i=t(r),a=Math.sin(i),o=Math.cos(i);return[Math.atan2(e*a,r*o),Math.asin(r&&n*a/r)]},n}var pi=hi((function(e){return Math.sqrt(2/(1+e))}),(function(e){return 2*Math.asin(e/2)}));(t.geo.azimuthalEqualArea=function(){return Zr(pi)}).raw=pi;var gi=hi((function(e){var t=Math.acos(e);return t&&t/Math.sin(t)}),P);function vi(e,t){var n=Math.cos(e),r=function(e){return Math.tan(Oe/4+e/2)},i=e===t?Math.sin(e):Math.log(n/Math.cos(t))/Math.log(r(t)/r(e)),a=n*Math.pow(r(e),i)/i;if(!i)return bi;function o(e,t){a>0?t<-Re+Ee&&(t=-Re+Ee):t>Re-Ee&&(t=Re-Ee);var n=a/Math.pow(r(t),i);return[n*Math.sin(i*e),a-n*Math.cos(i*e)]}return o.invert=function(e,t){var n=a-t,r=ze(i)*Math.sqrt(e*e+n*n);return[Math.atan2(e,n)/i,2*Math.atan(Math.pow(a/r,1/i))-Re]},o}function mi(e,t){var n=Math.cos(e),r=e===t?Math.sin(e):(n-Math.cos(t))/(t-e),i=n/r+e;if(b(r)<Ee)return Qr;function a(e,t){var n=i-t;return[n*Math.sin(r*e),i-n*Math.cos(r*e)]}return a.invert=function(e,t){var n=i-t;return[Math.atan2(e,n)/r,i-ze(r)*Math.sqrt(e*e+n*n)]},a}(t.geo.azimuthalEquidistant=function(){return Zr(gi)}).raw=gi,(t.geo.conicConformal=function(){return Mr(vi)}).raw=vi,(t.geo.conicEquidistant=function(){return Mr(mi)}).raw=mi;var yi=hi((function(e){return 1/e}),Math.atan);function bi(e,t){return[e,Math.log(Math.tan(Oe/4+t/2))]}function xi(e){var t,n=Zr(e),r=n.scale,i=n.translate,a=n.clipExtent;return n.scale=function(){var e=r.apply(n,arguments);return e===n?t?n.clipExtent(null):n:e},n.translate=function(){var e=i.apply(n,arguments);return e===n?t?n.clipExtent(null):n:e},n.clipExtent=function(e){var o=a.apply(n,arguments);if(o===n){if(t=null==e){var s=Oe*r(),l=i();a([[l[0]-s,l[1]-s],[l[0]+s,l[1]+s]])}}else t&&(o=null);return o},n.clipExtent(null)}(t.geo.gnomonic=function(){return Zr(yi)}).raw=yi,bi.invert=function(e,t){return[e,2*Math.atan(Math.exp(t))-Re]},(t.geo.mercator=function(){return xi(bi)}).raw=bi;var _i=hi((function(){return 1}),Math.asin);(t.geo.orthographic=function(){return Zr(_i)}).raw=_i;var wi=hi((function(e){return 1/(1+e)}),(function(e){return 2*Math.atan(e)}));function ki(e,t){return[Math.log(Math.tan(Oe/4+t/2)),-e]}function Mi(e){return e[0]}function Ti(e){return e[1]}function Ai(e){for(var t=e.length,n=[0,1],r=2,i=2;i<t;i++){for(;r>1&&Ie(e[n[r-2]],e[n[r-1]],e[i])<=0;)--r;n[r++]=i}return n.slice(0,r)}function Ei(e,t){return e[0]-t[0]||e[1]-t[1]}(t.geo.stereographic=function(){return Zr(wi)}).raw=wi,ki.invert=function(e,t){return[-t,2*Math.atan(Math.exp(e))-Re]},(t.geo.transverseMercator=function(){var e=xi(ki),t=e.center,n=e.rotate;return e.center=function(e){return e?t([-e[1],e[0]]):[(e=t())[1],-e[0]]},e.rotate=function(e){return e?n([e[0],e[1],e.length>2?e[2]+90:90]):[(e=n())[0],e[1],e[2]-90]},n([0,0,90])}).raw=ki,t.geom={},t.geom.hull=function(e){var t=Mi,n=Ti;if(arguments.length)return r(e);function r(e){if(e.length<3)return[];var r,i=Mt(t),a=Mt(n),o=e.length,s=[],l=[];for(r=0;r<o;r++)s.push([+i.call(this,e[r],r),+a.call(this,e[r],r),r]);for(s.sort(Ei),r=0;r<o;r++)l.push([s[r][0],-s[r][1]]);var u=Ai(s),c=Ai(l),f=c[0]===u[0],d=c[c.length-1]===u[u.length-1],h=[];for(r=u.length-1;r>=0;--r)h.push(e[s[u[r]][2]]);for(r=+f;r<c.length-d;++r)h.push(e[s[c[r]][2]]);return h}return r.x=function(e){return arguments.length?(t=e,r):t},r.y=function(e){return arguments.length?(n=e,r):n},r},t.geom.polygon=function(e){return q(e,Si),e};var Si=t.geom.polygon.prototype=[];function Oi(e,t,n){return(n[0]-t[0])*(e[1]-t[1])<(n[1]-t[1])*(e[0]-t[0])}function Ci(e,t,n,r){var i=e[0],a=n[0],o=t[0]-i,s=r[0]-a,l=e[1],u=n[1],c=t[1]-l,f=r[1]-u,d=(s*(l-u)-f*(i-a))/(f*o-s*c);return[i+d*o,l+d*c]}function Li(e){var t=e[0],n=e[e.length-1];return!(t[0]-n[0]||t[1]-n[1])}Si.area=function(){for(var e,t=-1,n=this.length,r=this[n-1],i=0;++t<n;)e=r,r=this[t],i+=e[1]*r[0]-e[0]*r[1];return.5*i},Si.centroid=function(e){var t,n,r=-1,i=this.length,a=0,o=0,s=this[i-1];for(arguments.length||(e=-1/(6*this.area()));++r<i;)t=s,s=this[r],n=t[0]*s[1]-s[0]*t[1],a+=(t[0]+s[0])*n,o+=(t[1]+s[1])*n;return[a*e,o*e]},Si.clip=function(e){for(var t,n,r,i,a,o,s=Li(e),l=-1,u=this.length-Li(this),c=this[u-1];++l<u;){for(t=e.slice(),e.length=0,i=this[l],a=t[(r=t.length-s)-1],n=-1;++n<r;)Oi(o=t[n],c,i)?(Oi(a,c,i)||e.push(Ci(a,o,c,i)),e.push(o)):Oi(a,c,i)&&e.push(Ci(a,o,c,i)),a=o;s&&e.push(e[0]),c=i}return e};var Ri,Pi,ji,zi,Ii,Ni=[],Di=[];function Fi(){oa(this),this.edge=this.site=this.circle=null}function Bi(e){var t=Ni.pop()||new Fi;return t.site=e,t}function Ui(e){Ki(e),ji.remove(e),Ni.push(e),oa(e)}function Vi(e){var t=e.circle,n=t.x,r=t.cy,i={x:n,y:r},a=e.P,o=e.N,s=[e];Ui(e);for(var l=a;l.circle&&b(n-l.circle.x)<Ee&&b(r-l.circle.cy)<Ee;)a=l.P,s.unshift(l),Ui(l),l=a;s.unshift(l),Ki(l);for(var u=o;u.circle&&b(n-u.circle.x)<Ee&&b(r-u.circle.cy)<Ee;)o=u.N,s.push(u),Ui(u),u=o;s.push(u),Ki(u);var c,f=s.length;for(c=1;c<f;++c)u=s[c],l=s[c-1],ra(u.edge,l.site,u.site,i);l=s[0],(u=s[f-1]).edge=ta(l.site,u.site,null,i),$i(l),$i(u)}function Hi(e){for(var t,n,r,i,a=e.x,o=e.y,s=ji._;s;)if((r=qi(s,o)-a)>Ee)s=s.L;else{if(!((i=a-Wi(s,o))>Ee)){r>-Ee?(t=s.P,n=s):i>-Ee?(t=s,n=s.N):t=n=s;break}if(!s.R){t=s;break}s=s.R}var l=Bi(e);if(ji.insert(t,l),t||n){if(t===n)return Ki(t),n=Bi(t.site),ji.insert(l,n),l.edge=n.edge=ta(t.site,l.site),$i(t),void $i(n);if(n){Ki(t),Ki(n);var u=t.site,c=u.x,f=u.y,d=e.x-c,h=e.y-f,p=n.site,g=p.x-c,v=p.y-f,m=2*(d*v-h*g),y=d*d+h*h,b=g*g+v*v,x={x:(v*y-h*b)/m+c,y:(d*b-g*y)/m+f};ra(n.edge,u,p,x),l.edge=ta(u,e,null,x),n.edge=ta(e,p,null,x),$i(t),$i(n)}else l.edge=ta(t.site,l.site)}}function qi(e,t){var n=e.site,r=n.x,i=n.y,a=i-t;if(!a)return r;var o=e.P;if(!o)return-1/0;var s=(n=o.site).x,l=n.y,u=l-t;if(!u)return s;var c=s-r,f=1/a-1/u,d=c/u;return f?(-d+Math.sqrt(d*d-2*f*(c*c/(-2*u)-l+u/2+i-a/2)))/f+r:(r+s)/2}function Wi(e,t){var n=e.N;if(n)return qi(n,t);var r=e.site;return r.y===t?r.x:1/0}function Gi(e){this.site=e,this.edges=[]}function Xi(e){for(var t,n,r,i,a,o,s,l,u,c,f=e[0][0],d=e[1][0],h=e[0][1],p=e[1][1],g=Pi,v=g.length;v--;)if((a=g[v])&&a.prepare())for(l=(s=a.edges).length,o=0;o<l;)r=(c=s[o].end()).x,i=c.y,t=(u=s[++o%l].start()).x,n=u.y,(b(r-t)>Ee||b(i-n)>Ee)&&(s.splice(o,0,new ia(na(a.site,c,b(r-f)<Ee&&p-i>Ee?{x:f,y:b(t-f)<Ee?n:p}:b(i-p)<Ee&&d-r>Ee?{x:b(n-p)<Ee?t:d,y:p}:b(r-d)<Ee&&i-h>Ee?{x:d,y:b(t-d)<Ee?n:h}:b(i-h)<Ee&&r-f>Ee?{x:b(n-h)<Ee?t:f,y:h}:null),a.site,null)),++l)}function Yi(e,t){return t.angle-e.angle}function Zi(){oa(this),this.x=this.y=this.arc=this.site=this.cy=null}function $i(e){var t=e.P,n=e.N;if(t&&n){var r=t.site,i=e.site,a=n.site;if(r!==a){var o=i.x,s=i.y,l=r.x-o,u=r.y-s,c=a.x-o,f=2*(l*(v=a.y-s)-u*c);if(!(f>=-Se)){var d=l*l+u*u,h=c*c+v*v,p=(v*d-u*h)/f,g=(l*h-c*d)/f,v=g+s,m=Di.pop()||new Zi;m.arc=e,m.site=i,m.x=p+o,m.y=v+Math.sqrt(p*p+g*g),m.cy=v,e.circle=m;for(var y=null,b=Ii._;b;)if(m.y<b.y||m.y===b.y&&m.x<=b.x){if(!b.L){y=b.P;break}b=b.L}else{if(!b.R){y=b;break}b=b.R}Ii.insert(y,m),y||(zi=m)}}}}function Ki(e){var t=e.circle;t&&(t.P||(zi=t.N),Ii.remove(t),Di.push(t),oa(t),e.circle=null)}function Qi(e){for(var t,n=Ri,r=_r(e[0][0],e[0][1],e[1][0],e[1][1]),i=n.length;i--;)(!Ji(t=n[i],e)||!r(t)||b(t.a.x-t.b.x)<Ee&&b(t.a.y-t.b.y)<Ee)&&(t.a=t.b=null,n.splice(i,1))}function Ji(e,t){var n=e.b;if(n)return!0;var r,i,a=e.a,o=t[0][0],s=t[1][0],l=t[0][1],u=t[1][1],c=e.l,f=e.r,d=c.x,h=c.y,p=f.x,g=f.y,v=(d+p)/2,m=(h+g)/2;if(g===h){if(v<o||v>=s)return;if(d>p){if(a){if(a.y>=u)return}else a={x:v,y:l};n={x:v,y:u}}else{if(a){if(a.y<l)return}else a={x:v,y:u};n={x:v,y:l}}}else if(i=m-(r=(d-p)/(g-h))*v,r<-1||r>1)if(d>p){if(a){if(a.y>=u)return}else a={x:(l-i)/r,y:l};n={x:(u-i)/r,y:u}}else{if(a){if(a.y<l)return}else a={x:(u-i)/r,y:u};n={x:(l-i)/r,y:l}}else if(h<g){if(a){if(a.x>=s)return}else a={x:o,y:r*o+i};n={x:s,y:r*s+i}}else{if(a){if(a.x<o)return}else a={x:s,y:r*s+i};n={x:o,y:r*o+i}}return e.a=a,e.b=n,!0}function ea(e,t){this.l=e,this.r=t,this.a=this.b=null}function ta(e,t,n,r){var i=new ea(e,t);return Ri.push(i),n&&ra(i,e,t,n),r&&ra(i,t,e,r),Pi[e.i].edges.push(new ia(i,e,t)),Pi[t.i].edges.push(new ia(i,t,e)),i}function na(e,t,n){var r=new ea(e,null);return r.a=t,r.b=n,Ri.push(r),r}function ra(e,t,n,r){e.a||e.b?e.l===n?e.b=r:e.a=r:(e.a=r,e.l=t,e.r=n)}function ia(e,t,n){var r=e.a,i=e.b;this.edge=e,this.site=t,this.angle=n?Math.atan2(n.y-t.y,n.x-t.x):e.l===t?Math.atan2(i.x-r.x,r.y-i.y):Math.atan2(r.x-i.x,i.y-r.y)}function aa(){this._=null}function oa(e){e.U=e.C=e.L=e.R=e.P=e.N=null}function sa(e,t){var n=t,r=t.R,i=n.U;i?i.L===n?i.L=r:i.R=r:e._=r,r.U=i,n.U=r,n.R=r.L,n.R&&(n.R.U=n),r.L=n}function la(e,t){var n=t,r=t.L,i=n.U;i?i.L===n?i.L=r:i.R=r:e._=r,r.U=i,n.U=r,n.L=r.R,n.L&&(n.L.U=n),r.R=n}function ua(e){for(;e.L;)e=e.L;return e}function ca(e,t){var n,r,i,a=e.sort(fa).pop();for(Ri=[],Pi=new Array(e.length),ji=new aa,Ii=new aa;;)if(i=zi,a&&(!i||a.y<i.y||a.y===i.y&&a.x<i.x))a.x===n&&a.y===r||(Pi[a.i]=new Gi(a),Hi(a),n=a.x,r=a.y),a=e.pop();else{if(!i)break;Vi(i.arc)}t&&(Qi(t),Xi(t));var o={cells:Pi,edges:Ri};return ji=Ii=Ri=Pi=null,o}function fa(e,t){return t.y-e.y||t.x-e.x}Gi.prototype.prepare=function(){for(var e,t=this.edges,n=t.length;n--;)(e=t[n].edge).b&&e.a||t.splice(n,1);return t.sort(Yi),t.length},ia.prototype={start:function(){return this.edge.l===this.site?this.edge.a:this.edge.b},end:function(){return this.edge.l===this.site?this.edge.b:this.edge.a}},aa.prototype={insert:function(e,t){var n,r,i;if(e){if(t.P=e,t.N=e.N,e.N&&(e.N.P=t),e.N=t,e.R){for(e=e.R;e.L;)e=e.L;e.L=t}else e.R=t;n=e}else this._?(e=ua(this._),t.P=null,t.N=e,e.P=e.L=t,n=e):(t.P=t.N=null,this._=t,n=null);for(t.L=t.R=null,t.U=n,t.C=!0,e=t;n&&n.C;)n===(r=n.U).L?(i=r.R)&&i.C?(n.C=i.C=!1,r.C=!0,e=r):(e===n.R&&(sa(this,n),n=(e=n).U),n.C=!1,r.C=!0,la(this,r)):(i=r.L)&&i.C?(n.C=i.C=!1,r.C=!0,e=r):(e===n.L&&(la(this,n),n=(e=n).U),n.C=!1,r.C=!0,sa(this,r)),n=e.U;this._.C=!1},remove:function(e){e.N&&(e.N.P=e.P),e.P&&(e.P.N=e.N),e.N=e.P=null;var t,n,r,i=e.U,a=e.L,o=e.R;if(n=a?o?ua(o):a:o,i?i.L===e?i.L=n:i.R=n:this._=n,a&&o?(r=n.C,n.C=e.C,n.L=a,a.U=n,n!==o?(i=n.U,n.U=e.U,e=n.R,i.L=e,n.R=o,o.U=n):(n.U=i,i=n,e=n.R)):(r=e.C,e=n),e&&(e.U=i),!r)if(e&&e.C)e.C=!1;else{do{if(e===this._)break;if(e===i.L){if((t=i.R).C&&(t.C=!1,i.C=!0,sa(this,i),t=i.R),t.L&&t.L.C||t.R&&t.R.C){t.R&&t.R.C||(t.L.C=!1,t.C=!0,la(this,t),t=i.R),t.C=i.C,i.C=t.R.C=!1,sa(this,i),e=this._;break}}else if((t=i.L).C&&(t.C=!1,i.C=!0,la(this,i),t=i.L),t.L&&t.L.C||t.R&&t.R.C){t.L&&t.L.C||(t.R.C=!1,t.C=!0,sa(this,t),t=i.L),t.C=i.C,i.C=t.L.C=!1,la(this,i),e=this._;break}t.C=!0,e=i,i=i.U}while(!e.C);e&&(e.C=!1)}}},t.geom.voronoi=function(e){var t=Mi,n=Ti,r=t,i=n,a=da;if(e)return o(e);function o(e){var t=new Array(e.length),n=a[0][0],r=a[0][1],i=a[1][0],o=a[1][1];return ca(s(e),a).cells.forEach((function(a,s){var l=a.edges,u=a.site;(t[s]=l.length?l.map((function(e){var t=e.start();return[t.x,t.y]})):u.x>=n&&u.x<=i&&u.y>=r&&u.y<=o?[[n,o],[i,o],[i,r],[n,r]]:[]).point=e[s]})),t}function s(e){return e.map((function(e,t){return{x:Math.round(r(e,t)/Ee)*Ee,y:Math.round(i(e,t)/Ee)*Ee,i:t}}))}return o.links=function(e){return ca(s(e)).edges.filter((function(e){return e.l&&e.r})).map((function(t){return{source:e[t.l.i],target:e[t.r.i]}}))},o.triangles=function(e){var t=[];return ca(s(e)).cells.forEach((function(n,r){for(var i,a=n.site,o=n.edges.sort(Yi),s=-1,l=o.length,u=o[l-1].edge,c=u.l===a?u.r:u.l;++s<l;)i=c,c=(u=o[s].edge).l===a?u.r:u.l,r<i.i&&r<c.i&&ha(a,i,c)<0&&t.push([e[r],e[i.i],e[c.i]])})),t},o.x=function(e){return arguments.length?(r=Mt(t=e),o):t},o.y=function(e){return arguments.length?(i=Mt(n=e),o):n},o.clipExtent=function(e){return arguments.length?(a=null==e?da:e,o):a===da?null:a},o.size=function(e){return arguments.length?o.clipExtent(e&&[[0,0],e]):a===da?null:a&&a[1]},o};var da=[[-1e6,-1e6],[1e6,1e6]];function ha(e,t,n){return(e.x-n.x)*(t.y-e.y)-(e.x-t.x)*(n.y-e.y)}function pa(e){return e.x}function ga(e){return e.y}function va(){return{leaf:!0,nodes:[],point:null,x:null,y:null}}function ma(e,t,n,r,i,a){if(!e(t,n,r,i,a)){var o=.5*(n+i),s=.5*(r+a),l=t.nodes;l[0]&&ma(e,l[0],n,r,o,s),l[1]&&ma(e,l[1],o,r,i,s),l[2]&&ma(e,l[2],n,s,o,a),l[3]&&ma(e,l[3],o,s,i,a)}}function ya(e,t,n,r,i,a,o){var s,l=1/0;return function e(u,c,f,d,h){if(!(c>a||f>o||d<r||h<i)){if(p=u.point){var p,g=t-u.x,v=n-u.y,m=g*g+v*v;if(m<l){var y=Math.sqrt(l=m);r=t-y,i=n-y,a=t+y,o=n+y,s=p}}for(var b=u.nodes,x=.5*(c+d),_=.5*(f+h),w=(n>=_)<<1|t>=x,k=w+4;w<k;++w)if(u=b[3&w])switch(3&w){case 0:e(u,c,f,x,_);break;case 1:e(u,x,f,d,_);break;case 2:e(u,c,_,x,h);break;case 3:e(u,x,_,d,h)}}}(e,r,i,a,o),s}function ba(e,n){e=t.rgb(e),n=t.rgb(n);var r=e.r,i=e.g,a=e.b,o=n.r-r,s=n.g-i,l=n.b-a;return function(e){return"#"+mt(Math.round(r+o*e))+mt(Math.round(i+s*e))+mt(Math.round(a+l*e))}}function xa(e,t){var n,r={},i={};for(n in e)n in t?r[n]=Ta(e[n],t[n]):i[n]=e[n];for(n in t)n in e||(i[n]=t[n]);return function(e){for(n in r)i[n]=r[n](e);return i}}function _a(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function wa(e,t){var n,r,i,a=ka.lastIndex=Ma.lastIndex=0,o=-1,s=[],l=[];for(e+="",t+="";(n=ka.exec(e))&&(r=Ma.exec(t));)(i=r.index)>a&&(i=t.slice(a,i),s[o]?s[o]+=i:s[++o]=i),(n=n[0])===(r=r[0])?s[o]?s[o]+=r:s[++o]=r:(s[++o]=null,l.push({i:o,x:_a(n,r)})),a=Ma.lastIndex;return a<t.length&&(i=t.slice(a),s[o]?s[o]+=i:s[++o]=i),s.length<2?l[0]?(t=l[0].x,function(e){return t(e)+""}):function(){return t}:(t=l.length,function(e){for(var n,r=0;r<t;++r)s[(n=l[r]).i]=n.x(e);return s.join("")})}t.geom.delaunay=function(e){return t.geom.voronoi().triangles(e)},t.geom.quadtree=function(e,t,n,r,i){var a,o=Mi,s=Ti;if(a=arguments.length)return o=pa,s=ga,3===a&&(i=n,r=t,n=t=0),l(e);function l(e){var l,u,c,f,d,h,p,g,v,m=Mt(o),y=Mt(s);if(null!=t)h=t,p=n,g=r,v=i;else if(g=v=-(h=p=1/0),u=[],c=[],d=e.length,a)for(f=0;f<d;++f)(l=e[f]).x<h&&(h=l.x),l.y<p&&(p=l.y),l.x>g&&(g=l.x),l.y>v&&(v=l.y),u.push(l.x),c.push(l.y);else for(f=0;f<d;++f){var x=+m(l=e[f],f),_=+y(l,f);x<h&&(h=x),_<p&&(p=_),x>g&&(g=x),_>v&&(v=_),u.push(x),c.push(_)}var w=g-h,k=v-p;function M(e,t,n,r,i,a,o,s){if(!isNaN(n)&&!isNaN(r))if(e.leaf){var l=e.x,u=e.y;if(null!=l)if(b(l-n)+b(u-r)<.01)T(e,t,n,r,i,a,o,s);else{var c=e.point;e.x=e.y=e.point=null,T(e,c,l,u,i,a,o,s),T(e,t,n,r,i,a,o,s)}else e.x=n,e.y=r,e.point=t}else T(e,t,n,r,i,a,o,s)}function T(e,t,n,r,i,a,o,s){var l=.5*(i+o),u=.5*(a+s),c=n>=l,f=r>=u,d=f<<1|c;e.leaf=!1,c?i=l:o=l,f?a=u:s=u,M(e=e.nodes[d]||(e.nodes[d]=va()),t,n,r,i,a,o,s)}w>k?v=p+w:g=h+k;var A=va();if(A.add=function(e){M(A,e,+m(e,++f),+y(e,f),h,p,g,v)},A.visit=function(e){ma(e,A,h,p,g,v)},A.find=function(e){return ya(A,e[0],e[1],h,p,g,v)},f=-1,null==t){for(;++f<d;)M(A,e[f],u[f],c[f],h,p,g,v);--f}else e.forEach(A.add);return u=c=e=l=null,A}return l.x=function(e){return arguments.length?(o=e,l):o},l.y=function(e){return arguments.length?(s=e,l):s},l.extent=function(e){return arguments.length?(null==e?t=n=r=i=null:(t=+e[0][0],n=+e[0][1],r=+e[1][0],i=+e[1][1]),l):null==t?null:[[t,n],[r,i]]},l.size=function(e){return arguments.length?(null==e?t=n=r=i=null:(t=n=0,r=+e[0],i=+e[1]),l):null==t?null:[r-t,i-n]},l},t.interpolateRgb=ba,t.interpolateObject=xa,t.interpolateNumber=_a,t.interpolateString=wa;var ka=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Ma=new RegExp(ka.source,"g");function Ta(e,n){for(var r,i=t.interpolators.length;--i>=0&&!(r=t.interpolators[i](e,n)););return r}function Aa(e,t){var n,r=[],i=[],a=e.length,o=t.length,s=Math.min(e.length,t.length);for(n=0;n<s;++n)r.push(Ta(e[n],t[n]));for(;n<a;++n)i[n]=e[n];for(;n<o;++n)i[n]=t[n];return function(e){for(n=0;n<s;++n)i[n]=r[n](e);return i}}t.interpolate=Ta,t.interpolators=[function(e,t){var n=typeof t;return("string"===n?kt.has(t.toLowerCase())||/^(#|rgb\(|hsl\()/i.test(t)?ba:wa:t instanceof Ze?ba:Array.isArray(t)?Aa:"object"===n&&isNaN(t)?xa:_a)(e,t)}],t.interpolateArray=Aa;var Ea=function(){return P},Sa=t.map({linear:Ea,poly:Ia,quad:function(){return Pa},cubic:function(){return ja},sin:function(){return Na},exp:function(){return Da},circle:function(){return Fa},elastic:Ba,back:Ua,bounce:function(){return Va}}),Oa=t.map({in:P,out:La,"in-out":Ra,"out-in":function(e){return Ra(La(e))}});function Ca(e){return function(t){return t<=0?0:t>=1?1:e(t)}}function La(e){return function(t){return 1-e(1-t)}}function Ra(e){return function(t){return.5*(t<.5?e(2*t):2-e(2-2*t))}}function Pa(e){return e*e}function ja(e){return e*e*e}function za(e){if(e<=0)return 0;if(e>=1)return 1;var t=e*e,n=t*e;return 4*(e<.5?n:3*(e-t)+n-.75)}function Ia(e){return function(t){return Math.pow(t,e)}}function Na(e){return 1-Math.cos(e*Re)}function Da(e){return Math.pow(2,10*(e-1))}function Fa(e){return 1-Math.sqrt(1-e*e)}function Ba(e,t){var n;return arguments.length<2&&(t=.45),arguments.length?n=t/Ce*Math.asin(1/e):(e=1,n=t/4),function(r){return 1+e*Math.pow(2,-10*r)*Math.sin((r-n)*Ce/t)}}function Ua(e){return e||(e=1.70158),function(t){return t*t*((e+1)*t-e)}}function Va(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375}function Ha(e,n){e=t.hcl(e),n=t.hcl(n);var r=e.h,i=e.c,a=e.l,o=n.h-r,s=n.c-i,l=n.l-a;return isNaN(s)&&(s=0,i=isNaN(i)?n.c:i),isNaN(o)?(o=0,r=isNaN(r)?n.h:r):o>180?o-=360:o<-180&&(o+=360),function(e){return tt(r+o*e,i+s*e,a+l*e)+""}}function qa(e,n){e=t.hsl(e),n=t.hsl(n);var r=e.h,i=e.s,a=e.l,o=n.h-r,s=n.s-i,l=n.l-a;return isNaN(s)&&(s=0,i=isNaN(i)?n.s:i),isNaN(o)?(o=0,r=isNaN(r)?n.h:r):o>180?o-=360:o<-180&&(o+=360),function(e){return Qe(r+o*e,i+s*e,a+l*e)+""}}function Wa(e,n){e=t.lab(e),n=t.lab(n);var r=e.l,i=e.a,a=e.b,o=n.l-r,s=n.a-i,l=n.b-a;return function(e){return lt(r+o*e,i+s*e,a+l*e)+""}}function Ga(e,t){return t-=e,function(n){return Math.round(e+t*n)}}function Xa(e){var t=[e.a,e.b],n=[e.c,e.d],r=Za(t),i=Ya(t,n),a=Za($a(n,t,-i))||0;t[0]*n[1]<n[0]*t[1]&&(t[0]*=-1,t[1]*=-1,r*=-1,i*=-1),this.rotate=(r?Math.atan2(t[1],t[0]):Math.atan2(-n[0],n[1]))*je,this.translate=[e.e,e.f],this.scale=[r,a],this.skew=a?Math.atan2(i,a)*je:0}function Ya(e,t){return e[0]*t[0]+e[1]*t[1]}function Za(e){var t=Math.sqrt(Ya(e,e));return t&&(e[0]/=t,e[1]/=t),t}function $a(e,t,n){return e[0]+=n*t[0],e[1]+=n*t[1],e}t.ease=function(e){var t=e.indexOf("-"),n=t>=0?e.slice(0,t):e,i=t>=0?e.slice(t+1):"in";return n=Sa.get(n)||Ea,Ca((i=Oa.get(i)||P)(n.apply(null,r.call(arguments,1))))},t.interpolateHcl=Ha,t.interpolateHsl=qa,t.interpolateLab=Wa,t.interpolateRound=Ga,t.transform=function(e){var n=a.createElementNS(t.ns.prefix.svg,"g");return(t.transform=function(e){if(null!=e){n.setAttribute("transform",e);var t=n.transform.baseVal.consolidate()}return new Xa(t?t.matrix:Ka)})(e)},Xa.prototype.toString=function(){return"translate("+this.translate+")rotate("+this.rotate+")skewX("+this.skew+")scale("+this.scale+")"};var Ka={a:1,b:0,c:0,d:1,e:0,f:0};function Qa(e){return e.length?e.pop()+",":""}function Ja(e,t,n,r){if(e[0]!==t[0]||e[1]!==t[1]){var i=n.push("translate(",null,",",null,")");r.push({i:i-4,x:_a(e[0],t[0])},{i:i-2,x:_a(e[1],t[1])})}else(t[0]||t[1])&&n.push("translate("+t+")")}function eo(e,t,n,r){e!==t?(e-t>180?t+=360:t-e>180&&(e+=360),r.push({i:n.push(Qa(n)+"rotate(",null,")")-2,x:_a(e,t)})):t&&n.push(Qa(n)+"rotate("+t+")")}function to(e,t,n,r){e!==t?r.push({i:n.push(Qa(n)+"skewX(",null,")")-2,x:_a(e,t)}):t&&n.push(Qa(n)+"skewX("+t+")")}function no(e,t,n,r){if(e[0]!==t[0]||e[1]!==t[1]){var i=n.push(Qa(n)+"scale(",null,",",null,")");r.push({i:i-4,x:_a(e[0],t[0])},{i:i-2,x:_a(e[1],t[1])})}else 1===t[0]&&1===t[1]||n.push(Qa(n)+"scale("+t+")")}function ro(e,n){var r=[],i=[];return e=t.transform(e),n=t.transform(n),Ja(e.translate,n.translate,r,i),eo(e.rotate,n.rotate,r,i),to(e.skew,n.skew,r,i),no(e.scale,n.scale,r,i),e=n=null,function(e){for(var t,n=-1,a=i.length;++n<a;)r[(t=i[n]).i]=t.x(e);return r.join("")}}function io(e,t){return t=(t-=e=+e)||1/t,function(n){return(n-e)/t}}function ao(e,t){return t=(t-=e=+e)||1/t,function(n){return Math.max(0,Math.min(1,(n-e)/t))}}function oo(e){for(var t=e.source,n=e.target,r=lo(t,n),i=[t];t!==r;)t=t.parent,i.push(t);for(var a=i.length;n!==r;)i.splice(a,0,n),n=n.parent;return i}function so(e){for(var t=[],n=e.parent;null!=n;)t.push(e),e=n,n=n.parent;return t.push(e),t}function lo(e,t){if(e===t)return e;for(var n=so(e),r=so(t),i=n.pop(),a=r.pop(),o=null;i===a;)o=i,i=n.pop(),a=r.pop();return o}function uo(e){e.fixed|=2}function co(e){e.fixed&=-7}function fo(e){e.fixed|=4,e.px=e.x,e.py=e.y}function ho(e){e.fixed&=-5}function po(e,t,n){var r=0,i=0;if(e.charge=0,!e.leaf)for(var a,o=e.nodes,s=o.length,l=-1;++l<s;)null!=(a=o[l])&&(po(a,t,n),e.charge+=a.charge,r+=a.charge*a.cx,i+=a.charge*a.cy);if(e.point){e.leaf||(e.point.x+=Math.random()-.5,e.point.y+=Math.random()-.5);var u=t*n[e.point.index];e.charge+=e.pointCharge=u,r+=u*e.point.x,i+=u*e.point.y}e.cx=r/e.charge,e.cy=i/e.charge}t.interpolateTransform=ro,t.layout={},t.layout.bundle=function(){return function(e){for(var t=[],n=-1,r=e.length;++n<r;)t.push(oo(e[n]));return t}},t.layout.chord=function(){var e,n,r,i,a,o,s,l={},u=0;function c(){var l,c,d,h,p,g={},v=[],m=t.range(i),y=[];for(e=[],n=[],l=0,h=-1;++h<i;){for(c=0,p=-1;++p<i;)c+=r[h][p];v.push(c),y.push(t.range(i)),l+=c}for(a&&m.sort((function(e,t){return a(v[e],v[t])})),o&&y.forEach((function(e,t){e.sort((function(e,n){return o(r[t][e],r[t][n])}))})),l=(Ce-u*i)/l,c=0,h=-1;++h<i;){for(d=c,p=-1;++p<i;){var b=m[h],x=y[b][p],_=r[b][x],w=c,k=c+=_*l;g[b+"-"+x]={index:b,subindex:x,startAngle:w,endAngle:k,value:_}}n[b]={index:b,startAngle:d,endAngle:c,value:v[b]},c+=u}for(h=-1;++h<i;)for(p=h-1;++p<i;){var M=g[h+"-"+p],T=g[p+"-"+h];(M.value||T.value)&&e.push(M.value<T.value?{source:T,target:M}:{source:M,target:T})}s&&f()}function f(){e.sort((function(e,t){return s((e.source.value+e.target.value)/2,(t.source.value+t.target.value)/2)}))}return l.matrix=function(t){return arguments.length?(i=(r=t)&&r.length,e=n=null,l):r},l.padding=function(t){return arguments.length?(u=t,e=n=null,l):u},l.sortGroups=function(t){return arguments.length?(a=t,e=n=null,l):a},l.sortSubgroups=function(t){return arguments.length?(o=t,e=null,l):o},l.sortChords=function(t){return arguments.length?(s=t,e&&f(),l):s},l.chords=function(){return e||c(),e},l.groups=function(){return n||c(),n},l},t.layout.force=function(){var e,n,r,i,a,o,s={},l=t.dispatch("start","tick","end"),u=[1,1],c=.9,f=go,d=vo,h=-30,p=mo,g=.1,v=.64,m=[],y=[];function b(e){return function(t,n,r,i){if(t.point!==e){var a=t.cx-e.x,o=t.cy-e.y,s=i-n,l=a*a+o*o;if(s*s/v<l){if(l<p){var u=t.charge/l;e.px-=a*u,e.py-=o*u}return!0}t.point&&l&&l<p&&(u=t.pointCharge/l,e.px-=a*u,e.py-=o*u)}return!t.charge}}function x(e){e.px=t.event.x,e.py=t.event.y,s.resume()}return s.tick=function(){if((r*=.99)<.005)return e=null,l.end({type:"end",alpha:r=0}),!0;var n,s,f,d,p,v,x,_,w,k=m.length,M=y.length;for(s=0;s<M;++s)d=(f=y[s]).source,(v=(_=(p=f.target).x-d.x)*_+(w=p.y-d.y)*w)&&(_*=v=r*a[s]*((v=Math.sqrt(v))-i[s])/v,w*=v,p.x-=_*(x=d.weight+p.weight?d.weight/(d.weight+p.weight):.5),p.y-=w*x,d.x+=_*(x=1-x),d.y+=w*x);if((x=r*g)&&(_=u[0]/2,w=u[1]/2,s=-1,x))for(;++s<k;)(f=m[s]).x+=(_-f.x)*x,f.y+=(w-f.y)*x;if(h)for(po(n=t.geom.quadtree(m),r,o),s=-1;++s<k;)(f=m[s]).fixed||n.visit(b(f));for(s=-1;++s<k;)(f=m[s]).fixed?(f.x=f.px,f.y=f.py):(f.x-=(f.px-(f.px=f.x))*c,f.y-=(f.py-(f.py=f.y))*c);l.tick({type:"tick",alpha:r})},s.nodes=function(e){return arguments.length?(m=e,s):m},s.links=function(e){return arguments.length?(y=e,s):y},s.size=function(e){return arguments.length?(u=e,s):u},s.linkDistance=function(e){return arguments.length?(f="function"===typeof e?e:+e,s):f},s.distance=s.linkDistance,s.linkStrength=function(e){return arguments.length?(d="function"===typeof e?e:+e,s):d},s.friction=function(e){return arguments.length?(c=+e,s):c},s.charge=function(e){return arguments.length?(h="function"===typeof e?e:+e,s):h},s.chargeDistance=function(e){return arguments.length?(p=e*e,s):Math.sqrt(p)},s.gravity=function(e){return arguments.length?(g=+e,s):g},s.theta=function(e){return arguments.length?(v=e*e,s):Math.sqrt(v)},s.alpha=function(t){return arguments.length?(t=+t,r?t>0?r=t:(e.c=null,e.t=NaN,e=null,l.end({type:"end",alpha:r=0})):t>0&&(l.start({type:"start",alpha:r=t}),e=jt(s.tick)),s):r},s.start=function(){var e,t,n,r=m.length,l=y.length,c=u[0],p=u[1];for(e=0;e<r;++e)(n=m[e]).index=e,n.weight=0;for(e=0;e<l;++e)"number"==typeof(n=y[e]).source&&(n.source=m[n.source]),"number"==typeof n.target&&(n.target=m[n.target]),++n.source.weight,++n.target.weight;for(e=0;e<r;++e)n=m[e],isNaN(n.x)&&(n.x=g("x",c)),isNaN(n.y)&&(n.y=g("y",p)),isNaN(n.px)&&(n.px=n.x),isNaN(n.py)&&(n.py=n.y);if(i=[],"function"===typeof f)for(e=0;e<l;++e)i[e]=+f.call(this,y[e],e);else for(e=0;e<l;++e)i[e]=f;if(a=[],"function"===typeof d)for(e=0;e<l;++e)a[e]=+d.call(this,y[e],e);else for(e=0;e<l;++e)a[e]=d;if(o=[],"function"===typeof h)for(e=0;e<r;++e)o[e]=+h.call(this,m[e],e);else for(e=0;e<r;++e)o[e]=h;function g(n,i){if(!t){for(t=new Array(r),u=0;u<r;++u)t[u]=[];for(u=0;u<l;++u){var a=y[u];t[a.source.index].push(a.target),t[a.target.index].push(a.source)}}for(var o,s=t[e],u=-1,c=s.length;++u<c;)if(!isNaN(o=s[u][n]))return o;return Math.random()*i}return s.resume()},s.resume=function(){return s.alpha(.1)},s.stop=function(){return s.alpha(0)},s.drag=function(){if(n||(n=t.behavior.drag().origin(P).on("dragstart.force",uo).on("drag.force",x).on("dragend.force",co)),!arguments.length)return n;this.on("mouseover.force",fo).on("mouseout.force",ho).call(n)},t.rebind(s,l,"on")};var go=20,vo=1,mo=1/0;function yo(e,n){return t.rebind(e,n,"sort","children","value"),e.nodes=e,e.links=Mo,e}function bo(e,t){for(var n=[e];null!=(e=n.pop());)if(t(e),(i=e.children)&&(r=i.length))for(var r,i;--r>=0;)n.push(i[r])}function xo(e,t){for(var n=[e],r=[];null!=(e=n.pop());)if(r.push(e),(a=e.children)&&(i=a.length))for(var i,a,o=-1;++o<i;)n.push(a[o]);for(;null!=(e=r.pop());)t(e)}function _o(e){return e.children}function wo(e){return e.value}function ko(e,t){return t.value-e.value}function Mo(e){return t.merge(e.map((function(e){return(e.children||[]).map((function(t){return{source:e,target:t}}))})))}t.layout.hierarchy=function(){var e=ko,t=_o,n=wo;function r(i){var a,o=[i],s=[];for(i.depth=0;null!=(a=o.pop());)if(s.push(a),(u=t.call(r,a,a.depth))&&(l=u.length)){for(var l,u,c;--l>=0;)o.push(c=u[l]),c.parent=a,c.depth=a.depth+1;n&&(a.value=0),a.children=u}else n&&(a.value=+n.call(r,a,a.depth)||0),delete a.children;return xo(i,(function(t){var r,i;e&&(r=t.children)&&r.sort(e),n&&(i=t.parent)&&(i.value+=t.value)})),s}return r.sort=function(t){return arguments.length?(e=t,r):e},r.children=function(e){return arguments.length?(t=e,r):t},r.value=function(e){return arguments.length?(n=e,r):n},r.revalue=function(e){return n&&(bo(e,(function(e){e.children&&(e.value=0)})),xo(e,(function(e){var t;e.children||(e.value=+n.call(r,e,e.depth)||0),(t=e.parent)&&(t.value+=e.value)}))),e},r},t.layout.partition=function(){var e=t.layout.hierarchy(),n=[1,1];function r(e,t,n,i){var a=e.children;if(e.x=t,e.y=e.depth*i,e.dx=n,e.dy=i,a&&(o=a.length)){var o,s,l,u=-1;for(n=e.value?n/e.value:0;++u<o;)r(s=a[u],t,l=s.value*n,i),t+=l}}function i(e){var t=e.children,n=0;if(t&&(r=t.length))for(var r,a=-1;++a<r;)n=Math.max(n,i(t[a]));return 1+n}function a(t,a){var o=e.call(this,t,a);return r(o[0],0,n[0],n[1]/i(o[0])),o}return a.size=function(e){return arguments.length?(n=e,a):n},yo(a,e)},t.layout.pie=function(){var e=Number,n=To,r=0,i=Ce,a=0;function o(s){var l,u=s.length,c=s.map((function(t,n){return+e.call(o,t,n)})),f=+("function"===typeof r?r.apply(this,arguments):r),d=("function"===typeof i?i.apply(this,arguments):i)-f,h=Math.min(Math.abs(d)/u,+("function"===typeof a?a.apply(this,arguments):a)),p=h*(d<0?-1:1),g=t.sum(c),v=g?(d-u*p)/g:0,m=t.range(u),y=[];return null!=n&&m.sort(n===To?function(e,t){return c[t]-c[e]}:function(e,t){return n(s[e],s[t])}),m.forEach((function(e){y[e]={data:s[e],value:l=c[e],startAngle:f,endAngle:f+=l*v+p,padAngle:h}})),y}return o.value=function(t){return arguments.length?(e=t,o):e},o.sort=function(e){return arguments.length?(n=e,o):n},o.startAngle=function(e){return arguments.length?(r=e,o):r},o.endAngle=function(e){return arguments.length?(i=e,o):i},o.padAngle=function(e){return arguments.length?(a=e,o):a},o};var To={};function Ao(e){return e.x}function Eo(e){return e.y}function So(e,t,n){e.y0=t,e.y=n}t.layout.stack=function(){var e=P,n=Lo,r=Ro,i=So,a=Ao,o=Eo;function s(l,u){if(!(h=l.length))return l;var c=l.map((function(t,n){return e.call(s,t,n)})),f=c.map((function(e){return e.map((function(e,t){return[a.call(s,e,t),o.call(s,e,t)]}))})),d=n.call(s,f,u);c=t.permute(c,d),f=t.permute(f,d);var h,p,g,v,m=r.call(s,f,u),y=c[0].length;for(g=0;g<y;++g)for(i.call(s,c[0][g],v=m[g],f[0][g][1]),p=1;p<h;++p)i.call(s,c[p][g],v+=f[p-1][g][1],f[p][g][1]);return l}return s.values=function(t){return arguments.length?(e=t,s):e},s.order=function(e){return arguments.length?(n="function"===typeof e?e:Oo.get(e)||Lo,s):n},s.offset=function(e){return arguments.length?(r="function"===typeof e?e:Co.get(e)||Ro,s):r},s.x=function(e){return arguments.length?(a=e,s):a},s.y=function(e){return arguments.length?(o=e,s):o},s.out=function(e){return arguments.length?(i=e,s):i},s};var Oo=t.map({"inside-out":function(e){var n,r,i=e.length,a=e.map(Po),o=e.map(jo),s=t.range(i).sort((function(e,t){return a[e]-a[t]})),l=0,u=0,c=[],f=[];for(n=0;n<i;++n)r=s[n],l<u?(l+=o[r],c.push(r)):(u+=o[r],f.push(r));return f.reverse().concat(c)},reverse:function(e){return t.range(e.length).reverse()},default:Lo}),Co=t.map({silhouette:function(e){var t,n,r,i=e.length,a=e[0].length,o=[],s=0,l=[];for(n=0;n<a;++n){for(t=0,r=0;t<i;t++)r+=e[t][n][1];r>s&&(s=r),o.push(r)}for(n=0;n<a;++n)l[n]=(s-o[n])/2;return l},wiggle:function(e){var t,n,r,i,a,o,s,l,u,c=e.length,f=e[0],d=f.length,h=[];for(h[0]=l=u=0,n=1;n<d;++n){for(t=0,i=0;t<c;++t)i+=e[t][n][1];for(t=0,a=0,s=f[n][0]-f[n-1][0];t<c;++t){for(r=0,o=(e[t][n][1]-e[t][n-1][1])/(2*s);r<t;++r)o+=(e[r][n][1]-e[r][n-1][1])/s;a+=o*e[t][n][1]}h[n]=l-=i?a/i*s:0,l<u&&(u=l)}for(n=0;n<d;++n)h[n]-=u;return h},expand:function(e){var t,n,r,i=e.length,a=e[0].length,o=1/i,s=[];for(n=0;n<a;++n){for(t=0,r=0;t<i;t++)r+=e[t][n][1];if(r)for(t=0;t<i;t++)e[t][n][1]/=r;else for(t=0;t<i;t++)e[t][n][1]=o}for(n=0;n<a;++n)s[n]=0;return s},zero:Ro});function Lo(e){return t.range(e.length)}function Ro(e){for(var t=-1,n=e[0].length,r=[];++t<n;)r[t]=0;return r}function Po(e){for(var t,n=1,r=0,i=e[0][1],a=e.length;n<a;++n)(t=e[n][1])>i&&(r=n,i=t);return r}function jo(e){return e.reduce(zo,0)}function zo(e,t){return e+t[1]}function Io(e,t){return No(e,Math.ceil(Math.log(t.length)/Math.LN2+1))}function No(e,t){for(var n=-1,r=+e[0],i=(e[1]-r)/t,a=[];++n<=t;)a[n]=i*n+r;return a}function Do(e){return[t.min(e),t.max(e)]}function Fo(e,t){return e.value-t.value}function Bo(e,t){var n=e._pack_next;e._pack_next=t,t._pack_prev=e,t._pack_next=n,n._pack_prev=t}function Uo(e,t){e._pack_next=t,t._pack_prev=e}function Vo(e,t){var n=t.x-e.x,r=t.y-e.y,i=e.r+t.r;return.999*i*i>n*n+r*r}function Ho(e){if((t=e.children)&&(l=t.length)){var t,n,r,i,a,o,s,l,u=1/0,c=-1/0,f=1/0,d=-1/0;if(t.forEach(qo),(n=t[0]).x=-n.r,n.y=0,b(n),l>1&&((r=t[1]).x=r.r,r.y=0,b(r),l>2))for(Xo(n,r,i=t[2]),b(i),Bo(n,i),n._pack_prev=i,Bo(i,r),r=n._pack_next,a=3;a<l;a++){Xo(n,r,i=t[a]);var h=0,p=1,g=1;for(o=r._pack_next;o!==r;o=o._pack_next,p++)if(Vo(o,i)){h=1;break}if(1==h)for(s=n._pack_prev;s!==o._pack_prev&&!Vo(s,i);s=s._pack_prev,g++);h?(p<g||p==g&&r.r<n.r?Uo(n,r=o):Uo(n=s,r),a--):(Bo(n,i),r=i,b(i))}var v=(u+c)/2,m=(f+d)/2,y=0;for(a=0;a<l;a++)(i=t[a]).x-=v,i.y-=m,y=Math.max(y,i.r+Math.sqrt(i.x*i.x+i.y*i.y));e.r=y,t.forEach(Wo)}function b(e){u=Math.min(e.x-e.r,u),c=Math.max(e.x+e.r,c),f=Math.min(e.y-e.r,f),d=Math.max(e.y+e.r,d)}}function qo(e){e._pack_next=e._pack_prev=e}function Wo(e){delete e._pack_next,delete e._pack_prev}function Go(e,t,n,r){var i=e.children;if(e.x=t+=r*e.x,e.y=n+=r*e.y,e.r*=r,i)for(var a=-1,o=i.length;++a<o;)Go(i[a],t,n,r)}function Xo(e,t,n){var r=e.r+n.r,i=t.x-e.x,a=t.y-e.y;if(r&&(i||a)){var o=t.r+n.r,s=i*i+a*a,l=.5+((r*=r)-(o*=o))/(2*s),u=Math.sqrt(Math.max(0,2*o*(r+s)-(r-=s)*r-o*o))/(2*s);n.x=e.x+l*i+u*a,n.y=e.y+l*a-u*i}else n.x=e.x+r,n.y=e.y}function Yo(e,t){return e.parent==t.parent?1:2}function Zo(e){var t=e.children;return t.length?t[0]:e.t}function $o(e){var t,n=e.children;return(t=n.length)?n[t-1]:e.t}function Ko(e,t,n){var r=n/(t.i-e.i);t.c-=r,t.s+=n,e.c+=r,t.z+=n,t.m+=n}function Qo(e){for(var t,n=0,r=0,i=e.children,a=i.length;--a>=0;)(t=i[a]).z+=n,t.m+=n,n+=t.s+(r+=t.c)}function Jo(e,t,n){return e.a.parent===t.parent?e.a:n}function es(e){return 1+t.max(e,(function(e){return e.y}))}function ts(e){return e.reduce((function(e,t){return e+t.x}),0)/e.length}function ns(e){var t=e.children;return t&&t.length?ns(t[0]):e}function rs(e){var t,n=e.children;return n&&(t=n.length)?rs(n[t-1]):e}function is(e){return{x:e.x,y:e.y,dx:e.dx,dy:e.dy}}function as(e,t){var n=e.x+t[3],r=e.y+t[0],i=e.dx-t[1]-t[3],a=e.dy-t[0]-t[2];return i<0&&(n+=i/2,i=0),a<0&&(r+=a/2,a=0),{x:n,y:r,dx:i,dy:a}}function os(e){var t=e[0],n=e[e.length-1];return t<n?[t,n]:[n,t]}function ss(e){return e.rangeExtent?e.rangeExtent():os(e.range())}function ls(e,t,n,r){var i=n(e[0],e[1]),a=r(t[0],t[1]);return function(e){return a(i(e))}}function us(e,t){var n,r=0,i=e.length-1,a=e[r],o=e[i];return o<a&&(n=r,r=i,i=n,n=a,a=o,o=n),e[r]=t.floor(a),e[i]=t.ceil(o),e}function cs(e){return e?{floor:function(t){return Math.floor(t/e)*e},ceil:function(t){return Math.ceil(t/e)*e}}:fs}t.layout.histogram=function(){var e=!0,n=Number,r=Do,i=Io;function a(a,o){for(var s,l,u=[],c=a.map(n,this),f=r.call(this,c,o),d=i.call(this,f,c,o),h=(o=-1,c.length),p=d.length-1,g=e?1:1/h;++o<p;)(s=u[o]=[]).dx=d[o+1]-(s.x=d[o]),s.y=0;if(p>0)for(o=-1;++o<h;)(l=c[o])>=f[0]&&l<=f[1]&&((s=u[t.bisect(d,l,1,p)-1]).y+=g,s.push(a[o]));return u}return a.value=function(e){return arguments.length?(n=e,a):n},a.range=function(e){return arguments.length?(r=Mt(e),a):r},a.bins=function(e){return arguments.length?(i="number"===typeof e?function(t){return No(t,e)}:Mt(e),a):i},a.frequency=function(t){return arguments.length?(e=!!t,a):e},a},t.layout.pack=function(){var e,n=t.layout.hierarchy().sort(Fo),r=0,i=[1,1];function a(t,a){var o=n.call(this,t,a),s=o[0],l=i[0],u=i[1],c=null==e?Math.sqrt:"function"===typeof e?e:function(){return e};if(s.x=s.y=0,xo(s,(function(e){e.r=+c(e.value)})),xo(s,Ho),r){var f=r*(e?1:Math.max(2*s.r/l,2*s.r/u))/2;xo(s,(function(e){e.r+=f})),xo(s,Ho),xo(s,(function(e){e.r-=f}))}return Go(s,l/2,u/2,e?1:1/Math.max(2*s.r/l,2*s.r/u)),o}return a.size=function(e){return arguments.length?(i=e,a):i},a.radius=function(t){return arguments.length?(e=null==t||"function"===typeof t?t:+t,a):e},a.padding=function(e){return arguments.length?(r=+e,a):r},yo(a,n)},t.layout.tree=function(){var e=t.layout.hierarchy().sort(null).value(null),n=Yo,r=[1,1],i=null;function a(t,a){var u=e.call(this,t,a),f=u[0],d=o(f);if(xo(d,s),d.parent.m=-d.z,bo(d,l),i)bo(f,c);else{var h=f,p=f,g=f;bo(f,(function(e){e.x<h.x&&(h=e),e.x>p.x&&(p=e),e.depth>g.depth&&(g=e)}));var v=n(h,p)/2-h.x,m=r[0]/(p.x+n(p,h)/2+v),y=r[1]/(g.depth||1);bo(f,(function(e){e.x=(e.x+v)*m,e.y=e.depth*y}))}return u}function o(e){for(var t,n={A:null,children:[e]},r=[n];null!=(t=r.pop());)for(var i,a=t.children,o=0,s=a.length;o<s;++o)r.push((a[o]=i={_:a[o],parent:t,children:(i=a[o].children)&&i.slice()||[],A:null,a:null,z:0,m:0,c:0,s:0,t:null,i:o}).a=i);return n.children[0]}function s(e){var t=e.children,r=e.parent.children,i=e.i?r[e.i-1]:null;if(t.length){Qo(e);var a=(t[0].z+t[t.length-1].z)/2;i?(e.z=i.z+n(e._,i._),e.m=e.z-a):e.z=a}else i&&(e.z=i.z+n(e._,i._));e.parent.A=u(e,i,e.parent.A||r[0])}function l(e){e._.x=e.z+e.parent.m,e.m+=e.parent.m}function u(e,t,r){if(t){for(var i,a=e,o=e,s=t,l=a.parent.children[0],u=a.m,c=o.m,f=s.m,d=l.m;s=$o(s),a=Zo(a),s&&a;)l=Zo(l),(o=$o(o)).a=e,(i=s.z+f-a.z-u+n(s._,a._))>0&&(Ko(Jo(s,e,r),e,i),u+=i,c+=i),f+=s.m,u+=a.m,d+=l.m,c+=o.m;s&&!$o(o)&&(o.t=s,o.m+=f-c),a&&!Zo(l)&&(l.t=a,l.m+=u-d,r=e)}return r}function c(e){e.x*=r[0],e.y=e.depth*r[1]}return a.separation=function(e){return arguments.length?(n=e,a):n},a.size=function(e){return arguments.length?(i=null==(r=e)?c:null,a):i?null:r},a.nodeSize=function(e){return arguments.length?(i=null==(r=e)?null:c,a):i?r:null},yo(a,e)},t.layout.cluster=function(){var e=t.layout.hierarchy().sort(null).value(null),n=Yo,r=[1,1],i=!1;function a(t,a){var o,s=e.call(this,t,a),l=s[0],u=0;xo(l,(function(e){var t=e.children;t&&t.length?(e.x=ts(t),e.y=es(t)):(e.x=o?u+=n(e,o):0,e.y=0,o=e)}));var c=ns(l),f=rs(l),d=c.x-n(c,f)/2,h=f.x+n(f,c)/2;return xo(l,i?function(e){e.x=(e.x-l.x)*r[0],e.y=(l.y-e.y)*r[1]}:function(e){e.x=(e.x-d)/(h-d)*r[0],e.y=(1-(l.y?e.y/l.y:1))*r[1]}),s}return a.separation=function(e){return arguments.length?(n=e,a):n},a.size=function(e){return arguments.length?(i=null==(r=e),a):i?null:r},a.nodeSize=function(e){return arguments.length?(i=null!=(r=e),a):i?r:null},yo(a,e)},t.layout.treemap=function(){var e,n=t.layout.hierarchy(),r=Math.round,i=[1,1],a=null,o=is,s=!1,l="squarify",u=.5*(1+Math.sqrt(5));function c(e,t){for(var n,r,i=-1,a=e.length;++i<a;)r=(n=e[i]).value*(t<0?0:t),n.area=isNaN(r)||r<=0?0:r}function f(e){var t=e.children;if(t&&t.length){var n,r,i,a=o(e),s=[],u=t.slice(),d=1/0,g="slice"===l?a.dx:"dice"===l?a.dy:"slice-dice"===l?1&e.depth?a.dy:a.dx:Math.min(a.dx,a.dy);for(c(u,a.dx*a.dy/e.value),s.area=0;(i=u.length)>0;)s.push(n=u[i-1]),s.area+=n.area,"squarify"!==l||(r=h(s,g))<=d?(u.pop(),d=r):(s.area-=s.pop().area,p(s,g,a,!1),g=Math.min(a.dx,a.dy),s.length=s.area=0,d=1/0);s.length&&(p(s,g,a,!0),s.length=s.area=0),t.forEach(f)}}function d(e){var t=e.children;if(t&&t.length){var n,r=o(e),i=t.slice(),a=[];for(c(i,r.dx*r.dy/e.value),a.area=0;n=i.pop();)a.push(n),a.area+=n.area,null!=n.z&&(p(a,n.z?r.dx:r.dy,r,!i.length),a.length=a.area=0);t.forEach(d)}}function h(e,t){for(var n,r=e.area,i=0,a=1/0,o=-1,s=e.length;++o<s;)(n=e[o].area)&&(n<a&&(a=n),n>i&&(i=n));return t*=t,(r*=r)?Math.max(t*i*u/r,r/(t*a*u)):1/0}function p(e,t,n,i){var a,o=-1,s=e.length,l=n.x,u=n.y,c=t?r(e.area/t):0;if(t==n.dx){for((i||c>n.dy)&&(c=n.dy);++o<s;)(a=e[o]).x=l,a.y=u,a.dy=c,l+=a.dx=Math.min(n.x+n.dx-l,c?r(a.area/c):0);a.z=!0,a.dx+=n.x+n.dx-l,n.y+=c,n.dy-=c}else{for((i||c>n.dx)&&(c=n.dx);++o<s;)(a=e[o]).x=l,a.y=u,a.dx=c,u+=a.dy=Math.min(n.y+n.dy-u,c?r(a.area/c):0);a.z=!1,a.dy+=n.y+n.dy-u,n.x+=c,n.dx-=c}}function g(t){var r=e||n(t),a=r[0];return a.x=a.y=0,a.value?(a.dx=i[0],a.dy=i[1]):a.dx=a.dy=0,e&&n.revalue(a),c([a],a.dx*a.dy/a.value),(e?d:f)(a),s&&(e=r),r}return g.size=function(e){return arguments.length?(i=e,g):i},g.padding=function(e){if(!arguments.length)return a;function t(t){var n=e.call(g,t,t.depth);return null==n?is(t):as(t,"number"===typeof n?[n,n,n,n]:n)}function n(t){return as(t,e)}var r;return o=null==(a=e)?is:"function"===(r=typeof e)?t:"number"===r?(e=[e,e,e,e],n):n,g},g.round=function(e){return arguments.length?(r=e?Math.round:Number,g):r!=Number},g.sticky=function(t){return arguments.length?(s=t,e=null,g):s},g.ratio=function(e){return arguments.length?(u=e,g):u},g.mode=function(e){return arguments.length?(l=e+"",g):l},yo(g,n)},t.random={normal:function(e,t){var n=arguments.length;return n<2&&(t=1),n<1&&(e=0),function(){var n,r,i;do{i=(n=2*Math.random()-1)*n+(r=2*Math.random()-1)*r}while(!i||i>1);return e+t*n*Math.sqrt(-2*Math.log(i)/i)}},logNormal:function(){var e=t.random.normal.apply(t,arguments);return function(){return Math.exp(e())}},bates:function(e){var n=t.random.irwinHall(e);return function(){return n()/e}},irwinHall:function(e){return function(){for(var t=0,n=0;n<e;n++)t+=Math.random();return t}}},t.scale={};var fs={floor:P,ceil:P};function ds(e,n,r,i){var a=[],o=[],s=0,l=Math.min(e.length,n.length)-1;for(e[l]<e[0]&&(e=e.slice().reverse(),n=n.slice().reverse());++s<=l;)a.push(r(e[s-1],e[s])),o.push(i(n[s-1],n[s]));return function(n){var r=t.bisect(e,n,1,l)-1;return o[r](a[r](n))}}function hs(e,t,n,r){var i,a;function o(){var o=Math.min(e.length,t.length)>2?ds:ls,l=r?ao:io;return i=o(e,t,l,n),a=o(t,e,l,Ta),s}function s(e){return i(e)}return s.invert=function(e){return a(e)},s.domain=function(t){return arguments.length?(e=t.map(Number),o()):e},s.range=function(e){return arguments.length?(t=e,o()):t},s.rangeRound=function(e){return s.range(e).interpolate(Ga)},s.clamp=function(e){return arguments.length?(r=e,o()):r},s.interpolate=function(e){return arguments.length?(n=e,o()):n},s.ticks=function(t){return ms(e,t)},s.tickFormat=function(t,n){return ys(e,t,n)},s.nice=function(t){return gs(e,t),o()},s.copy=function(){return hs(e,t,n,r)},o()}function ps(e,n){return t.rebind(e,n,"range","rangeRound","interpolate","clamp")}function gs(e,t){return us(e,cs(vs(e,t)[2])),us(e,cs(vs(e,t)[2])),e}function vs(e,t){null==t&&(t=10);var n=os(e),r=n[1]-n[0],i=Math.pow(10,Math.floor(Math.log(r/t)/Math.LN10)),a=t/r*i;return a<=.15?i*=10:a<=.35?i*=5:a<=.75&&(i*=2),n[0]=Math.ceil(n[0]/i)*i,n[1]=Math.floor(n[1]/i)*i+.5*i,n[2]=i,n}function ms(e,n){return t.range.apply(t,vs(e,n))}function ys(e,n,r){var i=vs(e,n);if(r){var a=Vt.exec(r);if(a.shift(),"s"===a[8]){var o=t.formatPrefix(Math.max(b(i[0]),b(i[1])));return a[7]||(a[7]="."+xs(o.scale(i[2]))),a[8]="f",r=t.format(a.join("")),function(e){return r(o.scale(e))+o.symbol}}a[7]||(a[7]="."+_s(a[8],i)),r=a.join("")}else r=",."+xs(i[2])+"f";return t.format(r)}t.scale.linear=function(){return hs([0,1],[0,1],Ta,!1)};var bs={s:1,g:1,p:1,r:1,e:1};function xs(e){return-Math.floor(Math.log(e)/Math.LN10+.01)}function _s(e,t){var n=xs(t[2]);return e in bs?Math.abs(n-xs(Math.max(b(t[0]),b(t[1]))))+ +("e"!==e):n-2*("%"===e)}function ws(e,n,r,i){function a(e){return(r?Math.log(e<0?0:e):-Math.log(e>0?0:-e))/Math.log(n)}function o(e){return r?Math.pow(n,e):-Math.pow(n,-e)}function s(t){return e(a(t))}return s.invert=function(t){return o(e.invert(t))},s.domain=function(t){return arguments.length?(r=t[0]>=0,e.domain((i=t.map(Number)).map(a)),s):i},s.base=function(t){return arguments.length?(n=+t,e.domain(i.map(a)),s):n},s.nice=function(){var t=us(i.map(a),r?Math:Ms);return e.domain(t),i=t.map(o),s},s.ticks=function(){var e=os(i),t=[],s=e[0],l=e[1],u=Math.floor(a(s)),c=Math.ceil(a(l)),f=n%1?2:n;if(isFinite(c-u)){if(r){for(;u<c;u++)for(var d=1;d<f;d++)t.push(o(u)*d);t.push(o(u))}else for(t.push(o(u));u++<c;)for(d=f-1;d>0;d--)t.push(o(u)*d);for(u=0;t[u]<s;u++);for(c=t.length;t[c-1]>l;c--);t=t.slice(u,c)}return t},s.tickFormat=function(e,r){if(!arguments.length)return ks;arguments.length<2?r=ks:"function"!==typeof r&&(r=t.format(r));var i=Math.max(1,n*e/s.ticks().length);return function(e){var t=e/o(Math.round(a(e)));return t*n<n-.5&&(t*=n),t<=i?r(e):""}},s.copy=function(){return ws(e.copy(),n,r,i)},ps(s,e)}t.scale.log=function(){return ws(t.scale.linear().domain([0,1]),10,!0,[1,10])};var ks=t.format(".0e"),Ms={floor:function(e){return-Math.ceil(-e)},ceil:function(e){return-Math.floor(-e)}};function Ts(e,t,n){var r=As(t),i=As(1/t);function a(t){return e(r(t))}return a.invert=function(t){return i(e.invert(t))},a.domain=function(t){return arguments.length?(e.domain((n=t.map(Number)).map(r)),a):n},a.ticks=function(e){return ms(n,e)},a.tickFormat=function(e,t){return ys(n,e,t)},a.nice=function(e){return a.domain(gs(n,e))},a.exponent=function(o){return arguments.length?(r=As(t=o),i=As(1/t),e.domain(n.map(r)),a):t},a.copy=function(){return Ts(e.copy(),t,n)},ps(a,e)}function As(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function Es(e,n){var r,i,a;function o(t){return i[((r.get(t)||("range"===n.t?r.set(t,e.push(t)):NaN))-1)%i.length]}function s(n,r){return t.range(e.length).map((function(e){return n+r*e}))}return o.domain=function(t){if(!arguments.length)return e;e=[],r=new w;for(var i,a=-1,s=t.length;++a<s;)r.has(i=t[a])||r.set(i,e.push(i));return o[n.t].apply(o,n.a)},o.range=function(e){return arguments.length?(i=e,a=0,n={t:"range",a:arguments},o):i},o.rangePoints=function(t,r){arguments.length<2&&(r=0);var l=t[0],u=t[1],c=e.length<2?(l=(l+u)/2,0):(u-l)/(e.length-1+r);return i=s(l+c*r/2,c),a=0,n={t:"rangePoints",a:arguments},o},o.rangeRoundPoints=function(t,r){arguments.length<2&&(r=0);var l=t[0],u=t[1],c=e.length<2?(l=u=Math.round((l+u)/2),0):(u-l)/(e.length-1+r)|0;return i=s(l+Math.round(c*r/2+(u-l-(e.length-1+r)*c)/2),c),a=0,n={t:"rangeRoundPoints",a:arguments},o},o.rangeBands=function(t,r,l){arguments.length<2&&(r=0),arguments.length<3&&(l=r);var u=t[1]<t[0],c=t[u-0],f=(t[1-u]-c)/(e.length-r+2*l);return i=s(c+f*l,f),u&&i.reverse(),a=f*(1-r),n={t:"rangeBands",a:arguments},o},o.rangeRoundBands=function(t,r,l){arguments.length<2&&(r=0),arguments.length<3&&(l=r);var u=t[1]<t[0],c=t[u-0],f=t[1-u],d=Math.floor((f-c)/(e.length-r+2*l));return i=s(c+Math.round((f-c-(e.length-r)*d)/2),d),u&&i.reverse(),a=Math.round(d*(1-r)),n={t:"rangeRoundBands",a:arguments},o},o.rangeBand=function(){return a},o.rangeExtent=function(){return os(n.a[0])},o.copy=function(){return Es(e,n)},o.domain(e)}t.scale.pow=function(){return Ts(t.scale.linear(),1,[0,1])},t.scale.sqrt=function(){return t.scale.pow().exponent(.5)},t.scale.ordinal=function(){return Es([],{t:"range",a:[[]]})},t.scale.category10=function(){return t.scale.ordinal().range(Ss)},t.scale.category20=function(){return t.scale.ordinal().range(Os)},t.scale.category20b=function(){return t.scale.ordinal().range(Cs)},t.scale.category20c=function(){return t.scale.ordinal().range(Ls)};var Ss=[2062260,16744206,2924588,14034728,9725885,9197131,14907330,8355711,12369186,1556175].map(gt),Os=[2062260,11454440,16744206,16759672,2924588,10018698,14034728,16750742,9725885,12955861,9197131,12885140,14907330,16234194,8355711,13092807,12369186,14408589,1556175,10410725].map(gt),Cs=[3750777,5395619,7040719,10264286,6519097,9216594,11915115,13556636,9202993,12426809,15186514,15190932,8666169,11356490,14049643,15177372,8077683,10834324,13528509,14589654].map(gt),Ls=[3244733,7057110,10406625,13032431,15095053,16616764,16625259,16634018,3253076,7652470,10607003,13101504,7695281,10394312,12369372,14342891,6513507,9868950,12434877,14277081].map(gt);function Rs(e,n){var r;function i(){var i=0,o=n.length;for(r=[];++i<o;)r[i-1]=t.quantile(e,i/o);return a}function a(e){if(!isNaN(e=+e))return n[t.bisect(r,e)]}return a.domain=function(t){return arguments.length?(e=t.map(p).filter(g).sort(h),i()):e},a.range=function(e){return arguments.length?(n=e,i()):n},a.quantiles=function(){return r},a.invertExtent=function(t){return(t=n.indexOf(t))<0?[NaN,NaN]:[t>0?r[t-1]:e[0],t<r.length?r[t]:e[e.length-1]]},a.copy=function(){return Rs(e,n)},i()}function Ps(e,t,n){var r,i;function a(t){return n[Math.max(0,Math.min(i,Math.floor(r*(t-e))))]}function o(){return r=n.length/(t-e),i=n.length-1,a}return a.domain=function(n){return arguments.length?(e=+n[0],t=+n[n.length-1],o()):[e,t]},a.range=function(e){return arguments.length?(n=e,o()):n},a.invertExtent=function(t){return[t=(t=n.indexOf(t))<0?NaN:t/r+e,t+1/r]},a.copy=function(){return Ps(e,t,n)},o()}function js(e,n){function r(r){if(r<=r)return n[t.bisect(e,r)]}return r.domain=function(t){return arguments.length?(e=t,r):e},r.range=function(e){return arguments.length?(n=e,r):n},r.invertExtent=function(t){return t=n.indexOf(t),[e[t-1],e[t]]},r.copy=function(){return js(e,n)},r}function zs(e){function t(e){return+e}return t.invert=t,t.domain=t.range=function(n){return arguments.length?(e=n.map(t),t):e},t.ticks=function(t){return ms(e,t)},t.tickFormat=function(t,n){return ys(e,t,n)},t.copy=function(){return zs(e)},t}function Is(){return 0}t.scale.quantile=function(){return Rs([],[])},t.scale.quantize=function(){return Ps(0,1,[0,1])},t.scale.threshold=function(){return js([.5],[0,1])},t.scale.identity=function(){return zs([0,1])},t.svg={},t.svg.arc=function(){var e=Ds,t=Fs,n=Is,r=Ns,i=Bs,a=Us,o=Vs;function s(){var s=Math.max(0,+e.apply(this,arguments)),u=Math.max(0,+t.apply(this,arguments)),c=i.apply(this,arguments)-Re,f=a.apply(this,arguments)-Re,d=Math.abs(f-c),h=c>f?0:1;if(u<s&&(p=u,u=s,s=p),d>=Le)return l(u,h)+(s?l(s,1-h):"")+"Z";var p,g,v,m,y,b,x,_,w,k,M,T,A=0,E=0,S=[];if((m=(+o.apply(this,arguments)||0)/2)&&(v=r===Ns?Math.sqrt(s*s+u*u):+r.apply(this,arguments),h||(E*=-1),u&&(E=De(v/u*Math.sin(m))),s&&(A=De(v/s*Math.sin(m)))),u){y=u*Math.cos(c+E),b=u*Math.sin(c+E),x=u*Math.cos(f-E),_=u*Math.sin(f-E);var O=Math.abs(f-c-2*E)<=Oe?0:1;if(E&&Hs(y,b,x,_)===h^O){var C=(c+f)/2;y=u*Math.cos(C),b=u*Math.sin(C),x=_=null}}else y=b=0;if(s){w=s*Math.cos(f-A),k=s*Math.sin(f-A),M=s*Math.cos(c+A),T=s*Math.sin(c+A);var L=Math.abs(c-f+2*A)<=Oe?0:1;if(A&&Hs(w,k,M,T)===1-h^L){var R=(c+f)/2;w=s*Math.cos(R),k=s*Math.sin(R),M=T=null}}else w=k=0;if(d>Ee&&(p=Math.min(Math.abs(u-s)/2,+n.apply(this,arguments)))>.001){g=s<u^h?0:1;var P=p,j=p;if(d<Oe){var z=null==M?[w,k]:null==x?[y,b]:Ci([y,b],[M,T],[x,_],[w,k]),I=y-z[0],N=b-z[1],D=x-z[0],F=_-z[1],B=1/Math.sin(Math.acos((I*D+N*F)/(Math.sqrt(I*I+N*N)*Math.sqrt(D*D+F*F)))/2),U=Math.sqrt(z[0]*z[0]+z[1]*z[1]);j=Math.min(p,(s-U)/(B-1)),P=Math.min(p,(u-U)/(B+1))}if(null!=x){var V=qs(null==M?[w,k]:[M,T],[y,b],u,P,h),H=qs([x,_],[w,k],u,P,h);p===P?S.push("M",V[0],"A",P,",",P," 0 0,",g," ",V[1],"A",u,",",u," 0 ",1-h^Hs(V[1][0],V[1][1],H[1][0],H[1][1]),",",h," ",H[1],"A",P,",",P," 0 0,",g," ",H[0]):S.push("M",V[0],"A",P,",",P," 0 1,",g," ",H[0])}else S.push("M",y,",",b);if(null!=M){var q=qs([y,b],[M,T],s,-j,h),W=qs([w,k],null==x?[y,b]:[x,_],s,-j,h);p===j?S.push("L",W[0],"A",j,",",j," 0 0,",g," ",W[1],"A",s,",",s," 0 ",h^Hs(W[1][0],W[1][1],q[1][0],q[1][1]),",",1-h," ",q[1],"A",j,",",j," 0 0,",g," ",q[0]):S.push("L",W[0],"A",j,",",j," 0 0,",g," ",q[0])}else S.push("L",w,",",k)}else S.push("M",y,",",b),null!=x&&S.push("A",u,",",u," 0 ",O,",",h," ",x,",",_),S.push("L",w,",",k),null!=M&&S.push("A",s,",",s," 0 ",L,",",1-h," ",M,",",T);return S.push("Z"),S.join("")}function l(e,t){return"M0,"+e+"A"+e+","+e+" 0 1,"+t+" 0,"+-e+"A"+e+","+e+" 0 1,"+t+" 0,"+e}return s.innerRadius=function(t){return arguments.length?(e=Mt(t),s):e},s.outerRadius=function(e){return arguments.length?(t=Mt(e),s):t},s.cornerRadius=function(e){return arguments.length?(n=Mt(e),s):n},s.padRadius=function(e){return arguments.length?(r=e==Ns?Ns:Mt(e),s):r},s.startAngle=function(e){return arguments.length?(i=Mt(e),s):i},s.endAngle=function(e){return arguments.length?(a=Mt(e),s):a},s.padAngle=function(e){return arguments.length?(o=Mt(e),s):o},s.centroid=function(){var n=(+e.apply(this,arguments)+ +t.apply(this,arguments))/2,r=(+i.apply(this,arguments)+ +a.apply(this,arguments))/2-Re;return[Math.cos(r)*n,Math.sin(r)*n]},s};var Ns="auto";function Ds(e){return e.innerRadius}function Fs(e){return e.outerRadius}function Bs(e){return e.startAngle}function Us(e){return e.endAngle}function Vs(e){return e&&e.padAngle}function Hs(e,t,n,r){return(e-n)*t-(t-r)*e>0?0:1}function qs(e,t,n,r,i){var a=e[0]-t[0],o=e[1]-t[1],s=(i?r:-r)/Math.sqrt(a*a+o*o),l=s*o,u=-s*a,c=e[0]+l,f=e[1]+u,d=t[0]+l,h=t[1]+u,p=(c+d)/2,g=(f+h)/2,v=d-c,m=h-f,y=v*v+m*m,b=n-r,x=c*h-d*f,_=(m<0?-1:1)*Math.sqrt(Math.max(0,b*b*y-x*x)),w=(x*m-v*_)/y,k=(-x*v-m*_)/y,M=(x*m+v*_)/y,T=(-x*v+m*_)/y,A=w-p,E=k-g,S=M-p,O=T-g;return A*A+E*E>S*S+O*O&&(w=M,k=T),[[w-l,k-u],[w*n/b,k*n/b]]}function Ws(e){var t=Mi,n=Ti,r=sr,i=Xs,a=i.key,o=.7;function s(a){var s,l=[],u=[],c=-1,f=a.length,d=Mt(t),h=Mt(n);function p(){l.push("M",i(e(u),o))}for(;++c<f;)r.call(this,s=a[c],c)?u.push([+d.call(this,s,c),+h.call(this,s,c)]):u.length&&(p(),u=[]);return u.length&&p(),l.length?l.join(""):null}return s.x=function(e){return arguments.length?(t=e,s):t},s.y=function(e){return arguments.length?(n=e,s):n},s.defined=function(e){return arguments.length?(r=e,s):r},s.interpolate=function(e){return arguments.length?(a="function"===typeof e?i=e:(i=Gs.get(e)||Xs).key,s):a},s.tension=function(e){return arguments.length?(o=e,s):o},s}t.svg.line=function(){return Ws(P)};var Gs=t.map({linear:Xs,"linear-closed":Ys,step:Zs,"step-before":$s,"step-after":Ks,basis:rl,"basis-open":il,"basis-closed":al,bundle:ol,cardinal:el,"cardinal-open":Qs,"cardinal-closed":Js,monotone:gl});function Xs(e){return e.length>1?e.join("L"):e+"Z"}function Ys(e){return e.join("L")+"Z"}function Zs(e){for(var t=0,n=e.length,r=e[0],i=[r[0],",",r[1]];++t<n;)i.push("H",(r[0]+(r=e[t])[0])/2,"V",r[1]);return n>1&&i.push("H",r[0]),i.join("")}function $s(e){for(var t=0,n=e.length,r=e[0],i=[r[0],",",r[1]];++t<n;)i.push("V",(r=e[t])[1],"H",r[0]);return i.join("")}function Ks(e){for(var t=0,n=e.length,r=e[0],i=[r[0],",",r[1]];++t<n;)i.push("H",(r=e[t])[0],"V",r[1]);return i.join("")}function Qs(e,t){return e.length<4?Xs(e):e[1]+tl(e.slice(1,-1),nl(e,t))}function Js(e,t){return e.length<3?Ys(e):e[0]+tl((e.push(e[0]),e),nl([e[e.length-2]].concat(e,[e[1]]),t))}function el(e,t){return e.length<3?Xs(e):e[0]+tl(e,nl(e,t))}function tl(e,t){if(t.length<1||e.length!=t.length&&e.length!=t.length+2)return Xs(e);var n=e.length!=t.length,r="",i=e[0],a=e[1],o=t[0],s=o,l=1;if(n&&(r+="Q"+(a[0]-2*o[0]/3)+","+(a[1]-2*o[1]/3)+","+a[0]+","+a[1],i=e[1],l=2),t.length>1){s=t[1],a=e[l],l++,r+="C"+(i[0]+o[0])+","+(i[1]+o[1])+","+(a[0]-s[0])+","+(a[1]-s[1])+","+a[0]+","+a[1];for(var u=2;u<t.length;u++,l++)a=e[l],s=t[u],r+="S"+(a[0]-s[0])+","+(a[1]-s[1])+","+a[0]+","+a[1]}if(n){var c=e[l];r+="Q"+(a[0]+2*s[0]/3)+","+(a[1]+2*s[1]/3)+","+c[0]+","+c[1]}return r}function nl(e,t){for(var n,r=[],i=(1-t)/2,a=e[0],o=e[1],s=1,l=e.length;++s<l;)n=a,a=o,o=e[s],r.push([i*(o[0]-n[0]),i*(o[1]-n[1])]);return r}function rl(e){if(e.length<3)return Xs(e);var t=1,n=e.length,r=e[0],i=r[0],a=r[1],o=[i,i,i,(r=e[1])[0]],s=[a,a,a,r[1]],l=[i,",",a,"L",sl(cl,o),",",sl(cl,s)];for(e.push(e[n-1]);++t<=n;)r=e[t],o.shift(),o.push(r[0]),s.shift(),s.push(r[1]),fl(l,o,s);return e.pop(),l.push("L",r),l.join("")}function il(e){if(e.length<4)return Xs(e);for(var t,n=[],r=-1,i=e.length,a=[0],o=[0];++r<3;)t=e[r],a.push(t[0]),o.push(t[1]);for(n.push(sl(cl,a)+","+sl(cl,o)),--r;++r<i;)t=e[r],a.shift(),a.push(t[0]),o.shift(),o.push(t[1]),fl(n,a,o);return n.join("")}function al(e){for(var t,n,r=-1,i=e.length,a=i+4,o=[],s=[];++r<4;)n=e[r%i],o.push(n[0]),s.push(n[1]);for(t=[sl(cl,o),",",sl(cl,s)],--r;++r<a;)n=e[r%i],o.shift(),o.push(n[0]),s.shift(),s.push(n[1]),fl(t,o,s);return t.join("")}function ol(e,t){var n=e.length-1;if(n)for(var r,i,a=e[0][0],o=e[0][1],s=e[n][0]-a,l=e[n][1]-o,u=-1;++u<=n;)i=u/n,(r=e[u])[0]=t*r[0]+(1-t)*(a+i*s),r[1]=t*r[1]+(1-t)*(o+i*l);return rl(e)}function sl(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]+e[3]*t[3]}Gs.forEach((function(e,t){t.key=e,t.closed=/-closed$/.test(e)}));var ll=[0,2/3,1/3,0],ul=[0,1/3,2/3,0],cl=[0,1/6,2/3,1/6];function fl(e,t,n){e.push("C",sl(ll,t),",",sl(ll,n),",",sl(ul,t),",",sl(ul,n),",",sl(cl,t),",",sl(cl,n))}function dl(e,t){return(t[1]-e[1])/(t[0]-e[0])}function hl(e){for(var t=0,n=e.length-1,r=[],i=e[0],a=e[1],o=r[0]=dl(i,a);++t<n;)r[t]=(o+(o=dl(i=a,a=e[t+1])))/2;return r[t]=o,r}function pl(e){for(var t,n,r,i,a=[],o=hl(e),s=-1,l=e.length-1;++s<l;)t=dl(e[s],e[s+1]),b(t)<Ee?o[s]=o[s+1]=0:(i=(n=o[s]/t)*n+(r=o[s+1]/t)*r)>9&&(i=3*t/Math.sqrt(i),o[s]=i*n,o[s+1]=i*r);for(s=-1;++s<=l;)i=(e[Math.min(l,s+1)][0]-e[Math.max(0,s-1)][0])/(6*(1+o[s]*o[s])),a.push([i||0,o[s]*i||0]);return a}function gl(e){return e.length<3?Xs(e):e[0]+tl(e,pl(e))}function vl(e){for(var t,n,r,i=-1,a=e.length;++i<a;)n=(t=e[i])[0],r=t[1]-Re,t[0]=n*Math.cos(r),t[1]=n*Math.sin(r);return e}function ml(e){var t=Mi,n=Mi,r=0,i=Ti,a=sr,o=Xs,s=o.key,l=o,u="L",c=.7;function f(s){var f,d,h,p=[],g=[],v=[],m=-1,y=s.length,b=Mt(t),x=Mt(r),_=t===n?function(){return d}:Mt(n),w=r===i?function(){return h}:Mt(i);function k(){p.push("M",o(e(v),c),u,l(e(g.reverse()),c),"Z")}for(;++m<y;)a.call(this,f=s[m],m)?(g.push([d=+b.call(this,f,m),h=+x.call(this,f,m)]),v.push([+_.call(this,f,m),+w.call(this,f,m)])):g.length&&(k(),g=[],v=[]);return g.length&&k(),p.length?p.join(""):null}return f.x=function(e){return arguments.length?(t=n=e,f):n},f.x0=function(e){return arguments.length?(t=e,f):t},f.x1=function(e){return arguments.length?(n=e,f):n},f.y=function(e){return arguments.length?(r=i=e,f):i},f.y0=function(e){return arguments.length?(r=e,f):r},f.y1=function(e){return arguments.length?(i=e,f):i},f.defined=function(e){return arguments.length?(a=e,f):a},f.interpolate=function(e){return arguments.length?(s="function"===typeof e?o=e:(o=Gs.get(e)||Xs).key,l=o.reverse||o,u=o.closed?"M":"L",f):s},f.tension=function(e){return arguments.length?(c=e,f):c},f}function yl(e){return e.radius}function bl(e){return[e.x,e.y]}function xl(e){return function(){var t=e.apply(this,arguments),n=t[0],r=t[1]-Re;return[n*Math.cos(r),n*Math.sin(r)]}}function _l(){return 64}function wl(){return"circle"}function kl(e){var t=Math.sqrt(e/Oe);return"M0,"+t+"A"+t+","+t+" 0 1,1 0,"+-t+"A"+t+","+t+" 0 1,1 0,"+t+"Z"}t.svg.line.radial=function(){var e=Ws(vl);return e.radius=e.x,delete e.x,e.angle=e.y,delete e.y,e},$s.reverse=Ks,Ks.reverse=$s,t.svg.area=function(){return ml(P)},t.svg.area.radial=function(){var e=ml(vl);return e.radius=e.x,delete e.x,e.innerRadius=e.x0,delete e.x0,e.outerRadius=e.x1,delete e.x1,e.angle=e.y,delete e.y,e.startAngle=e.y0,delete e.y0,e.endAngle=e.y1,delete e.y1,e},t.svg.chord=function(){var e=li,t=ui,n=yl,r=Bs,i=Us;function a(n,r){var i=o(this,e,n,r),a=o(this,t,n,r);return"M"+i.p0+l(i.r,i.p1,i.a1-i.a0)+(s(i,a)?u(i.r,i.p1,i.r,i.p0):u(i.r,i.p1,a.r,a.p0)+l(a.r,a.p1,a.a1-a.a0)+u(a.r,a.p1,i.r,i.p0))+"Z"}function o(e,t,a,o){var s=t.call(e,a,o),l=n.call(e,s,o),u=r.call(e,s,o)-Re,c=i.call(e,s,o)-Re;return{r:l,a0:u,a1:c,p0:[l*Math.cos(u),l*Math.sin(u)],p1:[l*Math.cos(c),l*Math.sin(c)]}}function s(e,t){return e.a0==t.a0&&e.a1==t.a1}function l(e,t,n){return"A"+e+","+e+" 0 "+ +(n>Oe)+",1 "+t}function u(e,t,n,r){return"Q 0,0 "+r}return a.radius=function(e){return arguments.length?(n=Mt(e),a):n},a.source=function(t){return arguments.length?(e=Mt(t),a):e},a.target=function(e){return arguments.length?(t=Mt(e),a):t},a.startAngle=function(e){return arguments.length?(r=Mt(e),a):r},a.endAngle=function(e){return arguments.length?(i=Mt(e),a):i},a},t.svg.diagonal=function(){var e=li,t=ui,n=bl;function r(r,i){var a=e.call(this,r,i),o=t.call(this,r,i),s=(a.y+o.y)/2,l=[a,{x:a.x,y:s},{x:o.x,y:s},o];return"M"+(l=l.map(n))[0]+"C"+l[1]+" "+l[2]+" "+l[3]}return r.source=function(t){return arguments.length?(e=Mt(t),r):e},r.target=function(e){return arguments.length?(t=Mt(e),r):t},r.projection=function(e){return arguments.length?(n=e,r):n},r},t.svg.diagonal.radial=function(){var e=t.svg.diagonal(),n=bl,r=e.projection;return e.projection=function(e){return arguments.length?r(xl(n=e)):n},e},t.svg.symbol=function(){var e=wl,t=_l;function n(n,r){return(Ml.get(e.call(this,n,r))||kl)(t.call(this,n,r))}return n.type=function(t){return arguments.length?(e=Mt(t),n):e},n.size=function(e){return arguments.length?(t=Mt(e),n):t},n};var Ml=t.map({circle:kl,cross:function(e){var t=Math.sqrt(e/5)/2;return"M"+-3*t+","+-t+"H"+-t+"V"+-3*t+"H"+t+"V"+-t+"H"+3*t+"V"+t+"H"+t+"V"+3*t+"H"+-t+"V"+t+"H"+-3*t+"Z"},diamond:function(e){var t=Math.sqrt(e/(2*Al)),n=t*Al;return"M0,"+-t+"L"+n+",0 0,"+t+" "+-n+",0Z"},square:function(e){var t=Math.sqrt(e)/2;return"M"+-t+","+-t+"L"+t+","+-t+" "+t+","+t+" "+-t+","+t+"Z"},"triangle-down":function(e){var t=Math.sqrt(e/Tl),n=t*Tl/2;return"M0,"+n+"L"+t+","+-n+" "+-t+","+-n+"Z"},"triangle-up":function(e){var t=Math.sqrt(e/Tl),n=t*Tl/2;return"M0,"+-n+"L"+t+","+n+" "+-t+","+n+"Z"}});t.svg.symbolTypes=Ml.keys();var Tl=Math.sqrt(3),Al=Math.tan(30*Pe);Z.transition=function(e){for(var t,n,r=Cl||++Pl,i=Il(e),a=[],o=Ll||{time:Date.now(),ease:za,delay:0,duration:250},s=-1,l=this.length;++s<l;){a.push(t=[]);for(var u=this[s],c=-1,f=u.length;++c<f;)(n=u[c])&&Nl(n,c,i,r,o),t.push(n)}return Ol(a,i,r)},Z.interrupt=function(e){return this.each(null==e?El:Sl(Il(e)))};var El=Sl(Il());function Sl(e){return function(){var t,n,r;(t=this[e])&&(r=t[n=t.active])&&(r.timer.c=null,r.timer.t=NaN,--t.count?delete t[n]:delete this[e],t.active+=.5,r.event&&r.event.interrupt.call(this,this.__data__,r.index))}}function Ol(e,t,n){return q(e,Rl),e.namespace=t,e.id=n,e}var Cl,Ll,Rl=[],Pl=0;function jl(e,t,n,r){var i=e.id,a=e.namespace;return he(e,"function"===typeof n?function(e,o,s){e[a][i].tween.set(t,r(n.call(e,e.__data__,o,s)))}:(n=r(n),function(e){e[a][i].tween.set(t,n)}))}function zl(e){return null==e&&(e=""),function(){this.textContent=e}}function Il(e){return null==e?"__transition__":"__transition_"+e+"__"}function Nl(e,t,n,r,i){var a,o,s,l,u,c=e[n]||(e[n]={active:0,count:0}),f=c[r];function d(e){var t=f.delay;if(o.t=t+a,t<=e)return h(e-t);o.c=h}function h(n){var i=c.active,d=c[i];for(var h in d&&(d.timer.c=null,d.timer.t=NaN,--c.count,delete c[i],d.event&&d.event.interrupt.call(e,e.__data__,d.index)),c)if(+h<r){var g=c[h];g.timer.c=null,g.timer.t=NaN,--c.count,delete c[h]}o.c=p,jt((function(){return o.c&&p(n||1)&&(o.c=null,o.t=NaN),1}),0,a),c.active=r,f.event&&f.event.start.call(e,e.__data__,t),u=[],f.tween.forEach((function(n,r){(r=r.call(e,e.__data__,t))&&u.push(r)})),l=f.ease,s=f.duration}function p(i){for(var a=i/s,o=l(a),d=u.length;d>0;)u[--d].call(e,o);if(a>=1)return f.event&&f.event.end.call(e,e.__data__,t),--c.count?delete c[r]:delete e[n],1}f||(a=i.time,o=jt(d,0,a),f=c[r]={tween:new w,time:a,timer:o,delay:i.delay,duration:i.duration,ease:i.ease,index:t},i=null,++c.count)}Rl.call=Z.call,Rl.empty=Z.empty,Rl.node=Z.node,Rl.size=Z.size,t.transition=function(e,n){return e&&e.transition?Cl?e.transition(n):e:t.selection().transition(e)},t.transition.prototype=Rl,Rl.select=function(e){var t,n,r,i=this.id,a=this.namespace,o=[];e=$(e);for(var s=-1,l=this.length;++s<l;){o.push(t=[]);for(var u=this[s],c=-1,f=u.length;++c<f;)(r=u[c])&&(n=e.call(r,r.__data__,c,s))?("__data__"in r&&(n.__data__=r.__data__),Nl(n,c,a,i,r[a][i]),t.push(n)):t.push(null)}return Ol(o,a,i)},Rl.selectAll=function(e){var t,n,r,i,a,o=this.id,s=this.namespace,l=[];e=K(e);for(var u=-1,c=this.length;++u<c;)for(var f=this[u],d=-1,h=f.length;++d<h;)if(r=f[d]){a=r[s][o],n=e.call(r,r.__data__,d,u),l.push(t=[]);for(var p=-1,g=n.length;++p<g;)(i=n[p])&&Nl(i,p,s,o,a),t.push(i)}return Ol(l,s,o)},Rl.filter=function(e){var t,n,r=[];"function"!==typeof e&&(e=fe(e));for(var i=0,a=this.length;i<a;i++){r.push(t=[]);for(var o,s=0,l=(o=this[i]).length;s<l;s++)(n=o[s])&&e.call(n,n.__data__,s,i)&&t.push(n)}return Ol(r,this.namespace,this.id)},Rl.tween=function(e,t){var n=this.id,r=this.namespace;return arguments.length<2?this.node()[r][n].tween.get(e):he(this,null==t?function(t){t[r][n].tween.remove(e)}:function(i){i[r][n].tween.set(e,t)})},Rl.attr=function(e,n){if(arguments.length<2){for(n in e)this.attr(n,e[n]);return this}var r="transform"==e?ro:Ta,i=t.ns.qualify(e);function a(){this.removeAttribute(i)}function o(){this.removeAttributeNS(i.space,i.local)}function s(e){return null==e?a:(e+="",function(){var t,n=this.getAttribute(i);return n!==e&&(t=r(n,e),function(e){this.setAttribute(i,t(e))})})}function l(e){return null==e?o:(e+="",function(){var t,n=this.getAttributeNS(i.space,i.local);return n!==e&&(t=r(n,e),function(e){this.setAttributeNS(i.space,i.local,t(e))})})}return jl(this,"attr."+e,n,i.local?l:s)},Rl.attrTween=function(e,n){var r=t.ns.qualify(e);function i(e,t){var i=n.call(this,e,t,this.getAttribute(r));return i&&function(e){this.setAttribute(r,i(e))}}function a(e,t){var i=n.call(this,e,t,this.getAttributeNS(r.space,r.local));return i&&function(e){this.setAttributeNS(r.space,r.local,i(e))}}return this.tween("attr."+e,r.local?a:i)},Rl.style=function(e,t,n){var r=arguments.length;if(r<3){if("string"!==typeof e){for(n in r<2&&(t=""),e)this.style(n,e[n],t);return this}n=""}function i(){this.style.removeProperty(e)}function a(t){return null==t?i:(t+="",function(){var r,i=s(this).getComputedStyle(this,null).getPropertyValue(e);return i!==t&&(r=Ta(i,t),function(t){this.style.setProperty(e,r(t),n)})})}return jl(this,"style."+e,t,a)},Rl.styleTween=function(e,t,n){function r(r,i){var a=t.call(this,r,i,s(this).getComputedStyle(this,null).getPropertyValue(e));return a&&function(t){this.style.setProperty(e,a(t),n)}}return arguments.length<3&&(n=""),this.tween("style."+e,r)},Rl.text=function(e){return jl(this,"text",e,zl)},Rl.remove=function(){var e=this.namespace;return this.each("end.transition",(function(){var t;this[e].count<2&&(t=this.parentNode)&&t.removeChild(this)}))},Rl.ease=function(e){var n=this.id,r=this.namespace;return arguments.length<1?this.node()[r][n].ease:("function"!==typeof e&&(e=t.ease.apply(t,arguments)),he(this,(function(t){t[r][n].ease=e})))},Rl.delay=function(e){var t=this.id,n=this.namespace;return arguments.length<1?this.node()[n][t].delay:he(this,"function"===typeof e?function(r,i,a){r[n][t].delay=+e.call(r,r.__data__,i,a)}:(e=+e,function(r){r[n][t].delay=e}))},Rl.duration=function(e){var t=this.id,n=this.namespace;return arguments.length<1?this.node()[n][t].duration:he(this,"function"===typeof e?function(r,i,a){r[n][t].duration=Math.max(1,e.call(r,r.__data__,i,a))}:(e=Math.max(1,e),function(r){r[n][t].duration=e}))},Rl.each=function(e,n){var r=this.id,i=this.namespace;if(arguments.length<2){var a=Ll,o=Cl;try{Cl=r,he(this,(function(t,n,a){Ll=t[i][r],e.call(t,t.__data__,n,a)}))}finally{Ll=a,Cl=o}}else he(this,(function(a){var o=a[i][r];(o.event||(o.event=t.dispatch("start","end","interrupt"))).on(e,n)}));return this},Rl.transition=function(){for(var e,t,n,r=this.id,i=++Pl,a=this.namespace,o=[],s=0,l=this.length;s<l;s++){o.push(e=[]);for(var u,c=0,f=(u=this[s]).length;c<f;c++)(t=u[c])&&Nl(t,c,a,i,{time:(n=t[a][r]).time,ease:n.ease,delay:n.delay+n.duration,duration:n.duration}),e.push(t)}return Ol(o,a,i)},t.svg.axis=function(){var e,n=t.scale.linear(),r=Dl,a=6,o=6,s=3,l=[10],u=null;function c(i){i.each((function(){var i,c=t.select(this),f=this.__chart__||n,d=this.__chart__=n.copy(),h=null==u?d.ticks?d.ticks.apply(d,l):d.domain():u,p=null==e?d.tickFormat?d.tickFormat.apply(d,l):P:e,g=c.selectAll(".tick").data(h,d),v=g.enter().insert("g",".domain").attr("class","tick").style("opacity",Ee),m=t.transition(g.exit()).style("opacity",Ee).remove(),y=t.transition(g.order()).style("opacity",1),b=Math.max(a,0)+s,x=ss(d),_=c.selectAll(".domain").data([0]),w=(_.enter().append("path").attr("class","domain"),t.transition(_));v.append("line"),v.append("text");var k,M,T,A,E=v.select("line"),S=y.select("line"),O=g.select("text").text(p),C=v.select("text"),L=y.select("text"),R="top"===r||"left"===r?-1:1;if("bottom"===r||"top"===r?(i=Bl,k="x",T="y",M="x2",A="y2",O.attr("dy",R<0?"0em":".71em").style("text-anchor","middle"),w.attr("d","M"+x[0]+","+R*o+"V0H"+x[1]+"V"+R*o)):(i=Ul,k="y",T="x",M="y2",A="x2",O.attr("dy",".32em").style("text-anchor",R<0?"end":"start"),w.attr("d","M"+R*o+","+x[0]+"H0V"+x[1]+"H"+R*o)),E.attr(A,R*a),C.attr(T,R*b),S.attr(M,0).attr(A,R*a),L.attr(k,0).attr(T,R*b),d.rangeBand){var j=d,z=j.rangeBand()/2;f=d=function(e){return j(e)+z}}else f.rangeBand?f=d:m.call(i,d,f);v.call(i,f,d),y.call(i,d,d)}))}return c.scale=function(e){return arguments.length?(n=e,c):n},c.orient=function(e){return arguments.length?(r=e in Fl?e+"":Dl,c):r},c.ticks=function(){return arguments.length?(l=i(arguments),c):l},c.tickValues=function(e){return arguments.length?(u=e,c):u},c.tickFormat=function(t){return arguments.length?(e=t,c):e},c.tickSize=function(e){var t=arguments.length;return t?(a=+e,o=+arguments[t-1],c):a},c.innerTickSize=function(e){return arguments.length?(a=+e,c):a},c.outerTickSize=function(e){return arguments.length?(o=+e,c):o},c.tickPadding=function(e){return arguments.length?(s=+e,c):s},c.tickSubdivide=function(){return arguments.length&&c},c};var Dl="bottom",Fl={top:1,right:1,bottom:1,left:1};function Bl(e,t,n){e.attr("transform",(function(e){var r=t(e);return"translate("+(isFinite(r)?r:n(e))+",0)"}))}function Ul(e,t,n){e.attr("transform",(function(e){var r=t(e);return"translate(0,"+(isFinite(r)?r:n(e))+")"}))}t.svg.brush=function(){var e,n,r=V(d,"brushstart","brush","brushend"),i=null,a=null,o=[0,0],l=[0,0],u=!0,c=!0,f=Hl[0];function d(e){e.each((function(){var e=t.select(this).style("pointer-events","all").style("-webkit-tap-highlight-color","rgba(0,0,0,0)").on("mousedown.brush",v).on("touchstart.brush",v),n=e.selectAll(".background").data([0]);n.enter().append("rect").attr("class","background").style("visibility","hidden").style("cursor","crosshair"),e.selectAll(".extent").data([0]).enter().append("rect").attr("class","extent").style("cursor","move");var r=e.selectAll(".resize").data(f,P);r.exit().remove(),r.enter().append("g").attr("class",(function(e){return"resize "+e})).style("cursor",(function(e){return Vl[e]})).append("rect").attr("x",(function(e){return/[ew]$/.test(e)?-3:null})).attr("y",(function(e){return/^[ns]/.test(e)?-3:null})).attr("width",6).attr("height",6).style("visibility","hidden"),r.style("display",d.empty()?"none":null);var o,s=t.transition(e),l=t.transition(n);i&&(o=ss(i),l.attr("x",o[0]).attr("width",o[1]-o[0]),p(s)),a&&(o=ss(a),l.attr("y",o[0]).attr("height",o[1]-o[0]),g(s)),h(s)}))}function h(e){e.selectAll(".resize").attr("transform",(function(e){return"translate("+o[+/e$/.test(e)]+","+l[+/^s/.test(e)]+")"}))}function p(e){e.select(".extent").attr("x",o[0]),e.selectAll(".extent,.n>rect,.s>rect").attr("width",o[1]-o[0])}function g(e){e.select(".extent").attr("y",l[0]),e.selectAll(".extent,.e>rect,.w>rect").attr("height",l[1]-l[0])}function v(){var f,v,m=this,y=t.select(t.event.target),b=r.of(m,arguments),x=t.select(m),_=y.datum(),w=!/^(n|s)$/.test(_)&&i,k=!/^(e|w)$/.test(_)&&a,M=y.classed("extent"),T=ke(m),A=t.mouse(m),E=t.select(s(m)).on("keydown.brush",C).on("keyup.brush",L);if(t.event.changedTouches?E.on("touchmove.brush",R).on("touchend.brush",j):E.on("mousemove.brush",R).on("mouseup.brush",j),x.interrupt().selectAll("*").interrupt(),M)A[0]=o[0]-A[0],A[1]=l[0]-A[1];else if(_){var S=+/w$/.test(_),O=+/^n/.test(_);v=[o[1-S]-A[0],l[1-O]-A[1]],A[0]=o[S],A[1]=l[O]}else t.event.altKey&&(f=A.slice());function C(){32==t.event.keyCode&&(M||(f=null,A[0]-=o[1],A[1]-=l[1],M=2),B())}function L(){32==t.event.keyCode&&2==M&&(A[0]+=o[1],A[1]+=l[1],M=0,B())}function R(){var e=t.mouse(m),n=!1;v&&(e[0]+=v[0],e[1]+=v[1]),M||(t.event.altKey?(f||(f=[(o[0]+o[1])/2,(l[0]+l[1])/2]),A[0]=o[+(e[0]<f[0])],A[1]=l[+(e[1]<f[1])]):f=null),w&&P(e,i,0)&&(p(x),n=!0),k&&P(e,a,1)&&(g(x),n=!0),n&&(h(x),b({type:"brush",mode:M?"move":"resize"}))}function P(t,r,i){var a,s,d=ss(r),h=d[0],p=d[1],g=A[i],v=i?l:o,m=v[1]-v[0];if(M&&(h-=g,p-=m+g),a=(i?c:u)?Math.max(h,Math.min(p,t[i])):t[i],M?s=(a+=g)+m:(f&&(g=Math.max(h,Math.min(p,2*f[i]-a))),g<a?(s=a,a=g):s=g),v[0]!=a||v[1]!=s)return i?n=null:e=null,v[0]=a,v[1]=s,!0}function j(){R(),x.style("pointer-events","all").selectAll(".resize").style("display",d.empty()?"none":null),t.select("body").style("cursor",null),E.on("mousemove.brush",null).on("mouseup.brush",null).on("touchmove.brush",null).on("touchend.brush",null).on("keydown.brush",null).on("keyup.brush",null),T(),b({type:"brushend"})}x.style("pointer-events","none").selectAll(".resize").style("display",null),t.select("body").style("cursor",y.style("cursor")),b({type:"brushstart"}),R()}return d.event=function(i){i.each((function(){var i=r.of(this,arguments),a={x:o,y:l,i:e,j:n},s=this.__chart__||a;this.__chart__=a,Cl?t.select(this).transition().each("start.brush",(function(){e=s.i,n=s.j,o=s.x,l=s.y,i({type:"brushstart"})})).tween("brush:brush",(function(){var t=Aa(o,a.x),r=Aa(l,a.y);return e=n=null,function(e){o=a.x=t(e),l=a.y=r(e),i({type:"brush",mode:"resize"})}})).each("end.brush",(function(){e=a.i,n=a.j,i({type:"brush",mode:"resize"}),i({type:"brushend"})})):(i({type:"brushstart"}),i({type:"brush",mode:"resize"}),i({type:"brushend"}))}))},d.x=function(e){return arguments.length?(f=Hl[!(i=e)<<1|!a],d):i},d.y=function(e){return arguments.length?(f=Hl[!i<<1|!(a=e)],d):a},d.clamp=function(e){return arguments.length?(i&&a?(u=!!e[0],c=!!e[1]):i?u=!!e:a&&(c=!!e),d):i&&a?[u,c]:i?u:a?c:null},d.extent=function(t){var r,s,u,c,f;return arguments.length?(i&&(r=t[0],s=t[1],a&&(r=r[0],s=s[0]),e=[r,s],i.invert&&(r=i(r),s=i(s)),s<r&&(f=r,r=s,s=f),r==o[0]&&s==o[1]||(o=[r,s])),a&&(u=t[0],c=t[1],i&&(u=u[1],c=c[1]),n=[u,c],a.invert&&(u=a(u),c=a(c)),c<u&&(f=u,u=c,c=f),u==l[0]&&c==l[1]||(l=[u,c])),d):(i&&(e?(r=e[0],s=e[1]):(r=o[0],s=o[1],i.invert&&(r=i.invert(r),s=i.invert(s)),s<r&&(f=r,r=s,s=f))),a&&(n?(u=n[0],c=n[1]):(u=l[0],c=l[1],a.invert&&(u=a.invert(u),c=a.invert(c)),c<u&&(f=u,u=c,c=f))),i&&a?[[r,u],[s,c]]:i?[r,s]:a&&[u,c])},d.clear=function(){return d.empty()||(o=[0,0],l=[0,0],e=n=null),d},d.empty=function(){return!!i&&o[0]==o[1]||!!a&&l[0]==l[1]},t.rebind(d,r,"on")};var Vl={n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},Hl=[["n","e","s","w","nw","ne","se","sw"],["e","w"],["n","s"],[]],ql=Wt.format=wn.timeFormat,Wl=ql.utc,Gl=Wl("%Y-%m-%dT%H:%M:%S.%LZ");function Xl(e){return e.toISOString()}function Yl(e,n,r){function i(t){return e(t)}function a(e,r){var i=(e[1]-e[0])/r,a=t.bisect($l,i);return a==$l.length?[n.year,vs(e.map((function(e){return e/31536e6})),r)[2]]:a?n[i/$l[a-1]<$l[a]/i?a-1:a]:[Jl,vs(e,r)[2]]}return i.invert=function(t){return Zl(e.invert(t))},i.domain=function(t){return arguments.length?(e.domain(t),i):e.domain().map(Zl)},i.nice=function(e,t){var n=i.domain(),r=os(n),o=null==e?a(r,10):"number"===typeof e&&a(r,e);function s(n){return!isNaN(n)&&!e.range(n,Zl(+n+1),t).length}return o&&(e=o[0],t=o[1]),i.domain(us(n,t>1?{floor:function(t){for(;s(t=e.floor(t));)t=Zl(t-1);return t},ceil:function(t){for(;s(t=e.ceil(t));)t=Zl(+t+1);return t}}:e))},i.ticks=function(e,t){var n=os(i.domain()),r=null==e?a(n,10):"number"===typeof e?a(n,e):!e.range&&[{range:e},t];return r&&(e=r[0],t=r[1]),e.range(n[0],Zl(+n[1]+1),t<1?1:t)},i.tickFormat=function(){return r},i.copy=function(){return Yl(e.copy(),n,r)},ps(i,e)}function Zl(e){return new Date(e)}ql.iso=Date.prototype.toISOString&&+new Date("2000-01-01T00:00:00.000Z")?Xl:Gl,Xl.parse=function(e){var t=new Date(e);return isNaN(t)?null:t},Xl.toString=Gl.toString,Wt.second=Zt((function(e){return new Gt(1e3*Math.floor(e/1e3))}),(function(e,t){e.setTime(e.getTime()+1e3*Math.floor(t))}),(function(e){return e.getSeconds()})),Wt.seconds=Wt.second.range,Wt.seconds.utc=Wt.second.utc.range,Wt.minute=Zt((function(e){return new Gt(6e4*Math.floor(e/6e4))}),(function(e,t){e.setTime(e.getTime()+6e4*Math.floor(t))}),(function(e){return e.getMinutes()})),Wt.minutes=Wt.minute.range,Wt.minutes.utc=Wt.minute.utc.range,Wt.hour=Zt((function(e){var t=e.getTimezoneOffset()/60;return new Gt(36e5*(Math.floor(e/36e5-t)+t))}),(function(e,t){e.setTime(e.getTime()+36e5*Math.floor(t))}),(function(e){return e.getHours()})),Wt.hours=Wt.hour.range,Wt.hours.utc=Wt.hour.utc.range,Wt.month=Zt((function(e){return(e=Wt.day(e)).setDate(1),e}),(function(e,t){e.setMonth(e.getMonth()+t)}),(function(e){return e.getMonth()})),Wt.months=Wt.month.range,Wt.months.utc=Wt.month.utc.range;var $l=[1e3,5e3,15e3,3e4,6e4,3e5,9e5,18e5,36e5,108e5,216e5,432e5,864e5,1728e5,6048e5,2592e6,7776e6,31536e6],Kl=[[Wt.second,1],[Wt.second,5],[Wt.second,15],[Wt.second,30],[Wt.minute,1],[Wt.minute,5],[Wt.minute,15],[Wt.minute,30],[Wt.hour,1],[Wt.hour,3],[Wt.hour,6],[Wt.hour,12],[Wt.day,1],[Wt.day,2],[Wt.week,1],[Wt.month,1],[Wt.month,3],[Wt.year,1]],Ql=ql.multi([[".%L",function(e){return e.getMilliseconds()}],[":%S",function(e){return e.getSeconds()}],["%I:%M",function(e){return e.getMinutes()}],["%I %p",function(e){return e.getHours()}],["%a %d",function(e){return e.getDay()&&1!=e.getDate()}],["%b %d",function(e){return 1!=e.getDate()}],["%B",function(e){return e.getMonth()}],["%Y",sr]]),Jl={range:function(e,n,r){return t.range(Math.ceil(e/r)*r,+n,r).map(Zl)},floor:P,ceil:P};Kl.year=Wt.year,Wt.scale=function(){return Yl(t.scale.linear(),Kl,Ql)};var eu=Kl.map((function(e){return[e[0].utc,e[1]]})),tu=Wl.multi([[".%L",function(e){return e.getUTCMilliseconds()}],[":%S",function(e){return e.getUTCSeconds()}],["%I:%M",function(e){return e.getUTCMinutes()}],["%I %p",function(e){return e.getUTCHours()}],["%a %d",function(e){return e.getUTCDay()&&1!=e.getUTCDate()}],["%b %d",function(e){return 1!=e.getUTCDate()}],["%B",function(e){return e.getUTCMonth()}],["%Y",sr]]);function nu(e){return JSON.parse(e.responseText)}function ru(e){var t=a.createRange();return t.selectNode(a.body),t.createContextualFragment(e.responseText)}eu.year=Wt.year.utc,Wt.scale.utc=function(){return Yl(t.scale.linear(),eu,tu)},t.text=Tt((function(e){return e.responseText})),t.json=function(e,t){return At(e,"application/json",nu,t)},t.html=function(e,t){return At(e,"text/html",ru,t)},t.xml=Tt((function(e){return e.responseXML})),"function"===typeof e&&e.amd?(this.d3=t,e(t)):"object"===typeof n&&n.exports?n.exports=t:this.d3=t}()},{}],83:[function(e,t,n){t.exports=function(){for(var e=0;e<arguments.length;e++)if(void 0!==arguments[e])return arguments[e]}},{}],84:[function(e,t,n){"use strict";var r=e("incremental-convex-hull"),i=e("uniq");function a(e,t){this.point=e,this.index=t}function o(e,t){for(var n=e.point,r=t.point,i=n.length,a=0;a<i;++a){var o=r[a]-n[a];if(o)return o}return 0}function s(e,t,n){if(1===e)return n?[[-1,0]]:[];var r=t.map((function(e,t){return[e[0],t]}));r.sort((function(e,t){return e[0]-t[0]}));for(var i=new Array(e-1),a=1;a<e;++a){var o=r[a-1],s=r[a];i[a-1]=[o[1],s[1]]}return n&&i.push([-1,i[0][1]],[i[e-1][1],-1]),i}function l(e,t){var n=e.length;if(0===n)return[];var l=e[0].length;if(l<1)return[];if(1===l)return s(n,e,t);for(var u=new Array(n),c=1,f=0;f<n;++f){for(var d=e[f],h=new Array(l+1),p=0,g=0;g<l;++g){var v=d[g];h[g]=v,p+=v*v}h[l]=p,u[f]=new a(h,f),c=Math.max(p,c)}i(u,o),n=u.length;var m=new Array(n+l+1),y=new Array(n+l+1),b=(l+1)*(l+1)*c,x=new Array(l+1);for(f=0;f<=l;++f)x[f]=0;for(x[l]=b,m[0]=x.slice(),y[0]=-1,f=0;f<=l;++f)(h=x.slice())[f]=1,m[f+1]=h,y[f+1]=-1;for(f=0;f<n;++f){var _=u[f];m[f+l+1]=_.point,y[f+l+1]=_.index}var w=r(m,!1);if(w=t?w.filter((function(e){for(var t=0,n=0;n<=l;++n){var r=y[e[n]];if(r<0&&++t>=2)return!1;e[n]=r}return!0})):w.filter((function(e){for(var t=0;t<=l;++t){var n=y[e[t]];if(n<0)return!1;e[t]=n}return!0})),1&l)for(f=0;f<w.length;++f)h=(_=w[f])[0],_[0]=_[1],_[1]=h;return w}t.exports=l},{"incremental-convex-hull":270,uniq:368}],85:[function(e,t,n){(function(e){(function(){var n=!1;if("undefined"!==typeof Float64Array){var r=new Float64Array(1),i=new Uint32Array(r.buffer);if(r[0]=1,n=!0,1072693248===i[1]){var a=function(e,t){return i[0]=e,i[1]=t,r[0]},o=function(e){return r[0]=e,i[0]},s=function(e){return r[0]=e,i[1]};t.exports=function(e){return r[0]=e,[i[0],i[1]]},t.exports.pack=a,t.exports.lo=o,t.exports.hi=s}else if(1072693248===i[0]){var l=function(e,t){return i[1]=e,i[0]=t,r[0]},u=function(e){return r[0]=e,i[1]},c=function(e){return r[0]=e,i[0]};t.exports=function(e){return r[0]=e,[i[1],i[0]]},t.exports.pack=l,t.exports.lo=u,t.exports.hi=c}else n=!1}if(!n){var f=function(e,t){return p.writeUInt32LE(e,0,!0),p.writeUInt32LE(t,4,!0),p.readDoubleLE(0,!0)},d=function(e){return p.writeDoubleLE(e,0,!0),p.readUInt32LE(0,!0)},h=function(e){return p.writeDoubleLE(e,0,!0),p.readUInt32LE(4,!0)},p=new e(8);t.exports=function(e){return p.writeDoubleLE(e,0,!0),[p.readUInt32LE(0,!0),p.readUInt32LE(4,!0)]},t.exports.pack=f,t.exports.lo=d,t.exports.hi=h}t.exports.sign=function(e){return t.exports.hi(e)>>>31},t.exports.exponent=function(e){return(t.exports.hi(e)<<1>>>21)-1023},t.exports.fraction=function(e){var n=t.exports.lo(e),r=t.exports.hi(e),i=1048575&r;return 2146435072&r&&(i+=1<<20),[n,i]},t.exports.denormalized=function(e){return!(2146435072&t.exports.hi(e))}}).call(this)}).call(this,e("buffer").Buffer)},{buffer:49}],86:[function(e,t,n){t.exports=function(e){switch(e){case"int8":return Int8Array;case"int16":return Int16Array;case"int32":return Int32Array;case"uint8":return Uint8Array;case"uint16":return Uint16Array;case"uint32":return Uint32Array;case"float32":return Float32Array;case"float64":return Float64Array;case"array":return Array;case"uint8_clamped":return Uint8ClampedArray}}},{}],87:[function(e,t,n){"use strict";function r(e,t,n){var i=0|e[n];if(i<=0)return[];var a,o=new Array(i);if(n===e.length-1)for(a=0;a<i;++a)o[a]=t;else for(a=0;a<i;++a)o[a]=r(e,t,n+1);return o}function i(e,t){var n,r;for(n=new Array(e),r=0;r<e;++r)n[r]=t;return n}function a(e,t){switch("undefined"===typeof t&&(t=0),typeof e){case"number":if(e>0)return i(0|e,t);break;case"object":if("number"===typeof e.length)return r(e,t,0)}return[]}t.exports=a},{}],88:[function(e,t,n){"use strict";t.exports=i;var r=e("uniq");function i(e,t){var n=e.length;if("number"!==typeof t){t=0;for(var i=0;i<n;++i){var a=e[i];t=Math.max(t,a[0],a[1])}t=1+(0|t)}t|=0;var o=new Array(t);for(i=0;i<t;++i)o[i]=[];for(i=0;i<n;++i)o[(a=e[i])[0]].push(a[1]),o[a[1]].push(a[0]);for(var s=0;s<t;++s)r(o[s],(function(e,t){return e-t}));return o}},{uniq:368}],89:[function(n,r,i){(function(t,a){(function(){!function(t,n){"object"===typeof i&&"undefined"!==typeof r?r.exports=n():"function"===typeof e&&e.amd?e(n):t.ES6Promise=n()}(this,(function(){"use strict";function e(e){var t=typeof e;return null!==e&&("object"===t||"function"===t)}function r(e){return"function"===typeof e}var i=Array.isArray?Array.isArray:function(e){return"[object Array]"===Object.prototype.toString.call(e)},o=0,s=void 0,l=void 0,u=function(e,t){w[o]=e,w[o+1]=t,2===(o+=2)&&(l?l(k):T())};function c(e){l=e}function f(e){u=e}var d="undefined"!==typeof window?window:void 0,h=d||{},p=h.MutationObserver||h.WebKitMutationObserver,g="undefined"===typeof self&&"undefined"!==typeof t&&"[object process]"==={}.toString.call(t),v="undefined"!==typeof Uint8ClampedArray&&"undefined"!==typeof importScripts&&"undefined"!==typeof MessageChannel;function m(){return function(){return t.nextTick(k)}}function y(){return"undefined"!==typeof s?function(){s(k)}:_()}function b(){var e=0,t=new p(k),n=document.createTextNode("");return t.observe(n,{characterData:!0}),function(){n.data=e=++e%2}}function x(){var e=new MessageChannel;return e.port1.onmessage=k,function(){return e.port2.postMessage(0)}}function _(){var e=setTimeout;return function(){return e(k,1)}}var w=new Array(1e3);function k(){for(var e=0;e<o;e+=2)(0,w[e])(w[e+1]),w[e]=void 0,w[e+1]=void 0;o=0}function M(){try{var e=Function("return this")().require("vertx");return s=e.runOnLoop||e.runOnContext,y()}catch(t){return _()}}var T=void 0;function A(e,t){var n=this,r=new this.constructor(O);void 0===r[S]&&Z(r);var i=n._state;if(i){var a=arguments[i-1];u((function(){return W(i,r,a,n._result)}))}else H(n,r,e,t);return r}function E(e){var t=this;if(e&&"object"===typeof e&&e.constructor===t)return e;var n=new t(O);return F(n,e),n}T=g?m():p?b():v?x():void 0===d&&"function"===typeof n?M():_();var S=Math.random().toString(36).substring(2);function O(){}var C=void 0,L=1,R=2;function P(){return new TypeError("You cannot resolve a promise with itself")}function j(){return new TypeError("A promises callback cannot return that same promise.")}function z(e,t,n,r){try{e.call(t,n,r)}catch(i){return i}}function I(e,t,n){u((function(e){var r=!1,i=z(n,t,(function(n){r||(r=!0,t!==n?F(e,n):U(e,n))}),(function(t){r||(r=!0,V(e,t))}),"Settle: "+(e._label||" unknown promise"));!r&&i&&(r=!0,V(e,i))}),e)}function N(e,t){t._state===L?U(e,t._result):t._state===R?V(e,t._result):H(t,void 0,(function(t){return F(e,t)}),(function(t){return V(e,t)}))}function D(e,t,n){t.constructor===e.constructor&&n===A&&t.constructor.resolve===E?N(e,t):void 0===n?U(e,t):r(n)?I(e,t,n):U(e,t)}function F(t,n){if(t===n)V(t,P());else if(e(n)){var r=void 0;try{r=n.then}catch(i){return void V(t,i)}D(t,n,r)}else U(t,n)}function B(e){e._onerror&&e._onerror(e._result),q(e)}function U(e,t){e._state===C&&(e._result=t,e._state=L,0!==e._subscribers.length&&u(q,e))}function V(e,t){e._state===C&&(e._state=R,e._result=t,u(B,e))}function H(e,t,n,r){var i=e._subscribers,a=i.length;e._onerror=null,i[a]=t,i[a+L]=n,i[a+R]=r,0===a&&e._state&&u(q,e)}function q(e){var t=e._subscribers,n=e._state;if(0!==t.length){for(var r=void 0,i=void 0,a=e._result,o=0;o<t.length;o+=3)r=t[o],i=t[o+n],r?W(n,r,i,a):i(a);e._subscribers.length=0}}function W(e,t,n,i){var a=r(n),o=void 0,s=void 0,l=!0;if(a){try{o=n(i)}catch(u){l=!1,s=u}if(t===o)return void V(t,j())}else o=i;t._state!==C||(a&&l?F(t,o):!1===l?V(t,s):e===L?U(t,o):e===R&&V(t,o))}function G(e,t){try{t((function(t){F(e,t)}),(function(t){V(e,t)}))}catch(n){V(e,n)}}var X=0;function Y(){return X++}function Z(e){e[S]=X++,e._state=void 0,e._result=void 0,e._subscribers=[]}function $(){return new Error("Array Methods must be provided an Array")}var K=function(){function e(e,t){this._instanceConstructor=e,this.promise=new e(O),this.promise[S]||Z(this.promise),i(t)?(this.length=t.length,this._remaining=t.length,this._result=new Array(this.length),0===this.length?U(this.promise,this._result):(this.length=this.length||0,this._enumerate(t),0===this._remaining&&U(this.promise,this._result))):V(this.promise,$())}return e.prototype._enumerate=function(e){for(var t=0;this._state===C&&t<e.length;t++)this._eachEntry(e[t],t)},e.prototype._eachEntry=function(e,t){var n=this._instanceConstructor,r=n.resolve;if(r===E){var i=void 0,a=void 0,o=!1;try{i=e.then}catch(l){o=!0,a=l}if(i===A&&e._state!==C)this._settledAt(e._state,t,e._result);else if("function"!==typeof i)this._remaining--,this._result[t]=e;else if(n===re){var s=new n(O);o?V(s,a):D(s,e,i),this._willSettleAt(s,t)}else this._willSettleAt(new n((function(t){return t(e)})),t)}else this._willSettleAt(r(e),t)},e.prototype._settledAt=function(e,t,n){var r=this.promise;r._state===C&&(this._remaining--,e===R?V(r,n):this._result[t]=n),0===this._remaining&&U(r,this._result)},e.prototype._willSettleAt=function(e,t){var n=this;H(e,void 0,(function(e){return n._settledAt(L,t,e)}),(function(e){return n._settledAt(R,t,e)}))},e}();function Q(e){return new K(this,e).promise}function J(e){var t=this;return i(e)?new t((function(n,r){for(var i=e.length,a=0;a<i;a++)t.resolve(e[a]).then(n,r)})):new t((function(e,t){return t(new TypeError("You must pass an array to race."))}))}function ee(e){var t=new this(O);return V(t,e),t}function te(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}function ne(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}var re=function(){function e(t){this[S]=Y(),this._result=this._state=void 0,this._subscribers=[],O!==t&&("function"!==typeof t&&te(),this instanceof e?G(this,t):ne())}return e.prototype.catch=function(e){return this.then(null,e)},e.prototype.finally=function(e){var t=this,n=t.constructor;return r(e)?t.then((function(t){return n.resolve(e()).then((function(){return t}))}),(function(t){return n.resolve(e()).then((function(){throw t}))})):t.then(e,e)},e}();function ie(){var e=void 0;if("undefined"!==typeof a)e=a;else if("undefined"!==typeof self)e=self;else try{e=Function("return this")()}catch(r){throw new Error("polyfill failed because global object is unavailable in this environment")}var t=e.Promise;if(t){var n=null;try{n=Object.prototype.toString.call(t.resolve())}catch(r){}if("[object Promise]"===n&&!t.cast)return}e.Promise=re}return re.prototype.then=A,re.all=Q,re.race=J,re.resolve=E,re.reject=ee,re._setScheduler=c,re._setAsap=f,re._asap=u,re.polyfill=ie,re.Promise=re,re}))}).call(this)}).call(this,n("_process"),"undefined"!==typeof t?t:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})},{_process:325}],90:[function(e,t,n){"use strict";function r(e,t,n){var r=t||0,i=n||1;return[[e[12]+e[0],e[13]+e[1],e[14]+e[2],e[15]+e[3]],[e[12]-e[0],e[13]-e[1],e[14]-e[2],e[15]-e[3]],[e[12]+e[4],e[13]+e[5],e[14]+e[6],e[15]+e[7]],[e[12]-e[4],e[13]-e[5],e[14]-e[6],e[15]-e[7]],[r*e[12]+e[8],r*e[13]+e[9],r*e[14]+e[10],r*e[15]+e[11]],[i*e[12]-e[8],i*e[13]-e[9],i*e[14]-e[10],i*e[15]-e[11]]]}t.exports=r},{}],91:[function(e,t,n){"use strict";var r=e("is-string-blank");t.exports=function(e){var t=typeof e;if("string"===t){var n=e;if(0===(e=+e)&&r(n))return!1}else if("number"!==t)return!1;return e-e<1}},{"is-string-blank":279}],92:[function(e,t,n){"use strict";t.exports=u;var r=e("cubic-hermite"),i=e("binary-search-bounds");function a(e,t,n){return Math.min(t,Math.max(e,n))}function o(e,t,n){this.dimension=e.length,this.bounds=[new Array(this.dimension),new Array(this.dimension)];for(var r=0;r<this.dimension;++r)this.bounds[0][r]=-1/0,this.bounds[1][r]=1/0;this._state=e.slice().reverse(),this._velocity=t.slice().reverse(),this._time=[n],this._scratch=[e.slice(),e.slice(),e.slice(),e.slice(),e.slice()]}var s=o.prototype;function l(e){for(var t=new Array(e),n=0;n<e;++n)t[n]=0;return t}function u(e,t,n){switch(arguments.length){case 0:return new o([0],[0],0);case 1:return"number"===typeof e?new o(r=l(e),r,0):new o(e,l(e.length),0);case 2:var r;if("number"===typeof t)return new o(e,r=l(e.length),+t);n=0;case 3:if(e.length!==t.length)throw new Error("state and velocity lengths must match");return new o(e,t,n)}}s.flush=function(e){var t=i.gt(this._time,e)-1;t<=0||(this._time.splice(0,t),this._state.splice(0,t*this.dimension),this._velocity.splice(0,t*this.dimension))},s.curve=function(e){var t=this._time,n=t.length,o=i.le(t,e),s=this._scratch[0],l=this._state,u=this._velocity,c=this.dimension,f=this.bounds;if(o<0)for(var d=c-1,h=0;h<c;++h,--d)s[h]=l[d];else if(o>=n-1){d=l.length-1;var p=e-t[n-1];for(h=0;h<c;++h,--d)s[h]=l[d]+p*u[d]}else{d=c*(o+1)-1;var g=t[o],v=t[o+1]-g||1,m=this._scratch[1],y=this._scratch[2],b=this._scratch[3],x=this._scratch[4],_=!0;for(h=0;h<c;++h,--d)m[h]=l[d],b[h]=u[d]*v,y[h]=l[d+c],x[h]=u[d+c]*v,_=_&&m[h]===y[h]&&b[h]===x[h]&&0===b[h];if(_)for(h=0;h<c;++h)s[h]=m[h];else r(m,b,y,x,(e-g)/v,s)}var w=f[0],k=f[1];for(h=0;h<c;++h)s[h]=a(w[h],k[h],s[h]);return s},s.dcurve=function(e){var t=this._time,n=t.length,a=i.le(t,e),o=this._scratch[0],s=this._state,l=this._velocity,u=this.dimension;if(a>=n-1)for(var c=s.length-1,f=(t[n-1],0);f<u;++f,--c)o[f]=l[c];else{c=u*(a+1)-1;var d=t[a],h=t[a+1]-d||1,p=this._scratch[1],g=this._scratch[2],v=this._scratch[3],m=this._scratch[4],y=!0;for(f=0;f<u;++f,--c)p[f]=s[c],v[f]=l[c]*h,g[f]=s[c+u],m[f]=l[c+u]*h,y=y&&p[f]===g[f]&&v[f]===m[f]&&0===v[f];if(y)for(f=0;f<u;++f)o[f]=0;else for(r.derivative(p,v,g,m,(e-d)/h,o),f=0;f<u;++f)o[f]/=h}return o},s.lastT=function(){var e=this._time;return e[e.length-1]},s.stable=function(){for(var e=this._velocity,t=e.length,n=this.dimension-1;n>=0;--n)if(e[--t])return!1;return!0},s.jump=function(e){var t=this.lastT(),n=this.dimension;if(!(e<t||arguments.length!==n+1)){var r=this._state,i=this._velocity,o=r.length-this.dimension,s=this.bounds,l=s[0],u=s[1];this._time.push(t,e);for(var c=0;c<2;++c)for(var f=0;f<n;++f)r.push(r[o++]),i.push(0);for(this._time.push(e),f=n;f>0;--f)r.push(a(l[f-1],u[f-1],arguments[f])),i.push(0)}},s.push=function(e){var t=this.lastT(),n=this.dimension;if(!(e<t||arguments.length!==n+1)){var r=this._state,i=this._velocity,o=r.length-this.dimension,s=e-t,l=this.bounds,u=l[0],c=l[1],f=s>1e-6?1/s:0;this._time.push(e);for(var d=n;d>0;--d){var h=a(u[d-1],c[d-1],arguments[d]);r.push(h),i.push((h-r[o++])*f)}}},s.set=function(e){var t=this.dimension;if(!(e<this.lastT()||arguments.length!==t+1)){var n=this._state,r=this._velocity,i=this.bounds,o=i[0],s=i[1];this._time.push(e);for(var l=t;l>0;--l)n.push(a(o[l-1],s[l-1],arguments[l])),r.push(0)}},s.move=function(e){var t=this.lastT(),n=this.dimension;if(!(e<=t||arguments.length!==n+1)){var r=this._state,i=this._velocity,o=r.length-this.dimension,s=this.bounds,l=s[0],u=s[1],c=e-t,f=c>1e-6?1/c:0;this._time.push(e);for(var d=n;d>0;--d){var h=arguments[d];r.push(a(l[d-1],u[d-1],r[o++]+h)),i.push(h*f)}}},s.idle=function(e){var t=this.lastT();if(!(e<t)){var n=this.dimension,r=this._state,i=this._velocity,o=r.length-n,s=this.bounds,l=s[0],u=s[1],c=e-t;this._time.push(e);for(var f=n-1;f>=0;--f)r.push(a(l[f],u[f],r[o]+c*i[o])),i.push(0),o+=1}}},{"binary-search-bounds":93,"cubic-hermite":76}],93:[function(e,t,n){"use strict";function r(e,t,n,r,i,a){var o=["function ",e,"(a,l,h,",r.join(","),"){",a?"":"var i=",n?"l-1":"h+1",";while(l<=h){var m=(l+h)>>>1,x=a",i?".get(m)":"[m]"];return a?t.indexOf("c")<0?o.push(";if(x===y){return m}else if(x<=y){"):o.push(";var p=c(x,y);if(p===0){return m}else if(p<=0){"):o.push(";if(",t,"){i=m;"),n?o.push("l=m+1}else{h=m-1}"):o.push("h=m-1}else{l=m+1}"),o.push("}"),a?o.push("return -1};"):o.push("return i};"),o.join("")}function i(e,t,n,i){return new Function([r("A","x"+e+"y",t,["y"],!1,i),r("B","x"+e+"y",t,["y"],!0,i),r("P","c(x,y)"+e+"0",t,["y","c"],!1,i),r("Q","c(x,y)"+e+"0",t,["y","c"],!0,i),"function dispatchBsearch",n,"(a,y,c,l,h){if(a.shape){if(typeof(c)==='function'){return Q(a,(l===undefined)?0:l|0,(h===undefined)?a.shape[0]-1:h|0,y,c)}else{return B(a,(c===undefined)?0:c|0,(l===undefined)?a.shape[0]-1:l|0,y)}}else{if(typeof(c)==='function'){return P(a,(l===undefined)?0:l|0,(h===undefined)?a.length-1:h|0,y,c)}else{return A(a,(c===undefined)?0:c|0,(l===undefined)?a.length-1:l|0,y)}}}return dispatchBsearch",n].join(""))()}t.exports={ge:i(">=",!1,"GE"),gt:i(">",!1,"GT"),lt:i("<",!0,"LT"),le:i("<=",!0,"LE"),eq:i("-",!0,"EQ",!0)}},{}],94:[function(e,t,n){"use strict";t.exports=b;var r=0,i=1;function a(e,t,n,r,i,a){this._color=e,this.key=t,this.value=n,this.left=r,this.right=i,this._count=a}function o(e){return new a(e._color,e.key,e.value,e.left,e.right,e._count)}function s(e,t){return new a(e,t.key,t.value,t.left,t.right,t._count)}function l(e){e._count=1+(e.left?e.left._count:0)+(e.right?e.right._count:0)}function u(e,t){this._compare=e,this.root=t}var c=u.prototype;function f(e,t){var n;return t.left&&(n=f(e,t.left))?n:(n=e(t.key,t.value))||(t.right?f(e,t.right):void 0)}function d(e,t,n,r){if(t(e,r.key)<=0){var i;if(r.left&&(i=d(e,t,n,r.left)))return i;if(i=n(r.key,r.value))return i}if(r.right)return d(e,t,n,r.right)}function h(e,t,n,r,i){var a,o=n(e,i.key),s=n(t,i.key);if(o<=0){if(i.left&&(a=h(e,t,n,r,i.left)))return a;if(s>0&&(a=r(i.key,i.value)))return a}if(s>0&&i.right)return h(e,t,n,r,i.right)}function p(e,t){this.tree=e,this._stack=t}Object.defineProperty(c,"keys",{get:function(){var e=[];return this.forEach((function(t,n){e.push(t)})),e}}),Object.defineProperty(c,"values",{get:function(){var e=[];return this.forEach((function(t,n){e.push(n)})),e}}),Object.defineProperty(c,"length",{get:function(){return this.root?this.root._count:0}}),c.insert=function(e,t){for(var n=this._compare,o=this.root,c=[],f=[];o;){var d=n(e,o.key);c.push(o),f.push(d),o=d<=0?o.left:o.right}c.push(new a(r,e,t,null,null,1));for(var h=c.length-2;h>=0;--h)o=c[h],f[h]<=0?c[h]=new a(o._color,o.key,o.value,c[h+1],o.right,o._count+1):c[h]=new a(o._color,o.key,o.value,o.left,c[h+1],o._count+1);for(h=c.length-1;h>1;--h){var p=c[h-1];if(o=c[h],p._color===i||o._color===i)break;var g=c[h-2];if(g.left===p)if(p.left===o){if(!(v=g.right)||v._color!==r){g._color=r,g.left=p.right,p._color=i,p.right=g,c[h-2]=p,c[h-1]=o,l(g),l(p),h>=3&&((m=c[h-3]).left===g?m.left=p:m.right=p);break}p._color=i,g.right=s(i,v),g._color=r,h-=1}else{if(!(v=g.right)||v._color!==r){p.right=o.left,g._color=r,g.left=o.right,o._color=i,o.left=p,o.right=g,c[h-2]=o,c[h-1]=p,l(g),l(p),l(o),h>=3&&((m=c[h-3]).left===g?m.left=o:m.right=o);break}p._color=i,g.right=s(i,v),g._color=r,h-=1}else if(p.right===o){if(!(v=g.left)||v._color!==r){g._color=r,g.right=p.left,p._color=i,p.left=g,c[h-2]=p,c[h-1]=o,l(g),l(p),h>=3&&((m=c[h-3]).right===g?m.right=p:m.left=p);break}p._color=i,g.left=s(i,v),g._color=r,h-=1}else{var v;if(!(v=g.left)||v._color!==r){var m;p.left=o.right,g._color=r,g.right=o.left,o._color=i,o.right=p,o.left=g,c[h-2]=o,c[h-1]=p,l(g),l(p),l(o),h>=3&&((m=c[h-3]).right===g?m.right=o:m.left=o);break}p._color=i,g.left=s(i,v),g._color=r,h-=1}}return c[0]._color=i,new u(n,c[0])},c.forEach=function(e,t,n){if(this.root)switch(arguments.length){case 1:return f(e,this.root);case 2:return d(t,this._compare,e,this.root);case 3:if(this._compare(t,n)>=0)return;return h(t,n,this._compare,e,this.root)}},Object.defineProperty(c,"begin",{get:function(){for(var e=[],t=this.root;t;)e.push(t),t=t.left;return new p(this,e)}}),Object.defineProperty(c,"end",{get:function(){for(var e=[],t=this.root;t;)e.push(t),t=t.right;return new p(this,e)}}),c.at=function(e){if(e<0)return new p(this,[]);for(var t=this.root,n=[];;){if(n.push(t),t.left){if(e<t.left._count){t=t.left;continue}e-=t.left._count}if(!e)return new p(this,n);if(e-=1,!t.right)break;if(e>=t.right._count)break;t=t.right}return new p(this,[])},c.ge=function(e){for(var t=this._compare,n=this.root,r=[],i=0;n;){var a=t(e,n.key);r.push(n),a<=0&&(i=r.length),n=a<=0?n.left:n.right}return r.length=i,new p(this,r)},c.gt=function(e){for(var t=this._compare,n=this.root,r=[],i=0;n;){var a=t(e,n.key);r.push(n),a<0&&(i=r.length),n=a<0?n.left:n.right}return r.length=i,new p(this,r)},c.lt=function(e){for(var t=this._compare,n=this.root,r=[],i=0;n;){var a=t(e,n.key);r.push(n),a>0&&(i=r.length),n=a<=0?n.left:n.right}return r.length=i,new p(this,r)},c.le=function(e){for(var t=this._compare,n=this.root,r=[],i=0;n;){var a=t(e,n.key);r.push(n),a>=0&&(i=r.length),n=a<0?n.left:n.right}return r.length=i,new p(this,r)},c.find=function(e){for(var t=this._compare,n=this.root,r=[];n;){var i=t(e,n.key);if(r.push(n),0===i)return new p(this,r);n=i<=0?n.left:n.right}return new p(this,[])},c.remove=function(e){var t=this.find(e);return t?t.remove():this},c.get=function(e){for(var t=this._compare,n=this.root;n;){var r=t(e,n.key);if(0===r)return n.value;n=r<=0?n.left:n.right}};var g=p.prototype;function v(e,t){e.key=t.key,e.value=t.value,e.left=t.left,e.right=t.right,e._color=t._color,e._count=t._count}function m(e){for(var t,n,a,u,c=e.length-1;c>=0;--c){if(t=e[c],0===c)return void(t._color=i);if((n=e[c-1]).left===t){if((a=n.right).right&&a.right._color===r)return u=(a=n.right=o(a)).right=o(a.right),n.right=a.left,a.left=n,a.right=u,a._color=n._color,t._color=i,n._color=i,u._color=i,l(n),l(a),c>1&&((f=e[c-2]).left===n?f.left=a:f.right=a),void(e[c-1]=a);if(a.left&&a.left._color===r)return u=(a=n.right=o(a)).left=o(a.left),n.right=u.left,a.left=u.right,u.left=n,u.right=a,u._color=n._color,n._color=i,a._color=i,t._color=i,l(n),l(a),l(u),c>1&&((f=e[c-2]).left===n?f.left=u:f.right=u),void(e[c-1]=u);if(a._color===i){if(n._color===r)return n._color=i,void(n.right=s(r,a));n.right=s(r,a);continue}a=o(a),n.right=a.left,a.left=n,a._color=n._color,n._color=r,l(n),l(a),c>1&&((f=e[c-2]).left===n?f.left=a:f.right=a),e[c-1]=a,e[c]=n,c+1<e.length?e[c+1]=t:e.push(t),c+=2}else{if((a=n.left).left&&a.left._color===r)return u=(a=n.left=o(a)).left=o(a.left),n.left=a.right,a.right=n,a.left=u,a._color=n._color,t._color=i,n._color=i,u._color=i,l(n),l(a),c>1&&((f=e[c-2]).right===n?f.right=a:f.left=a),void(e[c-1]=a);if(a.right&&a.right._color===r)return u=(a=n.left=o(a)).right=o(a.right),n.left=u.right,a.right=u.left,u.right=n,u.left=a,u._color=n._color,n._color=i,a._color=i,t._color=i,l(n),l(a),l(u),c>1&&((f=e[c-2]).right===n?f.right=u:f.left=u),void(e[c-1]=u);if(a._color===i){if(n._color===r)return n._color=i,void(n.left=s(r,a));n.left=s(r,a);continue}var f;a=o(a),n.left=a.right,a.right=n,a._color=n._color,n._color=r,l(n),l(a),c>1&&((f=e[c-2]).right===n?f.right=a:f.left=a),e[c-1]=a,e[c]=n,c+1<e.length?e[c+1]=t:e.push(t),c+=2}}}function y(e,t){return e<t?-1:e>t?1:0}function b(e){return new u(e||y,null)}Object.defineProperty(g,"valid",{get:function(){return this._stack.length>0}}),Object.defineProperty(g,"node",{get:function(){return this._stack.length>0?this._stack[this._stack.length-1]:null},enumerable:!0}),g.clone=function(){return new p(this.tree,this._stack.slice())},g.remove=function(){var e=this._stack;if(0===e.length)return this.tree;var t=new Array(e.length),n=e[e.length-1];t[t.length-1]=new a(n._color,n.key,n.value,n.left,n.right,n._count);for(var o=e.length-2;o>=0;--o)(n=e[o]).left===e[o+1]?t[o]=new a(n._color,n.key,n.value,t[o+1],n.right,n._count):t[o]=new a(n._color,n.key,n.value,n.left,t[o+1],n._count);if((n=t[t.length-1]).left&&n.right){var s=t.length;for(n=n.left;n.right;)t.push(n),n=n.right;var l=t[s-1];for(t.push(new a(n._color,l.key,l.value,n.left,n.right,n._count)),t[s-1].key=n.key,t[s-1].value=n.value,o=t.length-2;o>=s;--o)n=t[o],t[o]=new a(n._color,n.key,n.value,n.left,t[o+1],n._count);t[s-1].left=t[s]}if((n=t[t.length-1])._color===r){var c=t[t.length-2];for(c.left===n?c.left=null:c.right===n&&(c.right=null),t.pop(),o=0;o<t.length;++o)t[o]._count--;return new u(this.tree._compare,t[0])}if(n.left||n.right){for(n.left?v(n,n.left):n.right&&v(n,n.right),n._color=i,o=0;o<t.length-1;++o)t[o]._count--;return new u(this.tree._compare,t[0])}if(1===t.length)return new u(this.tree._compare,null);for(o=0;o<t.length;++o)t[o]._count--;var f=t[t.length-2];return m(t),f.left===n?f.left=null:f.right=null,new u(this.tree._compare,t[0])},Object.defineProperty(g,"key",{get:function(){if(this._stack.length>0)return this._stack[this._stack.length-1].key},enumerable:!0}),Object.defineProperty(g,"value",{get:function(){if(this._stack.length>0)return this._stack[this._stack.length-1].value},enumerable:!0}),Object.defineProperty(g,"index",{get:function(){var e=0,t=this._stack;if(0===t.length){var n=this.tree.root;return n?n._count:0}t[t.length-1].left&&(e=t[t.length-1].left._count);for(var r=t.length-2;r>=0;--r)t[r+1]===t[r].right&&(++e,t[r].left&&(e+=t[r].left._count));return e},enumerable:!0}),g.next=function(){var e=this._stack;if(0!==e.length){var t=e[e.length-1];if(t.right)for(t=t.right;t;)e.push(t),t=t.left;else for(e.pop();e.length>0&&e[e.length-1].right===t;)t=e[e.length-1],e.pop()}},Object.defineProperty(g,"hasNext",{get:function(){var e=this._stack;if(0===e.length)return!1;if(e[e.length-1].right)return!0;for(var t=e.length-1;t>0;--t)if(e[t-1].left===e[t])return!0;return!1}}),g.update=function(e){var t=this._stack;if(0===t.length)throw new Error("Can't update empty node!");var n=new Array(t.length),r=t[t.length-1];n[n.length-1]=new a(r._color,r.key,e,r.left,r.right,r._count);for(var i=t.length-2;i>=0;--i)(r=t[i]).left===t[i+1]?n[i]=new a(r._color,r.key,r.value,n[i+1],r.right,r._count):n[i]=new a(r._color,r.key,r.value,r.left,n[i+1],r._count);return new u(this.tree._compare,n[0])},g.prev=function(){var e=this._stack;if(0!==e.length){var t=e[e.length-1];if(t.left)for(t=t.left;t;)e.push(t),t=t.right;else for(e.pop();e.length>0&&e[e.length-1].left===t;)t=e[e.length-1],e.pop()}},Object.defineProperty(g,"hasPrev",{get:function(){var e=this._stack;if(0===e.length)return!1;if(e[e.length-1].left)return!0;for(var t=e.length-1;t>0;--t)if(e[t-1].right===e[t])return!0;return!1}})},{}],95:[function(e,t,n){var r=7,i=[.9999999999998099,676.5203681218851,-1259.1392167224028,771.3234287776531,-176.6150291621406,12.507343278686905,-.13857109526572012,9984369578019572e-21,1.5056327351493116e-7],a=607/128,o=[.9999999999999971,57.15623566586292,-59.59796035547549,14.136097974741746,-.4919138160976202,3399464998481189e-20,4652362892704858e-20,-9837447530487956e-20,.0001580887032249125,-.00021026444172410488,.00021743961811521265,-.0001643181065367639,8441822398385275e-20,-26190838401581408e-21,36899182659531625e-22];function s(e){if(e<0)return Number("0/0");for(var t=o[0],n=o.length-1;n>0;--n)t+=o[n]/(e+n);var r=e+a+.5;return.5*Math.log(2*Math.PI)+(e+.5)*Math.log(r)-r+Math.log(t)-Math.log(e)}t.exports=function e(t){if(t<.5)return Math.PI/(Math.sin(Math.PI*t)*e(1-t));if(t>100)return Math.exp(s(t));t-=1;for(var n=i[0],a=1;a<r+2;a++)n+=i[a]/(t+a);var o=t+r+.5;return Math.sqrt(2*Math.PI)*Math.pow(o,t+.5)*Math.exp(-o)*n},t.exports.log=s},{}],96:[function(e,t,n){function r(e,t){if("string"!==typeof e)throw new TypeError("must specify type string");if(t=t||{},"undefined"===typeof document&&!t.canvas)return null;var n=t.canvas||document.createElement("canvas");"number"===typeof t.width&&(n.width=t.width),"number"===typeof t.height&&(n.height=t.height);var r,i=t;try{var a=[e];0===e.indexOf("webgl")&&a.push("experimental-"+e);for(var o=0;o<a.length;o++)if(r=n.getContext(a[o],i))return r}catch(s){r=null}return r||null}t.exports=r},{}],97:[function(e,t,n){"use strict";t.exports=_;var r=e("./lib/text.js"),i=e("./lib/lines.js"),a=e("./lib/background.js"),o=e("./lib/cube.js"),s=e("./lib/ticks.js"),l=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]);function u(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e}function c(e){this.gl=e,this.pixelRatio=1,this.bounds=[[-10,-10,-10],[10,10,10]],this.ticks=[[],[],[]],this.autoTicks=!0,this.tickSpacing=[1,1,1],this.tickEnable=[!0,!0,!0],this.tickFont=["sans-serif","sans-serif","sans-serif"],this.tickSize=[12,12,12],this.tickAngle=[0,0,0],this.tickAlign=["auto","auto","auto"],this.tickColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.tickPad=[10,10,10],this.lastCubeProps={cubeEdges:[0,0,0],axis:[0,0,0]},this.labels=["x","y","z"],this.labelEnable=[!0,!0,!0],this.labelFont="sans-serif",this.labelSize=[20,20,20],this.labelAngle=[0,0,0],this.labelAlign=["auto","auto","auto"],this.labelColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.labelPad=[10,10,10],this.lineEnable=[!0,!0,!0],this.lineMirror=[!1,!1,!1],this.lineWidth=[1,1,1],this.lineColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.lineTickEnable=[!0,!0,!0],this.lineTickMirror=[!1,!1,!1],this.lineTickLength=[0,0,0],this.lineTickWidth=[1,1,1],this.lineTickColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.gridEnable=[!0,!0,!0],this.gridWidth=[1,1,1],this.gridColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.zeroEnable=[!0,!0,!0],this.zeroLineColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.zeroLineWidth=[2,2,2],this.backgroundEnable=[!1,!1,!1],this.backgroundColor=[[.8,.8,.8,.5],[.8,.8,.8,.5],[.8,.8,.8,.5]],this._firstInit=!0,this._text=null,this._lines=null,this._background=a(e)}var f=c.prototype;function d(){this.primalOffset=[0,0,0],this.primalMinor=[0,0,0],this.mirrorOffset=[0,0,0],this.mirrorMinor=[0,0,0]}f.update=function(e){function t(t,n,r){if(r in e){var i,a=e[r],o=this[r];(t?Array.isArray(a)&&Array.isArray(a[0]):Array.isArray(a))?this[r]=i=[n(a[0]),n(a[1]),n(a[2])]:this[r]=i=[n(a),n(a),n(a)];for(var s=0;s<3;++s)if(i[s]!==o[s])return!0}return!1}e=e||{};var n,a=t.bind(this,!1,Number),o=t.bind(this,!1,Boolean),l=t.bind(this,!1,String),u=t.bind(this,!0,(function(e){if(Array.isArray(e)){if(3===e.length)return[+e[0],+e[1],+e[2],1];if(4===e.length)return[+e[0],+e[1],+e[2],+e[3]]}return[0,0,0,1]})),c=!1,f=!1;if("bounds"in e)for(var d=e.bounds,h=0;h<2;++h)for(var p=0;p<3;++p)d[h][p]!==this.bounds[h][p]&&(f=!0),this.bounds[h][p]=d[h][p];if("ticks"in e)for(n=e.ticks,c=!0,this.autoTicks=!1,h=0;h<3;++h)this.tickSpacing[h]=0;else a("tickSpacing")&&(this.autoTicks=!0,f=!0);if(this._firstInit&&("ticks"in e||"tickSpacing"in e||(this.autoTicks=!0),f=!0,c=!0,this._firstInit=!1),f&&this.autoTicks&&(n=s.create(this.bounds,this.tickSpacing),c=!0),c){for(h=0;h<3;++h)n[h].sort((function(e,t){return e.x-t.x}));s.equal(n,this.ticks)?c=!1:this.ticks=n}o("tickEnable"),l("tickFont")&&(c=!0),a("tickSize"),a("tickAngle"),a("tickPad"),u("tickColor");var g=l("labels");l("labelFont")&&(g=!0),o("labelEnable"),a("labelSize"),a("labelPad"),u("labelColor"),o("lineEnable"),o("lineMirror"),a("lineWidth"),u("lineColor"),o("lineTickEnable"),o("lineTickMirror"),a("lineTickLength"),a("lineTickWidth"),u("lineTickColor"),o("gridEnable"),a("gridWidth"),u("gridColor"),o("zeroEnable"),u("zeroLineColor"),a("zeroLineWidth"),o("backgroundEnable"),u("backgroundColor"),this._text?this._text&&(g||c)&&this._text.update(this.bounds,this.labels,this.labelFont,this.ticks,this.tickFont):this._text=r(this.gl,this.bounds,this.labels,this.labelFont,this.ticks,this.tickFont),this._lines&&c&&(this._lines.dispose(),this._lines=null),this._lines||(this._lines=i(this.gl,this.bounds,this.ticks))};var h=[new d,new d,new d];function p(e,t,n,r,i){for(var a=e.primalOffset,o=e.primalMinor,s=e.mirrorOffset,l=e.mirrorMinor,u=r[t],c=0;c<3;++c)if(t!==c){var f=a,d=s,h=o,p=l;u&1<<c&&(f=s,d=a,h=l,p=o),f[c]=n[0][c],d[c]=n[1][c],i[c]>0?(h[c]=-1,p[c]=0):(h[c]=0,p[c]=1)}}var g=[0,0,0],v={model:l,view:l,projection:l,_ortho:!1};f.isOpaque=function(){return!0},f.isTransparent=function(){return!1},f.drawTransparent=function(e){};var m=0,y=[0,0,0],b=[0,0,0],x=[0,0,0];function _(e,t){var n=new c(e);return n.update(t),n}f.draw=function(e){e=e||v;for(var t=this.gl,n=e.model||l,r=e.view||l,i=e.projection||l,a=this.bounds,s=e._ortho||!1,c=o(n,r,i,a,s),f=c.cubeEdges,d=c.axis,_=r[12],w=r[13],k=r[14],M=r[15],T=(s?2:1)*this.pixelRatio*(i[3]*_+i[7]*w+i[11]*k+i[15]*M)/t.drawingBufferHeight,A=0;A<3;++A)this.lastCubeProps.cubeEdges[A]=f[A],this.lastCubeProps.axis[A]=d[A];var E=h;for(A=0;A<3;++A)p(h[A],A,this.bounds,f,d);t=this.gl;var S,O=g;for(A=0;A<3;++A)this.backgroundEnable[A]?O[A]=d[A]:O[A]=0;for(this._background.draw(n,r,i,a,O,this.backgroundColor),this._lines.bind(n,r,i,this),A=0;A<3;++A){var C=[0,0,0];d[A]>0?C[A]=a[1][A]:C[A]=a[0][A];for(var L=0;L<2;++L){var R=(A+1+L)%3,P=(A+1+(1^L))%3;this.gridEnable[R]&&this._lines.drawGrid(R,P,this.bounds,C,this.gridColor[R],this.gridWidth[R]*this.pixelRatio)}for(L=0;L<2;++L)R=(A+1+L)%3,P=(A+1+(1^L))%3,this.zeroEnable[P]&&Math.min(a[0][P],a[1][P])<=0&&Math.max(a[0][P],a[1][P])>=0&&this._lines.drawZero(R,P,this.bounds,C,this.zeroLineColor[P],this.zeroLineWidth[P]*this.pixelRatio)}for(A=0;A<3;++A){this.lineEnable[A]&&this._lines.drawAxisLine(A,this.bounds,E[A].primalOffset,this.lineColor[A],this.lineWidth[A]*this.pixelRatio),this.lineMirror[A]&&this._lines.drawAxisLine(A,this.bounds,E[A].mirrorOffset,this.lineColor[A],this.lineWidth[A]*this.pixelRatio);var j=u(y,E[A].primalMinor),z=u(b,E[A].mirrorMinor),I=this.lineTickLength;for(L=0;L<3;++L){var N=T/n[5*L];j[L]*=I[L]*N,z[L]*=I[L]*N}this.lineTickEnable[A]&&this._lines.drawAxisTicks(A,E[A].primalOffset,j,this.lineTickColor[A],this.lineTickWidth[A]*this.pixelRatio),this.lineTickMirror[A]&&this._lines.drawAxisTicks(A,E[A].mirrorOffset,z,this.lineTickColor[A],this.lineTickWidth[A]*this.pixelRatio)}this._lines.unbind(),this._text.bind(n,r,i,this.pixelRatio);var D,F,B=.5;function U(e){(F=[0,0,0])[e]=1}function V(e,t,n){var r=(e+1)%3,i=(e+2)%3,a=t[r],o=t[i],s=n[r],l=n[i];a>0&&l>0||a>0&&l<0||a<0&&l>0||a<0&&l<0?U(r):(o>0&&s>0||o>0&&s<0||o<0&&s>0||o<0&&s<0)&&U(i)}for(A=0;A<3;++A){var H=E[A].primalMinor,q=E[A].mirrorMinor,W=u(x,E[A].primalOffset);for(L=0;L<3;++L)this.lineTickEnable[A]&&(W[L]+=T*H[L]*Math.max(this.lineTickLength[L],0)/n[5*L]);var G=[0,0,0];if(G[A]=1,this.tickEnable[A]){for(-3600===this.tickAngle[A]?(this.tickAngle[A]=0,this.tickAlign[A]="auto"):this.tickAlign[A]=-1,D=1,"auto"===(S=[this.tickAlign[A],B,D])[0]?S[0]=m:S[0]=parseInt(""+S[0]),F=[0,0,0],V(A,H,q),L=0;L<3;++L)W[L]+=T*H[L]*this.tickPad[L]/n[5*L];this._text.drawTicks(A,this.tickSize[A],this.tickAngle[A],W,this.tickColor[A],G,F,S)}if(this.labelEnable[A]){for(D=0,F=[0,0,0],this.labels[A].length>4&&(U(A),D=1),"auto"===(S=[this.labelAlign[A],B,D])[0]?S[0]=m:S[0]=parseInt(""+S[0]),L=0;L<3;++L)W[L]+=T*H[L]*this.labelPad[L]/n[5*L];W[A]+=.5*(a[0][A]+a[1][A]),this._text.drawLabel(A,this.labelSize[A],this.labelAngle[A],W,this.labelColor[A],[0,0,0],F,S)}}this._text.unbind()},f.dispose=function(){this._text.dispose(),this._lines.dispose(),this._background.dispose(),this._lines=null,this._text=null,this._background=null,this.gl=null}},{"./lib/background.js":98,"./lib/cube.js":99,"./lib/lines.js":100,"./lib/text.js":102,"./lib/ticks.js":103}],98:[function(e,t,n){"use strict";t.exports=l;var r=e("gl-buffer"),i=e("gl-vao"),a=e("./shaders").bg;function o(e,t,n,r){this.gl=e,this.buffer=t,this.vao=n,this.shader=r}var s=o.prototype;function l(e){for(var t=[],n=[],s=0,l=0;l<3;++l)for(var u=(l+1)%3,c=(l+2)%3,f=[0,0,0],d=[0,0,0],h=-1;h<=1;h+=2){n.push(s,s+2,s+1,s+1,s+2,s+3),f[l]=h,d[l]=h;for(var p=-1;p<=1;p+=2){f[u]=p;for(var g=-1;g<=1;g+=2)f[c]=g,t.push(f[0],f[1],f[2],d[0],d[1],d[2]),s+=1}var v=u;u=c,c=v}var m=r(e,new Float32Array(t)),y=r(e,new Uint16Array(n),e.ELEMENT_ARRAY_BUFFER),b=i(e,[{buffer:m,type:e.FLOAT,size:3,offset:0,stride:24},{buffer:m,type:e.FLOAT,size:3,offset:12,stride:24}],y),x=a(e);return x.attributes.position.location=0,x.attributes.normal.location=1,new o(e,m,b,x)}s.draw=function(e,t,n,r,i,a){for(var o=!1,s=0;s<3;++s)o=o||i[s];if(o){var l=this.gl;l.enable(l.POLYGON_OFFSET_FILL),l.polygonOffset(1,2),this.shader.bind(),this.shader.uniforms={model:e,view:t,projection:n,bounds:r,enable:i,colors:a},this.vao.bind(),this.vao.draw(this.gl.TRIANGLES,36),this.vao.unbind(),l.disable(l.POLYGON_OFFSET_FILL)}},s.dispose=function(){this.vao.dispose(),this.buffer.dispose(),this.shader.dispose()}},{"./shaders":101,"gl-buffer":106,"gl-vao":186}],99:[function(e,t,n){"use strict";t.exports=y;var r=e("bit-twiddle"),i=e("gl-mat4/multiply"),a=e("split-polygon"),o=e("robust-orientation"),s=new Array(16),l=new Array(8),u=new Array(8),c=new Array(3),f=[0,0,0];function d(e,t,n){for(var r=0;r<4;++r){e[r]=n[12+r];for(var i=0;i<3;++i)e[r]+=t[i]*n[4*i+r]}}!function(){for(var e=0;e<8;++e)l[e]=[1,1,1,1],u[e]=[1,1,1]}();var h=[[0,0,1,0,0],[0,0,-1,1,0],[0,-1,0,1,0],[0,1,0,1,0],[-1,0,0,1,0],[1,0,0,1,0]];function p(e){for(var t=0;t<h.length;++t)if((e=a.positive(e,h[t])).length<3)return 0;var n=e[0],r=n[0]/n[3],i=n[1]/n[3],o=0;for(t=1;t+1<e.length;++t){var s=e[t],l=e[t+1],u=s[0]/s[3]-r,c=s[1]/s[3]-i,f=l[0]/l[3]-r,d=l[1]/l[3]-i;o+=Math.abs(u*d-c*f)}return o}var g=[1,1,1],v=[0,0,0],m={cubeEdges:g,axis:v};function y(e,t,n,a,h){i(s,t,e),i(s,n,s);for(var y=0,b=0;b<2;++b){c[2]=a[b][2];for(var x=0;x<2;++x){c[1]=a[x][1];for(var _=0;_<2;++_)c[0]=a[_][0],d(l[y],c,s),y+=1}}var w=-1;for(b=0;b<8;++b){for(var k=l[b][3],M=0;M<3;++M)u[b][M]=l[b][M]/k;h&&(u[b][2]*=-1),k<0&&(w<0||u[b][2]<u[w][2])&&(w=b)}if(w<0){w=0;for(var T=0;T<3;++T){for(var A=(T+2)%3,E=(T+1)%3,S=-1,O=-1,C=0;C<2;++C){var L=(P=C<<T)+(C<<A)+(1-C<<E),R=P+(1-C<<A)+(C<<E);o(u[P],u[L],u[R],f)<0||(C?S=1:O=1)}if(S<0||O<0)O>S&&(w|=1<<T);else{for(C=0;C<2;++C){L=(P=C<<T)+(C<<A)+(1-C<<E),R=P+(1-C<<A)+(C<<E);var P,j=p([l[P],l[L],l[R],l[P+(1<<A)+(1<<E)]]);C?S=j:O=j}O>S&&(w|=1<<T)}}}var z=7^w,I=-1;for(b=0;b<8;++b)b!==w&&b!==z&&(I<0||u[I][1]>u[b][1])&&(I=b);var N=-1;for(b=0;b<3;++b)(F=I^1<<b)!==w&&F!==z&&(N<0&&(N=F),(E=u[F])[0]<u[N][0]&&(N=F));var D=-1;for(b=0;b<3;++b){var F;(F=I^1<<b)!==w&&F!==z&&F!==N&&(D<0&&(D=F),(E=u[F])[0]>u[D][0]&&(D=F))}var B=g;B[0]=B[1]=B[2]=0,B[r.log2(N^I)]=I&N,B[r.log2(I^D)]=I&D;var U=7^D;U===w||U===z?(U=7^N,B[r.log2(D^U)]=U&D):B[r.log2(N^U)]=U&N;var V=v,H=w;for(T=0;T<3;++T)V[T]=H&1<<T?-1:1;return m}},{"bit-twiddle":37,"gl-mat4/multiply":139,"robust-orientation":339,"split-polygon":357}],100:[function(e,t,n){"use strict";t.exports=g;var r=e("gl-buffer"),i=e("gl-vao"),a=e("./shaders").line,o=[0,0,0],s=[0,0,0],l=[0,0,0],u=[0,0,0],c=[1,1];function f(e){return e[0]=e[1]=e[2]=0,e}function d(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e}function h(e,t,n,r,i,a,o,s){this.gl=e,this.vertBuffer=t,this.vao=n,this.shader=r,this.tickCount=i,this.tickOffset=a,this.gridCount=o,this.gridOffset=s}var p=h.prototype;function g(e,t,n){var o=[],s=[0,0,0],l=[0,0,0],u=[0,0,0],c=[0,0,0];o.push(0,0,1,0,1,1,0,0,-1,0,0,-1,0,1,1,0,1,-1);for(var f=0;f<3;++f){for(var d=o.length/3|0,p=0;p<n[f].length;++p){var g=+n[f][p].x;o.push(g,0,1,g,1,1,g,0,-1,g,0,-1,g,1,1,g,1,-1)}var v=o.length/3|0;s[f]=d,l[f]=v-d,d=o.length/3|0;for(var m=0;m<n[f].length;++m)g=+n[f][m].x,o.push(g,0,1,g,1,1,g,0,-1,g,0,-1,g,1,1,g,1,-1);v=o.length/3|0,u[f]=d,c[f]=v-d}var y=r(e,new Float32Array(o)),b=i(e,[{buffer:y,type:e.FLOAT,size:3,stride:0,offset:0}]),x=a(e);return x.attributes.position.location=0,new h(e,y,b,x,l,s,c,u)}p.bind=function(e,t,n){this.shader.bind(),this.shader.uniforms.model=e,this.shader.uniforms.view=t,this.shader.uniforms.projection=n,c[0]=this.gl.drawingBufferWidth,c[1]=this.gl.drawingBufferHeight,this.shader.uniforms.screenShape=c,this.vao.bind()},p.unbind=function(){this.vao.unbind()},p.drawAxisLine=function(e,t,n,r,i){var a=f(s);this.shader.uniforms.majorAxis=s,a[e]=t[1][e]-t[0][e],this.shader.uniforms.minorAxis=a;var o,c=d(u,n);c[e]+=t[0][e],this.shader.uniforms.offset=c,this.shader.uniforms.lineWidth=i,this.shader.uniforms.color=r,(o=f(l))[(e+2)%3]=1,this.shader.uniforms.screenAxis=o,this.vao.draw(this.gl.TRIANGLES,6),(o=f(l))[(e+1)%3]=1,this.shader.uniforms.screenAxis=o,this.vao.draw(this.gl.TRIANGLES,6)},p.drawAxisTicks=function(e,t,n,r,i){if(this.tickCount[e]){var a=f(o);a[e]=1,this.shader.uniforms.majorAxis=a,this.shader.uniforms.offset=t,this.shader.uniforms.minorAxis=n,this.shader.uniforms.color=r,this.shader.uniforms.lineWidth=i;var s=f(l);s[e]=1,this.shader.uniforms.screenAxis=s,this.vao.draw(this.gl.TRIANGLES,this.tickCount[e],this.tickOffset[e])}},p.drawGrid=function(e,t,n,r,i,a){if(this.gridCount[e]){var c=f(s);c[t]=n[1][t]-n[0][t],this.shader.uniforms.minorAxis=c;var h=d(u,r);h[t]+=n[0][t],this.shader.uniforms.offset=h;var p=f(o);p[e]=1,this.shader.uniforms.majorAxis=p;var g=f(l);g[e]=1,this.shader.uniforms.screenAxis=g,this.shader.uniforms.lineWidth=a,this.shader.uniforms.color=i,this.vao.draw(this.gl.TRIANGLES,this.gridCount[e],this.gridOffset[e])}},p.drawZero=function(e,t,n,r,i,a){var o=f(s);this.shader.uniforms.majorAxis=o,o[e]=n[1][e]-n[0][e],this.shader.uniforms.minorAxis=o;var c=d(u,r);c[e]+=n[0][e],this.shader.uniforms.offset=c;var h=f(l);h[t]=1,this.shader.uniforms.screenAxis=h,this.shader.uniforms.lineWidth=a,this.shader.uniforms.color=i,this.vao.draw(this.gl.TRIANGLES,6)},p.dispose=function(){this.vao.dispose(),this.vertBuffer.dispose(),this.shader.dispose()}},{"./shaders":101,"gl-buffer":106,"gl-vao":186}],101:[function(e,t,n){"use strict";var r=e("glslify"),i=e("gl-shader"),a=r(["precision highp float;\n#define GLSLIFY 1\n\nattribute vec3 position;\n\nuniform mat4 model, view, projection;\nuniform vec3 offset, majorAxis, minorAxis, screenAxis;\nuniform float lineWidth;\nuniform vec2 screenShape;\n\nvec3 project(vec3 p) {\n  vec4 pp = projection * view * model * vec4(p, 1.0);\n  return pp.xyz / max(pp.w, 0.0001);\n}\n\nvoid main() {\n  vec3 major = position.x * majorAxis;\n  vec3 minor = position.y * minorAxis;\n\n  vec3 vPosition = major + minor + offset;\n  vec3 pPosition = project(vPosition);\n  vec3 offset = project(vPosition + screenAxis * position.z);\n\n  vec2 screen = normalize((offset - pPosition).xy * screenShape) / screenShape;\n\n  gl_Position = vec4(pPosition + vec3(0.5 * screen * lineWidth, 0), 1.0);\n}\n"]),o=r(["precision highp float;\n#define GLSLIFY 1\n\nuniform vec4 color;\nvoid main() {\n  gl_FragColor = color;\n}"]);n.line=function(e){return i(e,a,o,null,[{name:"position",type:"vec3"}])};var s=r(["precision highp float;\n#define GLSLIFY 1\n\nattribute vec3 position;\n\nuniform mat4 model, view, projection;\nuniform vec3 offset, axis, alignDir, alignOpt;\nuniform float scale, angle, pixelScale;\nuniform vec2 resolution;\n\nvec3 project(vec3 p) {\n  vec4 pp = projection * view * model * vec4(p, 1.0);\n  return pp.xyz / max(pp.w, 0.0001);\n}\n\nfloat computeViewAngle(vec3 a, vec3 b) {\n  vec3 A = project(a);\n  vec3 B = project(b);\n\n  return atan(\n    (B.y - A.y) * resolution.y,\n    (B.x - A.x) * resolution.x\n  );\n}\n\nconst float PI = 3.141592;\nconst float TWO_PI = 2.0 * PI;\nconst float HALF_PI = 0.5 * PI;\nconst float ONE_AND_HALF_PI = 1.5 * PI;\n\nint option = int(floor(alignOpt.x + 0.001));\nfloat hv_ratio =       alignOpt.y;\nbool enableAlign =    (alignOpt.z != 0.0);\n\nfloat mod_angle(float a) {\n  return mod(a, PI);\n}\n\nfloat positive_angle(float a) {\n  return mod_angle((a < 0.0) ?\n    a + TWO_PI :\n    a\n  );\n}\n\nfloat look_upwards(float a) {\n  float b = positive_angle(a);\n  return ((b > HALF_PI) && (b <= ONE_AND_HALF_PI)) ?\n    b - PI :\n    b;\n}\n\nfloat look_horizontal_or_vertical(float a, float ratio) {\n  // ratio controls the ratio between being horizontal to (vertical + horizontal)\n  // if ratio is set to 0.5 then it is 50%, 50%.\n  // when using a higher ratio e.g. 0.75 the result would\n  // likely be more horizontal than vertical.\n\n  float b = positive_angle(a);\n\n  return\n    (b < (      ratio) * HALF_PI) ? 0.0 :\n    (b < (2.0 - ratio) * HALF_PI) ? -HALF_PI :\n    (b < (2.0 + ratio) * HALF_PI) ? 0.0 :\n    (b < (4.0 - ratio) * HALF_PI) ? HALF_PI :\n                                    0.0;\n}\n\nfloat roundTo(float a, float b) {\n  return float(b * floor((a + 0.5 * b) / b));\n}\n\nfloat look_round_n_directions(float a, int n) {\n  float b = positive_angle(a);\n  float div = TWO_PI / float(n);\n  float c = roundTo(b, div);\n  return look_upwards(c);\n}\n\nfloat applyAlignOption(float rawAngle, float delta) {\n  return\n    (option >  2) ? look_round_n_directions(rawAngle + delta, option) :       // option 3-n: round to n directions\n    (option == 2) ? look_horizontal_or_vertical(rawAngle + delta, hv_ratio) : // horizontal or vertical\n    (option == 1) ? rawAngle + delta :       // use free angle, and flip to align with one direction of the axis\n    (option == 0) ? look_upwards(rawAngle) : // use free angle, and stay upwards\n    (option ==-1) ? 0.0 :                    // useful for backward compatibility, all texts remains horizontal\n                    rawAngle;                // otherwise return back raw input angle\n}\n\nbool isAxisTitle = (axis.x == 0.0) &&\n                   (axis.y == 0.0) &&\n                   (axis.z == 0.0);\n\nvoid main() {\n  //Compute world offset\n  float axisDistance = position.z;\n  vec3 dataPosition = axisDistance * axis + offset;\n\n  float beta = angle; // i.e. user defined attributes for each tick\n\n  float axisAngle;\n  float clipAngle;\n  float flip;\n\n  if (enableAlign) {\n    axisAngle = (isAxisTitle) ? HALF_PI :\n                      computeViewAngle(dataPosition, dataPosition + axis);\n    clipAngle = computeViewAngle(dataPosition, dataPosition + alignDir);\n\n    axisAngle += (sin(axisAngle) < 0.0) ? PI : 0.0;\n    clipAngle += (sin(clipAngle) < 0.0) ? PI : 0.0;\n\n    flip = (dot(vec2(cos(axisAngle), sin(axisAngle)),\n                vec2(sin(clipAngle),-cos(clipAngle))) > 0.0) ? 1.0 : 0.0;\n\n    beta += applyAlignOption(clipAngle, flip * PI);\n  }\n\n  //Compute plane offset\n  vec2 planeCoord = position.xy * pixelScale;\n\n  mat2 planeXform = scale * mat2(\n     cos(beta), sin(beta),\n    -sin(beta), cos(beta)\n  );\n\n  vec2 viewOffset = 2.0 * planeXform * planeCoord / resolution;\n\n  //Compute clip position\n  vec3 clipPosition = project(dataPosition);\n\n  //Apply text offset in clip coordinates\n  clipPosition += vec3(viewOffset, 0.0);\n\n  //Done\n  gl_Position = vec4(clipPosition, 1.0);\n}"]),l=r(["precision highp float;\n#define GLSLIFY 1\n\nuniform vec4 color;\nvoid main() {\n  gl_FragColor = color;\n}"]);n.text=function(e){return i(e,s,l,null,[{name:"position",type:"vec3"}])};var u=r(["precision highp float;\n#define GLSLIFY 1\n\nattribute vec3 position;\nattribute vec3 normal;\n\nuniform mat4 model, view, projection;\nuniform vec3 enable;\nuniform vec3 bounds[2];\n\nvarying vec3 colorChannel;\n\nvoid main() {\n\n  vec3 signAxis = sign(bounds[1] - bounds[0]);\n\n  vec3 realNormal = signAxis * normal;\n\n  if(dot(realNormal, enable) > 0.0) {\n    vec3 minRange = min(bounds[0], bounds[1]);\n    vec3 maxRange = max(bounds[0], bounds[1]);\n    vec3 nPosition = mix(minRange, maxRange, 0.5 * (position + 1.0));\n    gl_Position = projection * view * model * vec4(nPosition, 1.0);\n  } else {\n    gl_Position = vec4(0,0,0,0);\n  }\n\n  colorChannel = abs(realNormal);\n}"]),c=r(["precision highp float;\n#define GLSLIFY 1\n\nuniform vec4 colors[3];\n\nvarying vec3 colorChannel;\n\nvoid main() {\n  gl_FragColor = colorChannel.x * colors[0] +\n                 colorChannel.y * colors[1] +\n                 colorChannel.z * colors[2];\n}"]);n.bg=function(e){return i(e,u,c,null,[{name:"position",type:"vec3"},{name:"normal",type:"vec3"}])}},{"gl-shader":166,glslify:104}],102:[function(e,t,n){(function(n){(function(){"use strict";t.exports=p;var r=e("gl-buffer"),i=e("gl-vao"),a=e("vectorize-text"),o=e("./shaders").text,s=window||n.global||{},l=s.__TEXT_CACHE||{};s.__TEXT_CACHE={};var u=3;function c(e,t,n,r){this.gl=e,this.shader=t,this.buffer=n,this.vao=r,this.tickOffset=this.tickCount=this.labelOffset=this.labelCount=null}var f=c.prototype,d=[0,0];function h(e,t){try{return a(e,t)}catch(n){return console.warn('error vectorizing text:"'+e+'" error:',n),{cells:[],positions:[]}}}function p(e,t,n,a,s,l){var u=r(e),f=i(e,[{buffer:u,size:3}]),d=o(e);d.attributes.position.location=0;var h=new c(e,d,u,f);return h.update(t,n,a,s,l),h}f.bind=function(e,t,n,r){this.vao.bind(),this.shader.bind();var i=this.shader.uniforms;i.model=e,i.view=t,i.projection=n,i.pixelScale=r,d[0]=this.gl.drawingBufferWidth,d[1]=this.gl.drawingBufferHeight,this.shader.uniforms.resolution=d},f.unbind=function(){this.vao.unbind()},f.update=function(e,t,n,r,i){var a=[];function o(e,t,n,r,i,o){var s=l[n];s||(s=l[n]={});var u=s[t];u||(u=s[t]=h(t,{triangles:!0,font:n,textAlign:"center",textBaseline:"middle",lineSpacing:i,styletags:o}));for(var c=(r||12)/12,f=u.positions,d=u.cells,p=0,g=d.length;p<g;++p)for(var v=d[p],m=2;m>=0;--m){var y=f[v[m]];a.push(c*y[0],-c*y[1],e)}}for(var s=[0,0,0],c=[0,0,0],f=[0,0,0],d=[0,0,0],p=1.25,g={breaklines:!0,bolds:!0,italics:!0,subscripts:!0,superscripts:!0},v=0;v<3;++v){f[v]=a.length/u|0,o(.5*(e[0][v]+e[1][v]),t[v],n[v],12,p,g),d[v]=(a.length/u|0)-f[v],s[v]=a.length/u|0;for(var m=0;m<r[v].length;++m)r[v][m].text&&o(r[v][m].x,r[v][m].text,r[v][m].font||i,r[v][m].fontSize||12,p,g);c[v]=(a.length/u|0)-s[v]}this.buffer.update(a),this.tickOffset=s,this.tickCount=c,this.labelOffset=f,this.labelCount=d},f.drawTicks=function(e,t,n,r,i,a,o,s){this.tickCount[e]&&(this.shader.uniforms.axis=a,this.shader.uniforms.color=i,this.shader.uniforms.angle=n,this.shader.uniforms.scale=t,this.shader.uniforms.offset=r,this.shader.uniforms.alignDir=o,this.shader.uniforms.alignOpt=s,this.vao.draw(this.gl.TRIANGLES,this.tickCount[e],this.tickOffset[e]))},f.drawLabel=function(e,t,n,r,i,a,o,s){this.labelCount[e]&&(this.shader.uniforms.axis=a,this.shader.uniforms.color=i,this.shader.uniforms.angle=n,this.shader.uniforms.scale=t,this.shader.uniforms.offset=r,this.shader.uniforms.alignDir=o,this.shader.uniforms.alignOpt=s,this.vao.draw(this.gl.TRIANGLES,this.labelCount[e],this.labelOffset[e]))},f.dispose=function(){this.shader.dispose(),this.vao.dispose(),this.buffer.dispose()}}).call(this)}).call(this,e("_process"))},{"./shaders":101,_process:325,"gl-buffer":106,"gl-vao":186,"vectorize-text":369}],103:[function(e,t,n){"use strict";function r(e,t){var n=e+"",r=n.indexOf("."),i=0;r>=0&&(i=n.length-r-1);var a=Math.pow(10,i),o=Math.round(e*t*a),s=o+"";if(s.indexOf("e")>=0)return s;var l=o/a,u=o%a;o<0?(l=0|-Math.ceil(l),u=0|-u):(l=0|Math.floor(l),u|=0);var c=""+l;if(o<0&&(c="-"+c),i){for(var f=""+u;f.length<i;)f="0"+f;return c+"."+f}return c}function i(e,t){for(var n=[],i=0;i<3;++i){for(var a=[],o=(e[0][i],e[1][i],0);o*t[i]<=e[1][i];++o)a.push({x:o*t[i],text:r(t[i],o)});for(o=-1;o*t[i]>=e[0][i];--o)a.push({x:o*t[i],text:r(t[i],o)});n.push(a)}return n}function a(e,t){for(var n=0;n<3;++n){if(e[n].length!==t[n].length)return!1;for(var r=0;r<e[n].length;++r){var i=e[n][r],a=t[n][r];if(i.x!==a.x||i.text!==a.text||i.font!==a.font||i.fontColor!==a.fontColor||i.fontSize!==a.fontSize||i.dx!==a.dx||i.dy!==a.dy)return!1}}return!0}n.create=i,n.equal=a},{}],104:[function(e,t,n){t.exports=function(e){"string"===typeof e&&(e=[e]);for(var t=[].slice.call(arguments,1),n=[],r=0;r<e.length-1;r++)n.push(e[r],t[r]||"");return n.push(e[r]),n.join("")}},{}],105:[function(e,t,n){"use strict";t.exports=m;var r=e("extract-frustum-planes"),i=e("split-polygon"),a=e("./lib/cube.js"),o=e("gl-mat4/multiply"),s=e("gl-mat4/transpose"),l=e("gl-vec4/transformMat4"),u=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),c=new Float32Array(16);function f(e,t,n){this.lo=e,this.hi=t,this.pixelsPerDataUnit=n}var d=[0,0,0,1],h=[0,0,0,1];function p(e,t,n,r,i){for(var a=0;a<3;++a){for(var o=d,s=h,u=0;u<3;++u)s[u]=o[u]=n[u];s[3]=o[3]=1,s[a]+=1,l(s,s,t),s[3]<0&&(e[a]=1/0),o[a]-=1,l(o,o,t),o[3]<0&&(e[a]=1/0);var c=(o[0]/o[3]-s[0]/s[3])*r,f=(o[1]/o[3]-s[1]/s[3])*i;e[a]=.25*Math.sqrt(c*c+f*f)}return e}var g=[new f(1/0,-1/0,1/0),new f(1/0,-1/0,1/0),new f(1/0,-1/0,1/0)],v=[0,0,0];function m(e,t,n,l,f){var d=t.model||u,h=t.view||u,m=t.projection||u,y=t._ortho||!1,b=e.bounds,x=(f=f||a(d,h,m,b,y)).axis;o(c,h,d),o(c,m,c);for(var _=g,w=0;w<3;++w)_[w].lo=1/0,_[w].hi=-1/0,_[w].pixelsPerDataUnit=1/0;var k=r(s(c,c));s(c,c);for(var M=0;M<3;++M){var T=(M+1)%3,A=(M+2)%3,E=v;e:for(w=0;w<2;++w){var S=[];if(x[M]<0!==!!w){E[M]=b[w][M];for(var O=0;O<2;++O){E[T]=b[O^w][T];for(var C=0;C<2;++C)E[A]=b[C^O^w][A],S.push(E.slice())}var L=y?5:4;for(O=L;O===L;++O){if(0===S.length)continue e;S=i.positive(S,k[O])}for(O=0;O<S.length;++O){A=S[O];var R=p(v,c,A,n,l);for(C=0;C<3;++C)_[C].lo=Math.min(_[C].lo,A[C]),_[C].hi=Math.max(_[C].hi,A[C]),C!==M&&(_[C].pixelsPerDataUnit=Math.min(_[C].pixelsPerDataUnit,Math.abs(R[C])))}}}}return _}},{"./lib/cube.js":99,"extract-frustum-planes":90,"gl-mat4/multiply":139,"gl-mat4/transpose":150,"gl-vec4/transformMat4":257,"split-polygon":357}],106:[function(e,t,n){"use strict";var r=e("typedarray-pool"),i=e("ndarray-ops"),a=e("ndarray"),o=["uint8","uint8_clamped","uint16","uint32","int8","int16","int32","float32"];function s(e,t,n,r,i){this.gl=e,this.type=t,this.handle=n,this.length=r,this.usage=i}var l=s.prototype;function u(e,t,n,r,i,a){var o=i.length*i.BYTES_PER_ELEMENT;if(a<0)return e.bufferData(t,i,r),o;if(o+a>n)throw new Error("gl-buffer: If resizing buffer, must not specify offset");return e.bufferSubData(t,a,i),n}function c(e,t){for(var n=r.malloc(e.length,t),i=e.length,a=0;a<i;++a)n[a]=e[a];return n}function f(e,t){for(var n=1,r=t.length-1;r>=0;--r){if(t[r]!==n)return!1;n*=e[r]}return!0}function d(e,t,n,r){if(n=n||e.ARRAY_BUFFER,r=r||e.DYNAMIC_DRAW,n!==e.ARRAY_BUFFER&&n!==e.ELEMENT_ARRAY_BUFFER)throw new Error("gl-buffer: Invalid type for webgl buffer, must be either gl.ARRAY_BUFFER or gl.ELEMENT_ARRAY_BUFFER");if(r!==e.DYNAMIC_DRAW&&r!==e.STATIC_DRAW&&r!==e.STREAM_DRAW)throw new Error("gl-buffer: Invalid usage for buffer, must be either gl.DYNAMIC_DRAW, gl.STATIC_DRAW or gl.STREAM_DRAW");var i=e.createBuffer(),a=new s(e,n,i,0,r);return a.update(t),a}l.bind=function(){this.gl.bindBuffer(this.type,this.handle)},l.unbind=function(){this.gl.bindBuffer(this.type,null)},l.dispose=function(){this.gl.deleteBuffer(this.handle)},l.update=function(e,t){if("number"!==typeof t&&(t=-1),this.bind(),"object"===typeof e&&"undefined"!==typeof e.shape){var n=e.dtype;if(o.indexOf(n)<0&&(n="float32"),this.type===this.gl.ELEMENT_ARRAY_BUFFER&&(n=gl.getExtension("OES_element_index_uint")&&"uint16"!==n?"uint32":"uint16"),n===e.dtype&&f(e.shape,e.stride))0===e.offset&&e.data.length===e.shape[0]?this.length=u(this.gl,this.type,this.length,this.usage,e.data,t):this.length=u(this.gl,this.type,this.length,this.usage,e.data.subarray(e.offset,e.shape[0]),t);else{var s=r.malloc(e.size,n),l=a(s,e.shape);i.assign(l,e),this.length=u(this.gl,this.type,this.length,this.usage,t<0?s:s.subarray(0,e.size),t),r.free(s)}}else if(Array.isArray(e)){var d;d=this.type===this.gl.ELEMENT_ARRAY_BUFFER?c(e,"uint16"):c(e,"float32"),this.length=u(this.gl,this.type,this.length,this.usage,t<0?d:d.subarray(0,e.length),t),r.free(d)}else if("object"===typeof e&&"number"===typeof e.length)this.length=u(this.gl,this.type,this.length,this.usage,e,t);else{if("number"!==typeof e&&void 0!==e)throw new Error("gl-buffer: Invalid data type");if(t>=0)throw new Error("gl-buffer: Cannot specify offset when resizing buffer");(e|=0)<=0&&(e=1),this.gl.bufferData(this.type,0|e,this.usage),this.length=e}},t.exports=d},{ndarray:301,"ndarray-ops":296,"typedarray-pool":366}],107:[function(e,t,n){"use strict";var r=e("gl-vec3");t.exports=function(e,t){var n=e.positions,i=e.vectors,a={positions:[],vertexIntensity:[],vertexIntensityBounds:e.vertexIntensityBounds,vectors:[],cells:[],coneOffset:e.coneOffset,colormap:e.colormap};if(0===e.positions.length)return t&&(t[0]=[0,0,0],t[1]=[0,0,0]),a;for(var o=0,s=1/0,l=-1/0,u=1/0,c=-1/0,f=1/0,d=-1/0,h=null,p=null,g=[],v=1/0,m=!1,y=0;y<n.length;y++){var b=n[y];s=Math.min(b[0],s),l=Math.max(b[0],l),u=Math.min(b[1],u),c=Math.max(b[1],c),f=Math.min(b[2],f),d=Math.max(b[2],d);var x=i[y];if(r.length(x)>o&&(o=r.length(x)),y){var _=2*r.distance(h,b)/(r.length(p)+r.length(x));_?(v=Math.min(v,_),m=!1):m=!0}m||(h=b,p=x),g.push(x)}var w=[s,u,f],k=[l,c,d];t&&(t[0]=w,t[1]=k),0===o&&(o=1);var M=1/o;isFinite(v)||(v=1),a.vectorScale=v;var T=e.coneSize||.5;e.absoluteConeSize&&(T=e.absoluteConeSize*M),a.coneScale=T,y=0;for(var A=0;y<n.length;y++)for(var E=(b=n[y])[0],S=b[1],O=b[2],C=g[y],L=r.length(C)*M,R=0,P=8;R<P;R++){a.positions.push([E,S,O,A++]),a.positions.push([E,S,O,A++]),a.positions.push([E,S,O,A++]),a.positions.push([E,S,O,A++]),a.positions.push([E,S,O,A++]),a.positions.push([E,S,O,A++]),a.vectors.push(C),a.vectors.push(C),a.vectors.push(C),a.vectors.push(C),a.vectors.push(C),a.vectors.push(C),a.vertexIntensity.push(L,L,L),a.vertexIntensity.push(L,L,L);var j=a.positions.length;a.cells.push([j-6,j-5,j-4],[j-3,j-2,j-1])}return a};var i=e("./lib/shaders");t.exports.createMesh=e("./create_mesh"),t.exports.createConeMesh=function(e,n){return t.exports.createMesh(e,n,{shaders:i,traceType:"cone"})}},{"./create_mesh":108,"./lib/shaders":109,"gl-vec3":205}],108:[function(e,t,n){"use strict";var r=e("gl-shader"),i=e("gl-buffer"),a=e("gl-vao"),o=e("gl-texture2d"),s=e("gl-mat4/multiply"),l=e("gl-mat4/invert"),u=e("ndarray"),c=e("colormap"),f=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];function d(e,t,n,r,i,a,o,s,l,u,c){this.gl=e,this.pixelRatio=1,this.cells=[],this.positions=[],this.intensity=[],this.texture=t,this.dirty=!0,this.triShader=n,this.pickShader=r,this.trianglePositions=i,this.triangleVectors=a,this.triangleColors=s,this.triangleUVs=l,this.triangleIds=o,this.triangleVAO=u,this.triangleCount=0,this.pickId=1,this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],this.clipBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.lightPosition=[1e5,1e5,0],this.ambientLight=.8,this.diffuseLight=.8,this.specularLight=2,this.roughness=.5,this.fresnel=1.5,this.opacity=1,this.traceType=c,this.tubeScale=1,this.coneScale=2,this.vectorScale=1,this.coneOffset=.25,this._model=f,this._view=f,this._projection=f,this._resolution=[1,1]}var h=d.prototype;function p(e){for(var t=c({colormap:e,nshades:256,format:"rgba"}),n=new Uint8Array(1024),r=0;r<256;++r){for(var i=t[r],a=0;a<3;++a)n[4*r+a]=i[a];n[4*r+3]=255*i[3]}return u(n,[256,256,4],[4,0,1])}function g(e){for(var t=e.length,n=new Array(t),r=0;r<t;++r)n[r]=e[r][2];return n}function v(e,t){var n=r(e,t.meshShader.vertex,t.meshShader.fragment,null,t.meshShader.attributes);return n.attributes.position.location=0,n.attributes.color.location=2,n.attributes.uv.location=3,n.attributes.vector.location=4,n}function m(e,t){var n=r(e,t.pickShader.vertex,t.pickShader.fragment,null,t.pickShader.attributes);return n.attributes.position.location=0,n.attributes.id.location=1,n.attributes.vector.location=4,n}function y(e,t,n){var r=n.shaders;1===arguments.length&&(e=(t=e).gl);var s=v(e,r),l=m(e,r),c=o(e,u(new Uint8Array([255,255,255,255]),[1,1,4]));c.generateMipmap(),c.minFilter=e.LINEAR_MIPMAP_LINEAR,c.magFilter=e.LINEAR;var f=i(e),h=i(e),p=i(e),g=i(e),y=i(e),b=new d(e,c,s,l,f,h,y,p,g,a(e,[{buffer:f,type:e.FLOAT,size:4},{buffer:y,type:e.UNSIGNED_BYTE,size:4,normalized:!0},{buffer:p,type:e.FLOAT,size:4},{buffer:g,type:e.FLOAT,size:2},{buffer:h,type:e.FLOAT,size:4}]),n.traceType||"cone");return b.update(t),b}h.isOpaque=function(){return this.opacity>=1},h.isTransparent=function(){return this.opacity<1},h.pickSlots=1,h.setPickBase=function(e){this.pickId=e},h.update=function(e){e=e||{};var t=this.gl;this.dirty=!0,"lightPosition"in e&&(this.lightPosition=e.lightPosition),"opacity"in e&&(this.opacity=e.opacity),"ambient"in e&&(this.ambientLight=e.ambient),"diffuse"in e&&(this.diffuseLight=e.diffuse),"specular"in e&&(this.specularLight=e.specular),"roughness"in e&&(this.roughness=e.roughness),"fresnel"in e&&(this.fresnel=e.fresnel),void 0!==e.tubeScale&&(this.tubeScale=e.tubeScale),void 0!==e.vectorScale&&(this.vectorScale=e.vectorScale),void 0!==e.coneScale&&(this.coneScale=e.coneScale),void 0!==e.coneOffset&&(this.coneOffset=e.coneOffset),e.colormap&&(this.texture.shape=[256,256],this.texture.minFilter=t.LINEAR_MIPMAP_LINEAR,this.texture.magFilter=t.LINEAR,this.texture.setPixels(p(e.colormap)),this.texture.generateMipmap());var n=e.cells,r=e.positions,i=e.vectors;if(r&&n&&i){var a=[],o=[],s=[],l=[],u=[];this.cells=n,this.positions=r,this.vectors=i;var c=e.meshColor||[1,1,1,1],f=e.vertexIntensity,d=1/0,h=-1/0;if(f)if(e.vertexIntensityBounds)d=+e.vertexIntensityBounds[0],h=+e.vertexIntensityBounds[1];else for(var v=0;v<f.length;++v){var m=f[v];d=Math.min(d,m),h=Math.max(h,m)}else for(v=0;v<r.length;++v)m=r[v][2],d=Math.min(d,m),h=Math.max(h,m);for(this.intensity=f||g(r),this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],v=0;v<r.length;++v)for(var y=r[v],b=0;b<3;++b)!isNaN(y[b])&&isFinite(y[b])&&(this.bounds[0][b]=Math.min(this.bounds[0][b],y[b]),this.bounds[1][b]=Math.max(this.bounds[1][b],y[b]));var x=0;e:for(v=0;v<n.length;++v){var _=n[v];switch(_.length){case 3:for(b=0;b<3;++b){y=r[k=_[b]];for(var w=0;w<3;++w)if(isNaN(y[w])||!isFinite(y[w]))continue e}for(b=0;b<3;++b){var k;y=r[k=_[2-b]],a.push(y[0],y[1],y[2],y[3]);var M=i[k];o.push(M[0],M[1],M[2],M[3]||0);var T,A=c;3===A.length?s.push(A[0],A[1],A[2],1):s.push(A[0],A[1],A[2],A[3]),T=f?[(f[k]-d)/(h-d),0]:[(y[2]-d)/(h-d),0],l.push(T[0],T[1]),u.push(v)}x+=1}}this.triangleCount=x,this.trianglePositions.update(a),this.triangleVectors.update(o),this.triangleColors.update(s),this.triangleUVs.update(l),this.triangleIds.update(new Uint32Array(u))}},h.drawTransparent=h.draw=function(e){e=e||{};for(var t=this.gl,n=e.model||f,r=e.view||f,i=e.projection||f,a=[[-1e6,-1e6,-1e6],[1e6,1e6,1e6]],o=0;o<3;++o)a[0][o]=Math.max(a[0][o],this.clipBounds[0][o]),a[1][o]=Math.min(a[1][o],this.clipBounds[1][o]);var u={model:n,view:r,projection:i,inverseModel:f.slice(),clipBounds:a,kambient:this.ambientLight,kdiffuse:this.diffuseLight,kspecular:this.specularLight,roughness:this.roughness,fresnel:this.fresnel,eyePosition:[0,0,0],lightPosition:[0,0,0],opacity:this.opacity,tubeScale:this.tubeScale,vectorScale:this.vectorScale,coneScale:this.coneScale,coneOffset:this.coneOffset,texture:0};u.inverseModel=l(u.inverseModel,u.model),t.disable(t.CULL_FACE),this.texture.bind(0);var c=new Array(16);for(s(c,u.view,u.model),s(c,u.projection,c),l(c,c),o=0;o<3;++o)u.eyePosition[o]=c[12+o]/c[15];var d=c[15];for(o=0;o<3;++o)d+=this.lightPosition[o]*c[4*o+3];for(o=0;o<3;++o){for(var h=c[12+o],p=0;p<3;++p)h+=c[4*p+o]*this.lightPosition[p];u.lightPosition[o]=h/d}if(this.triangleCount>0){var g=this.triShader;g.bind(),g.uniforms=u,this.triangleVAO.bind(),t.drawArrays(t.TRIANGLES,0,3*this.triangleCount),this.triangleVAO.unbind()}},h.drawPick=function(e){e=e||{};for(var t=this.gl,n=e.model||f,r=e.view||f,i=e.projection||f,a=[[-1e6,-1e6,-1e6],[1e6,1e6,1e6]],o=0;o<3;++o)a[0][o]=Math.max(a[0][o],this.clipBounds[0][o]),a[1][o]=Math.min(a[1][o],this.clipBounds[1][o]);this._model=[].slice.call(n),this._view=[].slice.call(r),this._projection=[].slice.call(i),this._resolution=[t.drawingBufferWidth,t.drawingBufferHeight];var s={model:n,view:r,projection:i,clipBounds:a,tubeScale:this.tubeScale,vectorScale:this.vectorScale,coneScale:this.coneScale,coneOffset:this.coneOffset,pickId:this.pickId/255},l=this.pickShader;l.bind(),l.uniforms=s,this.triangleCount>0&&(this.triangleVAO.bind(),t.drawArrays(t.TRIANGLES,0,3*this.triangleCount),this.triangleVAO.unbind())},h.pick=function(e){if(!e)return null;if(e.id!==this.pickId)return null;var t=e.value[0]+256*e.value[1]+65536*e.value[2],n=this.cells[t],r=this.positions[n[1]].slice(0,3),i={position:r,dataCoordinate:r,index:Math.floor(n[1]/48)};return"cone"===this.traceType?i.index=Math.floor(n[1]/48):"streamtube"===this.traceType&&(i.intensity=this.intensity[n[1]],i.velocity=this.vectors[n[1]].slice(0,3),i.divergence=this.vectors[n[1]][3],i.index=t),i},h.dispose=function(){this.texture.dispose(),this.triShader.dispose(),this.pickShader.dispose(),this.triangleVAO.dispose(),this.trianglePositions.dispose(),this.triangleVectors.dispose(),this.triangleColors.dispose(),this.triangleUVs.dispose(),this.triangleIds.dispose()},t.exports=y},{colormap:68,"gl-buffer":106,"gl-mat4/invert":137,"gl-mat4/multiply":139,"gl-shader":166,"gl-texture2d":182,"gl-vao":186,ndarray:301}],109:[function(e,t,n){var r=e("glslify"),i=r(["precision highp float;\n\nprecision highp float;\n#define GLSLIFY 1\n\nvec3 getOrthogonalVector(vec3 v) {\n  // Return up-vector for only-z vector.\n  // Return ax + by + cz = 0, a point that lies on the plane that has v as a normal and that isn't (0,0,0).\n  // From the above if-statement we have ||a|| > 0  U  ||b|| > 0.\n  // Assign z = 0, x = -b, y = a:\n  // a*-b + b*a + c*0 = -ba + ba + 0 = 0\n  if (v.x*v.x > v.z*v.z || v.y*v.y > v.z*v.z) {\n    return normalize(vec3(-v.y, v.x, 0.0));\n  } else {\n    return normalize(vec3(0.0, v.z, -v.y));\n  }\n}\n\n// Calculate the cone vertex and normal at the given index.\n//\n// The returned vertex is for a cone with its top at origin and height of 1.0,\n// pointing in the direction of the vector attribute.\n//\n// Each cone is made up of a top vertex, a center base vertex and base perimeter vertices.\n// These vertices are used to make up the triangles of the cone by the following:\n//   segment + 0 top vertex\n//   segment + 1 perimeter vertex a+1\n//   segment + 2 perimeter vertex a\n//   segment + 3 center base vertex\n//   segment + 4 perimeter vertex a\n//   segment + 5 perimeter vertex a+1\n// Where segment is the number of the radial segment * 6 and a is the angle at that radial segment.\n// To go from index to segment, floor(index / 6)\n// To go from segment to angle, 2*pi * (segment/segmentCount)\n// To go from index to segment index, index - (segment*6)\n//\nvec3 getConePosition(vec3 d, float rawIndex, float coneOffset, out vec3 normal) {\n\n  const float segmentCount = 8.0;\n\n  float index = rawIndex - floor(rawIndex /\n    (segmentCount * 6.0)) *\n    (segmentCount * 6.0);\n\n  float segment = floor(0.001 + index/6.0);\n  float segmentIndex = index - (segment*6.0);\n\n  normal = -normalize(d);\n\n  if (segmentIndex > 2.99 && segmentIndex < 3.01) {\n    return mix(vec3(0.0), -d, coneOffset);\n  }\n\n  float nextAngle = (\n    (segmentIndex > 0.99 &&  segmentIndex < 1.01) ||\n    (segmentIndex > 4.99 &&  segmentIndex < 5.01)\n  ) ? 1.0 : 0.0;\n  float angle = 2.0 * 3.14159 * ((segment + nextAngle) / segmentCount);\n\n  vec3 v1 = mix(d, vec3(0.0), coneOffset);\n  vec3 v2 = v1 - d;\n\n  vec3 u = getOrthogonalVector(d);\n  vec3 v = normalize(cross(u, d));\n\n  vec3 x = u * cos(angle) * length(d)*0.25;\n  vec3 y = v * sin(angle) * length(d)*0.25;\n  vec3 v3 = v2 + x + y;\n  if (segmentIndex < 3.0) {\n    vec3 tx = u * sin(angle);\n    vec3 ty = v * -cos(angle);\n    vec3 tangent = tx + ty;\n    normal = normalize(cross(v3 - v1, tangent));\n  }\n\n  if (segmentIndex == 0.0) {\n    return mix(d, vec3(0.0), coneOffset);\n  }\n  return v3;\n}\n\nattribute vec3 vector;\nattribute vec4 color, position;\nattribute vec2 uv;\n\nuniform float vectorScale, coneScale, coneOffset;\nuniform mat4 model, view, projection, inverseModel;\nuniform vec3 eyePosition, lightPosition;\n\nvarying vec3 f_normal, f_lightDirection, f_eyeDirection, f_data, f_position;\nvarying vec4 f_color;\nvarying vec2 f_uv;\n\nvoid main() {\n  // Scale the vector magnitude to stay constant with\n  // model & view changes.\n  vec3 normal;\n  vec3 XYZ = getConePosition(mat3(model) * ((vectorScale * coneScale) * vector), position.w, coneOffset, normal);\n  vec4 conePosition = model * vec4(position.xyz, 1.0) + vec4(XYZ, 0.0);\n\n  //Lighting geometry parameters\n  vec4 cameraCoordinate = view * conePosition;\n  cameraCoordinate.xyz /= cameraCoordinate.w;\n  f_lightDirection = lightPosition - cameraCoordinate.xyz;\n  f_eyeDirection   = eyePosition - cameraCoordinate.xyz;\n  f_normal = normalize((vec4(normal, 0.0) * inverseModel).xyz);\n\n  // vec4 m_position  = model * vec4(conePosition, 1.0);\n  vec4 t_position  = view * conePosition;\n  gl_Position      = projection * t_position;\n\n  f_color          = color;\n  f_data           = conePosition.xyz;\n  f_position       = position.xyz;\n  f_uv             = uv;\n}\n"]),a=r(["#extension GL_OES_standard_derivatives : enable\n\nprecision highp float;\n#define GLSLIFY 1\n\nfloat beckmannDistribution(float x, float roughness) {\n  float NdotH = max(x, 0.0001);\n  float cos2Alpha = NdotH * NdotH;\n  float tan2Alpha = (cos2Alpha - 1.0) / cos2Alpha;\n  float roughness2 = roughness * roughness;\n  float denom = 3.141592653589793 * roughness2 * cos2Alpha * cos2Alpha;\n  return exp(tan2Alpha / roughness2) / denom;\n}\n\nfloat cookTorranceSpecular(\n  vec3 lightDirection,\n  vec3 viewDirection,\n  vec3 surfaceNormal,\n  float roughness,\n  float fresnel) {\n\n  float VdotN = max(dot(viewDirection, surfaceNormal), 0.0);\n  float LdotN = max(dot(lightDirection, surfaceNormal), 0.0);\n\n  //Half angle vector\n  vec3 H = normalize(lightDirection + viewDirection);\n\n  //Geometric term\n  float NdotH = max(dot(surfaceNormal, H), 0.0);\n  float VdotH = max(dot(viewDirection, H), 0.000001);\n  float LdotH = max(dot(lightDirection, H), 0.000001);\n  float G1 = (2.0 * NdotH * VdotN) / VdotH;\n  float G2 = (2.0 * NdotH * LdotN) / LdotH;\n  float G = min(1.0, min(G1, G2));\n  \n  //Distribution term\n  float D = beckmannDistribution(NdotH, roughness);\n\n  //Fresnel term\n  float F = pow(1.0 - VdotN, fresnel);\n\n  //Multiply terms and done\n  return  G * F * D / max(3.14159265 * VdotN, 0.000001);\n}\n\nbool outOfRange(float a, float b, float p) {\n  return ((p > max(a, b)) || \n          (p < min(a, b)));\n}\n\nbool outOfRange(vec2 a, vec2 b, vec2 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y));\n}\n\nbool outOfRange(vec3 a, vec3 b, vec3 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y) ||\n          outOfRange(a.z, b.z, p.z));\n}\n\nbool outOfRange(vec4 a, vec4 b, vec4 p) {\n  return outOfRange(a.xyz, b.xyz, p.xyz);\n}\n\nuniform vec3 clipBounds[2];\nuniform float roughness, fresnel, kambient, kdiffuse, kspecular, opacity;\nuniform sampler2D texture;\n\nvarying vec3 f_normal, f_lightDirection, f_eyeDirection, f_data, f_position;\nvarying vec4 f_color;\nvarying vec2 f_uv;\n\nvoid main() {\n  if (outOfRange(clipBounds[0], clipBounds[1], f_position)) discard;\n  vec3 N = normalize(f_normal);\n  vec3 L = normalize(f_lightDirection);\n  vec3 V = normalize(f_eyeDirection);\n\n  if(gl_FrontFacing) {\n    N = -N;\n  }\n\n  float specular = min(1.0, max(0.0, cookTorranceSpecular(L, V, N, roughness, fresnel)));\n  float diffuse  = min(kambient + kdiffuse * max(dot(N, L), 0.0), 1.0);\n\n  vec4 surfaceColor = f_color * texture2D(texture, f_uv);\n  vec4 litColor = surfaceColor.a * vec4(diffuse * surfaceColor.rgb + kspecular * vec3(1,1,1) * specular,  1.0);\n\n  gl_FragColor = litColor * opacity;\n}\n"]),o=r(["precision highp float;\n\nprecision highp float;\n#define GLSLIFY 1\n\nvec3 getOrthogonalVector(vec3 v) {\n  // Return up-vector for only-z vector.\n  // Return ax + by + cz = 0, a point that lies on the plane that has v as a normal and that isn't (0,0,0).\n  // From the above if-statement we have ||a|| > 0  U  ||b|| > 0.\n  // Assign z = 0, x = -b, y = a:\n  // a*-b + b*a + c*0 = -ba + ba + 0 = 0\n  if (v.x*v.x > v.z*v.z || v.y*v.y > v.z*v.z) {\n    return normalize(vec3(-v.y, v.x, 0.0));\n  } else {\n    return normalize(vec3(0.0, v.z, -v.y));\n  }\n}\n\n// Calculate the cone vertex and normal at the given index.\n//\n// The returned vertex is for a cone with its top at origin and height of 1.0,\n// pointing in the direction of the vector attribute.\n//\n// Each cone is made up of a top vertex, a center base vertex and base perimeter vertices.\n// These vertices are used to make up the triangles of the cone by the following:\n//   segment + 0 top vertex\n//   segment + 1 perimeter vertex a+1\n//   segment + 2 perimeter vertex a\n//   segment + 3 center base vertex\n//   segment + 4 perimeter vertex a\n//   segment + 5 perimeter vertex a+1\n// Where segment is the number of the radial segment * 6 and a is the angle at that radial segment.\n// To go from index to segment, floor(index / 6)\n// To go from segment to angle, 2*pi * (segment/segmentCount)\n// To go from index to segment index, index - (segment*6)\n//\nvec3 getConePosition(vec3 d, float rawIndex, float coneOffset, out vec3 normal) {\n\n  const float segmentCount = 8.0;\n\n  float index = rawIndex - floor(rawIndex /\n    (segmentCount * 6.0)) *\n    (segmentCount * 6.0);\n\n  float segment = floor(0.001 + index/6.0);\n  float segmentIndex = index - (segment*6.0);\n\n  normal = -normalize(d);\n\n  if (segmentIndex > 2.99 && segmentIndex < 3.01) {\n    return mix(vec3(0.0), -d, coneOffset);\n  }\n\n  float nextAngle = (\n    (segmentIndex > 0.99 &&  segmentIndex < 1.01) ||\n    (segmentIndex > 4.99 &&  segmentIndex < 5.01)\n  ) ? 1.0 : 0.0;\n  float angle = 2.0 * 3.14159 * ((segment + nextAngle) / segmentCount);\n\n  vec3 v1 = mix(d, vec3(0.0), coneOffset);\n  vec3 v2 = v1 - d;\n\n  vec3 u = getOrthogonalVector(d);\n  vec3 v = normalize(cross(u, d));\n\n  vec3 x = u * cos(angle) * length(d)*0.25;\n  vec3 y = v * sin(angle) * length(d)*0.25;\n  vec3 v3 = v2 + x + y;\n  if (segmentIndex < 3.0) {\n    vec3 tx = u * sin(angle);\n    vec3 ty = v * -cos(angle);\n    vec3 tangent = tx + ty;\n    normal = normalize(cross(v3 - v1, tangent));\n  }\n\n  if (segmentIndex == 0.0) {\n    return mix(d, vec3(0.0), coneOffset);\n  }\n  return v3;\n}\n\nattribute vec4 vector;\nattribute vec4 position;\nattribute vec4 id;\n\nuniform mat4 model, view, projection;\nuniform float vectorScale, coneScale, coneOffset;\n\nvarying vec3 f_position;\nvarying vec4 f_id;\n\nvoid main() {\n  vec3 normal;\n  vec3 XYZ = getConePosition(mat3(model) * ((vectorScale * coneScale) * vector.xyz), position.w, coneOffset, normal);\n  vec4 conePosition = model * vec4(position.xyz, 1.0) + vec4(XYZ, 0.0);\n  gl_Position = projection * view * conePosition;\n  f_id        = id;\n  f_position  = position.xyz;\n}\n"]),s=r(["precision highp float;\n#define GLSLIFY 1\n\nbool outOfRange(float a, float b, float p) {\n  return ((p > max(a, b)) || \n          (p < min(a, b)));\n}\n\nbool outOfRange(vec2 a, vec2 b, vec2 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y));\n}\n\nbool outOfRange(vec3 a, vec3 b, vec3 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y) ||\n          outOfRange(a.z, b.z, p.z));\n}\n\nbool outOfRange(vec4 a, vec4 b, vec4 p) {\n  return outOfRange(a.xyz, b.xyz, p.xyz);\n}\n\nuniform vec3  clipBounds[2];\nuniform float pickId;\n\nvarying vec3 f_position;\nvarying vec4 f_id;\n\nvoid main() {\n  if (outOfRange(clipBounds[0], clipBounds[1], f_position)) discard;\n\n  gl_FragColor = vec4(pickId, f_id.xyz);\n}"]);n.meshShader={vertex:i,fragment:a,attributes:[{name:"position",type:"vec4"},{name:"color",type:"vec4"},{name:"uv",type:"vec2"},{name:"vector",type:"vec3"}]},n.pickShader={vertex:o,fragment:s,attributes:[{name:"position",type:"vec4"},{name:"id",type:"vec4"},{name:"vector",type:"vec3"}]}},{glslify:110}],110:[function(e,t,n){arguments[4][104][0].apply(n,arguments)},{dup:104}],111:[function(e,t,n){t.exports={0:"NONE",1:"ONE",2:"LINE_LOOP",3:"LINE_STRIP",4:"TRIANGLES",5:"TRIANGLE_STRIP",6:"TRIANGLE_FAN",256:"DEPTH_BUFFER_BIT",512:"NEVER",513:"LESS",514:"EQUAL",515:"LEQUAL",516:"GREATER",517:"NOTEQUAL",518:"GEQUAL",519:"ALWAYS",768:"SRC_COLOR",769:"ONE_MINUS_SRC_COLOR",770:"SRC_ALPHA",771:"ONE_MINUS_SRC_ALPHA",772:"DST_ALPHA",773:"ONE_MINUS_DST_ALPHA",774:"DST_COLOR",775:"ONE_MINUS_DST_COLOR",776:"SRC_ALPHA_SATURATE",1024:"STENCIL_BUFFER_BIT",1028:"FRONT",1029:"BACK",1032:"FRONT_AND_BACK",1280:"INVALID_ENUM",1281:"INVALID_VALUE",1282:"INVALID_OPERATION",1285:"OUT_OF_MEMORY",1286:"INVALID_FRAMEBUFFER_OPERATION",2304:"CW",2305:"CCW",2849:"LINE_WIDTH",2884:"CULL_FACE",2885:"CULL_FACE_MODE",2886:"FRONT_FACE",2928:"DEPTH_RANGE",2929:"DEPTH_TEST",2930:"DEPTH_WRITEMASK",2931:"DEPTH_CLEAR_VALUE",2932:"DEPTH_FUNC",2960:"STENCIL_TEST",2961:"STENCIL_CLEAR_VALUE",2962:"STENCIL_FUNC",2963:"STENCIL_VALUE_MASK",2964:"STENCIL_FAIL",2965:"STENCIL_PASS_DEPTH_FAIL",2966:"STENCIL_PASS_DEPTH_PASS",2967:"STENCIL_REF",2968:"STENCIL_WRITEMASK",2978:"VIEWPORT",3024:"DITHER",3042:"BLEND",3088:"SCISSOR_BOX",3089:"SCISSOR_TEST",3106:"COLOR_CLEAR_VALUE",3107:"COLOR_WRITEMASK",3317:"UNPACK_ALIGNMENT",3333:"PACK_ALIGNMENT",3379:"MAX_TEXTURE_SIZE",3386:"MAX_VIEWPORT_DIMS",3408:"SUBPIXEL_BITS",3410:"RED_BITS",3411:"GREEN_BITS",3412:"BLUE_BITS",3413:"ALPHA_BITS",3414:"DEPTH_BITS",3415:"STENCIL_BITS",3553:"TEXTURE_2D",4352:"DONT_CARE",4353:"FASTEST",4354:"NICEST",5120:"BYTE",5121:"UNSIGNED_BYTE",5122:"SHORT",5123:"UNSIGNED_SHORT",5124:"INT",5125:"UNSIGNED_INT",5126:"FLOAT",5386:"INVERT",5890:"TEXTURE",6401:"STENCIL_INDEX",6402:"DEPTH_COMPONENT",6406:"ALPHA",6407:"RGB",6408:"RGBA",6409:"LUMINANCE",6410:"LUMINANCE_ALPHA",7680:"KEEP",7681:"REPLACE",7682:"INCR",7683:"DECR",7936:"VENDOR",7937:"RENDERER",7938:"VERSION",9728:"NEAREST",9729:"LINEAR",9984:"NEAREST_MIPMAP_NEAREST",9985:"LINEAR_MIPMAP_NEAREST",9986:"NEAREST_MIPMAP_LINEAR",9987:"LINEAR_MIPMAP_LINEAR",10240:"TEXTURE_MAG_FILTER",10241:"TEXTURE_MIN_FILTER",10242:"TEXTURE_WRAP_S",10243:"TEXTURE_WRAP_T",10497:"REPEAT",10752:"POLYGON_OFFSET_UNITS",16384:"COLOR_BUFFER_BIT",32769:"CONSTANT_COLOR",32770:"ONE_MINUS_CONSTANT_COLOR",32771:"CONSTANT_ALPHA",32772:"ONE_MINUS_CONSTANT_ALPHA",32773:"BLEND_COLOR",32774:"FUNC_ADD",32777:"BLEND_EQUATION_RGB",32778:"FUNC_SUBTRACT",32779:"FUNC_REVERSE_SUBTRACT",32819:"UNSIGNED_SHORT_4_4_4_4",32820:"UNSIGNED_SHORT_5_5_5_1",32823:"POLYGON_OFFSET_FILL",32824:"POLYGON_OFFSET_FACTOR",32854:"RGBA4",32855:"RGB5_A1",32873:"TEXTURE_BINDING_2D",32926:"SAMPLE_ALPHA_TO_COVERAGE",32928:"SAMPLE_COVERAGE",32936:"SAMPLE_BUFFERS",32937:"SAMPLES",32938:"SAMPLE_COVERAGE_VALUE",32939:"SAMPLE_COVERAGE_INVERT",32968:"BLEND_DST_RGB",32969:"BLEND_SRC_RGB",32970:"BLEND_DST_ALPHA",32971:"BLEND_SRC_ALPHA",33071:"CLAMP_TO_EDGE",33170:"GENERATE_MIPMAP_HINT",33189:"DEPTH_COMPONENT16",33306:"DEPTH_STENCIL_ATTACHMENT",33635:"UNSIGNED_SHORT_5_6_5",33648:"MIRRORED_REPEAT",33901:"ALIASED_POINT_SIZE_RANGE",33902:"ALIASED_LINE_WIDTH_RANGE",33984:"TEXTURE0",33985:"TEXTURE1",33986:"TEXTURE2",33987:"TEXTURE3",33988:"TEXTURE4",33989:"TEXTURE5",33990:"TEXTURE6",33991:"TEXTURE7",33992:"TEXTURE8",33993:"TEXTURE9",33994:"TEXTURE10",33995:"TEXTURE11",33996:"TEXTURE12",33997:"TEXTURE13",33998:"TEXTURE14",33999:"TEXTURE15",34e3:"TEXTURE16",34001:"TEXTURE17",34002:"TEXTURE18",34003:"TEXTURE19",34004:"TEXTURE20",34005:"TEXTURE21",34006:"TEXTURE22",34007:"TEXTURE23",34008:"TEXTURE24",34009:"TEXTURE25",34010:"TEXTURE26",34011:"TEXTURE27",34012:"TEXTURE28",34013:"TEXTURE29",34014:"TEXTURE30",34015:"TEXTURE31",34016:"ACTIVE_TEXTURE",34024:"MAX_RENDERBUFFER_SIZE",34041:"DEPTH_STENCIL",34055:"INCR_WRAP",34056:"DECR_WRAP",34067:"TEXTURE_CUBE_MAP",34068:"TEXTURE_BINDING_CUBE_MAP",34069:"TEXTURE_CUBE_MAP_POSITIVE_X",34070:"TEXTURE_CUBE_MAP_NEGATIVE_X",34071:"TEXTURE_CUBE_MAP_POSITIVE_Y",34072:"TEXTURE_CUBE_MAP_NEGATIVE_Y",34073:"TEXTURE_CUBE_MAP_POSITIVE_Z",34074:"TEXTURE_CUBE_MAP_NEGATIVE_Z",34076:"MAX_CUBE_MAP_TEXTURE_SIZE",34338:"VERTEX_ATTRIB_ARRAY_ENABLED",34339:"VERTEX_ATTRIB_ARRAY_SIZE",34340:"VERTEX_ATTRIB_ARRAY_STRIDE",34341:"VERTEX_ATTRIB_ARRAY_TYPE",34342:"CURRENT_VERTEX_ATTRIB",34373:"VERTEX_ATTRIB_ARRAY_POINTER",34466:"NUM_COMPRESSED_TEXTURE_FORMATS",34467:"COMPRESSED_TEXTURE_FORMATS",34660:"BUFFER_SIZE",34661:"BUFFER_USAGE",34816:"STENCIL_BACK_FUNC",34817:"STENCIL_BACK_FAIL",34818:"STENCIL_BACK_PASS_DEPTH_FAIL",34819:"STENCIL_BACK_PASS_DEPTH_PASS",34877:"BLEND_EQUATION_ALPHA",34921:"MAX_VERTEX_ATTRIBS",34922:"VERTEX_ATTRIB_ARRAY_NORMALIZED",34930:"MAX_TEXTURE_IMAGE_UNITS",34962:"ARRAY_BUFFER",34963:"ELEMENT_ARRAY_BUFFER",34964:"ARRAY_BUFFER_BINDING",34965:"ELEMENT_ARRAY_BUFFER_BINDING",34975:"VERTEX_ATTRIB_ARRAY_BUFFER_BINDING",35040:"STREAM_DRAW",35044:"STATIC_DRAW",35048:"DYNAMIC_DRAW",35632:"FRAGMENT_SHADER",35633:"VERTEX_SHADER",35660:"MAX_VERTEX_TEXTURE_IMAGE_UNITS",35661:"MAX_COMBINED_TEXTURE_IMAGE_UNITS",35663:"SHADER_TYPE",35664:"FLOAT_VEC2",35665:"FLOAT_VEC3",35666:"FLOAT_VEC4",35667:"INT_VEC2",35668:"INT_VEC3",35669:"INT_VEC4",35670:"BOOL",35671:"BOOL_VEC2",35672:"BOOL_VEC3",35673:"BOOL_VEC4",35674:"FLOAT_MAT2",35675:"FLOAT_MAT3",35676:"FLOAT_MAT4",35678:"SAMPLER_2D",35680:"SAMPLER_CUBE",35712:"DELETE_STATUS",35713:"COMPILE_STATUS",35714:"LINK_STATUS",35715:"VALIDATE_STATUS",35716:"INFO_LOG_LENGTH",35717:"ATTACHED_SHADERS",35718:"ACTIVE_UNIFORMS",35719:"ACTIVE_UNIFORM_MAX_LENGTH",35720:"SHADER_SOURCE_LENGTH",35721:"ACTIVE_ATTRIBUTES",35722:"ACTIVE_ATTRIBUTE_MAX_LENGTH",35724:"SHADING_LANGUAGE_VERSION",35725:"CURRENT_PROGRAM",36003:"STENCIL_BACK_REF",36004:"STENCIL_BACK_VALUE_MASK",36005:"STENCIL_BACK_WRITEMASK",36006:"FRAMEBUFFER_BINDING",36007:"RENDERBUFFER_BINDING",36048:"FRAMEBUFFER_ATTACHMENT_OBJECT_TYPE",36049:"FRAMEBUFFER_ATTACHMENT_OBJECT_NAME",36050:"FRAMEBUFFER_ATTACHMENT_TEXTURE_LEVEL",36051:"FRAMEBUFFER_ATTACHMENT_TEXTURE_CUBE_MAP_FACE",36053:"FRAMEBUFFER_COMPLETE",36054:"FRAMEBUFFER_INCOMPLETE_ATTACHMENT",36055:"FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT",36057:"FRAMEBUFFER_INCOMPLETE_DIMENSIONS",36061:"FRAMEBUFFER_UNSUPPORTED",36064:"COLOR_ATTACHMENT0",36096:"DEPTH_ATTACHMENT",36128:"STENCIL_ATTACHMENT",36160:"FRAMEBUFFER",36161:"RENDERBUFFER",36162:"RENDERBUFFER_WIDTH",36163:"RENDERBUFFER_HEIGHT",36164:"RENDERBUFFER_INTERNAL_FORMAT",36168:"STENCIL_INDEX8",36176:"RENDERBUFFER_RED_SIZE",36177:"RENDERBUFFER_GREEN_SIZE",36178:"RENDERBUFFER_BLUE_SIZE",36179:"RENDERBUFFER_ALPHA_SIZE",36180:"RENDERBUFFER_DEPTH_SIZE",36181:"RENDERBUFFER_STENCIL_SIZE",36194:"RGB565",36336:"LOW_FLOAT",36337:"MEDIUM_FLOAT",36338:"HIGH_FLOAT",36339:"LOW_INT",36340:"MEDIUM_INT",36341:"HIGH_INT",36346:"SHADER_COMPILER",36347:"MAX_VERTEX_UNIFORM_VECTORS",36348:"MAX_VARYING_VECTORS",36349:"MAX_FRAGMENT_UNIFORM_VECTORS",37440:"UNPACK_FLIP_Y_WEBGL",37441:"UNPACK_PREMULTIPLY_ALPHA_WEBGL",37442:"CONTEXT_LOST_WEBGL",37443:"UNPACK_COLORSPACE_CONVERSION_WEBGL",37444:"BROWSER_DEFAULT_WEBGL"}},{}],112:[function(e,t,n){var r=e("./1.0/numbers");t.exports=function(e){return r[e]}},{"./1.0/numbers":111}],113:[function(e,t,n){"use strict";t.exports=d;var r=e("gl-buffer"),i=e("gl-vao"),a=e("./shaders/index"),o=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];function s(e,t,n,r){this.gl=e,this.shader=r,this.buffer=t,this.vao=n,this.pixelRatio=1,this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],this.clipBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.lineWidth=[1,1,1],this.capSize=[10,10,10],this.lineCount=[0,0,0],this.lineOffset=[0,0,0],this.opacity=1,this.hasAlpha=!1}var l=s.prototype;function u(e,t){for(var n=0;n<3;++n)e[0][n]=Math.min(e[0][n],t[n]),e[1][n]=Math.max(e[1][n],t[n])}l.isOpaque=function(){return!this.hasAlpha},l.isTransparent=function(){return this.hasAlpha},l.drawTransparent=l.draw=function(e){var t=this.gl,n=this.shader.uniforms;this.shader.bind();var r=n.view=e.view||o,i=n.projection=e.projection||o;n.model=e.model||o,n.clipBounds=this.clipBounds,n.opacity=this.opacity;var a=r[12],s=r[13],l=r[14],u=r[15],c=(e._ortho?2:1)*this.pixelRatio*(i[3]*a+i[7]*s+i[11]*l+i[15]*u)/t.drawingBufferHeight;this.vao.bind();for(var f=0;f<3;++f)t.lineWidth(this.lineWidth[f]*this.pixelRatio),n.capSize=this.capSize[f]*c,this.lineCount[f]&&t.drawArrays(t.LINES,this.lineOffset[f],this.lineCount[f]);this.vao.unbind()};var c=function(){for(var e=new Array(3),t=0;t<3;++t){for(var n=[],r=1;r<=2;++r)for(var i=-1;i<=1;i+=2){var a=[0,0,0];a[(r+t)%3]=i,n.push(a)}e[t]=n}return e}();function f(e,t,n,r){for(var i=c[r],a=0;a<i.length;++a){var o=i[a];e.push(t[0],t[1],t[2],n[0],n[1],n[2],n[3],o[0],o[1],o[2])}return i.length}function d(e){var t=e.gl,n=r(t),o=i(t,[{buffer:n,type:t.FLOAT,size:3,offset:0,stride:40},{buffer:n,type:t.FLOAT,size:4,offset:12,stride:40},{buffer:n,type:t.FLOAT,size:3,offset:28,stride:40}]),l=a(t);l.attributes.position.location=0,l.attributes.color.location=1,l.attributes.offset.location=2;var u=new s(t,n,o,l);return u.update(e),u}l.update=function(e){"lineWidth"in(e=e||{})&&(this.lineWidth=e.lineWidth,Array.isArray(this.lineWidth)||(this.lineWidth=[this.lineWidth,this.lineWidth,this.lineWidth])),"capSize"in e&&(this.capSize=e.capSize,Array.isArray(this.capSize)||(this.capSize=[this.capSize,this.capSize,this.capSize])),this.hasAlpha=!1,"opacity"in e&&(this.opacity=+e.opacity,this.opacity<1&&(this.hasAlpha=!0));var t=e.color||[[0,0,0],[0,0,0],[0,0,0]],n=e.position,r=e.error;if(Array.isArray(t[0])||(t=[t,t,t]),n&&r){var i=[],a=n.length,o=0;this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],this.lineCount=[0,0,0];for(var s=0;s<3;++s){this.lineOffset[s]=o;e:for(var l=0;l<a;++l){for(var c=n[l],d=0;d<3;++d)if(isNaN(c[d])||!isFinite(c[d]))continue e;var h,p=r[l],g=t[s];if(Array.isArray(g[0])&&(g=t[l]),3===g.length?g=[g[0],g[1],g[2],1]:4===g.length&&(g=[g[0],g[1],g[2],g[3]],!this.hasAlpha&&g[3]<1&&(this.hasAlpha=!0)),!isNaN(p[0][s])&&!isNaN(p[1][s]))p[0][s]<0&&((h=c.slice())[s]+=p[0][s],i.push(c[0],c[1],c[2],g[0],g[1],g[2],g[3],0,0,0,h[0],h[1],h[2],g[0],g[1],g[2],g[3],0,0,0),u(this.bounds,h),o+=2+f(i,h,g,s)),p[1][s]>0&&((h=c.slice())[s]+=p[1][s],i.push(c[0],c[1],c[2],g[0],g[1],g[2],g[3],0,0,0,h[0],h[1],h[2],g[0],g[1],g[2],g[3],0,0,0),u(this.bounds,h),o+=2+f(i,h,g,s))}this.lineCount[s]=o-this.lineOffset[s]}this.buffer.update(i)}},l.dispose=function(){this.shader.dispose(),this.buffer.dispose(),this.vao.dispose()}},{"./shaders/index":115,"gl-buffer":106,"gl-vao":186}],114:[function(e,t,n){arguments[4][104][0].apply(n,arguments)},{dup:104}],115:[function(e,t,n){"use strict";var r=e("glslify"),i=e("gl-shader"),a=r(["precision highp float;\n#define GLSLIFY 1\n\nattribute vec3 position, offset;\nattribute vec4 color;\nuniform mat4 model, view, projection;\nuniform float capSize;\nvarying vec4 fragColor;\nvarying vec3 fragPosition;\n\nvoid main() {\n  vec4 worldPosition  = model * vec4(position, 1.0);\n  worldPosition       = (worldPosition / worldPosition.w) + vec4(capSize * offset, 0.0);\n  gl_Position         = projection * view * worldPosition;\n  fragColor           = color;\n  fragPosition        = position;\n}"]),o=r(["precision highp float;\n#define GLSLIFY 1\n\nbool outOfRange(float a, float b, float p) {\n  return ((p > max(a, b)) || \n          (p < min(a, b)));\n}\n\nbool outOfRange(vec2 a, vec2 b, vec2 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y));\n}\n\nbool outOfRange(vec3 a, vec3 b, vec3 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y) ||\n          outOfRange(a.z, b.z, p.z));\n}\n\nbool outOfRange(vec4 a, vec4 b, vec4 p) {\n  return outOfRange(a.xyz, b.xyz, p.xyz);\n}\n\nuniform vec3 clipBounds[2];\nuniform float opacity;\nvarying vec3 fragPosition;\nvarying vec4 fragColor;\n\nvoid main() {\n  if (\n    outOfRange(clipBounds[0], clipBounds[1], fragPosition) ||\n    fragColor.a * opacity == 0.\n  ) discard;\n\n  gl_FragColor = opacity * fragColor;\n}"]);t.exports=function(e){return i(e,a,o,null,[{name:"position",type:"vec3"},{name:"color",type:"vec4"},{name:"offset",type:"vec3"}])}},{"gl-shader":166,glslify:114}],116:[function(e,t,n){"use strict";var r=e("gl-texture2d");t.exports=b;var i,a,o,s,l=null;function u(e){return[e.getParameter(e.FRAMEBUFFER_BINDING),e.getParameter(e.RENDERBUFFER_BINDING),e.getParameter(e.TEXTURE_BINDING_2D)]}function c(e,t){e.bindFramebuffer(e.FRAMEBUFFER,t[0]),e.bindRenderbuffer(e.RENDERBUFFER,t[1]),e.bindTexture(e.TEXTURE_2D,t[2])}function f(e,t){var n=e.getParameter(t.MAX_COLOR_ATTACHMENTS_WEBGL);l=new Array(n+1);for(var r=0;r<=n;++r){for(var i=new Array(n),a=0;a<r;++a)i[a]=e.COLOR_ATTACHMENT0+a;for(a=r;a<n;++a)i[a]=e.NONE;l[r]=i}}function d(e){switch(e){case i:throw new Error("gl-fbo: Framebuffer unsupported");case a:throw new Error("gl-fbo: Framebuffer incomplete attachment");case o:throw new Error("gl-fbo: Framebuffer incomplete dimensions");case s:throw new Error("gl-fbo: Framebuffer incomplete missing attachment");default:throw new Error("gl-fbo: Framebuffer failed for unspecified reason")}}function h(e,t,n,i,a,o){if(!i)return null;var s=r(e,t,n,a,i);return s.magFilter=e.NEAREST,s.minFilter=e.NEAREST,s.mipSamples=1,s.bind(),e.framebufferTexture2D(e.FRAMEBUFFER,o,e.TEXTURE_2D,s.handle,0),s}function p(e,t,n,r,i){var a=e.createRenderbuffer();return e.bindRenderbuffer(e.RENDERBUFFER,a),e.renderbufferStorage(e.RENDERBUFFER,r,t,n),e.framebufferRenderbuffer(e.FRAMEBUFFER,i,e.RENDERBUFFER,a),a}function g(e){var t=u(e.gl),n=e.gl,r=e.handle=n.createFramebuffer(),i=e._shape[0],a=e._shape[1],o=e.color.length,s=e._ext,f=e._useStencil,g=e._useDepth,v=e._colorType;n.bindFramebuffer(n.FRAMEBUFFER,r);for(var m=0;m<o;++m)e.color[m]=h(n,i,a,v,n.RGBA,n.COLOR_ATTACHMENT0+m);0===o?(e._color_rb=p(n,i,a,n.RGBA4,n.COLOR_ATTACHMENT0),s&&s.drawBuffersWEBGL(l[0])):o>1&&s.drawBuffersWEBGL(l[o]);var y=n.getExtension("WEBGL_depth_texture");y?f?e.depth=h(n,i,a,y.UNSIGNED_INT_24_8_WEBGL,n.DEPTH_STENCIL,n.DEPTH_STENCIL_ATTACHMENT):g&&(e.depth=h(n,i,a,n.UNSIGNED_SHORT,n.DEPTH_COMPONENT,n.DEPTH_ATTACHMENT)):g&&f?e._depth_rb=p(n,i,a,n.DEPTH_STENCIL,n.DEPTH_STENCIL_ATTACHMENT):g?e._depth_rb=p(n,i,a,n.DEPTH_COMPONENT16,n.DEPTH_ATTACHMENT):f&&(e._depth_rb=p(n,i,a,n.STENCIL_INDEX,n.STENCIL_ATTACHMENT));var b=n.checkFramebufferStatus(n.FRAMEBUFFER);if(b!==n.FRAMEBUFFER_COMPLETE){for(e._destroyed=!0,n.bindFramebuffer(n.FRAMEBUFFER,null),n.deleteFramebuffer(e.handle),e.handle=null,e.depth&&(e.depth.dispose(),e.depth=null),e._depth_rb&&(n.deleteRenderbuffer(e._depth_rb),e._depth_rb=null),m=0;m<e.color.length;++m)e.color[m].dispose(),e.color[m]=null;e._color_rb&&(n.deleteRenderbuffer(e._color_rb),e._color_rb=null),c(n,t),d(b)}c(n,t)}function v(e,t,n,r,i,a,o,s){this.gl=e,this._shape=[0|t,0|n],this._destroyed=!1,this._ext=s,this.color=new Array(i);for(var l=0;l<i;++l)this.color[l]=null;this._color_rb=null,this.depth=null,this._depth_rb=null,this._colorType=r,this._useDepth=a,this._useStencil=o;var u=this,c=[0|t,0|n];Object.defineProperties(c,{0:{get:function(){return u._shape[0]},set:function(e){return u.width=e}},1:{get:function(){return u._shape[1]},set:function(e){return u.height=e}}}),this._shapeVector=c,g(this)}var m=v.prototype;function y(e,t,n){if(e._destroyed)throw new Error("gl-fbo: Can't resize destroyed FBO");if(e._shape[0]!==t||e._shape[1]!==n){var r=e.gl,i=r.getParameter(r.MAX_RENDERBUFFER_SIZE);if(t<0||t>i||n<0||n>i)throw new Error("gl-fbo: Can't resize FBO, invalid dimensions");e._shape[0]=t,e._shape[1]=n;for(var a=u(r),o=0;o<e.color.length;++o)e.color[o].shape=e._shape;e._color_rb&&(r.bindRenderbuffer(r.RENDERBUFFER,e._color_rb),r.renderbufferStorage(r.RENDERBUFFER,r.RGBA4,e._shape[0],e._shape[1])),e.depth&&(e.depth.shape=e._shape),e._depth_rb&&(r.bindRenderbuffer(r.RENDERBUFFER,e._depth_rb),e._useDepth&&e._useStencil?r.renderbufferStorage(r.RENDERBUFFER,r.DEPTH_STENCIL,e._shape[0],e._shape[1]):e._useDepth?r.renderbufferStorage(r.RENDERBUFFER,r.DEPTH_COMPONENT16,e._shape[0],e._shape[1]):e._useStencil&&r.renderbufferStorage(r.RENDERBUFFER,r.STENCIL_INDEX,e._shape[0],e._shape[1])),r.bindFramebuffer(r.FRAMEBUFFER,e.handle);var s=r.checkFramebufferStatus(r.FRAMEBUFFER);s!==r.FRAMEBUFFER_COMPLETE&&(e.dispose(),c(r,a),d(s)),c(r,a)}}function b(e,t,n,r){i||(i=e.FRAMEBUFFER_UNSUPPORTED,a=e.FRAMEBUFFER_INCOMPLETE_ATTACHMENT,o=e.FRAMEBUFFER_INCOMPLETE_DIMENSIONS,s=e.FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT);var u=e.getExtension("WEBGL_draw_buffers");if(!l&&u&&f(e,u),Array.isArray(t)&&(r=n,n=0|t[1],t=0|t[0]),"number"!==typeof t)throw new Error("gl-fbo: Missing shape parameter");var c=e.getParameter(e.MAX_RENDERBUFFER_SIZE);if(t<0||t>c||n<0||n>c)throw new Error("gl-fbo: Parameters are too large for FBO");var d=1;if("color"in(r=r||{})){if((d=Math.max(0|r.color,0))<0)throw new Error("gl-fbo: Must specify a nonnegative number of colors");if(d>1){if(!u)throw new Error("gl-fbo: Multiple draw buffer extension not supported");if(d>e.getParameter(u.MAX_COLOR_ATTACHMENTS_WEBGL))throw new Error("gl-fbo: Context does not support "+d+" draw buffers")}}var h=e.UNSIGNED_BYTE,p=e.getExtension("OES_texture_float");if(r.float&&d>0){if(!p)throw new Error("gl-fbo: Context does not support floating point textures");h=e.FLOAT}else r.preferFloat&&d>0&&p&&(h=e.FLOAT);var g=!0;"depth"in r&&(g=!!r.depth);var m=!1;return"stencil"in r&&(m=!!r.stencil),new v(e,t,n,h,d,g,m,u)}Object.defineProperties(m,{shape:{get:function(){return this._destroyed?[0,0]:this._shapeVector},set:function(e){if(Array.isArray(e)||(e=[0|e,0|e]),2!==e.length)throw new Error("gl-fbo: Shape vector must be length 2");var t=0|e[0],n=0|e[1];return y(this,t,n),[t,n]},enumerable:!1},width:{get:function(){return this._destroyed?0:this._shape[0]},set:function(e){return y(this,e|=0,this._shape[1]),e},enumerable:!1},height:{get:function(){return this._destroyed?0:this._shape[1]},set:function(e){return e|=0,y(this,this._shape[0],e),e},enumerable:!1}}),m.bind=function(){if(!this._destroyed){var e=this.gl;e.bindFramebuffer(e.FRAMEBUFFER,this.handle),e.viewport(0,0,this._shape[0],this._shape[1])}},m.dispose=function(){if(!this._destroyed){this._destroyed=!0;var e=this.gl;e.deleteFramebuffer(this.handle),this.handle=null,this.depth&&(this.depth.dispose(),this.depth=null),this._depth_rb&&(e.deleteRenderbuffer(this._depth_rb),this._depth_rb=null);for(var t=0;t<this.color.length;++t)this.color[t].dispose(),this.color[t]=null;this._color_rb&&(e.deleteRenderbuffer(this._color_rb),this._color_rb=null)}}},{"gl-texture2d":182}],117:[function(e,t,n){var r=e("sprintf-js").sprintf,i=e("gl-constants/lookup"),a=e("glsl-shader-name"),o=e("add-line-numbers");function s(e,t,n){"use strict";var s=a(t)||"of unknown name (see npm glsl-shader-name)",l="unknown type";void 0!==n&&(l=n===i.FRAGMENT_SHADER?"fragment":"vertex");for(var u=r("Error compiling %s shader %s:\n",l,s),c=r("%s%s",u,e),f=e.split("\n"),d={},h=0;h<f.length;h++){var p=f[h];if(""!==p&&"\0"!==p){var g=parseInt(p.split(":")[2]);if(isNaN(g))throw new Error(r("Could not parse error: %s",p));d[g]=p}}var v=o(t).split("\n");for(h=0;h<v.length;h++)if((d[h+3]||d[h+2]||d[h+1])&&(u+=v[h]+"\n",d[h+1])){var m=d[h+1];m=m.substr(m.split(":",3).join(":").length+1).trim(),u+=r("^^^ %s\n\n",m)}return{long:u.trim(),short:c.trim()}}t.exports=s},{"add-line-numbers":13,"gl-constants/lookup":112,"glsl-shader-name":259,"sprintf-js":358}],118:[function(e,t,n){var r=e("glslify"),i=e("gl-shader"),a=r(["precision highp float;\n#define GLSLIFY 1\n\nattribute vec3 position, nextPosition;\nattribute float arcLength, lineWidth;\nattribute vec4 color;\n\nuniform vec2 screenShape;\nuniform float pixelRatio;\nuniform mat4 model, view, projection;\n\nvarying vec4 fragColor;\nvarying vec3 worldPosition;\nvarying float pixelArcLength;\n\nvec4 project(vec3 p) {\n  return projection * view * model * vec4(p, 1.0);\n}\n\nvoid main() {\n  vec4 startPoint = project(position);\n  vec4 endPoint   = project(nextPosition);\n\n  vec2 A = startPoint.xy / startPoint.w;\n  vec2 B =   endPoint.xy /   endPoint.w;\n\n  float clipAngle = atan(\n    (B.y - A.y) * screenShape.y,\n    (B.x - A.x) * screenShape.x\n  );\n\n  vec2 offset = 0.5 * pixelRatio * lineWidth * vec2(\n    sin(clipAngle),\n    -cos(clipAngle)\n  ) / screenShape;\n\n  gl_Position = vec4(startPoint.xy + startPoint.w * offset, startPoint.zw);\n\n  worldPosition = position;\n  pixelArcLength = arcLength;\n  fragColor = color;\n}\n"]),o=r(["precision highp float;\n#define GLSLIFY 1\n\nbool outOfRange(float a, float b, float p) {\n  return ((p > max(a, b)) || \n          (p < min(a, b)));\n}\n\nbool outOfRange(vec2 a, vec2 b, vec2 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y));\n}\n\nbool outOfRange(vec3 a, vec3 b, vec3 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y) ||\n          outOfRange(a.z, b.z, p.z));\n}\n\nbool outOfRange(vec4 a, vec4 b, vec4 p) {\n  return outOfRange(a.xyz, b.xyz, p.xyz);\n}\n\nuniform vec3      clipBounds[2];\nuniform sampler2D dashTexture;\nuniform float     dashScale;\nuniform float     opacity;\n\nvarying vec3    worldPosition;\nvarying float   pixelArcLength;\nvarying vec4    fragColor;\n\nvoid main() {\n  if (\n    outOfRange(clipBounds[0], clipBounds[1], worldPosition) ||\n    fragColor.a * opacity == 0.\n  ) discard;\n\n  float dashWeight = texture2D(dashTexture, vec2(dashScale * pixelArcLength, 0)).r;\n  if(dashWeight < 0.5) {\n    discard;\n  }\n  gl_FragColor = fragColor * opacity;\n}\n"]),s=r(["precision highp float;\n#define GLSLIFY 1\n\n#define FLOAT_MAX  1.70141184e38\n#define FLOAT_MIN  1.17549435e-38\n\n// https://github.com/mikolalysenko/glsl-read-float/blob/master/index.glsl\nvec4 packFloat(float v) {\n  float av = abs(v);\n\n  //Handle special cases\n  if(av < FLOAT_MIN) {\n    return vec4(0.0, 0.0, 0.0, 0.0);\n  } else if(v > FLOAT_MAX) {\n    return vec4(127.0, 128.0, 0.0, 0.0) / 255.0;\n  } else if(v < -FLOAT_MAX) {\n    return vec4(255.0, 128.0, 0.0, 0.0) / 255.0;\n  }\n\n  vec4 c = vec4(0,0,0,0);\n\n  //Compute exponent and mantissa\n  float e = floor(log2(av));\n  float m = av * pow(2.0, -e) - 1.0;\n\n  //Unpack mantissa\n  c[1] = floor(128.0 * m);\n  m -= c[1] / 128.0;\n  c[2] = floor(32768.0 * m);\n  m -= c[2] / 32768.0;\n  c[3] = floor(8388608.0 * m);\n\n  //Unpack exponent\n  float ebias = e + 127.0;\n  c[0] = floor(ebias / 2.0);\n  ebias -= c[0] * 2.0;\n  c[1] += floor(ebias) * 128.0;\n\n  //Unpack sign bit\n  c[0] += 128.0 * step(0.0, -v);\n\n  //Scale back to range\n  return c / 255.0;\n}\n\nbool outOfRange(float a, float b, float p) {\n  return ((p > max(a, b)) || \n          (p < min(a, b)));\n}\n\nbool outOfRange(vec2 a, vec2 b, vec2 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y));\n}\n\nbool outOfRange(vec3 a, vec3 b, vec3 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y) ||\n          outOfRange(a.z, b.z, p.z));\n}\n\nbool outOfRange(vec4 a, vec4 b, vec4 p) {\n  return outOfRange(a.xyz, b.xyz, p.xyz);\n}\n\nuniform float pickId;\nuniform vec3 clipBounds[2];\n\nvarying vec3 worldPosition;\nvarying float pixelArcLength;\nvarying vec4 fragColor;\n\nvoid main() {\n  if (outOfRange(clipBounds[0], clipBounds[1], worldPosition)) discard;\n\n  gl_FragColor = vec4(pickId/255.0, packFloat(pixelArcLength).xyz);\n}"]),l=[{name:"position",type:"vec3"},{name:"nextPosition",type:"vec3"},{name:"arcLength",type:"float"},{name:"lineWidth",type:"float"},{name:"color",type:"vec4"}];n.createShader=function(e){return i(e,a,o,null,l)},n.createPickShader=function(e){return i(e,a,s,null,l)}},{"gl-shader":166,glslify:120}],119:[function(e,t,n){"use strict";t.exports=x;var r=e("gl-buffer"),i=e("gl-vao"),a=e("gl-texture2d"),o=new Uint8Array(4),s=new Float32Array(o.buffer);function l(e,t,n,r){return o[0]=r,o[1]=n,o[2]=t,o[3]=e,s[0]}var u=e("binary-search-bounds"),c=e("ndarray"),f=e("./lib/shaders"),d=f.createShader,h=f.createPickShader,p=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];function g(e,t){for(var n=0,r=0;r<3;++r){var i=e[r]-t[r];n+=i*i}return Math.sqrt(n)}function v(e){for(var t=[[-1e6,-1e6,-1e6],[1e6,1e6,1e6]],n=0;n<3;++n)t[0][n]=Math.max(e[0][n],t[0][n]),t[1][n]=Math.min(e[1][n],t[1][n]);return t}function m(e,t,n,r){this.arcLength=e,this.position=t,this.index=n,this.dataCoordinate=r}function y(e,t,n,r,i,a){this.gl=e,this.shader=t,this.pickShader=n,this.buffer=r,this.vao=i,this.clipBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.points=[],this.arcLength=[],this.vertexCount=0,this.bounds=[[0,0,0],[0,0,0]],this.pickId=0,this.lineWidth=1,this.texture=a,this.dashScale=1,this.opacity=1,this.hasAlpha=!1,this.dirty=!0,this.pixelRatio=1}var b=y.prototype;function x(e){var t=e.gl||e.scene&&e.scene.gl,n=d(t);n.attributes.position.location=0,n.attributes.nextPosition.location=1,n.attributes.arcLength.location=2,n.attributes.lineWidth.location=3,n.attributes.color.location=4;var o=h(t);o.attributes.position.location=0,o.attributes.nextPosition.location=1,o.attributes.arcLength.location=2,o.attributes.lineWidth.location=3,o.attributes.color.location=4;for(var s=r(t),l=i(t,[{buffer:s,size:3,offset:0,stride:48},{buffer:s,size:3,offset:12,stride:48},{buffer:s,size:1,offset:24,stride:48},{buffer:s,size:1,offset:28,stride:48},{buffer:s,size:4,offset:32,stride:48}]),u=c(new Array(1024),[256,1,4]),f=0;f<1024;++f)u.data[f]=255;var p=a(t,u);p.wrap=t.REPEAT;var g=new y(t,n,o,s,l,p);return g.update(e),g}b.isTransparent=function(){return this.hasAlpha},b.isOpaque=function(){return!this.hasAlpha},b.pickSlots=1,b.setPickBase=function(e){this.pickId=e},b.drawTransparent=b.draw=function(e){if(this.vertexCount){var t=this.gl,n=this.shader,r=this.vao;n.bind(),n.uniforms={model:e.model||p,view:e.view||p,projection:e.projection||p,clipBounds:v(this.clipBounds),dashTexture:this.texture.bind(),dashScale:this.dashScale/this.arcLength[this.arcLength.length-1],opacity:this.opacity,screenShape:[t.drawingBufferWidth,t.drawingBufferHeight],pixelRatio:this.pixelRatio},r.bind(),r.draw(t.TRIANGLE_STRIP,this.vertexCount),r.unbind()}},b.drawPick=function(e){if(this.vertexCount){var t=this.gl,n=this.pickShader,r=this.vao;n.bind(),n.uniforms={model:e.model||p,view:e.view||p,projection:e.projection||p,pickId:this.pickId,clipBounds:v(this.clipBounds),screenShape:[t.drawingBufferWidth,t.drawingBufferHeight],pixelRatio:this.pixelRatio},r.bind(),r.draw(t.TRIANGLE_STRIP,this.vertexCount),r.unbind()}},b.update=function(e){var t,n;this.dirty=!0;var r=!!e.connectGaps;"dashScale"in e&&(this.dashScale=e.dashScale),this.hasAlpha=!1,"opacity"in e&&(this.opacity=+e.opacity,this.opacity<1&&(this.hasAlpha=!0));var i=[],a=[],o=[],s=0,l=0,f=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],d=e.position||e.positions;if(d){var h=e.color||e.colors||[0,0,0,1],p=e.lineWidth||1,v=!1;e:for(t=1;t<d.length;++t){var m,y,b,x=d[t-1],_=d[t];for(a.push(s),o.push(x.slice()),n=0;n<3;++n){if(isNaN(x[n])||isNaN(_[n])||!isFinite(x[n])||!isFinite(_[n])){if(!r&&i.length>0){for(var w=0;w<24;++w)i.push(i[i.length-12]);l+=2,v=!0}continue e}f[0][n]=Math.min(f[0][n],x[n],_[n]),f[1][n]=Math.max(f[1][n],x[n],_[n])}Array.isArray(h[0])?(m=h.length>t-1?h[t-1]:h.length>0?h[h.length-1]:[0,0,0,1],y=h.length>t?h[t]:h.length>0?h[h.length-1]:[0,0,0,1]):m=y=h,3===m.length&&(m=[m[0],m[1],m[2],1]),3===y.length&&(y=[y[0],y[1],y[2],1]),!this.hasAlpha&&m[3]<1&&(this.hasAlpha=!0),b=Array.isArray(p)?p.length>t-1?p[t-1]:p.length>0?p[p.length-1]:[0,0,0,1]:p;var k=s;if(s+=g(x,_),v){for(n=0;n<2;++n)i.push(x[0],x[1],x[2],_[0],_[1],_[2],k,b,m[0],m[1],m[2],m[3]);l+=2,v=!1}i.push(x[0],x[1],x[2],_[0],_[1],_[2],k,b,m[0],m[1],m[2],m[3],x[0],x[1],x[2],_[0],_[1],_[2],k,-b,m[0],m[1],m[2],m[3],_[0],_[1],_[2],x[0],x[1],x[2],s,-b,y[0],y[1],y[2],y[3],_[0],_[1],_[2],x[0],x[1],x[2],s,b,y[0],y[1],y[2],y[3]),l+=4}}if(this.buffer.update(i),a.push(s),o.push(d[d.length-1].slice()),this.bounds=f,this.vertexCount=l,this.points=o,this.arcLength=a,"dashes"in e){var M=e.dashes.slice();for(M.unshift(0),t=1;t<M.length;++t)M[t]=M[t-1]+M[t];var T=c(new Array(1024),[256,1,4]);for(t=0;t<256;++t){for(n=0;n<4;++n)T.set(t,0,n,0);1&u.le(M,M[M.length-1]*t/255)?T.set(t,0,0,0):T.set(t,0,0,255)}this.texture.setPixels(T)}},b.dispose=function(){this.shader.dispose(),this.vao.dispose(),this.buffer.dispose()},b.pick=function(e){if(!e)return null;if(e.id!==this.pickId)return null;var t=l(e.value[0],e.value[1],e.value[2],0),n=u.le(this.arcLength,t);if(n<0)return null;if(n===this.arcLength.length-1)return new m(this.arcLength[this.arcLength.length-1],this.points[this.points.length-1].slice(),n);for(var r=this.points[n],i=this.points[Math.min(n+1,this.points.length-1)],a=(t-this.arcLength[n])/(this.arcLength[n+1]-this.arcLength[n]),o=1-a,s=[0,0,0],c=0;c<3;++c)s[c]=o*r[c]+a*i[c];var f=Math.min(a<.5?n:n+1,this.points.length-1);return new m(t,s,f,this.points[f])}},{"./lib/shaders":118,"binary-search-bounds":36,"gl-buffer":106,"gl-texture2d":182,"gl-vao":186,ndarray:301}],120:[function(e,t,n){arguments[4][104][0].apply(n,arguments)},{dup:104}],121:[function(e,t,n){function r(e,t){var n=t[0],r=t[1],i=t[2],a=t[3],o=t[4],s=t[5],l=t[6],u=t[7],c=t[8],f=t[9],d=t[10],h=t[11],p=t[12],g=t[13],v=t[14],m=t[15];return e[0]=s*(d*m-h*v)-f*(l*m-u*v)+g*(l*h-u*d),e[1]=-(r*(d*m-h*v)-f*(i*m-a*v)+g*(i*h-a*d)),e[2]=r*(l*m-u*v)-s*(i*m-a*v)+g*(i*u-a*l),e[3]=-(r*(l*h-u*d)-s*(i*h-a*d)+f*(i*u-a*l)),e[4]=-(o*(d*m-h*v)-c*(l*m-u*v)+p*(l*h-u*d)),e[5]=n*(d*m-h*v)-c*(i*m-a*v)+p*(i*h-a*d),e[6]=-(n*(l*m-u*v)-o*(i*m-a*v)+p*(i*u-a*l)),e[7]=n*(l*h-u*d)-o*(i*h-a*d)+c*(i*u-a*l),e[8]=o*(f*m-h*g)-c*(s*m-u*g)+p*(s*h-u*f),e[9]=-(n*(f*m-h*g)-c*(r*m-a*g)+p*(r*h-a*f)),e[10]=n*(s*m-u*g)-o*(r*m-a*g)+p*(r*u-a*s),e[11]=-(n*(s*h-u*f)-o*(r*h-a*f)+c*(r*u-a*s)),e[12]=-(o*(f*v-d*g)-c*(s*v-l*g)+p*(s*d-l*f)),e[13]=n*(f*v-d*g)-c*(r*v-i*g)+p*(r*d-i*f),e[14]=-(n*(s*v-l*g)-o*(r*v-i*g)+p*(r*l-i*s)),e[15]=n*(s*d-l*f)-o*(r*d-i*f)+c*(r*l-i*s),e}t.exports=r},{}],122:[function(e,t,n){function r(e){var t=new Float32Array(16);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t}t.exports=r},{}],123:[function(e,t,n){function r(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e}t.exports=r},{}],124:[function(e,t,n){function r(){var e=new Float32Array(16);return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}t.exports=r},{}],125:[function(e,t,n){function r(e){var t=e[0],n=e[1],r=e[2],i=e[3],a=e[4],o=e[5],s=e[6],l=e[7],u=e[8],c=e[9],f=e[10],d=e[11],h=e[12],p=e[13],g=e[14],v=e[15];return(t*o-n*a)*(f*v-d*g)-(t*s-r*a)*(c*v-d*p)+(t*l-i*a)*(c*g-f*p)+(n*s-r*o)*(u*v-d*h)-(n*l-i*o)*(u*g-f*h)+(r*l-i*s)*(u*p-c*h)}t.exports=r},{}],126:[function(e,t,n){function r(e,t){var n=t[0],r=t[1],i=t[2],a=t[3],o=n+n,s=r+r,l=i+i,u=n*o,c=r*o,f=r*s,d=i*o,h=i*s,p=i*l,g=a*o,v=a*s,m=a*l;return e[0]=1-f-p,e[1]=c+m,e[2]=d-v,e[3]=0,e[4]=c-m,e[5]=1-u-p,e[6]=h+g,e[7]=0,e[8]=d+v,e[9]=h-g,e[10]=1-u-f,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}t.exports=r},{}],127:[function(e,t,n){function r(e,t,n){var r,i,a,o=n[0],s=n[1],l=n[2],u=Math.sqrt(o*o+s*s+l*l);return Math.abs(u)<1e-6?null:(o*=u=1/u,s*=u,l*=u,r=Math.sin(t),a=1-(i=Math.cos(t)),e[0]=o*o*a+i,e[1]=s*o*a+l*r,e[2]=l*o*a-s*r,e[3]=0,e[4]=o*s*a-l*r,e[5]=s*s*a+i,e[6]=l*s*a+o*r,e[7]=0,e[8]=o*l*a+s*r,e[9]=s*l*a-o*r,e[10]=l*l*a+i,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e)}t.exports=r},{}],128:[function(e,t,n){function r(e,t,n){var r=t[0],i=t[1],a=t[2],o=t[3],s=r+r,l=i+i,u=a+a,c=r*s,f=r*l,d=r*u,h=i*l,p=i*u,g=a*u,v=o*s,m=o*l,y=o*u;return e[0]=1-(h+g),e[1]=f+y,e[2]=d-m,e[3]=0,e[4]=f-y,e[5]=1-(c+g),e[6]=p+v,e[7]=0,e[8]=d+m,e[9]=p-v,e[10]=1-(c+h),e[11]=0,e[12]=n[0],e[13]=n[1],e[14]=n[2],e[15]=1,e}t.exports=r},{}],129:[function(e,t,n){function r(e,t){return e[0]=t[0],e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=t[1],e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=t[2],e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}t.exports=r},{}],130:[function(e,t,n){function r(e,t){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=t[0],e[13]=t[1],e[14]=t[2],e[15]=1,e}t.exports=r},{}],131:[function(e,t,n){function r(e,t){var n=Math.sin(t),r=Math.cos(t);return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=r,e[6]=n,e[7]=0,e[8]=0,e[9]=-n,e[10]=r,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}t.exports=r},{}],132:[function(e,t,n){function r(e,t){var n=Math.sin(t),r=Math.cos(t);return e[0]=r,e[1]=0,e[2]=-n,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=n,e[9]=0,e[10]=r,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}t.exports=r},{}],133:[function(e,t,n){function r(e,t){var n=Math.sin(t),r=Math.cos(t);return e[0]=r,e[1]=n,e[2]=0,e[3]=0,e[4]=-n,e[5]=r,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}t.exports=r},{}],134:[function(e,t,n){function r(e,t,n,r,i,a,o){var s=1/(n-t),l=1/(i-r),u=1/(a-o);return e[0]=2*a*s,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=2*a*l,e[6]=0,e[7]=0,e[8]=(n+t)*s,e[9]=(i+r)*l,e[10]=(o+a)*u,e[11]=-1,e[12]=0,e[13]=0,e[14]=o*a*2*u,e[15]=0,e}t.exports=r},{}],135:[function(e,t,n){function r(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}t.exports=r},{}],136:[function(e,t,n){t.exports={create:e("./create"),clone:e("./clone"),copy:e("./copy"),identity:e("./identity"),transpose:e("./transpose"),invert:e("./invert"),adjoint:e("./adjoint"),determinant:e("./determinant"),multiply:e("./multiply"),translate:e("./translate"),scale:e("./scale"),rotate:e("./rotate"),rotateX:e("./rotateX"),rotateY:e("./rotateY"),rotateZ:e("./rotateZ"),fromRotation:e("./fromRotation"),fromRotationTranslation:e("./fromRotationTranslation"),fromScaling:e("./fromScaling"),fromTranslation:e("./fromTranslation"),fromXRotation:e("./fromXRotation"),fromYRotation:e("./fromYRotation"),fromZRotation:e("./fromZRotation"),fromQuat:e("./fromQuat"),frustum:e("./frustum"),perspective:e("./perspective"),perspectiveFromFieldOfView:e("./perspectiveFromFieldOfView"),ortho:e("./ortho"),lookAt:e("./lookAt"),str:e("./str")}},{"./adjoint":121,"./clone":122,"./copy":123,"./create":124,"./determinant":125,"./fromQuat":126,"./fromRotation":127,"./fromRotationTranslation":128,"./fromScaling":129,"./fromTranslation":130,"./fromXRotation":131,"./fromYRotation":132,"./fromZRotation":133,"./frustum":134,"./identity":135,"./invert":137,"./lookAt":138,"./multiply":139,"./ortho":140,"./perspective":141,"./perspectiveFromFieldOfView":142,"./rotate":143,"./rotateX":144,"./rotateY":145,"./rotateZ":146,"./scale":147,"./str":148,"./translate":149,"./transpose":150}],137:[function(e,t,n){function r(e,t){var n=t[0],r=t[1],i=t[2],a=t[3],o=t[4],s=t[5],l=t[6],u=t[7],c=t[8],f=t[9],d=t[10],h=t[11],p=t[12],g=t[13],v=t[14],m=t[15],y=n*s-r*o,b=n*l-i*o,x=n*u-a*o,_=r*l-i*s,w=r*u-a*s,k=i*u-a*l,M=c*g-f*p,T=c*v-d*p,A=c*m-h*p,E=f*v-d*g,S=f*m-h*g,O=d*m-h*v,C=y*O-b*S+x*E+_*A-w*T+k*M;return C?(C=1/C,e[0]=(s*O-l*S+u*E)*C,e[1]=(i*S-r*O-a*E)*C,e[2]=(g*k-v*w+m*_)*C,e[3]=(d*w-f*k-h*_)*C,e[4]=(l*A-o*O-u*T)*C,e[5]=(n*O-i*A+a*T)*C,e[6]=(v*x-p*k-m*b)*C,e[7]=(c*k-d*x+h*b)*C,e[8]=(o*S-s*A+u*M)*C,e[9]=(r*A-n*S-a*M)*C,e[10]=(p*w-g*x+m*y)*C,e[11]=(f*x-c*w-h*y)*C,e[12]=(s*T-o*E-l*M)*C,e[13]=(n*E-r*T+i*M)*C,e[14]=(g*b-p*_-v*y)*C,e[15]=(c*_-f*b+d*y)*C,e):null}t.exports=r},{}],138:[function(e,t,n){var r=e("./identity");function i(e,t,n,i){var a,o,s,l,u,c,f,d,h,p,g=t[0],v=t[1],m=t[2],y=i[0],b=i[1],x=i[2],_=n[0],w=n[1],k=n[2];return Math.abs(g-_)<1e-6&&Math.abs(v-w)<1e-6&&Math.abs(m-k)<1e-6?r(e):(f=g-_,d=v-w,h=m-k,a=b*(h*=p=1/Math.sqrt(f*f+d*d+h*h))-x*(d*=p),o=x*(f*=p)-y*h,s=y*d-b*f,(p=Math.sqrt(a*a+o*o+s*s))?(a*=p=1/p,o*=p,s*=p):(a=0,o=0,s=0),l=d*s-h*o,u=h*a-f*s,c=f*o-d*a,(p=Math.sqrt(l*l+u*u+c*c))?(l*=p=1/p,u*=p,c*=p):(l=0,u=0,c=0),e[0]=a,e[1]=l,e[2]=f,e[3]=0,e[4]=o,e[5]=u,e[6]=d,e[7]=0,e[8]=s,e[9]=c,e[10]=h,e[11]=0,e[12]=-(a*g+o*v+s*m),e[13]=-(l*g+u*v+c*m),e[14]=-(f*g+d*v+h*m),e[15]=1,e)}t.exports=i},{"./identity":135}],139:[function(e,t,n){function r(e,t,n){var r=t[0],i=t[1],a=t[2],o=t[3],s=t[4],l=t[5],u=t[6],c=t[7],f=t[8],d=t[9],h=t[10],p=t[11],g=t[12],v=t[13],m=t[14],y=t[15],b=n[0],x=n[1],_=n[2],w=n[3];return e[0]=b*r+x*s+_*f+w*g,e[1]=b*i+x*l+_*d+w*v,e[2]=b*a+x*u+_*h+w*m,e[3]=b*o+x*c+_*p+w*y,b=n[4],x=n[5],_=n[6],w=n[7],e[4]=b*r+x*s+_*f+w*g,e[5]=b*i+x*l+_*d+w*v,e[6]=b*a+x*u+_*h+w*m,e[7]=b*o+x*c+_*p+w*y,b=n[8],x=n[9],_=n[10],w=n[11],e[8]=b*r+x*s+_*f+w*g,e[9]=b*i+x*l+_*d+w*v,e[10]=b*a+x*u+_*h+w*m,e[11]=b*o+x*c+_*p+w*y,b=n[12],x=n[13],_=n[14],w=n[15],e[12]=b*r+x*s+_*f+w*g,e[13]=b*i+x*l+_*d+w*v,e[14]=b*a+x*u+_*h+w*m,e[15]=b*o+x*c+_*p+w*y,e}t.exports=r},{}],140:[function(e,t,n){function r(e,t,n,r,i,a,o){var s=1/(t-n),l=1/(r-i),u=1/(a-o);return e[0]=-2*s,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=-2*l,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=2*u,e[11]=0,e[12]=(t+n)*s,e[13]=(i+r)*l,e[14]=(o+a)*u,e[15]=1,e}t.exports=r},{}],141:[function(e,t,n){function r(e,t,n,r,i){var a=1/Math.tan(t/2),o=1/(r-i);return e[0]=a/n,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=a,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=(i+r)*o,e[11]=-1,e[12]=0,e[13]=0,e[14]=2*i*r*o,e[15]=0,e}t.exports=r},{}],142:[function(e,t,n){function r(e,t,n,r){var i=Math.tan(t.upDegrees*Math.PI/180),a=Math.tan(t.downDegrees*Math.PI/180),o=Math.tan(t.leftDegrees*Math.PI/180),s=Math.tan(t.rightDegrees*Math.PI/180),l=2/(o+s),u=2/(i+a);return e[0]=l,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=u,e[6]=0,e[7]=0,e[8]=-(o-s)*l*.5,e[9]=(i-a)*u*.5,e[10]=r/(n-r),e[11]=-1,e[12]=0,e[13]=0,e[14]=r*n/(n-r),e[15]=0,e}t.exports=r},{}],143:[function(e,t,n){function r(e,t,n,r){var i,a,o,s,l,u,c,f,d,h,p,g,v,m,y,b,x,_,w,k,M,T,A,E,S=r[0],O=r[1],C=r[2],L=Math.sqrt(S*S+O*O+C*C);return Math.abs(L)<1e-6?null:(S*=L=1/L,O*=L,C*=L,i=Math.sin(n),o=1-(a=Math.cos(n)),s=t[0],l=t[1],u=t[2],c=t[3],f=t[4],d=t[5],h=t[6],p=t[7],g=t[8],v=t[9],m=t[10],y=t[11],b=S*S*o+a,x=O*S*o+C*i,_=C*S*o-O*i,w=S*O*o-C*i,k=O*O*o+a,M=C*O*o+S*i,T=S*C*o+O*i,A=O*C*o-S*i,E=C*C*o+a,e[0]=s*b+f*x+g*_,e[1]=l*b+d*x+v*_,e[2]=u*b+h*x+m*_,e[3]=c*b+p*x+y*_,e[4]=s*w+f*k+g*M,e[5]=l*w+d*k+v*M,e[6]=u*w+h*k+m*M,e[7]=c*w+p*k+y*M,e[8]=s*T+f*A+g*E,e[9]=l*T+d*A+v*E,e[10]=u*T+h*A+m*E,e[11]=c*T+p*A+y*E,t!==e&&(e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e)}t.exports=r},{}],144:[function(e,t,n){function r(e,t,n){var r=Math.sin(n),i=Math.cos(n),a=t[4],o=t[5],s=t[6],l=t[7],u=t[8],c=t[9],f=t[10],d=t[11];return t!==e&&(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[4]=a*i+u*r,e[5]=o*i+c*r,e[6]=s*i+f*r,e[7]=l*i+d*r,e[8]=u*i-a*r,e[9]=c*i-o*r,e[10]=f*i-s*r,e[11]=d*i-l*r,e}t.exports=r},{}],145:[function(e,t,n){function r(e,t,n){var r=Math.sin(n),i=Math.cos(n),a=t[0],o=t[1],s=t[2],l=t[3],u=t[8],c=t[9],f=t[10],d=t[11];return t!==e&&(e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[0]=a*i-u*r,e[1]=o*i-c*r,e[2]=s*i-f*r,e[3]=l*i-d*r,e[8]=a*r+u*i,e[9]=o*r+c*i,e[10]=s*r+f*i,e[11]=l*r+d*i,e}t.exports=r},{}],146:[function(e,t,n){function r(e,t,n){var r=Math.sin(n),i=Math.cos(n),a=t[0],o=t[1],s=t[2],l=t[3],u=t[4],c=t[5],f=t[6],d=t[7];return t!==e&&(e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[0]=a*i+u*r,e[1]=o*i+c*r,e[2]=s*i+f*r,e[3]=l*i+d*r,e[4]=u*i-a*r,e[5]=c*i-o*r,e[6]=f*i-s*r,e[7]=d*i-l*r,e}t.exports=r},{}],147:[function(e,t,n){function r(e,t,n){var r=n[0],i=n[1],a=n[2];return e[0]=t[0]*r,e[1]=t[1]*r,e[2]=t[2]*r,e[3]=t[3]*r,e[4]=t[4]*i,e[5]=t[5]*i,e[6]=t[6]*i,e[7]=t[7]*i,e[8]=t[8]*a,e[9]=t[9]*a,e[10]=t[10]*a,e[11]=t[11]*a,e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e}t.exports=r},{}],148:[function(e,t,n){function r(e){return"mat4("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+", "+e[4]+", "+e[5]+", "+e[6]+", "+e[7]+", "+e[8]+", "+e[9]+", "+e[10]+", "+e[11]+", "+e[12]+", "+e[13]+", "+e[14]+", "+e[15]+")"}t.exports=r},{}],149:[function(e,t,n){function r(e,t,n){var r,i,a,o,s,l,u,c,f,d,h,p,g=n[0],v=n[1],m=n[2];return t===e?(e[12]=t[0]*g+t[4]*v+t[8]*m+t[12],e[13]=t[1]*g+t[5]*v+t[9]*m+t[13],e[14]=t[2]*g+t[6]*v+t[10]*m+t[14],e[15]=t[3]*g+t[7]*v+t[11]*m+t[15]):(r=t[0],i=t[1],a=t[2],o=t[3],s=t[4],l=t[5],u=t[6],c=t[7],f=t[8],d=t[9],h=t[10],p=t[11],e[0]=r,e[1]=i,e[2]=a,e[3]=o,e[4]=s,e[5]=l,e[6]=u,e[7]=c,e[8]=f,e[9]=d,e[10]=h,e[11]=p,e[12]=r*g+s*v+f*m+t[12],e[13]=i*g+l*v+d*m+t[13],e[14]=a*g+u*v+h*m+t[14],e[15]=o*g+c*v+p*m+t[15]),e}t.exports=r},{}],150:[function(e,t,n){function r(e,t){if(e===t){var n=t[1],r=t[2],i=t[3],a=t[6],o=t[7],s=t[11];e[1]=t[4],e[2]=t[8],e[3]=t[12],e[4]=n,e[6]=t[9],e[7]=t[13],e[8]=r,e[9]=a,e[11]=t[14],e[12]=i,e[13]=o,e[14]=s}else e[0]=t[0],e[1]=t[4],e[2]=t[8],e[3]=t[12],e[4]=t[1],e[5]=t[5],e[6]=t[9],e[7]=t[13],e[8]=t[2],e[9]=t[6],e[10]=t[10],e[11]=t[14],e[12]=t[3],e[13]=t[7],e[14]=t[11],e[15]=t[15];return e}t.exports=r},{}],151:[function(e,t,n){"use strict";var r=e("barycentric"),i=e("polytope-closest-point/lib/closest_point_2d.js");function a(e,t){for(var n=[0,0,0,0],r=0;r<4;++r)for(var i=0;i<4;++i)n[i]+=e[4*r+i]*t[r];return n}function o(e,t,n,r,i){for(var o=a(r,a(n,a(t,[e[0],e[1],e[2],1]))),s=0;s<3;++s)o[s]/=o[3];return[.5*i[0]*(1+o[0]),.5*i[1]*(1-o[1])]}function s(e,t){if(2===e.length){for(var n=0,a=0,o=0;o<2;++o)n+=Math.pow(t[o]-e[0][o],2),a+=Math.pow(t[o]-e[1][o],2);return(n=Math.sqrt(n))+(a=Math.sqrt(a))<1e-6?[1,0]:[a/(n+a),n/(a+n)]}if(3===e.length){var s=[0,0];return i(e[0],e[1],e[2],t,s),r(e,s)}return[]}function l(e,t){for(var n=[0,0,0],r=0;r<e.length;++r)for(var i=e[r],a=t[r],o=0;o<3;++o)n[o]+=a*i[o];return n}function u(e,t,n,r,i,a){if(1===e.length)return[0,e[0].slice()];for(var u=new Array(e.length),c=0;c<e.length;++c)u[c]=o(e[c],n,r,i,a);var f=0,d=1/0;for(c=0;c<u.length;++c){for(var h=0,p=0;p<2;++p)h+=Math.pow(u[c][p]-t[p],2);h<d&&(d=h,f=c)}var g=s(u,t),v=0;for(c=0;c<3;++c){if(g[c]<-.001||g[c]>1.0001)return null;v+=g[c]}return Math.abs(v-1)>.001?null:[f,l(e,g),g]}t.exports=u},{barycentric:18,"polytope-closest-point/lib/closest_point_2d.js":324}],152:[function(e,t,n){var r=e("glslify"),i=r(["precision highp float;\n#define GLSLIFY 1\n\nattribute vec3 position, normal;\nattribute vec4 color;\nattribute vec2 uv;\n\nuniform mat4 model\n           , view\n           , projection\n           , inverseModel;\nuniform vec3 eyePosition\n           , lightPosition;\n\nvarying vec3 f_normal\n           , f_lightDirection\n           , f_eyeDirection\n           , f_data;\nvarying vec4 f_color;\nvarying vec2 f_uv;\n\nvec4 project(vec3 p) {\n  return projection * view * model * vec4(p, 1.0);\n}\n\nvoid main() {\n  gl_Position      = project(position);\n\n  //Lighting geometry parameters\n  vec4 cameraCoordinate = view * vec4(position , 1.0);\n  cameraCoordinate.xyz /= cameraCoordinate.w;\n  f_lightDirection = lightPosition - cameraCoordinate.xyz;\n  f_eyeDirection   = eyePosition - cameraCoordinate.xyz;\n  f_normal  = normalize((vec4(normal, 0.0) * inverseModel).xyz);\n\n  f_color          = color;\n  f_data           = position;\n  f_uv             = uv;\n}\n"]),a=r(["#extension GL_OES_standard_derivatives : enable\n\nprecision highp float;\n#define GLSLIFY 1\n\nfloat beckmannDistribution(float x, float roughness) {\n  float NdotH = max(x, 0.0001);\n  float cos2Alpha = NdotH * NdotH;\n  float tan2Alpha = (cos2Alpha - 1.0) / cos2Alpha;\n  float roughness2 = roughness * roughness;\n  float denom = 3.141592653589793 * roughness2 * cos2Alpha * cos2Alpha;\n  return exp(tan2Alpha / roughness2) / denom;\n}\n\nfloat cookTorranceSpecular(\n  vec3 lightDirection,\n  vec3 viewDirection,\n  vec3 surfaceNormal,\n  float roughness,\n  float fresnel) {\n\n  float VdotN = max(dot(viewDirection, surfaceNormal), 0.0);\n  float LdotN = max(dot(lightDirection, surfaceNormal), 0.0);\n\n  //Half angle vector\n  vec3 H = normalize(lightDirection + viewDirection);\n\n  //Geometric term\n  float NdotH = max(dot(surfaceNormal, H), 0.0);\n  float VdotH = max(dot(viewDirection, H), 0.000001);\n  float LdotH = max(dot(lightDirection, H), 0.000001);\n  float G1 = (2.0 * NdotH * VdotN) / VdotH;\n  float G2 = (2.0 * NdotH * LdotN) / LdotH;\n  float G = min(1.0, min(G1, G2));\n  \n  //Distribution term\n  float D = beckmannDistribution(NdotH, roughness);\n\n  //Fresnel term\n  float F = pow(1.0 - VdotN, fresnel);\n\n  //Multiply terms and done\n  return  G * F * D / max(3.14159265 * VdotN, 0.000001);\n}\n\n//#pragma glslify: beckmann = require(glsl-specular-beckmann) // used in gl-surface3d\n\nbool outOfRange(float a, float b, float p) {\n  return ((p > max(a, b)) || \n          (p < min(a, b)));\n}\n\nbool outOfRange(vec2 a, vec2 b, vec2 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y));\n}\n\nbool outOfRange(vec3 a, vec3 b, vec3 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y) ||\n          outOfRange(a.z, b.z, p.z));\n}\n\nbool outOfRange(vec4 a, vec4 b, vec4 p) {\n  return outOfRange(a.xyz, b.xyz, p.xyz);\n}\n\nuniform vec3 clipBounds[2];\nuniform float roughness\n            , fresnel\n            , kambient\n            , kdiffuse\n            , kspecular;\nuniform sampler2D texture;\n\nvarying vec3 f_normal\n           , f_lightDirection\n           , f_eyeDirection\n           , f_data;\nvarying vec4 f_color;\nvarying vec2 f_uv;\n\nvoid main() {\n  if (f_color.a == 0.0 ||\n    outOfRange(clipBounds[0], clipBounds[1], f_data)\n  ) discard;\n\n  vec3 N = normalize(f_normal);\n  vec3 L = normalize(f_lightDirection);\n  vec3 V = normalize(f_eyeDirection);\n\n  if(gl_FrontFacing) {\n    N = -N;\n  }\n\n  float specular = min(1.0, max(0.0, cookTorranceSpecular(L, V, N, roughness, fresnel)));\n  //float specular = max(0.0, beckmann(L, V, N, roughness)); // used in gl-surface3d\n\n  float diffuse  = min(kambient + kdiffuse * max(dot(N, L), 0.0), 1.0);\n\n  vec4 surfaceColor = vec4(f_color.rgb, 1.0) * texture2D(texture, f_uv);\n  vec4 litColor = surfaceColor.a * vec4(diffuse * surfaceColor.rgb + kspecular * vec3(1,1,1) * specular,  1.0);\n\n  gl_FragColor = litColor * f_color.a;\n}\n"]),o=r(["precision highp float;\n#define GLSLIFY 1\n\nattribute vec3 position;\nattribute vec4 color;\nattribute vec2 uv;\n\nuniform mat4 model, view, projection;\n\nvarying vec4 f_color;\nvarying vec3 f_data;\nvarying vec2 f_uv;\n\nvoid main() {\n  gl_Position = projection * view * model * vec4(position, 1.0);\n  f_color = color;\n  f_data  = position;\n  f_uv    = uv;\n}"]),s=r(["precision highp float;\n#define GLSLIFY 1\n\nbool outOfRange(float a, float b, float p) {\n  return ((p > max(a, b)) || \n          (p < min(a, b)));\n}\n\nbool outOfRange(vec2 a, vec2 b, vec2 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y));\n}\n\nbool outOfRange(vec3 a, vec3 b, vec3 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y) ||\n          outOfRange(a.z, b.z, p.z));\n}\n\nbool outOfRange(vec4 a, vec4 b, vec4 p) {\n  return outOfRange(a.xyz, b.xyz, p.xyz);\n}\n\nuniform vec3 clipBounds[2];\nuniform sampler2D texture;\nuniform float opacity;\n\nvarying vec4 f_color;\nvarying vec3 f_data;\nvarying vec2 f_uv;\n\nvoid main() {\n  if (outOfRange(clipBounds[0], clipBounds[1], f_data)) discard;\n\n  gl_FragColor = f_color * texture2D(texture, f_uv) * opacity;\n}"]),l=r(["precision highp float;\n#define GLSLIFY 1\n\nbool outOfRange(float a, float b, float p) {\n  return ((p > max(a, b)) || \n          (p < min(a, b)));\n}\n\nbool outOfRange(vec2 a, vec2 b, vec2 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y));\n}\n\nbool outOfRange(vec3 a, vec3 b, vec3 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y) ||\n          outOfRange(a.z, b.z, p.z));\n}\n\nbool outOfRange(vec4 a, vec4 b, vec4 p) {\n  return outOfRange(a.xyz, b.xyz, p.xyz);\n}\n\nattribute vec3 position;\nattribute vec4 color;\nattribute vec2 uv;\nattribute float pointSize;\n\nuniform mat4 model, view, projection;\nuniform vec3 clipBounds[2];\n\nvarying vec4 f_color;\nvarying vec2 f_uv;\n\nvoid main() {\n  if (outOfRange(clipBounds[0], clipBounds[1], position)) {\n\n    gl_Position = vec4(0.0, 0.0 ,0.0 ,0.0);\n  } else {\n    gl_Position = projection * view * model * vec4(position, 1.0);\n  }\n  gl_PointSize = pointSize;\n  f_color = color;\n  f_uv = uv;\n}"]),u=r(["precision highp float;\n#define GLSLIFY 1\n\nuniform sampler2D texture;\nuniform float opacity;\n\nvarying vec4 f_color;\nvarying vec2 f_uv;\n\nvoid main() {\n  vec2 pointR = gl_PointCoord.xy - vec2(0.5, 0.5);\n  if(dot(pointR, pointR) > 0.25) {\n    discard;\n  }\n  gl_FragColor = f_color * texture2D(texture, f_uv) * opacity;\n}"]),c=r(["precision highp float;\n#define GLSLIFY 1\n\nattribute vec3 position;\nattribute vec4 id;\n\nuniform mat4 model, view, projection;\n\nvarying vec3 f_position;\nvarying vec4 f_id;\n\nvoid main() {\n  gl_Position = projection * view * model * vec4(position, 1.0);\n  f_id        = id;\n  f_position  = position;\n}"]),f=r(["precision highp float;\n#define GLSLIFY 1\n\nbool outOfRange(float a, float b, float p) {\n  return ((p > max(a, b)) || \n          (p < min(a, b)));\n}\n\nbool outOfRange(vec2 a, vec2 b, vec2 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y));\n}\n\nbool outOfRange(vec3 a, vec3 b, vec3 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y) ||\n          outOfRange(a.z, b.z, p.z));\n}\n\nbool outOfRange(vec4 a, vec4 b, vec4 p) {\n  return outOfRange(a.xyz, b.xyz, p.xyz);\n}\n\nuniform vec3  clipBounds[2];\nuniform float pickId;\n\nvarying vec3 f_position;\nvarying vec4 f_id;\n\nvoid main() {\n  if (outOfRange(clipBounds[0], clipBounds[1], f_position)) discard;\n\n  gl_FragColor = vec4(pickId, f_id.xyz);\n}"]),d=r(["precision highp float;\n#define GLSLIFY 1\n\nbool outOfRange(float a, float b, float p) {\n  return ((p > max(a, b)) || \n          (p < min(a, b)));\n}\n\nbool outOfRange(vec2 a, vec2 b, vec2 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y));\n}\n\nbool outOfRange(vec3 a, vec3 b, vec3 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y) ||\n          outOfRange(a.z, b.z, p.z));\n}\n\nbool outOfRange(vec4 a, vec4 b, vec4 p) {\n  return outOfRange(a.xyz, b.xyz, p.xyz);\n}\n\nattribute vec3  position;\nattribute float pointSize;\nattribute vec4  id;\n\nuniform mat4 model, view, projection;\nuniform vec3 clipBounds[2];\n\nvarying vec3 f_position;\nvarying vec4 f_id;\n\nvoid main() {\n  if (outOfRange(clipBounds[0], clipBounds[1], position)) {\n\n    gl_Position = vec4(0.0, 0.0, 0.0, 0.0);\n  } else {\n    gl_Position  = projection * view * model * vec4(position, 1.0);\n    gl_PointSize = pointSize;\n  }\n  f_id         = id;\n  f_position   = position;\n}"]),h=r(["precision highp float;\n#define GLSLIFY 1\n\nattribute vec3 position;\n\nuniform mat4 model, view, projection;\n\nvoid main() {\n  gl_Position = projection * view * model * vec4(position, 1.0);\n}"]),p=r(["precision highp float;\n#define GLSLIFY 1\n\nuniform vec3 contourColor;\n\nvoid main() {\n  gl_FragColor = vec4(contourColor, 1.0);\n}\n"]);n.meshShader={vertex:i,fragment:a,attributes:[{name:"position",type:"vec3"},{name:"normal",type:"vec3"},{name:"color",type:"vec4"},{name:"uv",type:"vec2"}]},n.wireShader={vertex:o,fragment:s,attributes:[{name:"position",type:"vec3"},{name:"color",type:"vec4"},{name:"uv",type:"vec2"}]},n.pointShader={vertex:l,fragment:u,attributes:[{name:"position",type:"vec3"},{name:"color",type:"vec4"},{name:"uv",type:"vec2"},{name:"pointSize",type:"float"}]},n.pickShader={vertex:c,fragment:f,attributes:[{name:"position",type:"vec3"},{name:"id",type:"vec4"}]},n.pointPickShader={vertex:d,fragment:f,attributes:[{name:"position",type:"vec3"},{name:"pointSize",type:"float"},{name:"id",type:"vec4"}]},n.contourShader={vertex:h,fragment:p,attributes:[{name:"position",type:"vec3"}]}},{glslify:154}],153:[function(e,t,n){"use strict";var r=1e-6,i=1e-6,a=e("gl-shader"),o=e("gl-buffer"),s=e("gl-vao"),l=e("gl-texture2d"),u=e("normals"),c=e("gl-mat4/multiply"),f=e("gl-mat4/invert"),d=e("ndarray"),h=e("colormap"),p=e("simplicial-complex-contour"),g=e("typedarray-pool"),v=e("./lib/shaders"),m=e("./lib/closest-point"),y=v.meshShader,b=v.wireShader,x=v.pointShader,_=v.pickShader,w=v.pointPickShader,k=v.contourShader,M=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];function T(e,t,n,r,i,a,o,s,l,u,c,f,d,h,p,g,v,m,y,b,x,_,w,k,T,A,E){this.gl=e,this.pixelRatio=1,this.cells=[],this.positions=[],this.intensity=[],this.texture=t,this.dirty=!0,this.triShader=n,this.lineShader=r,this.pointShader=i,this.pickShader=a,this.pointPickShader=o,this.contourShader=s,this.trianglePositions=l,this.triangleColors=c,this.triangleNormals=d,this.triangleUVs=f,this.triangleIds=u,this.triangleVAO=h,this.triangleCount=0,this.lineWidth=1,this.edgePositions=p,this.edgeColors=v,this.edgeUVs=m,this.edgeIds=g,this.edgeVAO=y,this.edgeCount=0,this.pointPositions=b,this.pointColors=_,this.pointUVs=w,this.pointSizes=k,this.pointIds=x,this.pointVAO=T,this.pointCount=0,this.contourLineWidth=1,this.contourPositions=A,this.contourVAO=E,this.contourCount=0,this.contourColor=[0,0,0],this.contourEnable=!0,this.pickVertex=!0,this.pickId=1,this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],this.clipBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.lightPosition=[1e5,1e5,0],this.ambientLight=.8,this.diffuseLight=.8,this.specularLight=2,this.roughness=.5,this.fresnel=1.5,this.opacity=1,this.hasAlpha=!1,this.opacityscale=!1,this._model=M,this._view=M,this._projection=M,this._resolution=[1,1]}var A=T.prototype;function E(e,t){if(!t)return 1;if(!t.length)return 1;for(var n=0;n<t.length;++n){if(t.length<2)return 1;if(t[n][0]===e)return t[n][1];if(t[n][0]>e&&n>0){var r=(t[n][0]-e)/(t[n][0]-t[n-1][0]);return t[n][1]*(1-r)+r*t[n-1][1]}}return 1}function S(e,t){for(var n=h({colormap:e,nshades:256,format:"rgba"}),r=new Uint8Array(1024),i=0;i<256;++i){for(var a=n[i],o=0;o<3;++o)r[4*i+o]=a[o];r[4*i+3]=t?255*E(i/255,t):255*a[3]}return d(r,[256,256,4],[4,0,1])}function O(e){for(var t=e.length,n=new Array(t),r=0;r<t;++r)n[r]=e[r][2];return n}function C(e){var t=a(e,y.vertex,y.fragment);return t.attributes.position.location=0,t.attributes.color.location=2,t.attributes.uv.location=3,t.attributes.normal.location=4,t}function L(e){var t=a(e,b.vertex,b.fragment);return t.attributes.position.location=0,t.attributes.color.location=2,t.attributes.uv.location=3,t}function R(e){var t=a(e,x.vertex,x.fragment);return t.attributes.position.location=0,t.attributes.color.location=2,t.attributes.uv.location=3,t.attributes.pointSize.location=4,t}function P(e){var t=a(e,_.vertex,_.fragment);return t.attributes.position.location=0,t.attributes.id.location=1,t}function j(e){var t=a(e,w.vertex,w.fragment);return t.attributes.position.location=0,t.attributes.id.location=1,t.attributes.pointSize.location=4,t}function z(e){var t=a(e,k.vertex,k.fragment);return t.attributes.position.location=0,t}function I(e,t){if(1===arguments.length&&(e=(t=e).gl),!(e.getExtension("OES_standard_derivatives")||e.getExtension("MOZ_OES_standard_derivatives")||e.getExtension("WEBKIT_OES_standard_derivatives")))throw new Error("derivatives not supported");var n=C(e),r=L(e),i=R(e),a=P(e),u=j(e),c=z(e),f=l(e,d(new Uint8Array([255,255,255,255]),[1,1,4]));f.generateMipmap(),f.minFilter=e.LINEAR_MIPMAP_LINEAR,f.magFilter=e.LINEAR;var h=o(e),p=o(e),g=o(e),v=o(e),m=o(e),y=s(e,[{buffer:h,type:e.FLOAT,size:3},{buffer:m,type:e.UNSIGNED_BYTE,size:4,normalized:!0},{buffer:p,type:e.FLOAT,size:4},{buffer:g,type:e.FLOAT,size:2},{buffer:v,type:e.FLOAT,size:3}]),b=o(e),x=o(e),_=o(e),w=o(e),k=s(e,[{buffer:b,type:e.FLOAT,size:3},{buffer:w,type:e.UNSIGNED_BYTE,size:4,normalized:!0},{buffer:x,type:e.FLOAT,size:4},{buffer:_,type:e.FLOAT,size:2}]),M=o(e),A=o(e),E=o(e),S=o(e),O=o(e),I=s(e,[{buffer:M,type:e.FLOAT,size:3},{buffer:O,type:e.UNSIGNED_BYTE,size:4,normalized:!0},{buffer:A,type:e.FLOAT,size:4},{buffer:E,type:e.FLOAT,size:2},{buffer:S,type:e.FLOAT,size:1}]),N=o(e),D=new T(e,f,n,r,i,a,u,c,h,m,p,g,v,y,b,w,x,_,k,M,O,A,E,S,I,N,s(e,[{buffer:N,type:e.FLOAT,size:3}]));return D.update(t),D}A.isOpaque=function(){return!this.hasAlpha},A.isTransparent=function(){return this.hasAlpha},A.pickSlots=1,A.setPickBase=function(e){this.pickId=e},A.highlight=function(e){if(e&&this.contourEnable){for(var t=p(this.cells,this.intensity,e.intensity),n=t.cells,r=t.vertexIds,i=t.vertexWeights,a=n.length,o=g.mallocFloat32(6*a),s=0,l=0;l<a;++l)for(var u=n[l],c=0;c<2;++c){var f=u[0];2===u.length&&(f=u[c]);for(var d=r[f][0],h=r[f][1],v=i[f],m=1-v,y=this.positions[d],b=this.positions[h],x=0;x<3;++x)o[s++]=v*y[x]+m*b[x]}this.contourCount=s/3|0,this.contourPositions.update(o.subarray(0,s)),g.free(o)}else this.contourCount=0},A.update=function(e){e=e||{};var t=this.gl;this.dirty=!0,"contourEnable"in e&&(this.contourEnable=e.contourEnable),"contourColor"in e&&(this.contourColor=e.contourColor),"lineWidth"in e&&(this.lineWidth=e.lineWidth),"lightPosition"in e&&(this.lightPosition=e.lightPosition),this.hasAlpha=!1,"opacity"in e&&(this.opacity=e.opacity,this.opacity<1&&(this.hasAlpha=!0)),"opacityscale"in e&&(this.opacityscale=e.opacityscale,this.hasAlpha=!0),"ambient"in e&&(this.ambientLight=e.ambient),"diffuse"in e&&(this.diffuseLight=e.diffuse),"specular"in e&&(this.specularLight=e.specular),"roughness"in e&&(this.roughness=e.roughness),"fresnel"in e&&(this.fresnel=e.fresnel),e.texture?(this.texture.dispose(),this.texture=l(t,e.texture)):e.colormap&&(this.texture.shape=[256,256],this.texture.minFilter=t.LINEAR_MIPMAP_LINEAR,this.texture.magFilter=t.LINEAR,this.texture.setPixels(S(e.colormap,this.opacityscale)),this.texture.generateMipmap());var n=e.cells,a=e.positions;if(a&&n){var o=[],s=[],c=[],f=[],d=[],h=[],p=[],g=[],v=[],m=[],y=[],b=[],x=[],_=[];this.cells=n,this.positions=a;var w=e.vertexNormals,k=e.cellNormals,M=void 0===e.vertexNormalsEpsilon?r:e.vertexNormalsEpsilon,T=void 0===e.faceNormalsEpsilon?i:e.faceNormalsEpsilon;e.useFacetNormals&&!k&&(k=u.faceNormals(n,a,T)),k||w||(w=u.vertexNormals(n,a,M));var A=e.vertexColors,C=e.cellColors,L=e.meshColor||[1,1,1,1],R=e.vertexUVs,P=e.vertexIntensity,j=e.cellUVs,z=e.cellIntensity,I=1/0,N=-1/0;if(!R&&!j)if(P)if(e.vertexIntensityBounds)I=+e.vertexIntensityBounds[0],N=+e.vertexIntensityBounds[1];else for(var D=0;D<P.length;++D){var F=P[D];I=Math.min(I,F),N=Math.max(N,F)}else if(z)if(e.cellIntensityBounds)I=+e.cellIntensityBounds[0],N=+e.cellIntensityBounds[1];else for(D=0;D<z.length;++D)F=z[D],I=Math.min(I,F),N=Math.max(N,F);else for(D=0;D<a.length;++D)F=a[D][2],I=Math.min(I,F),N=Math.max(N,F);this.intensity=P||z||O(a),this.pickVertex=!(z||C);var B=e.pointSizes,U=e.pointSize||1;for(this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],D=0;D<a.length;++D)for(var V=a[D],H=0;H<3;++H)!isNaN(V[H])&&isFinite(V[H])&&(this.bounds[0][H]=Math.min(this.bounds[0][H],V[H]),this.bounds[1][H]=Math.max(this.bounds[1][H],V[H]));var q=0,W=0,G=0;e:for(D=0;D<n.length;++D){var X=n[D];switch(X.length){case 1:for(V=a[Z=X[0]],H=0;H<3;++H)if(isNaN(V[H])||!isFinite(V[H]))continue e;m.push(V[0],V[1],V[2]),$=A?A[Z]:C?C[D]:L,this.opacityscale&&P?s.push($[0],$[1],$[2],this.opacity*E((P[Z]-I)/(N-I),this.opacityscale)):3===$.length?y.push($[0],$[1],$[2],this.opacity):(y.push($[0],$[1],$[2],$[3]*this.opacity),$[3]<1&&(this.hasAlpha=!0)),K=R?R[Z]:P?[(P[Z]-I)/(N-I),0]:j?j[D]:z?[(z[D]-I)/(N-I),0]:[(V[2]-I)/(N-I),0],b.push(K[0],K[1]),B?x.push(B[Z]):x.push(U),_.push(D),G+=1;break;case 2:for(H=0;H<2;++H){V=a[Z=X[H]];for(var Y=0;Y<3;++Y)if(isNaN(V[Y])||!isFinite(V[Y]))continue e}for(H=0;H<2;++H)V=a[Z=X[H]],h.push(V[0],V[1],V[2]),$=A?A[Z]:C?C[D]:L,this.opacityscale&&P?s.push($[0],$[1],$[2],this.opacity*E((P[Z]-I)/(N-I),this.opacityscale)):3===$.length?p.push($[0],$[1],$[2],this.opacity):(p.push($[0],$[1],$[2],$[3]*this.opacity),$[3]<1&&(this.hasAlpha=!0)),K=R?R[Z]:P?[(P[Z]-I)/(N-I),0]:j?j[D]:z?[(z[D]-I)/(N-I),0]:[(V[2]-I)/(N-I),0],g.push(K[0],K[1]),v.push(D);W+=1;break;case 3:for(H=0;H<3;++H)for(V=a[Z=X[H]],Y=0;Y<3;++Y)if(isNaN(V[Y])||!isFinite(V[Y]))continue e;for(H=0;H<3;++H){var Z,$,K,Q;V=a[Z=X[2-H]],o.push(V[0],V[1],V[2]),($=A?A[Z]:C?C[D]:L)?this.opacityscale&&P?s.push($[0],$[1],$[2],this.opacity*E((P[Z]-I)/(N-I),this.opacityscale)):3===$.length?s.push($[0],$[1],$[2],this.opacity):(s.push($[0],$[1],$[2],$[3]*this.opacity),$[3]<1&&(this.hasAlpha=!0)):s.push(.5,.5,.5,1),K=R?R[Z]:P?[(P[Z]-I)/(N-I),0]:j?j[D]:z?[(z[D]-I)/(N-I),0]:[(V[2]-I)/(N-I),0],f.push(K[0],K[1]),Q=w?w[Z]:k[D],c.push(Q[0],Q[1],Q[2]),d.push(D)}q+=1}}this.pointCount=G,this.edgeCount=W,this.triangleCount=q,this.pointPositions.update(m),this.pointColors.update(y),this.pointUVs.update(b),this.pointSizes.update(x),this.pointIds.update(new Uint32Array(_)),this.edgePositions.update(h),this.edgeColors.update(p),this.edgeUVs.update(g),this.edgeIds.update(new Uint32Array(v)),this.trianglePositions.update(o),this.triangleColors.update(s),this.triangleUVs.update(f),this.triangleNormals.update(c),this.triangleIds.update(new Uint32Array(d))}},A.drawTransparent=A.draw=function(e){e=e||{};for(var t=this.gl,n=e.model||M,r=e.view||M,i=e.projection||M,a=[[-1e6,-1e6,-1e6],[1e6,1e6,1e6]],o=0;o<3;++o)a[0][o]=Math.max(a[0][o],this.clipBounds[0][o]),a[1][o]=Math.min(a[1][o],this.clipBounds[1][o]);var s={model:n,view:r,projection:i,inverseModel:M.slice(),clipBounds:a,kambient:this.ambientLight,kdiffuse:this.diffuseLight,kspecular:this.specularLight,roughness:this.roughness,fresnel:this.fresnel,eyePosition:[0,0,0],lightPosition:[0,0,0],contourColor:this.contourColor,texture:0};s.inverseModel=f(s.inverseModel,s.model),t.disable(t.CULL_FACE),this.texture.bind(0);var l=new Array(16);for(c(l,s.view,s.model),c(l,s.projection,l),f(l,l),o=0;o<3;++o)s.eyePosition[o]=l[12+o]/l[15];var u,d=l[15];for(o=0;o<3;++o)d+=this.lightPosition[o]*l[4*o+3];for(o=0;o<3;++o){for(var h=l[12+o],p=0;p<3;++p)h+=l[4*p+o]*this.lightPosition[p];s.lightPosition[o]=h/d}this.triangleCount>0&&((u=this.triShader).bind(),u.uniforms=s,this.triangleVAO.bind(),t.drawArrays(t.TRIANGLES,0,3*this.triangleCount),this.triangleVAO.unbind()),this.edgeCount>0&&this.lineWidth>0&&((u=this.lineShader).bind(),u.uniforms=s,this.edgeVAO.bind(),t.lineWidth(this.lineWidth*this.pixelRatio),t.drawArrays(t.LINES,0,2*this.edgeCount),this.edgeVAO.unbind()),this.pointCount>0&&((u=this.pointShader).bind(),u.uniforms=s,this.pointVAO.bind(),t.drawArrays(t.POINTS,0,this.pointCount),this.pointVAO.unbind()),this.contourEnable&&this.contourCount>0&&this.contourLineWidth>0&&((u=this.contourShader).bind(),u.uniforms=s,this.contourVAO.bind(),t.drawArrays(t.LINES,0,this.contourCount),this.contourVAO.unbind())},A.drawPick=function(e){e=e||{};for(var t=this.gl,n=e.model||M,r=e.view||M,i=e.projection||M,a=[[-1e6,-1e6,-1e6],[1e6,1e6,1e6]],o=0;o<3;++o)a[0][o]=Math.max(a[0][o],this.clipBounds[0][o]),a[1][o]=Math.min(a[1][o],this.clipBounds[1][o]);this._model=[].slice.call(n),this._view=[].slice.call(r),this._projection=[].slice.call(i),this._resolution=[t.drawingBufferWidth,t.drawingBufferHeight];var s,l={model:n,view:r,projection:i,clipBounds:a,pickId:this.pickId/255};(s=this.pickShader).bind(),s.uniforms=l,this.triangleCount>0&&(this.triangleVAO.bind(),t.drawArrays(t.TRIANGLES,0,3*this.triangleCount),this.triangleVAO.unbind()),this.edgeCount>0&&(this.edgeVAO.bind(),t.lineWidth(this.lineWidth*this.pixelRatio),t.drawArrays(t.LINES,0,2*this.edgeCount),this.edgeVAO.unbind()),this.pointCount>0&&((s=this.pointPickShader).bind(),s.uniforms=l,this.pointVAO.bind(),t.drawArrays(t.POINTS,0,this.pointCount),this.pointVAO.unbind())},A.pick=function(e){if(!e)return null;if(e.id!==this.pickId)return null;for(var t=e.value[0]+256*e.value[1]+65536*e.value[2],n=this.cells[t],r=this.positions,i=new Array(n.length),a=0;a<n.length;++a)i[a]=r[n[a]];var o=e.coord[0],s=e.coord[1];if(!this.pickVertex){var l=this.positions[n[0]],u=this.positions[n[1]],c=this.positions[n[2]],f=[(l[0]+u[0]+c[0])/3,(l[1]+u[1]+c[1])/3,(l[2]+u[2]+c[2])/3];return{_cellCenter:!0,position:[o,s],index:t,cell:n,cellId:t,intensity:this.intensity[t],dataCoordinate:f}}var d=m(i,[o*this.pixelRatio,this._resolution[1]-s*this.pixelRatio],this._model,this._view,this._projection,this._resolution);if(!d)return null;var h=d[2],p=0;for(a=0;a<n.length;++a)p+=h[a]*this.intensity[n[a]];return{position:d[1],index:n[d[0]],cell:n,cellId:t,intensity:p,dataCoordinate:this.positions[n[d[0]]]}},A.dispose=function(){this.texture.dispose(),this.triShader.dispose(),this.lineShader.dispose(),this.pointShader.dispose(),this.pickShader.dispose(),this.pointPickShader.dispose(),this.triangleVAO.dispose(),this.trianglePositions.dispose(),this.triangleColors.dispose(),this.triangleUVs.dispose(),this.triangleNormals.dispose(),this.triangleIds.dispose(),this.edgeVAO.dispose(),this.edgePositions.dispose(),this.edgeColors.dispose(),this.edgeUVs.dispose(),this.edgeIds.dispose(),this.pointVAO.dispose(),this.pointPositions.dispose(),this.pointColors.dispose(),this.pointUVs.dispose(),this.pointSizes.dispose(),this.pointIds.dispose(),this.contourVAO.dispose(),this.contourPositions.dispose(),this.contourShader.dispose()},t.exports=I},{"./lib/closest-point":151,"./lib/shaders":152,colormap:68,"gl-buffer":106,"gl-mat4/invert":137,"gl-mat4/multiply":139,"gl-shader":166,"gl-texture2d":182,"gl-vao":186,ndarray:301,normals:303,"simplicial-complex-contour":347,"typedarray-pool":366}],154:[function(e,t,n){arguments[4][104][0].apply(n,arguments)},{dup:104}],155:[function(e,t,n){"use strict";t.exports=u;var r=e("right-now"),i=e("3d-view"),a=e("mouse-change"),o=e("mouse-wheel"),s=e("mouse-event-offset"),l=e("has-passive-events");function u(e,t){e=e||document.body;var n=[.01,1/0];"distanceLimits"in(t=t||{})&&(n[0]=t.distanceLimits[0],n[1]=t.distanceLimits[1]),"zoomMin"in t&&(n[0]=t.zoomMin),"zoomMax"in t&&(n[1]=t.zoomMax);var u=i({center:t.center||[0,0,0],up:t.up||[0,1,0],eye:t.eye||[0,0,10],mode:t.mode||"orbit",distanceLimits:n}),c=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],f=0,d=e.clientWidth,h=e.clientHeight,p={keyBindingMode:"rotate",enableWheel:!0,view:u,element:e,delay:t.delay||16,rotateSpeed:t.rotateSpeed||1,zoomSpeed:t.zoomSpeed||1,translateSpeed:t.translateSpeed||1,flipX:!!t.flipX,flipY:!!t.flipY,modes:u.modes,_ortho:t._ortho||t.projection&&"orthographic"===t.projection.type||!1,tick:function(){var t=r(),n=this.delay,i=t-2*n;u.idle(t-n),u.recalcMatrix(i),u.flush(t-(100+2*n));for(var a=!0,o=u.computedMatrix,s=0;s<16;++s)a=a&&c[s]===o[s],c[s]=o[s];var l=e.clientWidth===d&&e.clientHeight===h;return d=e.clientWidth,h=e.clientHeight,a?!l:(f=Math.exp(u.computedRadius[0]),!0)},lookAt:function(e,t,n){u.lookAt(u.lastT(),e,t,n)},rotate:function(e,t,n){u.rotate(u.lastT(),e,t,n)},pan:function(e,t,n){u.pan(u.lastT(),e,t,n)},translate:function(e,t,n){u.translate(u.lastT(),e,t,n)}};return Object.defineProperties(p,{matrix:{get:function(){return u.computedMatrix},set:function(e){return u.setMatrix(u.lastT(),e),u.computedMatrix},enumerable:!0},mode:{get:function(){return u.getMode()},set:function(e){var t=u.computedUp.slice(),n=u.computedEye.slice(),i=u.computedCenter.slice();if(u.setMode(e),"turntable"===e){var a=r();u._active.lookAt(a,n,i,t),u._active.lookAt(a+500,n,i,[0,0,1]),u._active.flush(a)}return u.getMode()},enumerable:!0},center:{get:function(){return u.computedCenter},set:function(e){return u.lookAt(u.lastT(),null,e),u.computedCenter},enumerable:!0},eye:{get:function(){return u.computedEye},set:function(e){return u.lookAt(u.lastT(),e),u.computedEye},enumerable:!0},up:{get:function(){return u.computedUp},set:function(e){return u.lookAt(u.lastT(),null,null,e),u.computedUp},enumerable:!0},distance:{get:function(){return f},set:function(e){return u.setDistance(u.lastT(),e),e},enumerable:!0},distanceLimits:{get:function(){return u.getDistanceLimits(n)},set:function(e){return u.setDistanceLimits(e),e},enumerable:!0}}),e.addEventListener("contextmenu",(function(e){return e.preventDefault(),!1})),p._lastX=-1,p._lastY=-1,p._lastMods={shift:!1,control:!1,alt:!1,meta:!1},p.enableMouseListeners=function(){function t(t,n,i,a){var o=p.keyBindingMode;if(!1!==o){var s="rotate"===o,l="pan"===o,c="zoom"===o,d=!!a.control,h=!!a.alt,g=!!a.shift,v=!!(1&t),m=!!(2&t),y=!!(4&t),b=1/e.clientHeight,x=b*(n-p._lastX),_=b*(i-p._lastY),w=p.flipX?1:-1,k=p.flipY?1:-1,M=Math.PI*p.rotateSpeed,T=r();if(-1!==p._lastX&&-1!==p._lastY&&((s&&v&&!d&&!h&&!g||v&&!d&&!h&&g)&&u.rotate(T,w*M*x,-k*M*_,0),(l&&v&&!d&&!h&&!g||m||v&&d&&!h&&!g)&&u.pan(T,-p.translateSpeed*x*f,p.translateSpeed*_*f,0),c&&v&&!d&&!h&&!g||y||v&&!d&&h&&!g)){var A=-p.zoomSpeed*_/window.innerHeight*(T-u.lastT())*100;u.pan(T,0,0,f*(Math.exp(A)-1))}return p._lastX=n,p._lastY=i,p._lastMods=a,!0}}p.mouseListener=a(e,t),e.addEventListener("touchstart",(function(n){var r=s(n.changedTouches[0],e);t(0,r[0],r[1],p._lastMods),t(1,r[0],r[1],p._lastMods)}),!!l&&{passive:!0}),e.addEventListener("touchmove",(function(n){var r=s(n.changedTouches[0],e);t(1,r[0],r[1],p._lastMods),n.preventDefault()}),!!l&&{passive:!1}),e.addEventListener("touchend",(function(e){t(0,p._lastX,p._lastY,p._lastMods)}),!!l&&{passive:!0}),p.wheelListener=o(e,(function(e,t){if(!1!==p.keyBindingMode&&p.enableWheel){var n=p.flipX?1:-1,i=p.flipY?1:-1,a=r();if(Math.abs(e)>Math.abs(t))u.rotate(a,0,0,-e*n*Math.PI*p.rotateSpeed/window.innerWidth);else if(!p._ortho){var o=-p.zoomSpeed*i*t/window.innerHeight*(a-u.lastT())/20;u.pan(a,0,0,f*(Math.exp(o)-1))}}}),!0)},p.enableMouseListeners(),p}},{"3d-view":11,"has-passive-events":268,"mouse-change":289,"mouse-event-offset":290,"mouse-wheel":292,"right-now":333}],156:[function(e,t,n){var r=e("glslify"),i=e("gl-shader"),a=r(["precision mediump float;\n#define GLSLIFY 1\nattribute vec2 position;\nvarying vec2 uv;\nvoid main() {\n  uv = position;\n  gl_Position = vec4(position, 0, 1);\n}"]),o=r(["precision mediump float;\n#define GLSLIFY 1\n\nuniform sampler2D accumBuffer;\nvarying vec2 uv;\n\nvoid main() {\n  vec4 accum = texture2D(accumBuffer, 0.5 * (uv + 1.0));\n  gl_FragColor = min(vec4(1,1,1,1), accum);\n}"]);t.exports=function(e){return i(e,a,o,null,[{name:"position",type:"vec2"}])}},{"gl-shader":166,glslify:157}],157:[function(e,t,n){arguments[4][104][0].apply(n,arguments)},{dup:104}],158:[function(e,t,n){"use strict";var r=e("./camera.js"),i=e("gl-axes3d"),a=e("gl-axes3d/properties"),o=e("gl-spikes3d"),s=e("gl-select-static"),l=e("gl-fbo"),u=e("a-big-triangle"),c=e("mouse-change"),f=e("gl-mat4/perspective"),d=e("gl-mat4/ortho"),h=e("./lib/shader"),p=e("is-mobile")({tablet:!0,featureDetect:!0});function g(){this.mouse=[-1,-1],this.screen=null,this.distance=1/0,this.index=null,this.dataCoordinate=null,this.dataPosition=null,this.object=null,this.data=null}function v(e,t){var n=null;try{(n=e.getContext("webgl",t))||(n=e.getContext("experimental-webgl",t))}catch(r){return null}return n}function m(e){var t=Math.round(Math.log(Math.abs(e))/Math.log(10));if(t<0){var n=Math.round(Math.pow(10,-t));return Math.ceil(e*n)/n}return t>0?(n=Math.round(Math.pow(10,t)),Math.ceil(e/n)*n):Math.ceil(e)}function y(e){return"boolean"!==typeof e||e}function b(e){(e=e||{}).camera=e.camera||{};var t=e.canvas;t||(t=document.createElement("canvas"),e.container?e.container.appendChild(t):document.body.appendChild(t));var n=e.gl;if(n||(e.glOptions&&(p=!!e.glOptions.preserveDrawingBuffer),n=v(t,e.glOptions||{premultipliedAlpha:!0,antialias:!0,preserveDrawingBuffer:p})),!n)throw new Error("webgl not supported");var f=e.bounds||[[-10,-10,-10],[10,10,10]],d=new g,b=l(n,n.drawingBufferWidth,n.drawingBufferHeight,{preferFloat:!p}),_=h(n),w=e.cameraObject&&!0===e.cameraObject._ortho||e.camera.projection&&"orthographic"===e.camera.projection.type||!1,k={eye:e.camera.eye||[2,0,0],center:e.camera.center||[0,0,0],up:e.camera.up||[0,1,0],zoomMin:e.camera.zoomMax||.1,zoomMax:e.camera.zoomMin||100,mode:e.camera.mode||"turntable",_ortho:w},M=e.axes||{},T=i(n,M);T.enable=!M.disable;var A=e.spikes||{},E=o(n,A),S=[],O=[],C=[],L=[],R=!0,P=!0,j={view:null,projection:new Array(16),model:new Array(16),_ortho:!1},z=(P=!0,[n.drawingBufferWidth,n.drawingBufferHeight]),I=e.cameraObject||r(t,k),N={gl:n,contextLost:!1,pixelRatio:e.pixelRatio||1,canvas:t,selection:d,camera:I,axes:T,axesPixels:null,spikes:E,bounds:f,objects:S,shape:z,aspect:e.aspectRatio||[1,1,1],pickRadius:e.pickRadius||10,zNear:e.zNear||.01,zFar:e.zFar||1e3,fovy:e.fovy||Math.PI/4,clearColor:e.clearColor||[0,0,0,0],autoResize:y(e.autoResize),autoBounds:y(e.autoBounds),autoScale:!!e.autoScale,autoCenter:y(e.autoCenter),clipToBounds:y(e.clipToBounds),snapToData:!!e.snapToData,onselect:e.onselect||null,onrender:e.onrender||null,onclick:e.onclick||null,cameraParams:j,oncontextloss:null,mouseListener:null,_stopped:!1,getAspectratio:function(){return{x:this.aspect[0],y:this.aspect[1],z:this.aspect[2]}},setAspectratio:function(e){this.aspect[0]=e.x,this.aspect[1]=e.y,this.aspect[2]=e.z,P=!0},setBounds:function(e,t){this.bounds[0][e]=t.min,this.bounds[1][e]=t.max},setClearColor:function(e){this.clearColor=e},clearRGBA:function(){this.gl.clearColor(this.clearColor[0],this.clearColor[1],this.clearColor[2],this.clearColor[3]),this.gl.clear(this.gl.COLOR_BUFFER_BIT|this.gl.DEPTH_BUFFER_BIT)}},D=[n.drawingBufferWidth/N.pixelRatio|0,n.drawingBufferHeight/N.pixelRatio|0];function F(){if(!N._stopped&&N.autoResize){var e=t.parentNode,n=1,r=1;e&&e!==document.body?(n=e.clientWidth,r=e.clientHeight):(n=window.innerWidth,r=window.innerHeight);var i=0|Math.ceil(n*N.pixelRatio),a=0|Math.ceil(r*N.pixelRatio);if(i!==t.width||a!==t.height){t.width=i,t.height=a;var o=t.style;o.position=o.position||"absolute",o.left="0px",o.top="0px",o.width=n+"px",o.height=r+"px",R=!0}}}function B(){for(var e=S.length,t=L.length,r=0;r<t;++r)C[r]=0;e:for(r=0;r<e;++r){var i=S[r],a=i.pickSlots;if(a){for(var o=0;o<t;++o)if(C[o]+a<255){O[r]=o,i.setPickBase(C[o]+1),C[o]+=a;continue e}var l=s(n,z);O[r]=t,L.push(l),C.push(a),i.setPickBase(1),t+=1}else O[r]=-1}for(;t>0&&0===C[t-1];)C.pop(),L.pop().dispose()}function U(){if(N.contextLost)return!0;n.isContextLost()&&(N.contextLost=!0,N.mouseListener.enabled=!1,N.selection.object=null,N.oncontextloss&&N.oncontextloss())}function V(){if(!U()){n.colorMask(!0,!0,!0,!0),n.depthMask(!0),n.disable(n.BLEND),n.enable(n.DEPTH_TEST),n.depthFunc(n.LEQUAL);for(var e=S.length,t=L.length,r=0;r<t;++r){var i=L[r];i.shape=D,i.begin();for(var a=0;a<e;++a)if(O[a]===r){var o=S[a];o.drawPick&&(o.pixelRatio=1,o.drawPick(j))}i.end()}}}N.autoResize&&F(),window.addEventListener("resize",F),N.update=function(e){N._stopped||(e=e||{},R=!0,P=!0)},N.add=function(e){N._stopped||(e.axes=T,S.push(e),O.push(-1),R=!0,P=!0,B())},N.remove=function(e){if(!N._stopped){var t=S.indexOf(e);t<0||(S.splice(t,1),O.pop(),R=!0,P=!0,B())}},N.dispose=function(){if(!N._stopped&&(N._stopped=!0,window.removeEventListener("resize",F),t.removeEventListener("webglcontextlost",U),N.mouseListener.enabled=!1,!N.contextLost)){T.dispose(),E.dispose();for(var e=0;e<S.length;++e)S[e].dispose();for(b.dispose(),e=0;e<L.length;++e)L[e].dispose();_.dispose(),n=null,T=null,E=null,S=[]}},N._mouseRotating=!1,N._prevButtons=0,N.enableMouseListeners=function(){N.mouseListener=c(t,(function(e,t,n){if(!N._stopped){var r=L.length,i=S.length,a=d.object;d.distance=1/0,d.mouse[0]=t,d.mouse[1]=n,d.object=null,d.screen=null,d.dataCoordinate=d.dataPosition=null;var o=!1;if(e&&N._prevButtons)N._mouseRotating=!0;else{N._mouseRotating&&(P=!0),N._mouseRotating=!1;for(var s=0;s<r;++s){var l=L[s].query(t,D[1]-n-1,N.pickRadius);if(l){if(l.distance>d.distance)continue;for(var u=0;u<i;++u){var c=S[u];if(O[u]===s){var f=c.pick(l);f&&(d.buttons=e,d.screen=l.coord,d.distance=l.distance,d.object=c,d.index=f.distance,d.dataPosition=f.position,d.dataCoordinate=f.dataCoordinate,d.data=f,o=!0)}}}}}a&&a!==d.object&&(a.highlight&&a.highlight(null),R=!0),d.object&&(d.object.highlight&&d.object.highlight(d.data),R=!0),(o=o||d.object!==a)&&N.onselect&&N.onselect(d),1&e&&!(1&N._prevButtons)&&N.onclick&&N.onclick(d),N._prevButtons=e}}))},t.addEventListener("webglcontextlost",U);var H=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],q=[H[0].slice(),H[1].slice()];function W(){if(!U()){F();var e=N.camera.tick();j.view=N.camera.matrix,R=R||e,P=P||e,T.pixelRatio=N.pixelRatio,E.pixelRatio=N.pixelRatio;var t=S.length,r=H[0],i=H[1];r[0]=r[1]=r[2]=1/0,i[0]=i[1]=i[2]=-1/0;for(var o=0;o<t;++o){(A=S[o]).pixelRatio=N.pixelRatio,A.axes=N.axes,R=R||!!A.dirty,P=P||!!A.dirty;var s=A.bounds;if(s)for(var l=s[0],c=s[1],f=0;f<3;++f)r[f]=Math.min(r[f],l[f]),i[f]=Math.max(i[f],c[f])}var h=N.bounds;if(N.autoBounds)for(f=0;f<3;++f){if(i[f]<r[f])r[f]=-1,i[f]=1;else{r[f]===i[f]&&(r[f]-=1,i[f]+=1);var p=.05*(i[f]-r[f]);r[f]=r[f]-p,i[f]=i[f]+p}h[0][f]=r[f],h[1][f]=i[f]}var g=!1;for(f=0;f<3;++f)g=g||q[0][f]!==h[0][f]||q[1][f]!==h[1][f],q[0][f]=h[0][f],q[1][f]=h[1][f];if(P=P||g,R=R||g){if(g){var v=[0,0,0];for(o=0;o<3;++o)v[o]=m((h[1][o]-h[0][o])/10);T.autoTicks?T.update({bounds:h,tickSpacing:v}):T.update({bounds:h})}var y=n.drawingBufferWidth,k=n.drawingBufferHeight;for(z[0]=y,z[1]=k,D[0]=0|Math.max(y/N.pixelRatio,1),D[1]=0|Math.max(k/N.pixelRatio,1),x(N,w),o=0;o<t;++o)(A=S[o]).axesBounds=h,N.clipToBounds&&(A.clipBounds=h);d.object&&(N.snapToData?E.position=d.dataCoordinate:E.position=d.dataPosition,E.bounds=h),P&&(P=!1,V()),N.axesPixels=a(N.axes,j,y,k),N.onrender&&N.onrender(),n.bindFramebuffer(n.FRAMEBUFFER,null),n.viewport(0,0,y,k),N.clearRGBA(),n.depthMask(!0),n.colorMask(!0,!0,!0,!0),n.enable(n.DEPTH_TEST),n.depthFunc(n.LEQUAL),n.disable(n.BLEND),n.disable(n.CULL_FACE);var M=!1;for(T.enable&&(M=M||T.isTransparent(),T.draw(j)),E.axes=T,d.object&&E.draw(j),n.disable(n.CULL_FACE),o=0;o<t;++o)(A=S[o]).axes=T,A.pixelRatio=N.pixelRatio,A.isOpaque&&A.isOpaque()&&A.draw(j),A.isTransparent&&A.isTransparent()&&(M=!0);if(M){for(b.shape=z,b.bind(),n.clear(n.DEPTH_BUFFER_BIT),n.colorMask(!1,!1,!1,!1),n.depthMask(!0),n.depthFunc(n.LESS),T.enable&&T.isTransparent()&&T.drawTransparent(j),o=0;o<t;++o)(A=S[o]).isOpaque&&A.isOpaque()&&A.draw(j);for(n.enable(n.BLEND),n.blendEquation(n.FUNC_ADD),n.blendFunc(n.ONE,n.ONE_MINUS_SRC_ALPHA),n.colorMask(!0,!0,!0,!0),n.depthMask(!1),n.clearColor(0,0,0,0),n.clear(n.COLOR_BUFFER_BIT),T.isTransparent()&&T.drawTransparent(j),o=0;o<t;++o){var A;(A=S[o]).isTransparent&&A.isTransparent()&&A.drawTransparent(j)}n.bindFramebuffer(n.FRAMEBUFFER,null),n.blendFunc(n.ONE,n.ONE_MINUS_SRC_ALPHA),n.disable(n.DEPTH_TEST),_.bind(),b.color[0].bind(0),_.uniforms.accumBuffer=0,u(n),n.disable(n.BLEND)}for(R=!1,o=0;o<t;++o)S[o].dirty=!1}}}function G(){N._stopped||N.contextLost||(W(),requestAnimationFrame(G))}return N.enableMouseListeners(),G(),N.redraw=function(){N._stopped||(R=!0,W())},N}function x(e,t){var n=e.bounds,r=e.cameraParams,i=r.projection,a=r.model,o=e.gl.drawingBufferWidth,s=e.gl.drawingBufferHeight,l=e.zNear,u=e.zFar,c=e.fovy,h=o/s;t?(d(i,-h,h,-1,1,l,u),r._ortho=!0):(f(i,c,h,l,u),r._ortho=!1);for(var p=0;p<16;++p)a[p]=0;a[15]=1;var g=0;for(p=0;p<3;++p)g=Math.max(g,n[1][p]-n[0][p]);for(p=0;p<3;++p)e.autoScale?a[5*p]=e.aspect[p]/(n[1][p]-n[0][p]):a[5*p]=1/g,e.autoCenter&&(a[12+p]=.5*-a[5*p]*(n[0][p]+n[1][p]))}t.exports={createScene:b,createCamera:r}},{"./camera.js":155,"./lib/shader":156,"a-big-triangle":12,"gl-axes3d":97,"gl-axes3d/properties":105,"gl-fbo":116,"gl-mat4/ortho":140,"gl-mat4/perspective":141,"gl-select-static":165,"gl-spikes3d":175,"is-mobile":277,"mouse-change":289}],159:[function(e,t,n){function r(e,t,n,r){var i,a,o,s,l,u=t[0],c=t[1],f=t[2],d=t[3],h=n[0],p=n[1],g=n[2],v=n[3];return(a=u*h+c*p+f*g+d*v)<0&&(a=-a,h=-h,p=-p,g=-g,v=-v),1-a>1e-6?(i=Math.acos(a),o=Math.sin(i),s=Math.sin((1-r)*i)/o,l=Math.sin(r*i)/o):(s=1-r,l=r),e[0]=s*u+l*h,e[1]=s*c+l*p,e[2]=s*f+l*g,e[3]=s*d+l*v,e}t.exports=r},{}],160:[function(e,t,n){"use strict";t.exports=function(e){return e||0===e?e.toString():""}},{}],161:[function(e,t,n){"use strict";var r=e("vectorize-text");t.exports=a;var i={};function a(e,t,n){var a=i[t];if(a||(a=i[t]={}),e in a)return a[e];var o={textAlign:"center",textBaseline:"middle",lineHeight:1,font:t,lineSpacing:1.25,styletags:{breaklines:!0,bolds:!0,italics:!0,subscripts:!0,superscripts:!0},triangles:!0},s=r(e,o);o.triangles=!1;var l,u,c=r(e,o);if(n&&1!==n){for(l=0;l<s.positions.length;++l)for(u=0;u<s.positions[l].length;++u)s.positions[l][u]/=n;for(l=0;l<c.positions.length;++l)for(u=0;u<c.positions[l].length;++u)c.positions[l][u]/=n}var f=[[1/0,1/0],[-1/0,-1/0]],d=c.positions.length;for(l=0;l<d;++l){var h=c.positions[l];for(u=0;u<2;++u)f[0][u]=Math.min(f[0][u],h[u]),f[1][u]=Math.max(f[1][u],h[u])}return a[e]=[s,c,f]}},{"vectorize-text":369}],162:[function(e,t,n){var r=e("gl-shader"),i=e("glslify"),a=i(["precision highp float;\n#define GLSLIFY 1\n\nbool outOfRange(float a, float b, float p) {\n  return ((p > max(a, b)) || \n          (p < min(a, b)));\n}\n\nbool outOfRange(vec2 a, vec2 b, vec2 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y));\n}\n\nbool outOfRange(vec3 a, vec3 b, vec3 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y) ||\n          outOfRange(a.z, b.z, p.z));\n}\n\nbool outOfRange(vec4 a, vec4 b, vec4 p) {\n  return outOfRange(a.xyz, b.xyz, p.xyz);\n}\n\nattribute vec3 position;\nattribute vec4 color;\nattribute vec2 glyph;\nattribute vec4 id;\n\nuniform vec4 highlightId;\nuniform float highlightScale;\nuniform mat4 model, view, projection;\nuniform vec3 clipBounds[2];\n\nvarying vec4 interpColor;\nvarying vec4 pickId;\nvarying vec3 dataCoordinate;\n\nvoid main() {\n  if (outOfRange(clipBounds[0], clipBounds[1], position)) {\n\n    gl_Position = vec4(0,0,0,0);\n  } else {\n    float scale = 1.0;\n    if(distance(highlightId, id) < 0.0001) {\n      scale = highlightScale;\n    }\n\n    vec4 worldPosition = model * vec4(position, 1);\n    vec4 viewPosition = view * worldPosition;\n    viewPosition = viewPosition / viewPosition.w;\n    vec4 clipPosition = projection * (viewPosition + scale * vec4(glyph.x, -glyph.y, 0, 0));\n\n    gl_Position = clipPosition;\n    interpColor = color;\n    pickId = id;\n    dataCoordinate = position;\n  }\n}"]),o=i(["precision highp float;\n#define GLSLIFY 1\n\nbool outOfRange(float a, float b, float p) {\n  return ((p > max(a, b)) || \n          (p < min(a, b)));\n}\n\nbool outOfRange(vec2 a, vec2 b, vec2 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y));\n}\n\nbool outOfRange(vec3 a, vec3 b, vec3 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y) ||\n          outOfRange(a.z, b.z, p.z));\n}\n\nbool outOfRange(vec4 a, vec4 b, vec4 p) {\n  return outOfRange(a.xyz, b.xyz, p.xyz);\n}\n\nattribute vec3 position;\nattribute vec4 color;\nattribute vec2 glyph;\nattribute vec4 id;\n\nuniform mat4 model, view, projection;\nuniform vec2 screenSize;\nuniform vec3 clipBounds[2];\nuniform float highlightScale, pixelRatio;\nuniform vec4 highlightId;\n\nvarying vec4 interpColor;\nvarying vec4 pickId;\nvarying vec3 dataCoordinate;\n\nvoid main() {\n  if (outOfRange(clipBounds[0], clipBounds[1], position)) {\n\n    gl_Position = vec4(0,0,0,0);\n  } else {\n    float scale = pixelRatio;\n    if(distance(highlightId.bgr, id.bgr) < 0.001) {\n      scale *= highlightScale;\n    }\n\n    vec4 worldPosition = model * vec4(position, 1.0);\n    vec4 viewPosition = view * worldPosition;\n    vec4 clipPosition = projection * viewPosition;\n    clipPosition /= clipPosition.w;\n\n    gl_Position = clipPosition + vec4(screenSize * scale * vec2(glyph.x, -glyph.y), 0.0, 0.0);\n    interpColor = color;\n    pickId = id;\n    dataCoordinate = position;\n  }\n}"]),s=i(["precision highp float;\n#define GLSLIFY 1\n\nbool outOfRange(float a, float b, float p) {\n  return ((p > max(a, b)) || \n          (p < min(a, b)));\n}\n\nbool outOfRange(vec2 a, vec2 b, vec2 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y));\n}\n\nbool outOfRange(vec3 a, vec3 b, vec3 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y) ||\n          outOfRange(a.z, b.z, p.z));\n}\n\nbool outOfRange(vec4 a, vec4 b, vec4 p) {\n  return outOfRange(a.xyz, b.xyz, p.xyz);\n}\n\nattribute vec3 position;\nattribute vec4 color;\nattribute vec2 glyph;\nattribute vec4 id;\n\nuniform float highlightScale;\nuniform vec4 highlightId;\nuniform vec3 axes[2];\nuniform mat4 model, view, projection;\nuniform vec2 screenSize;\nuniform vec3 clipBounds[2];\nuniform float scale, pixelRatio;\n\nvarying vec4 interpColor;\nvarying vec4 pickId;\nvarying vec3 dataCoordinate;\n\nvoid main() {\n  if (outOfRange(clipBounds[0], clipBounds[1], position)) {\n\n    gl_Position = vec4(0,0,0,0);\n  } else {\n    float lscale = pixelRatio * scale;\n    if(distance(highlightId, id) < 0.0001) {\n      lscale *= highlightScale;\n    }\n\n    vec4 clipCenter   = projection * view * model * vec4(position, 1);\n    vec3 dataPosition = position + 0.5*lscale*(axes[0] * glyph.x + axes[1] * glyph.y) * clipCenter.w * screenSize.y;\n    vec4 clipPosition = projection * view * model * vec4(dataPosition, 1);\n\n    gl_Position = clipPosition;\n    interpColor = color;\n    pickId = id;\n    dataCoordinate = dataPosition;\n  }\n}\n"]),l=i(["precision highp float;\n#define GLSLIFY 1\n\nbool outOfRange(float a, float b, float p) {\n  return ((p > max(a, b)) || \n          (p < min(a, b)));\n}\n\nbool outOfRange(vec2 a, vec2 b, vec2 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y));\n}\n\nbool outOfRange(vec3 a, vec3 b, vec3 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y) ||\n          outOfRange(a.z, b.z, p.z));\n}\n\nbool outOfRange(vec4 a, vec4 b, vec4 p) {\n  return outOfRange(a.xyz, b.xyz, p.xyz);\n}\n\nuniform vec3 fragClipBounds[2];\nuniform float opacity;\n\nvarying vec4 interpColor;\nvarying vec3 dataCoordinate;\n\nvoid main() {\n  if (\n    outOfRange(fragClipBounds[0], fragClipBounds[1], dataCoordinate) ||\n    interpColor.a * opacity == 0.\n  ) discard;\n  gl_FragColor = interpColor * opacity;\n}\n"]),u=i(["precision highp float;\n#define GLSLIFY 1\n\nbool outOfRange(float a, float b, float p) {\n  return ((p > max(a, b)) || \n          (p < min(a, b)));\n}\n\nbool outOfRange(vec2 a, vec2 b, vec2 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y));\n}\n\nbool outOfRange(vec3 a, vec3 b, vec3 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y) ||\n          outOfRange(a.z, b.z, p.z));\n}\n\nbool outOfRange(vec4 a, vec4 b, vec4 p) {\n  return outOfRange(a.xyz, b.xyz, p.xyz);\n}\n\nuniform vec3 fragClipBounds[2];\nuniform float pickGroup;\n\nvarying vec4 pickId;\nvarying vec3 dataCoordinate;\n\nvoid main() {\n  if (outOfRange(fragClipBounds[0], fragClipBounds[1], dataCoordinate)) discard;\n\n  gl_FragColor = vec4(pickGroup, pickId.bgr);\n}"]),c=[{name:"position",type:"vec3"},{name:"color",type:"vec4"},{name:"glyph",type:"vec2"},{name:"id",type:"vec4"}],f={vertex:a,fragment:l,attributes:c},d={vertex:o,fragment:l,attributes:c},h={vertex:s,fragment:l,attributes:c},p={vertex:a,fragment:u,attributes:c},g={vertex:o,fragment:u,attributes:c},v={vertex:s,fragment:u,attributes:c};function m(e,t){var n=r(e,t),i=n.attributes;return i.position.location=0,i.color.location=1,i.glyph.location=2,i.id.location=3,n}n.createPerspective=function(e){return m(e,f)},n.createOrtho=function(e){return m(e,d)},n.createProject=function(e){return m(e,h)},n.createPickPerspective=function(e){return m(e,p)},n.createPickOrtho=function(e){return m(e,g)},n.createPickProject=function(e){return m(e,v)}},{"gl-shader":166,glslify:163}],163:[function(e,t,n){arguments[4][104][0].apply(n,arguments)},{dup:104}],164:[function(e,t,n){"use strict";var r=e("is-string-blank"),i=e("gl-buffer"),a=e("gl-vao"),o=e("typedarray-pool"),s=e("gl-mat4/multiply"),l=e("./lib/shaders"),u=e("./lib/glyphs"),c=e("./lib/get-simple-string"),f=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];function d(e,t){var n=e[0],r=e[1],i=e[2],a=e[3];return e[0]=t[0]*n+t[4]*r+t[8]*i+t[12]*a,e[1]=t[1]*n+t[5]*r+t[9]*i+t[13]*a,e[2]=t[2]*n+t[6]*r+t[10]*i+t[14]*a,e[3]=t[3]*n+t[7]*r+t[11]*i+t[15]*a,e}function h(e,t,n,r){return d(r,r,n),d(r,r,t),d(r,r,e)}function p(e,t){this.index=e,this.dataCoordinate=this.position=t}function g(e){return!0===e||e>1?1:e}function v(e,t,n,r,i,a,o,s,l,u,c,f){this.gl=e,this.pixelRatio=1,this.shader=t,this.orthoShader=n,this.projectShader=r,this.pointBuffer=i,this.colorBuffer=a,this.glyphBuffer=o,this.idBuffer=s,this.vao=l,this.vertexCount=0,this.lineVertexCount=0,this.opacity=1,this.hasAlpha=!1,this.lineWidth=0,this.projectScale=[2/3,2/3,2/3],this.projectOpacity=[1,1,1],this.projectHasAlpha=!1,this.pickId=0,this.pickPerspectiveShader=u,this.pickOrthoShader=c,this.pickProjectShader=f,this.points=[],this._selectResult=new p(0,[0,0,0]),this.useOrtho=!0,this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],this.axesProject=[!0,!0,!0],this.axesBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.highlightId=[1,1,1,1],this.highlightScale=2,this.clipBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.dirty=!0}t.exports=j;var m=v.prototype;m.pickSlots=1,m.setPickBase=function(e){this.pickId=e},m.isTransparent=function(){if(this.hasAlpha)return!0;for(var e=0;e<3;++e)if(this.axesProject[e]&&this.projectHasAlpha)return!0;return!1},m.isOpaque=function(){if(!this.hasAlpha)return!0;for(var e=0;e<3;++e)if(this.axesProject[e]&&!this.projectHasAlpha)return!0;return!1};var y=[0,0],b=[0,0,0],x=[0,0,0],_=[0,0,0,1],w=[0,0,0,1],k=f.slice(),M=[0,0,0],T=[[0,0,0],[0,0,0]];function A(e){return e[0]=e[1]=e[2]=0,e}function E(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=1,e}function S(e,t,n,r){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[n]=r,e}function O(e){for(var t=T,n=0;n<2;++n)for(var r=0;r<3;++r)t[n][r]=Math.max(Math.min(e[n][r],1e8),-1e8);return t}function C(e,t,n,r){var i,a=t.axesProject,o=t.gl,l=e.uniforms,u=n.model||f,c=n.view||f,d=n.projection||f,p=t.axesBounds,g=O(t.clipBounds);i=t.axes&&t.axes.lastCubeProps?t.axes.lastCubeProps.axis:[1,1,1],y[0]=2/o.drawingBufferWidth,y[1]=2/o.drawingBufferHeight,e.bind(),l.view=c,l.projection=d,l.screenSize=y,l.highlightId=t.highlightId,l.highlightScale=t.highlightScale,l.clipBounds=g,l.pickGroup=t.pickId/255,l.pixelRatio=r;for(var v=0;v<3;++v)if(a[v]){l.scale=t.projectScale[v],l.opacity=t.projectOpacity[v];for(var m=k,T=0;T<16;++T)m[T]=0;for(T=0;T<4;++T)m[5*T]=1;m[5*v]=0,i[v]<0?m[12+v]=p[0][v]:m[12+v]=p[1][v],s(m,u,m),l.model=m;var C=(v+1)%3,L=(v+2)%3,R=A(b),P=A(x);R[C]=1,P[L]=1;var j=h(d,c,u,E(_,R)),z=h(d,c,u,E(w,P));if(Math.abs(j[1])>Math.abs(z[1])){var I=j;j=z,z=I,I=R,R=P,P=I;var N=C;C=L,L=N}j[0]<0&&(R[C]=-1),z[1]>0&&(P[L]=-1);var D=0,F=0;for(T=0;T<4;++T)D+=Math.pow(u[4*C+T],2),F+=Math.pow(u[4*L+T],2);R[C]/=Math.sqrt(D),P[L]/=Math.sqrt(F),l.axes[0]=R,l.axes[1]=P,l.fragClipBounds[0]=S(M,g[0],v,-1e8),l.fragClipBounds[1]=S(M,g[1],v,1e8),t.vao.bind(),t.vao.draw(o.TRIANGLES,t.vertexCount),t.lineWidth>0&&(o.lineWidth(t.lineWidth*r),t.vao.draw(o.LINES,t.lineVertexCount,t.vertexCount)),t.vao.unbind()}}var L=[[-1e8,-1e8,-1e8],[1e8,1e8,1e8]];function R(e,t,n,r,i,a,o){var s=n.gl;if((a===n.projectHasAlpha||o)&&C(t,n,r,i),a===n.hasAlpha||o){e.bind();var l=e.uniforms;l.model=r.model||f,l.view=r.view||f,l.projection=r.projection||f,y[0]=2/s.drawingBufferWidth,y[1]=2/s.drawingBufferHeight,l.screenSize=y,l.highlightId=n.highlightId,l.highlightScale=n.highlightScale,l.fragClipBounds=L,l.clipBounds=n.axes.bounds,l.opacity=n.opacity,l.pickGroup=n.pickId/255,l.pixelRatio=i,n.vao.bind(),n.vao.draw(s.TRIANGLES,n.vertexCount),n.lineWidth>0&&(s.lineWidth(n.lineWidth*i),n.vao.draw(s.LINES,n.lineVertexCount,n.vertexCount)),n.vao.unbind()}}function P(e,t,n,i){var a;a=Array.isArray(e)?t<e.length?e[t]:void 0:e,a=c(a);var o=!0;r(a)&&(a="\u25bc",o=!1);var s=u(a,n,i);return{mesh:s[0],lines:s[1],bounds:s[2],visible:o}}function j(e){var t=e.gl,n=l.createPerspective(t),r=l.createOrtho(t),o=l.createProject(t),s=l.createPickPerspective(t),u=l.createPickOrtho(t),c=l.createPickProject(t),f=i(t),d=i(t),h=i(t),p=i(t),g=new v(t,n,r,o,f,d,h,p,a(t,[{buffer:f,size:3,type:t.FLOAT},{buffer:d,size:4,type:t.FLOAT},{buffer:h,size:2,type:t.FLOAT},{buffer:p,size:4,type:t.UNSIGNED_BYTE,normalized:!0}]),s,u,c);return g.update(e),g}m.draw=function(e){R(this.useOrtho?this.orthoShader:this.shader,this.projectShader,this,e,this.pixelRatio,!1,!1)},m.drawTransparent=function(e){R(this.useOrtho?this.orthoShader:this.shader,this.projectShader,this,e,this.pixelRatio,!0,!1)},m.drawPick=function(e){R(this.useOrtho?this.pickOrthoShader:this.pickPerspectiveShader,this.pickProjectShader,this,e,1,!0,!0)},m.pick=function(e){if(!e)return null;if(e.id!==this.pickId)return null;var t=e.value[2]+(e.value[1]<<8)+(e.value[0]<<16);if(t>=this.pointCount||t<0)return null;var n=this.points[t],r=this._selectResult;r.index=t;for(var i=0;i<3;++i)r.position[i]=r.dataCoordinate[i]=n[i];return r},m.highlight=function(e){if(e){var t=e.index,n=255&t,r=t>>8&255,i=t>>16&255;this.highlightId=[n/255,r/255,i/255,0]}else this.highlightId=[1,1,1,1]},m.update=function(e){if("perspective"in(e=e||{})&&(this.useOrtho=!e.perspective),"orthographic"in e&&(this.useOrtho=!!e.orthographic),"lineWidth"in e&&(this.lineWidth=e.lineWidth),"project"in e)if(Array.isArray(e.project))this.axesProject=e.project;else{var t=!!e.project;this.axesProject=[t,t,t]}if("projectScale"in e)if(Array.isArray(e.projectScale))this.projectScale=e.projectScale.slice();else{var n=+e.projectScale;this.projectScale=[n,n,n]}if(this.projectHasAlpha=!1,"projectOpacity"in e){Array.isArray(e.projectOpacity)?this.projectOpacity=e.projectOpacity.slice():(n=+e.projectOpacity,this.projectOpacity=[n,n,n]);for(var r=0;r<3;++r)this.projectOpacity[r]=g(this.projectOpacity[r]),this.projectOpacity[r]<1&&(this.projectHasAlpha=!0)}this.hasAlpha=!1,"opacity"in e&&(this.opacity=g(e.opacity),this.opacity<1&&(this.hasAlpha=!0)),this.dirty=!0;var i,a,s=e.position,l=e.font||"normal",u=e.alignment||[0,0];if(2===u.length)i=u[0],a=u[1];else for(i=[],a=[],r=0;r<u.length;++r)i[r]=u[r][0],a[r]=u[r][1];var c=[1/0,1/0,1/0],f=[-1/0,-1/0,-1/0],d=e.glyph,h=e.color,p=e.size,v=e.angle,m=e.lineColor,y=-1,b=0,x=0,_=0;if(s.length){_=s.length;e:for(r=0;r<_;++r){for(var w=s[r],k=0;k<3;++k)if(isNaN(w[k])||!isFinite(w[k]))continue e;var M=(F=P(d,r,l,this.pixelRatio)).mesh,T=F.lines,A=F.bounds;b+=3*M.cells.length,x+=2*T.edges.length}}var E=b+x,S=o.mallocFloat(3*E),O=o.mallocFloat(4*E),C=o.mallocFloat(2*E),L=o.mallocUint32(E);if(E>0){var R=0,j=b,z=[0,0,0,1],I=[0,0,0,1],N=Array.isArray(h)&&Array.isArray(h[0]),D=Array.isArray(m)&&Array.isArray(m[0]);e:for(r=0;r<_;++r){for(y+=1,w=s[r],k=0;k<3;++k){if(isNaN(w[k])||!isFinite(w[k]))continue e;f[k]=Math.max(f[k],w[k]),c[k]=Math.min(c[k],w[k])}M=(F=P(d,r,l,this.pixelRatio)).mesh,T=F.lines,A=F.bounds;var F,B=F.visible;if(B)if(Array.isArray(h)){if(3===(U=N?r<h.length?h[r]:[0,0,0,0]:h).length){for(k=0;k<3;++k)z[k]=U[k];z[3]=1}else if(4===U.length){for(k=0;k<4;++k)z[k]=U[k];!this.hasAlpha&&U[3]<1&&(this.hasAlpha=!0)}}else z[0]=z[1]=z[2]=0,z[3]=1;else z=[1,1,1,0];if(B)if(Array.isArray(m)){var U;if(3===(U=D?r<m.length?m[r]:[0,0,0,0]:m).length){for(k=0;k<3;++k)I[k]=U[k];I[k]=1}else if(4===U.length){for(k=0;k<4;++k)I[k]=U[k];!this.hasAlpha&&U[3]<1&&(this.hasAlpha=!0)}}else I[0]=I[1]=I[2]=0,I[3]=1;else I=[1,1,1,0];var V=.5;B?Array.isArray(p)?V=r<p.length?+p[r]:12:p?V=+p:this.useOrtho&&(V=12):V=0;var H=0;Array.isArray(v)?H=r<v.length?+v[r]:0:v&&(H=+v);var q=Math.cos(H),W=Math.sin(H);for(w=s[r],k=0;k<3;++k)f[k]=Math.max(f[k],w[k]),c[k]=Math.min(c[k],w[k]);var G=i,X=a;G=0,Array.isArray(i)?G=r<i.length?i[r]:0:i&&(G=i),X=0,Array.isArray(a)?X=r<a.length?a[r]:0:a&&(X=a);var Y=[G*=G>0?1-A[0][0]:G<0?1+A[1][0]:1,X*=X>0?1-A[0][1]:X<0?1+A[1][1]:1],Z=M.cells||[],$=M.positions||[];for(k=0;k<Z.length;++k)for(var K=Z[k],Q=0;Q<3;++Q){for(var J=0;J<3;++J)S[3*R+J]=w[J];for(J=0;J<4;++J)O[4*R+J]=z[J];L[R]=y;var ee=$[K[Q]];C[2*R]=V*(q*ee[0]-W*ee[1]+Y[0]),C[2*R+1]=V*(W*ee[0]+q*ee[1]+Y[1]),R+=1}for(Z=T.edges,$=T.positions,k=0;k<Z.length;++k)for(K=Z[k],Q=0;Q<2;++Q){for(J=0;J<3;++J)S[3*j+J]=w[J];for(J=0;J<4;++J)O[4*j+J]=I[J];L[j]=y,ee=$[K[Q]],C[2*j]=V*(q*ee[0]-W*ee[1]+Y[0]),C[2*j+1]=V*(W*ee[0]+q*ee[1]+Y[1]),j+=1}}}this.bounds=[c,f],this.points=s,this.pointCount=s.length,this.vertexCount=b,this.lineVertexCount=x,this.pointBuffer.update(S),this.colorBuffer.update(O),this.glyphBuffer.update(C),this.idBuffer.update(L),o.free(S),o.free(O),o.free(C),o.free(L)},m.dispose=function(){this.shader.dispose(),this.orthoShader.dispose(),this.pickPerspectiveShader.dispose(),this.pickOrthoShader.dispose(),this.vao.dispose(),this.pointBuffer.dispose(),this.colorBuffer.dispose(),this.glyphBuffer.dispose(),this.idBuffer.dispose()}},{"./lib/get-simple-string":160,"./lib/glyphs":161,"./lib/shaders":162,"gl-buffer":106,"gl-mat4/multiply":139,"gl-vao":186,"is-string-blank":279,"typedarray-pool":366}],165:[function(e,t,n){"use strict";t.exports=f;var r=e("gl-fbo"),i=e("typedarray-pool"),a=e("ndarray"),o=e("bit-twiddle").nextPow2,s=function(e,t,n){for(var r=1e8,i=-1,a=-1,o=e.shape[0],s=e.shape[1],l=0;l<o;l++)for(var u=0;u<s;u++){var c=e.get(l,u,0),f=e.get(l,u,1),d=e.get(l,u,2),h=e.get(l,u,3);if(c<255||f<255||d<255||h<255){var p=t-l,g=n-u,v=p*p+g*g;v<r&&(r=v,i=l,a=u)}}return[i,a,r]};function l(e,t,n,r,i){this.coord=[e,t],this.id=n,this.value=r,this.distance=i}function u(e,t,n){this.gl=e,this.fbo=t,this.buffer=n,this._readTimeout=null;var r=this;this._readCallback=function(){r.gl&&(t.bind(),e.readPixels(0,0,t.shape[0],t.shape[1],e.RGBA,e.UNSIGNED_BYTE,r.buffer),r._readTimeout=null)}}var c=u.prototype;function f(e,t){var n=t[0],a=t[1];return new u(e,r(e,n,a,{}),i.mallocUint8(n*a*4))}Object.defineProperty(c,"shape",{get:function(){return this.gl?this.fbo.shape.slice():[0,0]},set:function(e){if(this.gl){this.fbo.shape=e;var t=this.fbo.shape[0],n=this.fbo.shape[1];if(n*t*4>this.buffer.length){i.free(this.buffer);for(var r=this.buffer=i.mallocUint8(o(n*t*4)),a=0;a<n*t*4;++a)r[a]=255}return e}}}),c.begin=function(){var e=this.gl;this.shape,e&&(this.fbo.bind(),e.clearColor(1,1,1,1),e.clear(e.COLOR_BUFFER_BIT|e.DEPTH_BUFFER_BIT))},c.end=function(){var e=this.gl;e&&(e.bindFramebuffer(e.FRAMEBUFFER,null),this._readTimeout||clearTimeout(this._readTimeout),this._readTimeout=setTimeout(this._readCallback,1))},c.query=function(e,t,n){if(!this.gl)return null;var r=this.fbo.shape.slice();e|=0,t|=0,"number"!==typeof n&&(n=1);var i=0|Math.min(Math.max(e-n,0),r[0]),o=0|Math.min(Math.max(e+n,0),r[0]),u=0|Math.min(Math.max(t-n,0),r[1]),c=0|Math.min(Math.max(t+n,0),r[1]);if(o<=i||c<=u)return null;var f=[o-i,c-u],d=a(this.buffer,[f[0],f[1],4],[4,4*r[0],1],4*(i+r[0]*u)),h=s(d.hi(f[0],f[1],1),n,n),p=h[0],g=h[1];return p<0||Math.pow(this.radius,2)<h[2]?null:new l(p+i|0,g+u|0,d.get(p,g,0),[d.get(p,g,1),d.get(p,g,2),d.get(p,g,3)],Math.sqrt(h[2]))},c.dispose=function(){this.gl&&(this.fbo.dispose(),i.free(this.buffer),this.gl=null,this._readTimeout&&clearTimeout(this._readTimeout))}},{"bit-twiddle":37,"gl-fbo":116,ndarray:301,"typedarray-pool":366}],166:[function(e,t,n){"use strict";var r=e("./lib/create-uniforms"),i=e("./lib/create-attributes"),a=e("./lib/reflect"),o=e("./lib/shader-cache"),s=e("./lib/runtime-reflect"),l=e("./lib/GLError");function u(e){this.gl=e,this.gl.lastAttribCount=0,this._vref=this._fref=this._relink=this.vertShader=this.fragShader=this.program=this.attributes=this.uniforms=this.types=null}var c=u.prototype;function f(e,t){return e.name<t.name?-1:1}function d(e,t,n,r,i){var a=new u(e);return a.update(t,n,r,i),a}c.bind=function(){var e;this.program||this._relink();var t=this.gl.getProgramParameter(this.program,this.gl.ACTIVE_ATTRIBUTES),n=this.gl.lastAttribCount;if(t>n)for(e=n;e<t;e++)this.gl.enableVertexAttribArray(e);else if(n>t)for(e=t;e<n;e++)this.gl.disableVertexAttribArray(e);this.gl.lastAttribCount=t,this.gl.useProgram(this.program)},c.dispose=function(){for(var e=this.gl.lastAttribCount,t=0;t<e;t++)this.gl.disableVertexAttribArray(t);this.gl.lastAttribCount=0,this._fref&&this._fref.dispose(),this._vref&&this._vref.dispose(),this.attributes=this.types=this.vertShader=this.fragShader=this.program=this._relink=this._fref=this._vref=null},c.update=function(e,t,n,u){if(!t||1===arguments.length){var c=e;e=c.vertex,t=c.fragment,n=c.uniforms,u=c.attributes}var d=this,h=d.gl,p=d._vref;d._vref=o.shader(h,h.VERTEX_SHADER,e),p&&p.dispose(),d.vertShader=d._vref.shader;var g=this._fref;if(d._fref=o.shader(h,h.FRAGMENT_SHADER,t),g&&g.dispose(),d.fragShader=d._fref.shader,!n||!u){var v=h.createProgram();if(h.attachShader(v,d.fragShader),h.attachShader(v,d.vertShader),h.linkProgram(v),!h.getProgramParameter(v,h.LINK_STATUS)){var m=h.getProgramInfoLog(v);throw new l(m,"Error linking program:"+m)}n=n||s.uniforms(h,v),u=u||s.attributes(h,v),h.deleteProgram(v)}(u=u.slice()).sort(f);var y,b=[],x=[],_=[];for(y=0;y<u.length;++y){var w=u[y];if(w.type.indexOf("mat")>=0){for(var k=0|w.type.charAt(w.type.length-1),M=new Array(k),T=0;T<k;++T)M[T]=_.length,x.push(w.name+"["+T+"]"),"number"===typeof w.location?_.push(w.location+T):Array.isArray(w.location)&&w.location.length===k&&"number"===typeof w.location[T]?_.push(0|w.location[T]):_.push(-1);b.push({name:w.name,type:w.type,locations:M})}else b.push({name:w.name,type:w.type,locations:[_.length]}),x.push(w.name),"number"===typeof w.location?_.push(0|w.location):_.push(-1)}var A=0;for(y=0;y<_.length;++y)if(_[y]<0){for(;_.indexOf(A)>=0;)A+=1;_[y]=A}var E=new Array(n.length);function S(){d.program=o.program(h,d._vref,d._fref,x,_);for(var e=0;e<n.length;++e)E[e]=h.getUniformLocation(d.program,n[e].name)}S(),d._relink=S,d.types={uniforms:a(n),attributes:a(u)},d.attributes=i(h,d,b,_),Object.defineProperty(d,"uniforms",r(h,d,n,E))},t.exports=d},{"./lib/GLError":167,"./lib/create-attributes":168,"./lib/create-uniforms":169,"./lib/reflect":170,"./lib/runtime-reflect":171,"./lib/shader-cache":172}],167:[function(e,t,n){function r(e,t,n){this.shortMessage=t||"",this.longMessage=n||"",this.rawError=e||"",this.message="gl-shader: "+(t||e||"")+(n?"\n"+n:""),this.stack=(new Error).stack}r.prototype=new Error,r.prototype.name="GLError",r.prototype.constructor=r,t.exports=r},{}],168:[function(e,t,n){"use strict";t.exports=l;var r=e("./GLError");function i(e,t,n,r,i,a){this._gl=e,this._wrapper=t,this._index=n,this._locations=r,this._dimension=i,this._constFunc=a}var a=i.prototype;function o(e,t,n,r,a,o,s){for(var l=["gl","v"],u=[],c=0;c<a;++c)l.push("x"+c),u.push("x"+c);l.push("if(x0.length===void 0){return gl.vertexAttrib"+a+"f(v,"+u.join()+")}else{return gl.vertexAttrib"+a+"fv(v,x0)}");var f=Function.apply(null,l),d=new i(e,t,n,r,a,f);Object.defineProperty(o,s,{set:function(t){return e.disableVertexAttribArray(r[n]),f(e,r[n],t),t},get:function(){return d},enumerable:!0})}function s(e,t,n,r,i,a,s){for(var l=new Array(i),u=new Array(i),c=0;c<i;++c)o(e,t,n[c],r,i,l,c),u[c]=l[c];Object.defineProperty(l,"location",{set:function(e){if(Array.isArray(e))for(var t=0;t<i;++t)u[t].location=e[t];else for(t=0;t<i;++t)u[t].location=e+t;return e},get:function(){for(var e=new Array(i),t=0;t<i;++t)e[t]=r[n[t]];return e},enumerable:!0}),l.pointer=function(t,a,o,s){t=t||e.FLOAT,a=!!a,o=o||i*i,s=s||0;for(var l=0;l<i;++l){var u=r[n[l]];e.vertexAttribPointer(u,i,t,a,o,s+l*i),e.enableVertexAttribArray(u)}};var f=new Array(i),d=e["vertexAttrib"+i+"fv"];Object.defineProperty(a,s,{set:function(t){for(var a=0;a<i;++a){var o=r[n[a]];if(e.disableVertexAttribArray(o),Array.isArray(t[0]))d.call(e,o,t[a]);else{for(var s=0;s<i;++s)f[s]=t[i*a+s];d.call(e,o,f)}}return t},get:function(){return l},enumerable:!0})}function l(e,t,n,i){for(var a={},l=0,u=n.length;l<u;++l){var c=n[l],f=c.name,d=c.type,h=c.locations;switch(d){case"bool":case"int":case"float":o(e,t,h[0],i,1,a,f);break;default:if(d.indexOf("vec")>=0){if((p=d.charCodeAt(d.length-1)-48)<2||p>4)throw new r("","Invalid data type for attribute "+f+": "+d);o(e,t,h[0],i,p,a,f)}else{if(!(d.indexOf("mat")>=0))throw new r("","Unknown data type for attribute "+f+": "+d);var p;if((p=d.charCodeAt(d.length-1)-48)<2||p>4)throw new r("","Invalid data type for attribute "+f+": "+d);s(e,t,h,i,p,a,f)}}}return a}a.pointer=function(e,t,n,r){var i=this,a=i._gl,o=i._locations[i._index];a.vertexAttribPointer(o,i._dimension,e||a.FLOAT,!!t,n||0,r||0),a.enableVertexAttribArray(o)},a.set=function(e,t,n,r){return this._constFunc(this._locations[this._index],e,t,n,r)},Object.defineProperty(a,"location",{get:function(){return this._locations[this._index]},set:function(e){return e!==this._locations[this._index]&&(this._locations[this._index]=0|e,this._wrapper.program=null),0|e}})},{"./GLError":167}],169:[function(e,t,n){"use strict";var r=e("./reflect"),i=e("./GLError");function a(e){return new Function("y","return function(){return y}")(e)}function o(e,t){for(var n=new Array(e),r=0;r<e;++r)n[r]=t;return n}function s(e,t,n,s){function l(n){return new Function("gl","wrapper","locations","return function(){return gl.getUniform(wrapper.program,locations["+n+"])}")(e,t,s)}function u(e,t,n){switch(n){case"bool":case"int":case"sampler2D":case"samplerCube":return"gl.uniform1i(locations["+t+"],obj"+e+")";case"float":return"gl.uniform1f(locations["+t+"],obj"+e+")";default:var r=n.indexOf("vec");if(!(0<=r&&r<=1&&n.length===4+r)){if(0===n.indexOf("mat")&&4===n.length){var a;if((a=n.charCodeAt(n.length-1)-48)<2||a>4)throw new i("","Invalid uniform dimension type for matrix "+name+": "+n);return"gl.uniformMatrix"+a+"fv(locations["+t+"],false,obj"+e+")"}throw new i("","Unknown uniform data type for "+name+": "+n)}if((a=n.charCodeAt(n.length-1)-48)<2||a>4)throw new i("","Invalid data type");switch(n.charAt(0)){case"b":case"i":return"gl.uniform"+a+"iv(locations["+t+"],obj"+e+")";case"v":return"gl.uniform"+a+"fv(locations["+t+"],obj"+e+")";default:throw new i("","Unrecognized data type for vector "+name+": "+n)}}}function c(e,t){if("object"!==typeof t)return[[e,t]];var n=[];for(var r in t){var i=t[r],a=e;parseInt(r)+""===r?a+="["+r+"]":a+="."+r,"object"===typeof i?n.push.apply(n,c(a,i)):n.push([a,i])}return n}function f(t){for(var r=["return function updateProperty(obj){"],i=c("",t),a=0;a<i.length;++a){var o=i[a],l=o[0],f=o[1];s[f]&&r.push(u(l,f,n[f].type))}return r.push("return obj}"),new Function("gl","locations",r.join("\n"))(e,s)}function d(e){switch(e){case"bool":return!1;case"int":case"sampler2D":case"samplerCube":case"float":return 0;default:var t=e.indexOf("vec");if(0<=t&&t<=1&&e.length===4+t){if((n=e.charCodeAt(e.length-1)-48)<2||n>4)throw new i("","Invalid data type");return"b"===e.charAt(0)?o(n,!1):o(n,0)}if(0===e.indexOf("mat")&&4===e.length){var n;if((n=e.charCodeAt(e.length-1)-48)<2||n>4)throw new i("","Invalid uniform dimension type for matrix "+name+": "+e);return o(n*n,0)}throw new i("","Unknown uniform data type for "+name+": "+e)}}function h(e,t,r){if("object"===typeof r){var i=p(r);Object.defineProperty(e,t,{get:a(i),set:f(r),enumerable:!0,configurable:!1})}else s[r]?Object.defineProperty(e,t,{get:l(r),set:f(r),enumerable:!0,configurable:!1}):e[t]=d(n[r].type)}function p(e){var t;if(Array.isArray(e)){t=new Array(e.length);for(var n=0;n<e.length;++n)h(t,n,e[n])}else for(var r in t={},e)h(t,r,e[r]);return t}var g=r(n,!0);return{get:a(p(g)),set:f(g),enumerable:!0,configurable:!0}}t.exports=s},{"./GLError":167,"./reflect":170}],170:[function(e,t,n){"use strict";function r(e,t){for(var n={},r=0;r<e.length;++r)for(var i=e[r].name.split("."),a=n,o=0;o<i.length;++o){var s=i[o].split("[");if(s.length>1){s[0]in a||(a[s[0]]=[]),a=a[s[0]];for(var l=1;l<s.length;++l){var u=parseInt(s[l]);l<s.length-1||o<i.length-1?(u in a||(l<s.length-1?a[u]=[]:a[u]={}),a=a[u]):a[u]=t?r:e[r].type}}else o<i.length-1?(s[0]in a||(a[s[0]]={}),a=a[s[0]]):a[s[0]]=t?r:e[r].type}return n}t.exports=r},{}],171:[function(e,t,n){"use strict";n.uniforms=o,n.attributes=s;var r={FLOAT:"float",FLOAT_VEC2:"vec2",FLOAT_VEC3:"vec3",FLOAT_VEC4:"vec4",INT:"int",INT_VEC2:"ivec2",INT_VEC3:"ivec3",INT_VEC4:"ivec4",BOOL:"bool",BOOL_VEC2:"bvec2",BOOL_VEC3:"bvec3",BOOL_VEC4:"bvec4",FLOAT_MAT2:"mat2",FLOAT_MAT3:"mat3",FLOAT_MAT4:"mat4",SAMPLER_2D:"sampler2D",SAMPLER_CUBE:"samplerCube"},i=null;function a(e,t){if(!i){var n=Object.keys(r);i={};for(var a=0;a<n.length;++a){var o=n[a];i[e[o]]=r[o]}}return i[t]}function o(e,t){for(var n=e.getProgramParameter(t,e.ACTIVE_UNIFORMS),r=[],i=0;i<n;++i){var o=e.getActiveUniform(t,i);if(o){var s=a(e,o.type);if(o.size>1)for(var l=0;l<o.size;++l)r.push({name:o.name.replace("[0]","["+l+"]"),type:s});else r.push({name:o.name,type:s})}}return r}function s(e,t){for(var n=e.getProgramParameter(t,e.ACTIVE_ATTRIBUTES),r=[],i=0;i<n;++i){var o=e.getActiveAttrib(t,i);o&&r.push({name:o.name,type:a(e,o.type)})}return r}},{}],172:[function(e,t,n){"use strict";n.shader=h,n.program=p;var r=e("./GLError"),i=e("gl-format-compiler-error"),a=new("undefined"===typeof WeakMap?e("weakmap-shim"):WeakMap),o=0;function s(e,t,n,r,i,a,o){this.id=e,this.src=t,this.type=n,this.shader=r,this.count=a,this.programs=[],this.cache=o}function l(e){this.gl=e,this.shaders=[{},{}],this.programs={}}s.prototype.dispose=function(){if(0===--this.count){for(var e=this.cache,t=e.gl,n=this.programs,r=0,i=n.length;r<i;++r){var a=e.programs[n[r]];a&&(delete e.programs[r],t.deleteProgram(a))}t.deleteShader(this.shader),delete e.shaders[this.type===t.FRAGMENT_SHADER|0][this.src]}};var u=l.prototype;function c(e,t,n){var a=e.createShader(t);if(e.shaderSource(a,n),e.compileShader(a),!e.getShaderParameter(a,e.COMPILE_STATUS)){var o=e.getShaderInfoLog(a);try{var s=i(o,n,t)}catch(l){throw console.warn("Failed to format compiler error: "+l),new r(o,"Error compiling shader:\n"+o)}throw new r(o,s.short,s.long)}return a}function f(e,t,n,i,a){var o=e.createProgram();e.attachShader(o,t),e.attachShader(o,n);for(var s=0;s<i.length;++s)e.bindAttribLocation(o,a[s],i[s]);if(e.linkProgram(o),!e.getProgramParameter(o,e.LINK_STATUS)){var l=e.getProgramInfoLog(o);throw new r(l,"Error linking program: "+l)}return o}function d(e){var t=a.get(e);return t||(t=new l(e),a.set(e,t)),t}function h(e,t,n){return d(e).getShaderReference(t,n)}function p(e,t,n,r,i){return d(e).getProgram(t,n,r,i)}u.getShaderReference=function(e,t){var n=this.gl,r=this.shaders[e===n.FRAGMENT_SHADER|0],i=r[t];if(i&&n.isShader(i.shader))i.count+=1;else{var a=c(n,e,t);i=r[t]=new s(o++,t,e,a,[],1,this)}return i},u.getProgram=function(e,t,n,r){var i=[e.id,t.id,n.join(":"),r.join(":")].join("@"),a=this.programs[i];return a&&this.gl.isProgram(a)||(this.programs[i]=a=f(this.gl,e.shader,t.shader,n,r),e.programs.push(i),t.programs.push(i)),a}},{"./GLError":167,"gl-format-compiler-error":117,"weakmap-shim":374}],173:[function(e,t,n){arguments[4][104][0].apply(n,arguments)},{dup:104}],174:[function(e,t,n){"use strict";var r=e("glslify"),i=e("gl-shader"),a=r(["precision mediump float;\n#define GLSLIFY 1\n\nattribute vec3 position, color;\nattribute float weight;\n\nuniform mat4 model, view, projection;\nuniform vec3 coordinates[3];\nuniform vec4 colors[3];\nuniform vec2 screenShape;\nuniform float lineWidth;\n\nvarying vec4 fragColor;\n\nvoid main() {\n  vec3 vertexPosition = mix(coordinates[0],\n    mix(coordinates[2], coordinates[1], 0.5 * (position + 1.0)), abs(position));\n\n  vec4 clipPos = projection * view * model * vec4(vertexPosition, 1.0);\n  vec2 clipOffset = (projection * view * model * vec4(color, 0.0)).xy;\n  vec2 delta = weight * clipOffset * screenShape;\n  vec2 lineOffset = normalize(vec2(delta.y, -delta.x)) / screenShape;\n\n  gl_Position   = vec4(clipPos.xy + clipPos.w * 0.5 * lineWidth * lineOffset, clipPos.z, clipPos.w);\n  fragColor     = color.x * colors[0] + color.y * colors[1] + color.z * colors[2];\n}\n"]),o=r(["precision mediump float;\n#define GLSLIFY 1\n\nvarying vec4 fragColor;\n\nvoid main() {\n  gl_FragColor = fragColor;\n}"]);t.exports=function(e){return i(e,a,o,null,[{name:"position",type:"vec3"},{name:"color",type:"vec3"},{name:"weight",type:"float"}])}},{"gl-shader":166,glslify:173}],175:[function(e,t,n){"use strict";var r=e("gl-buffer"),i=e("gl-vao"),a=e("./shaders/index");t.exports=d;var o=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];function s(e,t,n,r){this.gl=e,this.buffer=t,this.vao=n,this.shader=r,this.pixelRatio=1,this.bounds=[[-1e3,-1e3,-1e3],[1e3,1e3,1e3]],this.position=[0,0,0],this.lineWidth=[2,2,2],this.colors=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.enabled=[!0,!0,!0],this.drawSides=[!0,!0,!0],this.axes=null}var l=s.prototype,u=[0,0,0],c=[0,0,0],f=[0,0];function d(e,t){var n=[];function o(e,t,r,i,a,o){var s=[e,t,r,0,0,0,1];s[i+3]=1,s[i]=a,n.push.apply(n,s),s[6]=-1,n.push.apply(n,s),s[i]=o,n.push.apply(n,s),n.push.apply(n,s),s[6]=1,n.push.apply(n,s),s[i]=a,n.push.apply(n,s)}o(0,0,0,0,0,1),o(0,0,0,1,0,1),o(0,0,0,2,0,1),o(1,0,0,1,-1,1),o(1,0,0,2,-1,1),o(0,1,0,0,-1,1),o(0,1,0,2,-1,1),o(0,0,1,0,-1,1),o(0,0,1,1,-1,1);var l=r(e,n),u=i(e,[{type:e.FLOAT,buffer:l,size:3,offset:0,stride:28},{type:e.FLOAT,buffer:l,size:3,offset:12,stride:28},{type:e.FLOAT,buffer:l,size:1,offset:24,stride:28}]),c=a(e);c.attributes.position.location=0,c.attributes.color.location=1,c.attributes.weight.location=2;var f=new s(e,l,u,c);return f.update(t),f}l.isTransparent=function(){return!1},l.drawTransparent=function(e){},l.draw=function(e){var t=this.gl,n=this.vao,r=this.shader;n.bind(),r.bind();var i,a=e.model||o,s=e.view||o,l=e.projection||o;this.axes&&(i=this.axes.lastCubeProps.axis);for(var d=u,h=c,p=0;p<3;++p)i&&i[p]<0?(d[p]=this.bounds[0][p],h[p]=this.bounds[1][p]):(d[p]=this.bounds[1][p],h[p]=this.bounds[0][p]);for(f[0]=t.drawingBufferWidth,f[1]=t.drawingBufferHeight,r.uniforms.model=a,r.uniforms.view=s,r.uniforms.projection=l,r.uniforms.coordinates=[this.position,d,h],r.uniforms.colors=this.colors,r.uniforms.screenShape=f,p=0;p<3;++p)r.uniforms.lineWidth=this.lineWidth[p]*this.pixelRatio,this.enabled[p]&&(n.draw(t.TRIANGLES,6,6*p),this.drawSides[p]&&n.draw(t.TRIANGLES,12,18+12*p));n.unbind()},l.update=function(e){e&&("bounds"in e&&(this.bounds=e.bounds),"position"in e&&(this.position=e.position),"lineWidth"in e&&(this.lineWidth=e.lineWidth),"colors"in e&&(this.colors=e.colors),"enabled"in e&&(this.enabled=e.enabled),"drawSides"in e&&(this.drawSides=e.drawSides))},l.dispose=function(){this.vao.dispose(),this.buffer.dispose(),this.shader.dispose()}},{"./shaders/index":174,"gl-buffer":106,"gl-vao":186}],176:[function(e,t,n){var r=e("glslify"),i=r(["precision highp float;\n\nprecision highp float;\n#define GLSLIFY 1\n\nvec3 getOrthogonalVector(vec3 v) {\n  // Return up-vector for only-z vector.\n  // Return ax + by + cz = 0, a point that lies on the plane that has v as a normal and that isn't (0,0,0).\n  // From the above if-statement we have ||a|| > 0  U  ||b|| > 0.\n  // Assign z = 0, x = -b, y = a:\n  // a*-b + b*a + c*0 = -ba + ba + 0 = 0\n  if (v.x*v.x > v.z*v.z || v.y*v.y > v.z*v.z) {\n    return normalize(vec3(-v.y, v.x, 0.0));\n  } else {\n    return normalize(vec3(0.0, v.z, -v.y));\n  }\n}\n\n// Calculate the tube vertex and normal at the given index.\n//\n// The returned vertex is for a tube ring with its center at origin, radius of length(d), pointing in the direction of d.\n//\n// Each tube segment is made up of a ring of vertices.\n// These vertices are used to make up the triangles of the tube by connecting them together in the vertex array.\n// The indexes of tube segments run from 0 to 8.\n//\nvec3 getTubePosition(vec3 d, float index, out vec3 normal) {\n  float segmentCount = 8.0;\n\n  float angle = 2.0 * 3.14159 * (index / segmentCount);\n\n  vec3 u = getOrthogonalVector(d);\n  vec3 v = normalize(cross(u, d));\n\n  vec3 x = u * cos(angle) * length(d);\n  vec3 y = v * sin(angle) * length(d);\n  vec3 v3 = x + y;\n\n  normal = normalize(v3);\n\n  return v3;\n}\n\nattribute vec4 vector;\nattribute vec4 color, position;\nattribute vec2 uv;\n\nuniform float vectorScale, tubeScale;\nuniform mat4 model, view, projection, inverseModel;\nuniform vec3 eyePosition, lightPosition;\n\nvarying vec3 f_normal, f_lightDirection, f_eyeDirection, f_data, f_position;\nvarying vec4 f_color;\nvarying vec2 f_uv;\n\nvoid main() {\n  // Scale the vector magnitude to stay constant with\n  // model & view changes.\n  vec3 normal;\n  vec3 XYZ = getTubePosition(mat3(model) * (tubeScale * vector.w * normalize(vector.xyz)), position.w, normal);\n  vec4 tubePosition = model * vec4(position.xyz, 1.0) + vec4(XYZ, 0.0);\n\n  //Lighting geometry parameters\n  vec4 cameraCoordinate = view * tubePosition;\n  cameraCoordinate.xyz /= cameraCoordinate.w;\n  f_lightDirection = lightPosition - cameraCoordinate.xyz;\n  f_eyeDirection   = eyePosition - cameraCoordinate.xyz;\n  f_normal = normalize((vec4(normal, 0.0) * inverseModel).xyz);\n\n  // vec4 m_position  = model * vec4(tubePosition, 1.0);\n  vec4 t_position  = view * tubePosition;\n  gl_Position      = projection * t_position;\n\n  f_color          = color;\n  f_data           = tubePosition.xyz;\n  f_position       = position.xyz;\n  f_uv             = uv;\n}\n"]),a=r(["#extension GL_OES_standard_derivatives : enable\n\nprecision highp float;\n#define GLSLIFY 1\n\nfloat beckmannDistribution(float x, float roughness) {\n  float NdotH = max(x, 0.0001);\n  float cos2Alpha = NdotH * NdotH;\n  float tan2Alpha = (cos2Alpha - 1.0) / cos2Alpha;\n  float roughness2 = roughness * roughness;\n  float denom = 3.141592653589793 * roughness2 * cos2Alpha * cos2Alpha;\n  return exp(tan2Alpha / roughness2) / denom;\n}\n\nfloat cookTorranceSpecular(\n  vec3 lightDirection,\n  vec3 viewDirection,\n  vec3 surfaceNormal,\n  float roughness,\n  float fresnel) {\n\n  float VdotN = max(dot(viewDirection, surfaceNormal), 0.0);\n  float LdotN = max(dot(lightDirection, surfaceNormal), 0.0);\n\n  //Half angle vector\n  vec3 H = normalize(lightDirection + viewDirection);\n\n  //Geometric term\n  float NdotH = max(dot(surfaceNormal, H), 0.0);\n  float VdotH = max(dot(viewDirection, H), 0.000001);\n  float LdotH = max(dot(lightDirection, H), 0.000001);\n  float G1 = (2.0 * NdotH * VdotN) / VdotH;\n  float G2 = (2.0 * NdotH * LdotN) / LdotH;\n  float G = min(1.0, min(G1, G2));\n  \n  //Distribution term\n  float D = beckmannDistribution(NdotH, roughness);\n\n  //Fresnel term\n  float F = pow(1.0 - VdotN, fresnel);\n\n  //Multiply terms and done\n  return  G * F * D / max(3.14159265 * VdotN, 0.000001);\n}\n\nbool outOfRange(float a, float b, float p) {\n  return ((p > max(a, b)) || \n          (p < min(a, b)));\n}\n\nbool outOfRange(vec2 a, vec2 b, vec2 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y));\n}\n\nbool outOfRange(vec3 a, vec3 b, vec3 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y) ||\n          outOfRange(a.z, b.z, p.z));\n}\n\nbool outOfRange(vec4 a, vec4 b, vec4 p) {\n  return outOfRange(a.xyz, b.xyz, p.xyz);\n}\n\nuniform vec3 clipBounds[2];\nuniform float roughness, fresnel, kambient, kdiffuse, kspecular, opacity;\nuniform sampler2D texture;\n\nvarying vec3 f_normal, f_lightDirection, f_eyeDirection, f_data, f_position;\nvarying vec4 f_color;\nvarying vec2 f_uv;\n\nvoid main() {\n  if (outOfRange(clipBounds[0], clipBounds[1], f_position)) discard;\n  vec3 N = normalize(f_normal);\n  vec3 L = normalize(f_lightDirection);\n  vec3 V = normalize(f_eyeDirection);\n\n  if(gl_FrontFacing) {\n    N = -N;\n  }\n\n  float specular = min(1.0, max(0.0, cookTorranceSpecular(L, V, N, roughness, fresnel)));\n  float diffuse  = min(kambient + kdiffuse * max(dot(N, L), 0.0), 1.0);\n\n  vec4 surfaceColor = f_color * texture2D(texture, f_uv);\n  vec4 litColor = surfaceColor.a * vec4(diffuse * surfaceColor.rgb + kspecular * vec3(1,1,1) * specular,  1.0);\n\n  gl_FragColor = litColor * opacity;\n}\n"]),o=r(["precision highp float;\n\nprecision highp float;\n#define GLSLIFY 1\n\nvec3 getOrthogonalVector(vec3 v) {\n  // Return up-vector for only-z vector.\n  // Return ax + by + cz = 0, a point that lies on the plane that has v as a normal and that isn't (0,0,0).\n  // From the above if-statement we have ||a|| > 0  U  ||b|| > 0.\n  // Assign z = 0, x = -b, y = a:\n  // a*-b + b*a + c*0 = -ba + ba + 0 = 0\n  if (v.x*v.x > v.z*v.z || v.y*v.y > v.z*v.z) {\n    return normalize(vec3(-v.y, v.x, 0.0));\n  } else {\n    return normalize(vec3(0.0, v.z, -v.y));\n  }\n}\n\n// Calculate the tube vertex and normal at the given index.\n//\n// The returned vertex is for a tube ring with its center at origin, radius of length(d), pointing in the direction of d.\n//\n// Each tube segment is made up of a ring of vertices.\n// These vertices are used to make up the triangles of the tube by connecting them together in the vertex array.\n// The indexes of tube segments run from 0 to 8.\n//\nvec3 getTubePosition(vec3 d, float index, out vec3 normal) {\n  float segmentCount = 8.0;\n\n  float angle = 2.0 * 3.14159 * (index / segmentCount);\n\n  vec3 u = getOrthogonalVector(d);\n  vec3 v = normalize(cross(u, d));\n\n  vec3 x = u * cos(angle) * length(d);\n  vec3 y = v * sin(angle) * length(d);\n  vec3 v3 = x + y;\n\n  normal = normalize(v3);\n\n  return v3;\n}\n\nattribute vec4 vector;\nattribute vec4 position;\nattribute vec4 id;\n\nuniform mat4 model, view, projection;\nuniform float tubeScale;\n\nvarying vec3 f_position;\nvarying vec4 f_id;\n\nvoid main() {\n  vec3 normal;\n  vec3 XYZ = getTubePosition(mat3(model) * (tubeScale * vector.w * normalize(vector.xyz)), position.w, normal);\n  vec4 tubePosition = model * vec4(position.xyz, 1.0) + vec4(XYZ, 0.0);\n\n  gl_Position = projection * view * tubePosition;\n  f_id        = id;\n  f_position  = position.xyz;\n}\n"]),s=r(["precision highp float;\n#define GLSLIFY 1\n\nbool outOfRange(float a, float b, float p) {\n  return ((p > max(a, b)) || \n          (p < min(a, b)));\n}\n\nbool outOfRange(vec2 a, vec2 b, vec2 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y));\n}\n\nbool outOfRange(vec3 a, vec3 b, vec3 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y) ||\n          outOfRange(a.z, b.z, p.z));\n}\n\nbool outOfRange(vec4 a, vec4 b, vec4 p) {\n  return outOfRange(a.xyz, b.xyz, p.xyz);\n}\n\nuniform vec3  clipBounds[2];\nuniform float pickId;\n\nvarying vec3 f_position;\nvarying vec4 f_id;\n\nvoid main() {\n  if (outOfRange(clipBounds[0], clipBounds[1], f_position)) discard;\n\n  gl_FragColor = vec4(pickId, f_id.xyz);\n}"]);n.meshShader={vertex:i,fragment:a,attributes:[{name:"position",type:"vec4"},{name:"color",type:"vec4"},{name:"uv",type:"vec2"},{name:"vector",type:"vec4"}]},n.pickShader={vertex:o,fragment:s,attributes:[{name:"position",type:"vec4"},{name:"id",type:"vec4"},{name:"vector",type:"vec4"}]}},{glslify:177}],177:[function(e,t,n){arguments[4][104][0].apply(n,arguments)},{dup:104}],178:[function(e,t,n){"use strict";var r=e("gl-vec3"),i=e("gl-vec4"),a=["xyz","xzy","yxz","yzx","zxy","zyx"],o=function(e,t,n,a){for(var o=e.points,s=e.velocities,l=e.divergences,u=[],c=[],f=[],d=[],h=[],p=[],g=0,v=0,m=i.create(),y=i.create(),b=8,x=0;x<o.length;x++){var _=o[x],w=s[x],k=l[x];0===t&&(k=.05*n),v=r.length(w)/a,m=i.create(),r.copy(m,w),m[3]=k;for(var M=0;M<b;M++)h[M]=[_[0],_[1],_[2],M];if(d.length>0)for(M=0;M<b;M++){var T=(M+1)%b;u.push(d[M],h[M],h[T],h[T],d[T],d[M]),f.push(y,m,m,m,y,y),p.push(g,v,v,v,g,g);var A=u.length;c.push([A-6,A-5,A-4],[A-3,A-2,A-1])}var E=d;d=h,h=E;var S=y;y=m,m=S;var O=g;g=v,v=O}return{positions:u,cells:c,vectors:f,vertexIntensity:p}},s=function(e,t,n,i){for(var a=0,s=0;s<e.length;s++)for(var l=e[s].velocities,u=0;u<l.length;u++)a=Math.max(a,r.length(l[u]));var c=e.map((function(e){return o(e,n,i,a)})),f=[],d=[],h=[],p=[];for(s=0;s<c.length;s++){var g=c[s],v=f.length;for(f=f.concat(g.positions),h=h.concat(g.vectors),p=p.concat(g.vertexIntensity),u=0;u<g.cells.length;u++){var m=g.cells[u],y=[];d.push(y);for(var b=0;b<m.length;b++)y.push(m[b]+v)}}return{positions:f,cells:d,vectors:h,vertexIntensity:p,colormap:t}},l=function(e,t){var n,r=e.length;for(n=0;n<r;n++){var i=e[n];if(i===t)return n;if(i>t)return n-1}return n},u=function(e,t,n){return e<t?t:e>n?n:e},c=function(e,t,n){var i=t.vectors,a=t.meshgrid,o=e[0],s=e[1],c=e[2],f=a[0].length,d=a[1].length,h=a[2].length,p=l(a[0],o),g=l(a[1],s),v=l(a[2],c),m=p+1,y=g+1,b=v+1;if(p=u(p,0,f-1),m=u(m,0,f-1),g=u(g,0,d-1),y=u(y,0,d-1),v=u(v,0,h-1),b=u(b,0,h-1),p<0||g<0||v<0||m>f-1||y>d-1||b>h-1)return r.create();var x,_,w,k,M,T,A=a[0][p],E=a[0][m],S=a[1][g],O=a[1][y],C=a[2][v],L=(o-A)/(E-A),R=(s-S)/(O-S),P=(c-C)/(a[2][b]-C);switch(isFinite(L)||(L=.5),isFinite(R)||(R=.5),isFinite(P)||(P=.5),n.reversedX&&(p=f-1-p,m=f-1-m),n.reversedY&&(g=d-1-g,y=d-1-y),n.reversedZ&&(v=h-1-v,b=h-1-b),n.filled){case 5:M=v,T=b,w=g*h,k=y*h,x=p*h*d,_=m*h*d;break;case 4:M=v,T=b,x=p*h,_=m*h,w=g*h*f,k=y*h*f;break;case 3:w=g,k=y,M=v*d,T=b*d,x=p*d*h,_=m*d*h;break;case 2:w=g,k=y,x=p*d,_=m*d,M=v*d*f,T=b*d*f;break;case 1:x=p,_=m,M=v*f,T=b*f,w=g*f*h,k=y*f*h;break;default:x=p,_=m,w=g*f,k=y*f,M=v*f*d,T=b*f*d}var j=i[x+w+M],z=i[x+w+T],I=i[x+k+M],N=i[x+k+T],D=i[_+w+M],F=i[_+w+T],B=i[_+k+M],U=i[_+k+T],V=r.create(),H=r.create(),q=r.create(),W=r.create();r.lerp(V,j,D,L),r.lerp(H,z,F,L),r.lerp(q,I,B,L),r.lerp(W,N,U,L);var G=r.create(),X=r.create();r.lerp(G,V,q,R),r.lerp(X,H,W,R);var Y=r.create();return r.lerp(Y,G,X,P),Y},f=function(e){var t=1/0;e.sort((function(e,t){return e-t}));for(var n=e.length,r=1;r<n;r++){var i=Math.abs(e[r]-e[r-1]);i<t&&(t=i)}return t},d=function(e){for(var t=[],n=[],r=[],i={},a={},o={},s=e.length,l=0;l<s;l++){var u=e[l],c=u[0],d=u[1],h=u[2];i[c]||(t.push(c),i[c]=!0),a[d]||(n.push(d),a[d]=!0),o[h]||(r.push(h),o[h]=!0)}var p=f(t),g=f(n),v=f(r),m=Math.min(p,g,v);return isFinite(m)?m:1};t.exports=function(e,t){var n=e.startingPositions,i=e.maxLength||1e3,o=e.tubeSize||1,l=e.absoluteTubeSize,u=e.gridFill||"+x+y+z",f={};-1!==u.indexOf("-x")&&(f.reversedX=!0),-1!==u.indexOf("-y")&&(f.reversedY=!0),-1!==u.indexOf("-z")&&(f.reversedZ=!0),f.filled=a.indexOf(u.replace(/-/g,"").replace(/\+/g,""));var h=e.getVelocity||function(t){return c(t,e,f)},p=e.getDivergence||function(e,t){var n=r.create(),i=1e-4;r.add(n,e,[i,0,0]);var a=h(n);r.subtract(a,a,t),r.scale(a,a,1/i),r.add(n,e,[0,i,0]);var o=h(n);r.subtract(o,o,t),r.scale(o,o,1/i),r.add(n,e,[0,0,i]);var s=h(n);return r.subtract(s,s,t),r.scale(s,s,1/i),r.add(n,a,o),r.add(n,n,s),n},g=[],v=t[0][0],m=t[0][1],y=t[0][2],b=t[1][0],x=t[1][1],_=t[1][2],w=function(e){var t=e[0],n=e[1],r=e[2];return!(t<v||t>b||n<m||n>x||r<y||r>_)},k=10*r.distance(t[0],t[1])/i,M=k*k,T=1,A=0,E=n.length;E>1&&(T=d(n));for(var S=0;S<E;S++){var O=r.create();r.copy(O,n[S]);var C=[O],L=[],R=h(O),P=O;L.push(R);var j=[],z=p(O,R),I=r.length(z);isFinite(I)&&I>A&&(A=I),j.push(I),g.push({points:C,velocities:L,divergences:j});for(var N=0;N<100*i&&C.length<i&&w(O);){N++;var D=r.clone(R),F=r.squaredLength(D);if(0===F)break;F>M&&r.scale(D,D,k/Math.sqrt(F)),r.add(D,D,O),R=h(D),r.squaredDistance(P,D)-M>-1e-4*M&&(C.push(D),P=D,L.push(R),z=p(D,R),I=r.length(z),isFinite(I)&&I>A&&(A=I),j.push(I)),O=D}}var B=s(g,e.colormap,A,T);return l?B.tubeScale=l:(0===A&&(A=1),B.tubeScale=.5*o*T/A),B};var h=e("./lib/shaders"),p=e("gl-cone3d").createMesh;t.exports.createTubeMesh=function(e,t){return p(e,t,{shaders:h,traceType:"streamtube"})}},{"./lib/shaders":176,"gl-cone3d":107,"gl-vec3":205,"gl-vec4":241}],179:[function(e,t,n){var r=e("gl-shader"),i=e("glslify"),a=i(["precision highp float;\n#define GLSLIFY 1\n\nattribute vec4 uv;\nattribute vec3 f;\nattribute vec3 normal;\n\nuniform vec3 objectOffset;\nuniform mat4 model, view, projection, inverseModel;\nuniform vec3 lightPosition, eyePosition;\nuniform sampler2D colormap;\n\nvarying float value, kill;\nvarying vec3 worldCoordinate;\nvarying vec2 planeCoordinate;\nvarying vec3 lightDirection, eyeDirection, surfaceNormal;\nvarying vec4 vColor;\n\nvoid main() {\n  vec3 localCoordinate = vec3(uv.zw, f.x);\n  worldCoordinate = objectOffset + localCoordinate;\n  vec4 worldPosition = model * vec4(worldCoordinate, 1.0);\n  vec4 clipPosition = projection * view * worldPosition;\n  gl_Position = clipPosition;\n  kill = f.y;\n  value = f.z;\n  planeCoordinate = uv.xy;\n\n  vColor = texture2D(colormap, vec2(value, value));\n\n  //Lighting geometry parameters\n  vec4 cameraCoordinate = view * worldPosition;\n  cameraCoordinate.xyz /= cameraCoordinate.w;\n  lightDirection = lightPosition - cameraCoordinate.xyz;\n  eyeDirection   = eyePosition - cameraCoordinate.xyz;\n  surfaceNormal  = normalize((vec4(normal,0) * inverseModel).xyz);\n}\n"]),o=i(["precision highp float;\n#define GLSLIFY 1\n\nfloat beckmannDistribution(float x, float roughness) {\n  float NdotH = max(x, 0.0001);\n  float cos2Alpha = NdotH * NdotH;\n  float tan2Alpha = (cos2Alpha - 1.0) / cos2Alpha;\n  float roughness2 = roughness * roughness;\n  float denom = 3.141592653589793 * roughness2 * cos2Alpha * cos2Alpha;\n  return exp(tan2Alpha / roughness2) / denom;\n}\n\nfloat beckmannSpecular(\n  vec3 lightDirection,\n  vec3 viewDirection,\n  vec3 surfaceNormal,\n  float roughness) {\n  return beckmannDistribution(dot(surfaceNormal, normalize(lightDirection + viewDirection)), roughness);\n}\n\nbool outOfRange(float a, float b, float p) {\n  return ((p > max(a, b)) || \n          (p < min(a, b)));\n}\n\nbool outOfRange(vec2 a, vec2 b, vec2 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y));\n}\n\nbool outOfRange(vec3 a, vec3 b, vec3 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y) ||\n          outOfRange(a.z, b.z, p.z));\n}\n\nbool outOfRange(vec4 a, vec4 b, vec4 p) {\n  return outOfRange(a.xyz, b.xyz, p.xyz);\n}\n\nuniform vec3 lowerBound, upperBound;\nuniform float contourTint;\nuniform vec4 contourColor;\nuniform sampler2D colormap;\nuniform vec3 clipBounds[2];\nuniform float roughness, fresnel, kambient, kdiffuse, kspecular, opacity;\nuniform float vertexColor;\n\nvarying float value, kill;\nvarying vec3 worldCoordinate;\nvarying vec3 lightDirection, eyeDirection, surfaceNormal;\nvarying vec4 vColor;\n\nvoid main() {\n  if (\n    kill > 0.0 ||\n    vColor.a == 0.0 ||\n    outOfRange(clipBounds[0], clipBounds[1], worldCoordinate)\n  ) discard;\n\n  vec3 N = normalize(surfaceNormal);\n  vec3 V = normalize(eyeDirection);\n  vec3 L = normalize(lightDirection);\n\n  if(gl_FrontFacing) {\n    N = -N;\n  }\n\n  float specular = max(beckmannSpecular(L, V, N, roughness), 0.);\n  float diffuse  = min(kambient + kdiffuse * max(dot(N, L), 0.0), 1.0);\n\n  //decide how to interpolate color \u2014 in vertex or in fragment\n  vec4 surfaceColor =\n    step(vertexColor, .5) * texture2D(colormap, vec2(value, value)) +\n    step(.5, vertexColor) * vColor;\n\n  vec4 litColor = surfaceColor.a * vec4(diffuse * surfaceColor.rgb + kspecular * vec3(1,1,1) * specular,  1.0);\n\n  gl_FragColor = mix(litColor, contourColor, contourTint) * opacity;\n}\n"]),s=i(["precision highp float;\n#define GLSLIFY 1\n\nattribute vec4 uv;\nattribute float f;\n\nuniform vec3 objectOffset;\nuniform mat3 permutation;\nuniform mat4 model, view, projection;\nuniform float height, zOffset;\nuniform sampler2D colormap;\n\nvarying float value, kill;\nvarying vec3 worldCoordinate;\nvarying vec2 planeCoordinate;\nvarying vec3 lightDirection, eyeDirection, surfaceNormal;\nvarying vec4 vColor;\n\nvoid main() {\n  vec3 dataCoordinate = permutation * vec3(uv.xy, height);\n  worldCoordinate = objectOffset + dataCoordinate;\n  vec4 worldPosition = model * vec4(worldCoordinate, 1.0);\n\n  vec4 clipPosition = projection * view * worldPosition;\n  clipPosition.z += zOffset;\n\n  gl_Position = clipPosition;\n  value = f + objectOffset.z;\n  kill = -1.0;\n  planeCoordinate = uv.zw;\n\n  vColor = texture2D(colormap, vec2(value, value));\n\n  //Don't do lighting for contours\n  surfaceNormal   = vec3(1,0,0);\n  eyeDirection    = vec3(0,1,0);\n  lightDirection  = vec3(0,0,1);\n}\n"]),l=i(["precision highp float;\n#define GLSLIFY 1\n\nbool outOfRange(float a, float b, float p) {\n  return ((p > max(a, b)) || \n          (p < min(a, b)));\n}\n\nbool outOfRange(vec2 a, vec2 b, vec2 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y));\n}\n\nbool outOfRange(vec3 a, vec3 b, vec3 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y) ||\n          outOfRange(a.z, b.z, p.z));\n}\n\nbool outOfRange(vec4 a, vec4 b, vec4 p) {\n  return outOfRange(a.xyz, b.xyz, p.xyz);\n}\n\nuniform vec2 shape;\nuniform vec3 clipBounds[2];\nuniform float pickId;\n\nvarying float value, kill;\nvarying vec3 worldCoordinate;\nvarying vec2 planeCoordinate;\nvarying vec3 surfaceNormal;\n\nvec2 splitFloat(float v) {\n  float vh = 255.0 * v;\n  float upper = floor(vh);\n  float lower = fract(vh);\n  return vec2(upper / 255.0, floor(lower * 16.0) / 16.0);\n}\n\nvoid main() {\n  if ((kill > 0.0) ||\n      (outOfRange(clipBounds[0], clipBounds[1], worldCoordinate))) discard;\n\n  vec2 ux = splitFloat(planeCoordinate.x / shape.x);\n  vec2 uy = splitFloat(planeCoordinate.y / shape.y);\n  gl_FragColor = vec4(pickId, ux.x, uy.x, ux.y + (uy.y/16.0));\n}\n"]);n.createShader=function(e){var t=r(e,a,o,null,[{name:"uv",type:"vec4"},{name:"f",type:"vec3"},{name:"normal",type:"vec3"}]);return t.attributes.uv.location=0,t.attributes.f.location=1,t.attributes.normal.location=2,t},n.createPickShader=function(e){var t=r(e,a,l,null,[{name:"uv",type:"vec4"},{name:"f",type:"vec3"},{name:"normal",type:"vec3"}]);return t.attributes.uv.location=0,t.attributes.f.location=1,t.attributes.normal.location=2,t},n.createContourShader=function(e){var t=r(e,s,o,null,[{name:"uv",type:"vec4"},{name:"f",type:"float"}]);return t.attributes.uv.location=0,t.attributes.f.location=1,t},n.createPickContourShader=function(e){var t=r(e,s,l,null,[{name:"uv",type:"vec4"},{name:"f",type:"float"}]);return t.attributes.uv.location=0,t.attributes.f.location=1,t}},{"gl-shader":166,glslify:180}],180:[function(e,t,n){arguments[4][104][0].apply(n,arguments)},{dup:104}],181:[function(e,t,n){"use strict";t.exports=V;var r=e("bit-twiddle"),i=e("gl-buffer"),a=e("gl-vao"),o=e("gl-texture2d"),s=e("typedarray-pool"),l=e("colormap"),u=e("ndarray-ops"),c=e("ndarray-pack"),f=e("ndarray"),d=e("surface-nets"),h=e("gl-mat4/multiply"),p=e("gl-mat4/invert"),g=e("binary-search-bounds"),v=e("ndarray-gradient"),m=e("./lib/shaders"),y=m.createShader,b=m.createContourShader,x=m.createPickShader,_=m.createPickContourShader,w=40,k=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],M=[[0,0],[0,1],[1,0],[1,1],[1,0],[0,1]],T=[[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0]];function A(e,t,n,r,i){this.position=e,this.index=t,this.uv=n,this.level=r,this.dataCoordinate=i}!function(){for(var e=0;e<3;++e){var t=T[e],n=(e+2)%3;t[(e+1)%3+0]=1,t[n+3]=1,t[e+6]=1}}();var E=256;function S(e,t,n,r,i,a,o,l,u,c,d,h,p,g,v){this.gl=e,this.shape=t,this.bounds=n,this.objectOffset=v,this.intensityBounds=[],this._shader=r,this._pickShader=i,this._coordinateBuffer=a,this._vao=o,this._colorMap=l,this._contourShader=u,this._contourPickShader=c,this._contourBuffer=d,this._contourVAO=h,this._contourOffsets=[[],[],[]],this._contourCounts=[[],[],[]],this._vertexCount=0,this._pickResult=new A([0,0,0],[0,0],[0,0],[0,0,0],[0,0,0]),this._dynamicBuffer=p,this._dynamicVAO=g,this._dynamicOffsets=[0,0,0],this._dynamicCounts=[0,0,0],this.contourWidth=[1,1,1],this.contourLevels=[[1],[1],[1]],this.contourTint=[0,0,0],this.contourColor=[[.5,.5,.5,1],[.5,.5,.5,1],[.5,.5,.5,1]],this.showContour=!0,this.showSurface=!0,this.enableHighlight=[!0,!0,!0],this.highlightColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.highlightTint=[1,1,1],this.highlightLevel=[-1,-1,-1],this.enableDynamic=[!0,!0,!0],this.dynamicLevel=[NaN,NaN,NaN],this.dynamicColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.dynamicTint=[1,1,1],this.dynamicWidth=[1,1,1],this.axesBounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],this.surfaceProject=[!1,!1,!1],this.contourProject=[[!1,!1,!1],[!1,!1,!1],[!1,!1,!1]],this.colorBounds=[!1,!1],this._field=[f(s.mallocFloat(1024),[0,0]),f(s.mallocFloat(1024),[0,0]),f(s.mallocFloat(1024),[0,0])],this.pickId=1,this.clipBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.snapToData=!1,this.pixelRatio=1,this.opacity=1,this.lightPosition=[10,1e4,0],this.ambientLight=.8,this.diffuseLight=.8,this.specularLight=2,this.roughness=.5,this.fresnel=1.5,this.vertexColor=0,this.dirty=!0}var O=S.prototype;function C(e,t){if(!t)return 1;if(!t.length)return 1;for(var n=0;n<t.length;++n){if(t.length<2)return 1;if(t[n][0]===e)return t[n][1];if(t[n][0]>e&&n>0){var r=(t[n][0]-e)/(t[n][0]-t[n-1][0]);return t[n][1]*(1-r)+r*t[n-1][1]}}return 1}O.genColormap=function(e,t){var n=!1,r=c([l({colormap:e,nshades:E,format:"rgba"}).map((function(e,r){var i=t?C(r/255,t):e[3];return i<1&&(n=!0),[e[0],e[1],e[2],255*i]}))]);return u.divseq(r,255),this.hasAlphaScale=n,r},O.isTransparent=function(){return this.opacity<1||this.hasAlphaScale},O.isOpaque=function(){return!this.isTransparent()},O.pickSlots=1,O.setPickBase=function(e){this.pickId=e};var L=[0,0,0],R={showSurface:!1,showContour:!1,projections:[k.slice(),k.slice(),k.slice()],clipBounds:[[[0,0,0],[0,0,0]],[[0,0,0],[0,0,0]],[[0,0,0],[0,0,0]]]};function P(e,t){var n,r,i,a=t.axes&&t.axes.lastCubeProps.axis||L,o=t.showSurface,s=t.showContour;for(n=0;n<3;++n)for(o=o||t.surfaceProject[n],r=0;r<3;++r)s=s||t.contourProject[n][r];for(n=0;n<3;++n){var l=R.projections[n];for(r=0;r<16;++r)l[r]=0;for(r=0;r<4;++r)l[5*r]=1;l[5*n]=0,l[12+n]=t.axesBounds[+(a[n]>0)][n],h(l,e.model,l);var u=R.clipBounds[n];for(i=0;i<2;++i)for(r=0;r<3;++r)u[i][r]=e.clipBounds[i][r];u[0][n]=-1e8,u[1][n]=1e8}return R.showSurface=o,R.showContour=s,R}var j={model:k,view:k,projection:k,inverseModel:k.slice(),lowerBound:[0,0,0],upperBound:[0,0,0],colorMap:0,clipBounds:[[0,0,0],[0,0,0]],height:0,contourTint:0,contourColor:[0,0,0,1],permutation:[1,0,0,0,1,0,0,0,1],zOffset:-1e-4,objectOffset:[0,0,0],kambient:1,kdiffuse:1,kspecular:1,lightPosition:[1e3,1e3,1e3],eyePosition:[0,0,0],roughness:1,fresnel:1,opacity:1,vertexColor:0},z=k.slice(),I=[1,0,0,0,1,0,0,0,1];function N(e,t){e=e||{};var n=this.gl;n.disable(n.CULL_FACE),this._colorMap.bind(0);var r=j;r.model=e.model||k,r.view=e.view||k,r.projection=e.projection||k,r.lowerBound=[this.bounds[0][0],this.bounds[0][1],this.colorBounds[0]||this.bounds[0][2]],r.upperBound=[this.bounds[1][0],this.bounds[1][1],this.colorBounds[1]||this.bounds[1][2]],r.objectOffset=this.objectOffset,r.contourColor=this.contourColor[0],r.inverseModel=p(r.inverseModel,r.model);for(var i=0;i<2;++i)for(var a=r.clipBounds[i],o=0;o<3;++o)a[o]=Math.min(Math.max(this.clipBounds[i][o],-1e8),1e8);r.kambient=this.ambientLight,r.kdiffuse=this.diffuseLight,r.kspecular=this.specularLight,r.roughness=this.roughness,r.fresnel=this.fresnel,r.opacity=this.opacity,r.height=0,r.permutation=I,r.vertexColor=this.vertexColor;var s=z;for(h(s,r.view,r.model),h(s,r.projection,s),p(s,s),i=0;i<3;++i)r.eyePosition[i]=s[12+i]/s[15];var l=s[15];for(i=0;i<3;++i)l+=this.lightPosition[i]*s[4*i+3];for(i=0;i<3;++i){var u=s[12+i];for(o=0;o<3;++o)u+=s[4*o+i]*this.lightPosition[o];r.lightPosition[i]=u/l}var c=P(r,this);if(c.showSurface){for(this._shader.bind(),this._shader.uniforms=r,this._vao.bind(),this.showSurface&&this._vertexCount&&this._vao.draw(n.TRIANGLES,this._vertexCount),i=0;i<3;++i)this.surfaceProject[i]&&this.vertexCount&&(this._shader.uniforms.model=c.projections[i],this._shader.uniforms.clipBounds=c.clipBounds[i],this._vao.draw(n.TRIANGLES,this._vertexCount));this._vao.unbind()}if(c.showContour){var f=this._contourShader;r.kambient=1,r.kdiffuse=0,r.kspecular=0,r.opacity=1,f.bind(),f.uniforms=r;var d=this._contourVAO;for(d.bind(),i=0;i<3;++i)for(f.uniforms.permutation=T[i],n.lineWidth(this.contourWidth[i]*this.pixelRatio),o=0;o<this.contourLevels[i].length;++o)o===this.highlightLevel[i]?(f.uniforms.contourColor=this.highlightColor[i],f.uniforms.contourTint=this.highlightTint[i]):0!==o&&o-1!==this.highlightLevel[i]||(f.uniforms.contourColor=this.contourColor[i],f.uniforms.contourTint=this.contourTint[i]),this._contourCounts[i][o]&&(f.uniforms.height=this.contourLevels[i][o],d.draw(n.LINES,this._contourCounts[i][o],this._contourOffsets[i][o]));for(i=0;i<3;++i)for(f.uniforms.model=c.projections[i],f.uniforms.clipBounds=c.clipBounds[i],o=0;o<3;++o)if(this.contourProject[i][o]){f.uniforms.permutation=T[o],n.lineWidth(this.contourWidth[o]*this.pixelRatio);for(var g=0;g<this.contourLevels[o].length;++g)g===this.highlightLevel[o]?(f.uniforms.contourColor=this.highlightColor[o],f.uniforms.contourTint=this.highlightTint[o]):0!==g&&g-1!==this.highlightLevel[o]||(f.uniforms.contourColor=this.contourColor[o],f.uniforms.contourTint=this.contourTint[o]),this._contourCounts[o][g]&&(f.uniforms.height=this.contourLevels[o][g],d.draw(n.LINES,this._contourCounts[o][g],this._contourOffsets[o][g]))}for(d.unbind(),(d=this._dynamicVAO).bind(),i=0;i<3;++i)if(0!==this._dynamicCounts[i])for(f.uniforms.model=r.model,f.uniforms.clipBounds=r.clipBounds,f.uniforms.permutation=T[i],n.lineWidth(this.dynamicWidth[i]*this.pixelRatio),f.uniforms.contourColor=this.dynamicColor[i],f.uniforms.contourTint=this.dynamicTint[i],f.uniforms.height=this.dynamicLevel[i],d.draw(n.LINES,this._dynamicCounts[i],this._dynamicOffsets[i]),o=0;o<3;++o)this.contourProject[o][i]&&(f.uniforms.model=c.projections[o],f.uniforms.clipBounds=c.clipBounds[o],d.draw(n.LINES,this._dynamicCounts[i],this._dynamicOffsets[i]));d.unbind()}}O.draw=function(e){return N.call(this,e,!1)},O.drawTransparent=function(e){return N.call(this,e,!0)};var D={model:k,view:k,projection:k,inverseModel:k,clipBounds:[[0,0,0],[0,0,0]],height:0,shape:[0,0],pickId:0,lowerBound:[0,0,0],upperBound:[0,0,0],zOffset:0,objectOffset:[0,0,0],permutation:[1,0,0,0,1,0,0,0,1],lightPosition:[0,0,0],eyePosition:[0,0,0]};function F(e,t){return Array.isArray(e)?[t(e[0]),t(e[1]),t(e[2])]:[t(e),t(e),t(e)]}function B(e){return Array.isArray(e)?3===e.length?[e[0],e[1],e[2],1]:[e[0],e[1],e[2],e[3]]:[0,0,0,1]}function U(e){if(Array.isArray(e)){if(Array.isArray(e))return[B(e[0]),B(e[1]),B(e[2])];var t=B(e);return[t.slice(),t.slice(),t.slice()]}}function V(e){var t=e.gl,n=y(t),r=x(t),s=b(t),l=_(t),u=i(t),c=a(t,[{buffer:u,size:4,stride:w,offset:0},{buffer:u,size:3,stride:w,offset:16},{buffer:u,size:3,stride:w,offset:28}]),f=i(t),d=a(t,[{buffer:f,size:4,stride:20,offset:0},{buffer:f,size:1,stride:20,offset:16}]),h=i(t),p=a(t,[{buffer:h,size:2,type:t.FLOAT}]),g=o(t,1,E,t.RGBA,t.UNSIGNED_BYTE);g.minFilter=t.LINEAR,g.magFilter=t.LINEAR;var v=new S(t,[0,0],[[0,0,0],[0,0,0]],n,r,u,c,g,s,l,f,d,h,p,[0,0,0]),m={levels:[[],[],[]]};for(var k in e)m[k]=e[k];return m.colormap=m.colormap||"jet",v.update(m),v}O.drawPick=function(e){e=e||{};var t=this.gl;t.disable(t.CULL_FACE);var n=D;n.model=e.model||k,n.view=e.view||k,n.projection=e.projection||k,n.shape=this._field[2].shape,n.pickId=this.pickId/255,n.lowerBound=this.bounds[0],n.upperBound=this.bounds[1],n.objectOffset=this.objectOffset,n.permutation=I;for(var r=0;r<2;++r)for(var i=n.clipBounds[r],a=0;a<3;++a)i[a]=Math.min(Math.max(this.clipBounds[r][a],-1e8),1e8);var o=P(n,this);if(o.showSurface){for(this._pickShader.bind(),this._pickShader.uniforms=n,this._vao.bind(),this._vao.draw(t.TRIANGLES,this._vertexCount),r=0;r<3;++r)this.surfaceProject[r]&&(this._pickShader.uniforms.model=o.projections[r],this._pickShader.uniforms.clipBounds=o.clipBounds[r],this._vao.draw(t.TRIANGLES,this._vertexCount));this._vao.unbind()}if(o.showContour){var s=this._contourPickShader;s.bind(),s.uniforms=n;var l=this._contourVAO;for(l.bind(),a=0;a<3;++a)for(t.lineWidth(this.contourWidth[a]*this.pixelRatio),s.uniforms.permutation=T[a],r=0;r<this.contourLevels[a].length;++r)this._contourCounts[a][r]&&(s.uniforms.height=this.contourLevels[a][r],l.draw(t.LINES,this._contourCounts[a][r],this._contourOffsets[a][r]));for(r=0;r<3;++r)for(s.uniforms.model=o.projections[r],s.uniforms.clipBounds=o.clipBounds[r],a=0;a<3;++a)if(this.contourProject[r][a]){s.uniforms.permutation=T[a],t.lineWidth(this.contourWidth[a]*this.pixelRatio);for(var u=0;u<this.contourLevels[a].length;++u)this._contourCounts[a][u]&&(s.uniforms.height=this.contourLevels[a][u],l.draw(t.LINES,this._contourCounts[a][u],this._contourOffsets[a][u]))}l.unbind()}},O.pick=function(e){if(!e)return null;if(e.id!==this.pickId)return null;var t=this._field[2].shape,n=this._pickResult,r=t[0]*(e.value[0]+(e.value[2]>>4)/16)/255,i=Math.floor(r),a=r-i,o=t[1]*(e.value[1]+(15&e.value[2])/16)/255,s=Math.floor(o),l=o-s;i+=1,s+=1;var u=n.position;u[0]=u[1]=u[2]=0;for(var c=0;c<2;++c)for(var f=c?a:1-a,d=0;d<2;++d)for(var h=i+c,p=s+d,v=f*(d?l:1-l),m=0;m<3;++m)u[m]+=this._field[m].get(h,p)*v;for(var y=this._pickResult.level,b=0;b<3;++b)if(y[b]=g.le(this.contourLevels[b],u[b]),y[b]<0)this.contourLevels[b].length>0&&(y[b]=0);else if(y[b]<this.contourLevels[b].length-1){var x=this.contourLevels[b][y[b]],_=this.contourLevels[b][y[b]+1];Math.abs(x-u[b])>Math.abs(_-u[b])&&(y[b]+=1)}for(n.index[0]=a<.5?i:i+1,n.index[1]=l<.5?s:s+1,n.uv[0]=r/t[0],n.uv[1]=o/t[1],m=0;m<3;++m)n.dataCoordinate[m]=this._field[m].get(n.index[0],n.index[1]);return n},O.padField=function(e,t){var n=t.shape.slice(),r=e.shape.slice();u.assign(e.lo(1,1).hi(n[0],n[1]),t),u.assign(e.lo(1).hi(n[0],1),t.hi(n[0],1)),u.assign(e.lo(1,r[1]-1).hi(n[0],1),t.lo(0,n[1]-1).hi(n[0],1)),u.assign(e.lo(0,1).hi(1,n[1]),t.hi(1)),u.assign(e.lo(r[0]-1,1).hi(1,n[1]),t.lo(n[0]-1)),e.set(0,0,t.get(0,0)),e.set(0,r[1]-1,t.get(0,n[1]-1)),e.set(r[0]-1,0,t.get(n[0]-1,0)),e.set(r[0]-1,r[1]-1,t.get(n[0]-1,n[1]-1))},O.update=function(e){e=e||{},this.objectOffset=e.objectOffset||this.objectOffset,this.dirty=!0,"contourWidth"in e&&(this.contourWidth=F(e.contourWidth,Number)),"showContour"in e&&(this.showContour=F(e.showContour,Boolean)),"showSurface"in e&&(this.showSurface=!!e.showSurface),"contourTint"in e&&(this.contourTint=F(e.contourTint,Boolean)),"contourColor"in e&&(this.contourColor=U(e.contourColor)),"contourProject"in e&&(this.contourProject=F(e.contourProject,(function(e){return F(e,Boolean)}))),"surfaceProject"in e&&(this.surfaceProject=e.surfaceProject),"dynamicColor"in e&&(this.dynamicColor=U(e.dynamicColor)),"dynamicTint"in e&&(this.dynamicTint=F(e.dynamicTint,Number)),"dynamicWidth"in e&&(this.dynamicWidth=F(e.dynamicWidth,Number)),"opacity"in e&&(this.opacity=e.opacity),"opacityscale"in e&&(this.opacityscale=e.opacityscale),"colorBounds"in e&&(this.colorBounds=e.colorBounds),"vertexColor"in e&&(this.vertexColor=e.vertexColor?1:0),"colormap"in e&&this._colorMap.setPixels(this.genColormap(e.colormap,this.opacityscale));var t=e.field||e.coords&&e.coords[2]||null,n=!1;if(t||(t=this._field[2].shape[0]||this._field[2].shape[2]?this._field[2].lo(1,1).hi(this._field[2].shape[0]-2,this._field[2].shape[1]-2):this._field[2].hi(0,0)),"field"in e||"coords"in e){var i=(t.shape[0]+2)*(t.shape[1]+2);i>this._field[2].data.length&&(s.freeFloat(this._field[2].data),this._field[2].data=s.mallocFloat(r.nextPow2(i))),this._field[2]=f(this._field[2].data,[t.shape[0]+2,t.shape[1]+2]),this.padField(this._field[2],t),this.shape=t.shape.slice();for(var a=this.shape,o=0;o<2;++o)this._field[2].size>this._field[o].data.length&&(s.freeFloat(this._field[o].data),this._field[o].data=s.mallocFloat(this._field[2].size)),this._field[o]=f(this._field[o].data,[a[0]+2,a[1]+2]);if(e.coords){var l=e.coords;if(!Array.isArray(l)||3!==l.length)throw new Error("gl-surface: invalid coordinates for x/y");for(o=0;o<2;++o){var u=l[o];for(m=0;m<2;++m)if(u.shape[m]!==a[m])throw new Error("gl-surface: coords have incorrect shape");this.padField(this._field[o],u)}}else if(e.ticks){var c=e.ticks;if(!Array.isArray(c)||2!==c.length)throw new Error("gl-surface: invalid ticks");for(o=0;o<2;++o){var h=c[o];if((Array.isArray(h)||h.length)&&(h=f(h)),h.shape[0]!==a[o])throw new Error("gl-surface: invalid tick length");var p=f(h.data,a);p.stride[o]=h.stride[0],p.stride[1^o]=0,this.padField(this._field[o],p)}}else{for(o=0;o<2;++o){var g=[0,0];g[o]=1,this._field[o]=f(this._field[o].data,[a[0]+2,a[1]+2],g,0)}this._field[0].set(0,0,0);for(var m=0;m<a[0];++m)this._field[0].set(m+1,0,m);for(this._field[0].set(a[0]+1,0,a[0]-1),this._field[1].set(0,0,0),m=0;m<a[1];++m)this._field[1].set(0,m+1,m);this._field[1].set(0,a[1]+1,a[1]-1)}var y=this._field,b=f(s.mallocFloat(3*y[2].size*2),[3,a[0]+2,a[1]+2,2]);for(o=0;o<3;++o)v(b.pick(o),y[o],"mirror");var x=f(s.mallocFloat(3*y[2].size),[a[0]+2,a[1]+2,3]);for(o=0;o<a[0]+2;++o)for(m=0;m<a[1]+2;++m){var _=b.get(0,o,m,0),w=b.get(0,o,m,1),k=b.get(1,o,m,0),T=b.get(1,o,m,1),A=b.get(2,o,m,0),E=b.get(2,o,m,1),S=k*E-T*A,O=A*w-E*_,C=_*T-w*k,L=Math.sqrt(S*S+O*O+C*C);L<1e-8?(L=Math.max(Math.abs(S),Math.abs(O),Math.abs(C)))<1e-8?(C=1,O=S=0,L=1):L=1/L:L=1/Math.sqrt(L),x.set(o,m,0,S*L),x.set(o,m,1,O*L),x.set(o,m,2,C*L)}s.free(b.data);var R=[1/0,1/0,1/0],P=[-1/0,-1/0,-1/0],j=1/0,z=-1/0,I=(a[0]-1)*(a[1]-1)*6,N=s.mallocFloat(r.nextPow2(10*I)),D=0,B=0;for(o=0;o<a[0]-1;++o)e:for(m=0;m<a[1]-1;++m){for(var V=0;V<2;++V)for(var H=0;H<2;++H)for(var q=0;q<3;++q){var W=this._field[q].get(1+o+V,1+m+H);if(isNaN(W)||!isFinite(W))continue e}for(q=0;q<6;++q){var G=o+M[q][0],X=m+M[q][1],Y=this._field[0].get(G+1,X+1),Z=this._field[1].get(G+1,X+1);W=this._field[2].get(G+1,X+1),S=x.get(G+1,X+1,0),O=x.get(G+1,X+1,1),C=x.get(G+1,X+1,2),e.intensity&&($=e.intensity.get(G,X));var $=e.intensity?e.intensity.get(G,X):W+this.objectOffset[2];N[D++]=G,N[D++]=X,N[D++]=Y,N[D++]=Z,N[D++]=W,N[D++]=0,N[D++]=$,N[D++]=S,N[D++]=O,N[D++]=C,R[0]=Math.min(R[0],Y+this.objectOffset[0]),R[1]=Math.min(R[1],Z+this.objectOffset[1]),R[2]=Math.min(R[2],W+this.objectOffset[2]),j=Math.min(j,$),P[0]=Math.max(P[0],Y+this.objectOffset[0]),P[1]=Math.max(P[1],Z+this.objectOffset[1]),P[2]=Math.max(P[2],W+this.objectOffset[2]),z=Math.max(z,$),B+=1}}for(e.intensityBounds&&(j=+e.intensityBounds[0],z=+e.intensityBounds[1]),o=6;o<D;o+=10)N[o]=(N[o]-j)/(z-j);this._vertexCount=B,this._coordinateBuffer.update(N.subarray(0,D)),s.freeFloat(N),s.free(x.data),this.bounds=[R,P],this.intensity=e.intensity||this._field[2],this.intensityBounds[0]===j&&this.intensityBounds[1]===z||(n=!0),this.intensityBounds=[j,z]}if("levels"in e){var K=e.levels;for(K=Array.isArray(K[0])?K.slice():[[],[],K],o=0;o<3;++o)K[o]=K[o].slice(),K[o].sort((function(e,t){return e-t}));for(o=0;o<3;++o)for(m=0;m<K[o].length;++m)K[o][m]-=this.objectOffset[o];e:for(o=0;o<3;++o){if(K[o].length!==this.contourLevels[o].length){n=!0;break}for(m=0;m<K[o].length;++m)if(K[o][m]!==this.contourLevels[o][m]){n=!0;break e}}this.contourLevels=K}if(n){y=this._field,a=this.shape;for(var Q=[],J=0;J<3;++J){var ee=this.contourLevels[J],te=[],ne=[],re=[0,0,0];for(o=0;o<ee.length;++o){var ie=d(this._field[J],ee[o]);te.push(Q.length/5|0),B=0;e:for(m=0;m<ie.cells.length;++m){var ae=ie.cells[m];for(q=0;q<2;++q){var oe=ie.positions[ae[q]],se=oe[0],le=0|Math.floor(se),ue=se-le,ce=oe[1],fe=0|Math.floor(ce),de=ce-fe,he=!1;t:for(var pe=0;pe<3;++pe){re[pe]=0;var ge=(J+pe+1)%3;for(V=0;V<2;++V){var ve=V?ue:1-ue;for(G=0|Math.min(Math.max(le+V,0),a[0]),H=0;H<2;++H){var me=H?de:1-de;if(X=0|Math.min(Math.max(fe+H,0),a[1]),W=pe<2?this._field[ge].get(G,X):(this.intensity.get(G,X)-this.intensityBounds[0])/(this.intensityBounds[1]-this.intensityBounds[0]),!isFinite(W)||isNaN(W)){he=!0;break t}var ye=ve*me;re[pe]+=ye*W}}}if(he){if(q>0){for(var be=0;be<5;++be)Q.pop();B-=1}continue e}Q.push(re[0],re[1],oe[0],oe[1],re[2]),B+=1}}ne.push(B)}this._contourOffsets[J]=te,this._contourCounts[J]=ne}var xe=s.mallocFloat(Q.length);for(o=0;o<Q.length;++o)xe[o]=Q[o];this._contourBuffer.update(xe),s.freeFloat(xe)}},O.dispose=function(){this._shader.dispose(),this._vao.dispose(),this._coordinateBuffer.dispose(),this._colorMap.dispose(),this._contourBuffer.dispose(),this._contourVAO.dispose(),this._contourShader.dispose(),this._contourPickShader.dispose(),this._dynamicBuffer.dispose(),this._dynamicVAO.dispose();for(var e=0;e<3;++e)s.freeFloat(this._field[e].data)},O.highlight=function(e){var t,n;if(!e)return this._dynamicCounts=[0,0,0],this.dyanamicLevel=[NaN,NaN,NaN],void(this.highlightLevel=[-1,-1,-1]);for(t=0;t<3;++t)this.enableHighlight[t]?this.highlightLevel[t]=e.level[t]:this.highlightLevel[t]=-1;for(n=this.snapToData?e.dataCoordinate:e.position,t=0;t<3;++t)n[t]-=this.objectOffset[t];if(this.enableDynamic[0]&&n[0]!==this.dynamicLevel[0]||this.enableDynamic[1]&&n[1]!==this.dynamicLevel[1]||this.enableDynamic[2]&&n[2]!==this.dynamicLevel[2]){for(var r=0,i=this.shape,a=s.mallocFloat(12*i[0]*i[1]),o=0;o<3;++o)if(this.enableDynamic[o]){this.dynamicLevel[o]=n[o];var l=(o+1)%3,u=(o+2)%3,c=this._field[o],f=this._field[l],h=this._field[u],p=d(c,n[o]),g=p.cells,v=p.positions;for(this._dynamicOffsets[o]=r,t=0;t<g.length;++t)for(var m=g[t],y=0;y<2;++y){var b=v[m[y]],x=+b[0],_=0|x,w=0|Math.min(_+1,i[0]),k=x-_,M=1-k,T=+b[1],A=0|T,E=0|Math.min(A+1,i[1]),S=T-A,O=1-S,C=M*O,L=M*S,R=k*O,P=k*S,j=C*f.get(_,A)+L*f.get(_,E)+R*f.get(w,A)+P*f.get(w,E),z=C*h.get(_,A)+L*h.get(_,E)+R*h.get(w,A)+P*h.get(w,E);if(isNaN(j)||isNaN(z)){y&&(r-=1);break}a[2*r+0]=j,a[2*r+1]=z,r+=1}this._dynamicCounts[o]=r-this._dynamicOffsets[o]}else this.dynamicLevel[o]=NaN,this._dynamicCounts[o]=0;this._dynamicBuffer.update(a.subarray(0,2*r)),s.freeFloat(a)}}},{"./lib/shaders":179,"binary-search-bounds":36,"bit-twiddle":37,colormap:68,"gl-buffer":106,"gl-mat4/invert":137,"gl-mat4/multiply":139,"gl-texture2d":182,"gl-vao":186,ndarray:301,"ndarray-gradient":294,"ndarray-ops":296,"ndarray-pack":297,"surface-nets":359,"typedarray-pool":366}],182:[function(e,t,n){"use strict";var r=e("ndarray"),i=e("ndarray-ops"),a=e("typedarray-pool");t.exports=_;var o=null,s=null,l=null;function u(e){o=[e.LINEAR,e.NEAREST_MIPMAP_LINEAR,e.LINEAR_MIPMAP_NEAREST,e.LINEAR_MIPMAP_NEAREST],s=[e.NEAREST,e.LINEAR,e.NEAREST_MIPMAP_NEAREST,e.NEAREST_MIPMAP_LINEAR,e.LINEAR_MIPMAP_NEAREST,e.LINEAR_MIPMAP_LINEAR],l=[e.REPEAT,e.CLAMP_TO_EDGE,e.MIRRORED_REPEAT]}function c(e){return"undefined"!=typeof HTMLCanvasElement&&e instanceof HTMLCanvasElement||"undefined"!=typeof HTMLImageElement&&e instanceof HTMLImageElement||"undefined"!=typeof HTMLVideoElement&&e instanceof HTMLVideoElement||"undefined"!=typeof ImageData&&e instanceof ImageData}var f=function(e,t){i.muls(e,t,255)};function d(e,t,n){var r=e.gl,i=r.getParameter(r.MAX_TEXTURE_SIZE);if(t<0||t>i||n<0||n>i)throw new Error("gl-texture2d: Invalid texture size");return e._shape=[t,n],e.bind(),r.texImage2D(r.TEXTURE_2D,0,e.format,t,n,0,e.format,e.type,null),e._mipLevels=[0],e}function h(e,t,n,r,i,a){this.gl=e,this.handle=t,this.format=i,this.type=a,this._shape=[n,r],this._mipLevels=[0],this._magFilter=e.NEAREST,this._minFilter=e.NEAREST,this._wrapS=e.CLAMP_TO_EDGE,this._wrapT=e.CLAMP_TO_EDGE,this._anisoSamples=1;var o=this,s=[this._wrapS,this._wrapT];Object.defineProperties(s,[{get:function(){return o._wrapS},set:function(e){return o.wrapS=e}},{get:function(){return o._wrapT},set:function(e){return o.wrapT=e}}]),this._wrapVector=s;var l=[this._shape[0],this._shape[1]];Object.defineProperties(l,[{get:function(){return o._shape[0]},set:function(e){return o.width=e}},{get:function(){return o._shape[1]},set:function(e){return o.height=e}}]),this._shapeVector=l}var p=h.prototype;function g(e,t){return 3===e.length?1===t[2]&&t[1]===e[0]*e[2]&&t[0]===e[2]:1===t[0]&&t[1]===e[0]}function v(e,t,n,o,s,l,u,c){var d=c.dtype,h=c.shape.slice();if(h.length<2||h.length>3)throw new Error("gl-texture2d: Invalid ndarray, must be 2d or 3d");var p=0,v=0,m=g(h,c.stride.slice());if("float32"===d?p=e.FLOAT:"float64"===d?(p=e.FLOAT,m=!1,d="float32"):"uint8"===d?p=e.UNSIGNED_BYTE:(p=e.UNSIGNED_BYTE,m=!1,d="uint8"),2===h.length)v=e.LUMINANCE,h=[h[0],h[1],1],c=r(c.data,h,[c.stride[0],c.stride[1],1],c.offset);else{if(3!==h.length)throw new Error("gl-texture2d: Invalid shape for texture");if(1===h[2])v=e.ALPHA;else if(2===h[2])v=e.LUMINANCE_ALPHA;else if(3===h[2])v=e.RGB;else{if(4!==h[2])throw new Error("gl-texture2d: Invalid shape for pixel coords");v=e.RGBA}h[2]}if(v!==e.LUMINANCE&&v!==e.ALPHA||s!==e.LUMINANCE&&s!==e.ALPHA||(v=s),v!==s)throw new Error("gl-texture2d: Incompatible texture format for setPixels");var y=c.size,b=u.indexOf(o)<0;if(b&&u.push(o),p===l&&m)0===c.offset&&c.data.length===y?b?e.texImage2D(e.TEXTURE_2D,o,s,h[0],h[1],0,s,l,c.data):e.texSubImage2D(e.TEXTURE_2D,o,t,n,h[0],h[1],s,l,c.data):b?e.texImage2D(e.TEXTURE_2D,o,s,h[0],h[1],0,s,l,c.data.subarray(c.offset,c.offset+y)):e.texSubImage2D(e.TEXTURE_2D,o,t,n,h[0],h[1],s,l,c.data.subarray(c.offset,c.offset+y));else{var x;x=l===e.FLOAT?a.mallocFloat32(y):a.mallocUint8(y);var _=r(x,h,[h[2],h[2]*h[0],1]);p===e.FLOAT&&l===e.UNSIGNED_BYTE?f(_,c):i.assign(_,c),b?e.texImage2D(e.TEXTURE_2D,o,s,h[0],h[1],0,s,l,x.subarray(0,y)):e.texSubImage2D(e.TEXTURE_2D,o,t,n,h[0],h[1],s,l,x.subarray(0,y)),l===e.FLOAT?a.freeFloat32(x):a.freeUint8(x)}}function m(e){var t=e.createTexture();return e.bindTexture(e.TEXTURE_2D,t),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.NEAREST),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.NEAREST),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE),t}function y(e,t,n,r,i){var a=e.getParameter(e.MAX_TEXTURE_SIZE);if(t<0||t>a||n<0||n>a)throw new Error("gl-texture2d: Invalid texture shape");if(i===e.FLOAT&&!e.getExtension("OES_texture_float"))throw new Error("gl-texture2d: Floating point textures not supported on this platform");var o=m(e);return e.texImage2D(e.TEXTURE_2D,0,r,t,n,0,r,i,null),new h(e,o,t,n,r,i)}function b(e,t,n,r,i,a){var o=m(e);return e.texImage2D(e.TEXTURE_2D,0,i,i,a,t),new h(e,o,n,r,i,a)}function x(e,t){var n=t.dtype,o=t.shape.slice(),s=e.getParameter(e.MAX_TEXTURE_SIZE);if(o[0]<0||o[0]>s||o[1]<0||o[1]>s)throw new Error("gl-texture2d: Invalid texture size");var l=g(o,t.stride.slice()),u=0;"float32"===n?u=e.FLOAT:"float64"===n?(u=e.FLOAT,l=!1,n="float32"):"uint8"===n?u=e.UNSIGNED_BYTE:(u=e.UNSIGNED_BYTE,l=!1,n="uint8");var c,d,p=0;if(2===o.length)p=e.LUMINANCE,o=[o[0],o[1],1],t=r(t.data,o,[t.stride[0],t.stride[1],1],t.offset);else{if(3!==o.length)throw new Error("gl-texture2d: Invalid shape for texture");if(1===o[2])p=e.ALPHA;else if(2===o[2])p=e.LUMINANCE_ALPHA;else if(3===o[2])p=e.RGB;else{if(4!==o[2])throw new Error("gl-texture2d: Invalid shape for pixel coords");p=e.RGBA}}u!==e.FLOAT||e.getExtension("OES_texture_float")||(u=e.UNSIGNED_BYTE,l=!1);var v=t.size;if(l)c=0===t.offset&&t.data.length===v?t.data:t.data.subarray(t.offset,t.offset+v);else{var y=[o[2],o[2]*o[0],1];d=a.malloc(v,n);var b=r(d,o,y,0);"float32"!==n&&"float64"!==n||u!==e.UNSIGNED_BYTE?i.assign(b,t):f(b,t),c=d.subarray(0,v)}var x=m(e);return e.texImage2D(e.TEXTURE_2D,0,p,o[0],o[1],0,p,u,c),l||a.free(d),new h(e,x,o[0],o[1],p,u)}function _(e){if(arguments.length<=1)throw new Error("gl-texture2d: Missing arguments for texture2d constructor");if(o||u(e),"number"===typeof arguments[1])return y(e,arguments[1],arguments[2],arguments[3]||e.RGBA,arguments[4]||e.UNSIGNED_BYTE);if(Array.isArray(arguments[1]))return y(e,0|arguments[1][0],0|arguments[1][1],arguments[2]||e.RGBA,arguments[3]||e.UNSIGNED_BYTE);if("object"===typeof arguments[1]){var t=arguments[1],n=c(t)?t:t.raw;if(n)return b(e,n,0|t.width,0|t.height,arguments[2]||e.RGBA,arguments[3]||e.UNSIGNED_BYTE);if(t.shape&&t.data&&t.stride)return x(e,t)}throw new Error("gl-texture2d: Invalid arguments for texture2d constructor")}Object.defineProperties(p,{minFilter:{get:function(){return this._minFilter},set:function(e){this.bind();var t=this.gl;if(this.type===t.FLOAT&&o.indexOf(e)>=0&&(t.getExtension("OES_texture_float_linear")||(e=t.NEAREST)),s.indexOf(e)<0)throw new Error("gl-texture2d: Unknown filter mode "+e);return t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,e),this._minFilter=e}},magFilter:{get:function(){return this._magFilter},set:function(e){this.bind();var t=this.gl;if(this.type===t.FLOAT&&o.indexOf(e)>=0&&(t.getExtension("OES_texture_float_linear")||(e=t.NEAREST)),s.indexOf(e)<0)throw new Error("gl-texture2d: Unknown filter mode "+e);return t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,e),this._magFilter=e}},mipSamples:{get:function(){return this._anisoSamples},set:function(e){var t=this._anisoSamples;if(this._anisoSamples=0|Math.max(e,1),t!==this._anisoSamples){var n=this.gl.getExtension("EXT_texture_filter_anisotropic");n&&this.gl.texParameterf(this.gl.TEXTURE_2D,n.TEXTURE_MAX_ANISOTROPY_EXT,this._anisoSamples)}return this._anisoSamples}},wrapS:{get:function(){return this._wrapS},set:function(e){if(this.bind(),l.indexOf(e)<0)throw new Error("gl-texture2d: Unknown wrap mode "+e);return this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_WRAP_S,e),this._wrapS=e}},wrapT:{get:function(){return this._wrapT},set:function(e){if(this.bind(),l.indexOf(e)<0)throw new Error("gl-texture2d: Unknown wrap mode "+e);return this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_WRAP_T,e),this._wrapT=e}},wrap:{get:function(){return this._wrapVector},set:function(e){if(Array.isArray(e)||(e=[e,e]),2!==e.length)throw new Error("gl-texture2d: Must specify wrap mode for rows and columns");for(var t=0;t<2;++t)if(l.indexOf(e[t])<0)throw new Error("gl-texture2d: Unknown wrap mode "+e);this._wrapS=e[0],this._wrapT=e[1];var n=this.gl;return this.bind(),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_S,this._wrapS),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_T,this._wrapT),e}},shape:{get:function(){return this._shapeVector},set:function(e){if(Array.isArray(e)){if(2!==e.length)throw new Error("gl-texture2d: Invalid texture shape")}else e=[0|e,0|e];return d(this,0|e[0],0|e[1]),[0|e[0],0|e[1]]}},width:{get:function(){return this._shape[0]},set:function(e){return d(this,e|=0,this._shape[1]),e}},height:{get:function(){return this._shape[1]},set:function(e){return e|=0,d(this,this._shape[0],e),e}}}),p.bind=function(e){var t=this.gl;return void 0!==e&&t.activeTexture(t.TEXTURE0+(0|e)),t.bindTexture(t.TEXTURE_2D,this.handle),void 0!==e?0|e:t.getParameter(t.ACTIVE_TEXTURE)-t.TEXTURE0},p.dispose=function(){this.gl.deleteTexture(this.handle)},p.generateMipmap=function(){this.bind(),this.gl.generateMipmap(this.gl.TEXTURE_2D);for(var e=Math.min(this._shape[0],this._shape[1]),t=0;e>0;++t,e>>>=1)this._mipLevels.indexOf(t)<0&&this._mipLevels.push(t)},p.setPixels=function(e,t,n,r){var i=this.gl;this.bind(),Array.isArray(t)?(r=n,n=0|t[1],t=0|t[0]):(t=t||0,n=n||0),r=r||0;var a=c(e)?e:e.raw;if(a)this._mipLevels.indexOf(r)<0?(i.texImage2D(i.TEXTURE_2D,0,this.format,this.format,this.type,a),this._mipLevels.push(r)):i.texSubImage2D(i.TEXTURE_2D,r,t,n,this.format,this.type,a);else{if(!(e.shape&&e.stride&&e.data))throw new Error("gl-texture2d: Unsupported data type");if(e.shape.length<2||t+e.shape[1]>this._shape[1]>>>r||n+e.shape[0]>this._shape[0]>>>r||t<0||n<0)throw new Error("gl-texture2d: Texture dimensions are out of bounds");v(i,t,n,r,this.format,this.type,this._mipLevels,e)}}},{ndarray:301,"ndarray-ops":296,"typedarray-pool":366}],183:[function(e,t,n){"use strict";function r(e,t,n){t?t.bind():e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,null);var r=0|e.getParameter(e.MAX_VERTEX_ATTRIBS);if(n){if(n.length>r)throw new Error("gl-vao: Too many vertex attributes");for(var i=0;i<n.length;++i){var a=n[i];if(a.buffer){var o=a.buffer,s=a.size||4,l=a.type||e.FLOAT,u=!!a.normalized,c=a.stride||0,f=a.offset||0;o.bind(),e.enableVertexAttribArray(i),e.vertexAttribPointer(i,s,l,u,c,f)}else{if("number"===typeof a)e.vertexAttrib1f(i,a);else if(1===a.length)e.vertexAttrib1f(i,a[0]);else if(2===a.length)e.vertexAttrib2f(i,a[0],a[1]);else if(3===a.length)e.vertexAttrib3f(i,a[0],a[1],a[2]);else{if(4!==a.length)throw new Error("gl-vao: Invalid vertex attribute");e.vertexAttrib4f(i,a[0],a[1],a[2],a[3])}e.disableVertexAttribArray(i)}}for(;i<r;++i)e.disableVertexAttribArray(i)}else for(e.bindBuffer(e.ARRAY_BUFFER,null),i=0;i<r;++i)e.disableVertexAttribArray(i)}t.exports=r},{}],184:[function(e,t,n){"use strict";var r=e("./do-bind.js");function i(e){this.gl=e,this._elements=null,this._attributes=null,this._elementsType=e.UNSIGNED_SHORT}function a(e){return new i(e)}i.prototype.bind=function(){r(this.gl,this._elements,this._attributes)},i.prototype.update=function(e,t,n){this._elements=t,this._attributes=e,this._elementsType=n||this.gl.UNSIGNED_SHORT},i.prototype.dispose=function(){},i.prototype.unbind=function(){},i.prototype.draw=function(e,t,n){n=n||0;var r=this.gl;this._elements?r.drawElements(e,t,this._elementsType,n):r.drawArrays(e,n,t)},t.exports=a},{"./do-bind.js":183}],185:[function(e,t,n){"use strict";var r=e("./do-bind.js");function i(e,t,n,r,i,a){this.location=e,this.dimension=t,this.a=n,this.b=r,this.c=i,this.d=a}function a(e,t,n){this.gl=e,this._ext=t,this.handle=n,this._attribs=[],this._useElements=!1,this._elementsType=e.UNSIGNED_SHORT}function o(e,t){return new a(e,t,t.createVertexArrayOES())}i.prototype.bind=function(e){switch(this.dimension){case 1:e.vertexAttrib1f(this.location,this.a);break;case 2:e.vertexAttrib2f(this.location,this.a,this.b);break;case 3:e.vertexAttrib3f(this.location,this.a,this.b,this.c);break;case 4:e.vertexAttrib4f(this.location,this.a,this.b,this.c,this.d)}},a.prototype.bind=function(){this._ext.bindVertexArrayOES(this.handle);for(var e=0;e<this._attribs.length;++e)this._attribs[e].bind(this.gl)},a.prototype.unbind=function(){this._ext.bindVertexArrayOES(null)},a.prototype.dispose=function(){this._ext.deleteVertexArrayOES(this.handle)},a.prototype.update=function(e,t,n){if(this.bind(),r(this.gl,t,e),this.unbind(),this._attribs.length=0,e)for(var a=0;a<e.length;++a){var o=e[a];"number"===typeof o?this._attribs.push(new i(a,1,o)):Array.isArray(o)&&this._attribs.push(new i(a,o.length,o[0],o[1],o[2],o[3]))}this._useElements=!!t,this._elementsType=n||this.gl.UNSIGNED_SHORT},a.prototype.draw=function(e,t,n){n=n||0;var r=this.gl;this._useElements?r.drawElements(e,t,this._elementsType,n):r.drawArrays(e,n,t)},t.exports=o},{"./do-bind.js":183}],186:[function(e,t,n){"use strict";var r=e("./lib/vao-native.js"),i=e("./lib/vao-emulated.js");function a(e){this.bindVertexArrayOES=e.bindVertexArray.bind(e),this.createVertexArrayOES=e.createVertexArray.bind(e),this.deleteVertexArrayOES=e.deleteVertexArray.bind(e)}function o(e,t,n,o){var s,l=e.createVertexArray?new a(e):e.getExtension("OES_vertex_array_object");return(s=l?r(e,l):i(e)).update(t,n,o),s}t.exports=o},{"./lib/vao-emulated.js":184,"./lib/vao-native.js":185}],187:[function(e,t,n){function r(e,t,n){return e[0]=t[0]+n[0],e[1]=t[1]+n[1],e[2]=t[2]+n[2],e}t.exports=r},{}],188:[function(e,t,n){t.exports=o;var r=e("./fromValues"),i=e("./normalize"),a=e("./dot");function o(e,t){var n=r(e[0],e[1],e[2]),o=r(t[0],t[1],t[2]);i(n,n),i(o,o);var s=a(n,o);return s>1?0:Math.acos(s)}},{"./dot":198,"./fromValues":204,"./normalize":215}],189:[function(e,t,n){function r(e,t){return e[0]=Math.ceil(t[0]),e[1]=Math.ceil(t[1]),e[2]=Math.ceil(t[2]),e}t.exports=r},{}],190:[function(e,t,n){function r(e){var t=new Float32Array(3);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t}t.exports=r},{}],191:[function(e,t,n){function r(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e}t.exports=r},{}],192:[function(e,t,n){function r(){var e=new Float32Array(3);return e[0]=0,e[1]=0,e[2]=0,e}t.exports=r},{}],193:[function(e,t,n){function r(e,t,n){var r=t[0],i=t[1],a=t[2],o=n[0],s=n[1],l=n[2];return e[0]=i*l-a*s,e[1]=a*o-r*l,e[2]=r*s-i*o,e}t.exports=r},{}],194:[function(e,t,n){t.exports=e("./distance")},{"./distance":195}],195:[function(e,t,n){function r(e,t){var n=t[0]-e[0],r=t[1]-e[1],i=t[2]-e[2];return Math.sqrt(n*n+r*r+i*i)}t.exports=r},{}],196:[function(e,t,n){t.exports=e("./divide")},{"./divide":197}],197:[function(e,t,n){function r(e,t,n){return e[0]=t[0]/n[0],e[1]=t[1]/n[1],e[2]=t[2]/n[2],e}t.exports=r},{}],198:[function(e,t,n){function r(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}t.exports=r},{}],199:[function(e,t,n){t.exports=1e-6},{}],200:[function(e,t,n){t.exports=i;var r=e("./epsilon");function i(e,t){var n=e[0],i=e[1],a=e[2],o=t[0],s=t[1],l=t[2];return Math.abs(n-o)<=r*Math.max(1,Math.abs(n),Math.abs(o))&&Math.abs(i-s)<=r*Math.max(1,Math.abs(i),Math.abs(s))&&Math.abs(a-l)<=r*Math.max(1,Math.abs(a),Math.abs(l))}},{"./epsilon":199}],201:[function(e,t,n){function r(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]}t.exports=r},{}],202:[function(e,t,n){function r(e,t){return e[0]=Math.floor(t[0]),e[1]=Math.floor(t[1]),e[2]=Math.floor(t[2]),e}t.exports=r},{}],203:[function(e,t,n){t.exports=i;var r=e("./create")();function i(e,t,n,i,a,o){var s,l;for(t||(t=3),n||(n=0),l=i?Math.min(i*t+n,e.length):e.length,s=n;s<l;s+=t)r[0]=e[s],r[1]=e[s+1],r[2]=e[s+2],a(r,r,o),e[s]=r[0],e[s+1]=r[1],e[s+2]=r[2];return e}},{"./create":192}],204:[function(e,t,n){function r(e,t,n){var r=new Float32Array(3);return r[0]=e,r[1]=t,r[2]=n,r}t.exports=r},{}],205:[function(e,t,n){t.exports={EPSILON:e("./epsilon"),create:e("./create"),clone:e("./clone"),angle:e("./angle"),fromValues:e("./fromValues"),copy:e("./copy"),set:e("./set"),equals:e("./equals"),exactEquals:e("./exactEquals"),add:e("./add"),subtract:e("./subtract"),sub:e("./sub"),multiply:e("./multiply"),mul:e("./mul"),divide:e("./divide"),div:e("./div"),min:e("./min"),max:e("./max"),floor:e("./floor"),ceil:e("./ceil"),round:e("./round"),scale:e("./scale"),scaleAndAdd:e("./scaleAndAdd"),distance:e("./distance"),dist:e("./dist"),squaredDistance:e("./squaredDistance"),sqrDist:e("./sqrDist"),length:e("./length"),len:e("./len"),squaredLength:e("./squaredLength"),sqrLen:e("./sqrLen"),negate:e("./negate"),inverse:e("./inverse"),normalize:e("./normalize"),dot:e("./dot"),cross:e("./cross"),lerp:e("./lerp"),random:e("./random"),transformMat4:e("./transformMat4"),transformMat3:e("./transformMat3"),transformQuat:e("./transformQuat"),rotateX:e("./rotateX"),rotateY:e("./rotateY"),rotateZ:e("./rotateZ"),forEach:e("./forEach")}},{"./add":187,"./angle":188,"./ceil":189,"./clone":190,"./copy":191,"./create":192,"./cross":193,"./dist":194,"./distance":195,"./div":196,"./divide":197,"./dot":198,"./epsilon":199,"./equals":200,"./exactEquals":201,"./floor":202,"./forEach":203,"./fromValues":204,"./inverse":206,"./len":207,"./length":208,"./lerp":209,"./max":210,"./min":211,"./mul":212,"./multiply":213,"./negate":214,"./normalize":215,"./random":216,"./rotateX":217,"./rotateY":218,"./rotateZ":219,"./round":220,"./scale":221,"./scaleAndAdd":222,"./set":223,"./sqrDist":224,"./sqrLen":225,"./squaredDistance":226,"./squaredLength":227,"./sub":228,"./subtract":229,"./transformMat3":230,"./transformMat4":231,"./transformQuat":232}],206:[function(e,t,n){function r(e,t){return e[0]=1/t[0],e[1]=1/t[1],e[2]=1/t[2],e}t.exports=r},{}],207:[function(e,t,n){t.exports=e("./length")},{"./length":208}],208:[function(e,t,n){function r(e){var t=e[0],n=e[1],r=e[2];return Math.sqrt(t*t+n*n+r*r)}t.exports=r},{}],209:[function(e,t,n){function r(e,t,n,r){var i=t[0],a=t[1],o=t[2];return e[0]=i+r*(n[0]-i),e[1]=a+r*(n[1]-a),e[2]=o+r*(n[2]-o),e}t.exports=r},{}],210:[function(e,t,n){function r(e,t,n){return e[0]=Math.max(t[0],n[0]),e[1]=Math.max(t[1],n[1]),e[2]=Math.max(t[2],n[2]),e}t.exports=r},{}],211:[function(e,t,n){function r(e,t,n){return e[0]=Math.min(t[0],n[0]),e[1]=Math.min(t[1],n[1]),e[2]=Math.min(t[2],n[2]),e}t.exports=r},{}],212:[function(e,t,n){t.exports=e("./multiply")},{"./multiply":213}],213:[function(e,t,n){function r(e,t,n){return e[0]=t[0]*n[0],e[1]=t[1]*n[1],e[2]=t[2]*n[2],e}t.exports=r},{}],214:[function(e,t,n){function r(e,t){return e[0]=-t[0],e[1]=-t[1],e[2]=-t[2],e}t.exports=r},{}],215:[function(e,t,n){function r(e,t){var n=t[0],r=t[1],i=t[2],a=n*n+r*r+i*i;return a>0&&(a=1/Math.sqrt(a),e[0]=t[0]*a,e[1]=t[1]*a,e[2]=t[2]*a),e}t.exports=r},{}],216:[function(e,t,n){function r(e,t){t=t||1;var n=2*Math.random()*Math.PI,r=2*Math.random()-1,i=Math.sqrt(1-r*r)*t;return e[0]=Math.cos(n)*i,e[1]=Math.sin(n)*i,e[2]=r*t,e}t.exports=r},{}],217:[function(e,t,n){function r(e,t,n,r){var i=n[1],a=n[2],o=t[1]-i,s=t[2]-a,l=Math.sin(r),u=Math.cos(r);return e[0]=t[0],e[1]=i+o*u-s*l,e[2]=a+o*l+s*u,e}t.exports=r},{}],218:[function(e,t,n){function r(e,t,n,r){var i=n[0],a=n[2],o=t[0]-i,s=t[2]-a,l=Math.sin(r),u=Math.cos(r);return e[0]=i+s*l+o*u,e[1]=t[1],e[2]=a+s*u-o*l,e}t.exports=r},{}],219:[function(e,t,n){function r(e,t,n,r){var i=n[0],a=n[1],o=t[0]-i,s=t[1]-a,l=Math.sin(r),u=Math.cos(r);return e[0]=i+o*u-s*l,e[1]=a+o*l+s*u,e[2]=t[2],e}t.exports=r},{}],220:[function(e,t,n){function r(e,t){return e[0]=Math.round(t[0]),e[1]=Math.round(t[1]),e[2]=Math.round(t[2]),e}t.exports=r},{}],221:[function(e,t,n){function r(e,t,n){return e[0]=t[0]*n,e[1]=t[1]*n,e[2]=t[2]*n,e}t.exports=r},{}],222:[function(e,t,n){function r(e,t,n,r){return e[0]=t[0]+n[0]*r,e[1]=t[1]+n[1]*r,e[2]=t[2]+n[2]*r,e}t.exports=r},{}],223:[function(e,t,n){function r(e,t,n,r){return e[0]=t,e[1]=n,e[2]=r,e}t.exports=r},{}],224:[function(e,t,n){t.exports=e("./squaredDistance")},{"./squaredDistance":226}],225:[function(e,t,n){t.exports=e("./squaredLength")},{"./squaredLength":227}],226:[function(e,t,n){function r(e,t){var n=t[0]-e[0],r=t[1]-e[1],i=t[2]-e[2];return n*n+r*r+i*i}t.exports=r},{}],227:[function(e,t,n){function r(e){var t=e[0],n=e[1],r=e[2];return t*t+n*n+r*r}t.exports=r},{}],228:[function(e,t,n){t.exports=e("./subtract")},{"./subtract":229}],229:[function(e,t,n){function r(e,t,n){return e[0]=t[0]-n[0],e[1]=t[1]-n[1],e[2]=t[2]-n[2],e}t.exports=r},{}],230:[function(e,t,n){function r(e,t,n){var r=t[0],i=t[1],a=t[2];return e[0]=r*n[0]+i*n[3]+a*n[6],e[1]=r*n[1]+i*n[4]+a*n[7],e[2]=r*n[2]+i*n[5]+a*n[8],e}t.exports=r},{}],231:[function(e,t,n){function r(e,t,n){var r=t[0],i=t[1],a=t[2],o=n[3]*r+n[7]*i+n[11]*a+n[15];return o=o||1,e[0]=(n[0]*r+n[4]*i+n[8]*a+n[12])/o,e[1]=(n[1]*r+n[5]*i+n[9]*a+n[13])/o,e[2]=(n[2]*r+n[6]*i+n[10]*a+n[14])/o,e}t.exports=r},{}],232:[function(e,t,n){function r(e,t,n){var r=t[0],i=t[1],a=t[2],o=n[0],s=n[1],l=n[2],u=n[3],c=u*r+s*a-l*i,f=u*i+l*r-o*a,d=u*a+o*i-s*r,h=-o*r-s*i-l*a;return e[0]=c*u+h*-o+f*-l-d*-s,e[1]=f*u+h*-s+d*-o-c*-l,e[2]=d*u+h*-l+c*-s-f*-o,e}t.exports=r},{}],233:[function(e,t,n){function r(e,t,n){return e[0]=t[0]+n[0],e[1]=t[1]+n[1],e[2]=t[2]+n[2],e[3]=t[3]+n[3],e}t.exports=r},{}],234:[function(e,t,n){function r(e){var t=new Float32Array(4);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t}t.exports=r},{}],235:[function(e,t,n){function r(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e}t.exports=r},{}],236:[function(e,t,n){function r(){var e=new Float32Array(4);return e[0]=0,e[1]=0,e[2]=0,e[3]=0,e}t.exports=r},{}],237:[function(e,t,n){function r(e,t){var n=t[0]-e[0],r=t[1]-e[1],i=t[2]-e[2],a=t[3]-e[3];return Math.sqrt(n*n+r*r+i*i+a*a)}t.exports=r},{}],238:[function(e,t,n){function r(e,t,n){return e[0]=t[0]/n[0],e[1]=t[1]/n[1],e[2]=t[2]/n[2],e[3]=t[3]/n[3],e}t.exports=r},{}],239:[function(e,t,n){function r(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]+e[3]*t[3]}t.exports=r},{}],240:[function(e,t,n){function r(e,t,n,r){var i=new Float32Array(4);return i[0]=e,i[1]=t,i[2]=n,i[3]=r,i}t.exports=r},{}],241:[function(e,t,n){t.exports={create:e("./create"),clone:e("./clone"),fromValues:e("./fromValues"),copy:e("./copy"),set:e("./set"),add:e("./add"),subtract:e("./subtract"),multiply:e("./multiply"),divide:e("./divide"),min:e("./min"),max:e("./max"),scale:e("./scale"),scaleAndAdd:e("./scaleAndAdd"),distance:e("./distance"),squaredDistance:e("./squaredDistance"),length:e("./length"),squaredLength:e("./squaredLength"),negate:e("./negate"),inverse:e("./inverse"),normalize:e("./normalize"),dot:e("./dot"),lerp:e("./lerp"),random:e("./random"),transformMat4:e("./transformMat4"),transformQuat:e("./transformQuat")}},{"./add":233,"./clone":234,"./copy":235,"./create":236,"./distance":237,"./divide":238,"./dot":239,"./fromValues":240,"./inverse":242,"./length":243,"./lerp":244,"./max":245,"./min":246,"./multiply":247,"./negate":248,"./normalize":249,"./random":250,"./scale":251,"./scaleAndAdd":252,"./set":253,"./squaredDistance":254,"./squaredLength":255,"./subtract":256,"./transformMat4":257,"./transformQuat":258}],242:[function(e,t,n){function r(e,t){return e[0]=1/t[0],e[1]=1/t[1],e[2]=1/t[2],e[3]=1/t[3],e}t.exports=r},{}],243:[function(e,t,n){function r(e){var t=e[0],n=e[1],r=e[2],i=e[3];return Math.sqrt(t*t+n*n+r*r+i*i)}t.exports=r},{}],244:[function(e,t,n){function r(e,t,n,r){var i=t[0],a=t[1],o=t[2],s=t[3];return e[0]=i+r*(n[0]-i),e[1]=a+r*(n[1]-a),e[2]=o+r*(n[2]-o),e[3]=s+r*(n[3]-s),e}t.exports=r},{}],245:[function(e,t,n){function r(e,t,n){return e[0]=Math.max(t[0],n[0]),e[1]=Math.max(t[1],n[1]),e[2]=Math.max(t[2],n[2]),e[3]=Math.max(t[3],n[3]),e}t.exports=r},{}],246:[function(e,t,n){function r(e,t,n){return e[0]=Math.min(t[0],n[0]),e[1]=Math.min(t[1],n[1]),e[2]=Math.min(t[2],n[2]),e[3]=Math.min(t[3],n[3]),e}t.exports=r},{}],247:[function(e,t,n){function r(e,t,n){return e[0]=t[0]*n[0],e[1]=t[1]*n[1],e[2]=t[2]*n[2],e[3]=t[3]*n[3],e}t.exports=r},{}],248:[function(e,t,n){function r(e,t){return e[0]=-t[0],e[1]=-t[1],e[2]=-t[2],e[3]=-t[3],e}t.exports=r},{}],249:[function(e,t,n){function r(e,t){var n=t[0],r=t[1],i=t[2],a=t[3],o=n*n+r*r+i*i+a*a;return o>0&&(o=1/Math.sqrt(o),e[0]=n*o,e[1]=r*o,e[2]=i*o,e[3]=a*o),e}t.exports=r},{}],250:[function(e,t,n){var r=e("./normalize"),i=e("./scale");function a(e,t){return t=t||1,e[0]=Math.random(),e[1]=Math.random(),e[2]=Math.random(),e[3]=Math.random(),r(e,e),i(e,e,t),e}t.exports=a},{"./normalize":249,"./scale":251}],251:[function(e,t,n){function r(e,t,n){return e[0]=t[0]*n,e[1]=t[1]*n,e[2]=t[2]*n,e[3]=t[3]*n,e}t.exports=r},{}],252:[function(e,t,n){function r(e,t,n,r){return e[0]=t[0]+n[0]*r,e[1]=t[1]+n[1]*r,e[2]=t[2]+n[2]*r,e[3]=t[3]+n[3]*r,e}t.exports=r},{}],253:[function(e,t,n){function r(e,t,n,r,i){return e[0]=t,e[1]=n,e[2]=r,e[3]=i,e}t.exports=r},{}],254:[function(e,t,n){function r(e,t){var n=t[0]-e[0],r=t[1]-e[1],i=t[2]-e[2],a=t[3]-e[3];return n*n+r*r+i*i+a*a}t.exports=r},{}],255:[function(e,t,n){function r(e){var t=e[0],n=e[1],r=e[2],i=e[3];return t*t+n*n+r*r+i*i}t.exports=r},{}],256:[function(e,t,n){function r(e,t,n){return e[0]=t[0]-n[0],e[1]=t[1]-n[1],e[2]=t[2]-n[2],e[3]=t[3]-n[3],e}t.exports=r},{}],257:[function(e,t,n){function r(e,t,n){var r=t[0],i=t[1],a=t[2],o=t[3];return e[0]=n[0]*r+n[4]*i+n[8]*a+n[12]*o,e[1]=n[1]*r+n[5]*i+n[9]*a+n[13]*o,e[2]=n[2]*r+n[6]*i+n[10]*a+n[14]*o,e[3]=n[3]*r+n[7]*i+n[11]*a+n[15]*o,e}t.exports=r},{}],258:[function(e,t,n){function r(e,t,n){var r=t[0],i=t[1],a=t[2],o=n[0],s=n[1],l=n[2],u=n[3],c=u*r+s*a-l*i,f=u*i+l*r-o*a,d=u*a+o*i-s*r,h=-o*r-s*i-l*a;return e[0]=c*u+h*-o+f*-l-d*-s,e[1]=f*u+h*-s+d*-o-c*-l,e[2]=d*u+h*-l+c*-s-f*-o,e[3]=t[3],e}t.exports=r},{}],259:[function(e,t,n){var r=e("glsl-tokenizer"),i=e("atob-lite");function a(e){for(var t=Array.isArray(e)?e:r(e),n=0;n<t.length;n++){var a=t[n];if("preprocessor"===a.type){var o=a.data.match(/\#define\s+SHADER_NAME(_B64)?\s+(.+)$/);if(o&&o[2]){var s=o[1],l=o[2];return(s?i(l):l).trim()}}}}t.exports=a},{"atob-lite":17,"glsl-tokenizer":266}],260:[function(e,t,n){t.exports=k;var r=e("./lib/literals"),i=e("./lib/operators"),a=e("./lib/builtins"),o=e("./lib/literals-300es"),s=e("./lib/builtins-300es"),l=999,u=9999,c=0,f=1,d=2,h=3,p=4,g=5,v=6,m=7,y=8,b=9,x=10,_=11,w=["block-comment","line-comment","preprocessor","operator","integer","float","ident","builtin","keyword","whitespace","eof","integer"];function k(e){var t,n,k,M=0,T=0,A=l,E=[],S=[],O=1,C=0,L=0,R=!1,P=!1,j="",z=a,I=r;"300 es"===(e=e||{}).version&&(z=s,I=o);var N={},D={};for(M=0;M<z.length;M++)N[z[M]]=!0;for(M=0;M<I.length;M++)D[I[M]]=!0;return function(e){return S=[],null!==e?B(e):U()};function F(e){e.length&&S.push({type:w[A],data:e,position:L,line:O,column:C})}function B(e){var n;for(M=0,e.toString&&(e=e.toString()),j+=e.replace(/\r\n/g,"\n"),k=j.length;t=j[M],M<k;){switch(n=M,A){case c:M=G();break;case f:M=W();break;case d:M=q();break;case h:M=X();break;case p:M=$();break;case _:M=Z();break;case g:M=K();break;case u:M=Q();break;case b:M=H();break;case l:M=V()}if(n!==M)switch(j[n]){case"\n":C=0,++O;break;default:++C}}return T+=M,j=j.slice(M),S}function U(e){return E.length&&F(E.join("")),A=x,F("(eof)"),S}function V(){return E=E.length?[]:E,"/"===n&&"*"===t?(L=T+M-1,A=c,n=t,M+1):"/"===n&&"/"===t?(L=T+M-1,A=f,n=t,M+1):"#"===t?(A=d,L=T+M,M):/\s/.test(t)?(A=b,L=T+M,M):(R=/\d/.test(t),P=/[^\w_]/.test(t),L=T+M,A=R?p:P?h:u,M)}function H(){return/[^\s]/g.test(t)?(F(E.join("")),A=l,M):(E.push(t),n=t,M+1)}function q(){return"\r"!==t&&"\n"!==t||"\\"===n?(E.push(t),n=t,M+1):(F(E.join("")),A=l,M)}function W(){return q()}function G(){return"/"===t&&"*"===n?(E.push(t),F(E.join("")),A=l,M+1):(E.push(t),n=t,M+1)}function X(){if("."===n&&/\d/.test(t))return A=g,M;if("/"===n&&"*"===t)return A=c,M;if("/"===n&&"/"===t)return A=f,M;if("."===t&&E.length){for(;Y(E););return A=g,M}if(";"===t||")"===t||"("===t){if(E.length)for(;Y(E););return F(t),A=l,M+1}var e=2===E.length&&"="!==t;if(/[\w_\d\s]/.test(t)||e){for(;Y(E););return A=l,M}return E.push(t),n=t,M+1}function Y(e){for(var t,n,r=0;;){if(t=i.indexOf(e.slice(0,e.length+r).join("")),n=i[t],-1===t){if(r--+e.length>0)continue;n=e.slice(0,1).join("")}return F(n),L+=n.length,(E=E.slice(n.length)).length}}function Z(){return/[^a-fA-F0-9]/.test(t)?(F(E.join("")),A=l,M):(E.push(t),n=t,M+1)}function $(){return"."===t||/[eE]/.test(t)?(E.push(t),A=g,n=t,M+1):"x"===t&&1===E.length&&"0"===E[0]?(A=_,E.push(t),n=t,M+1):/[^\d]/.test(t)?(F(E.join("")),A=l,M):(E.push(t),n=t,M+1)}function K(){return"f"===t&&(E.push(t),n=t,M+=1),/[eE]/.test(t)?(E.push(t),n=t,M+1):("-"!==t&&"+"!==t||!/[eE]/.test(n))&&/[^\d]/.test(t)?(F(E.join("")),A=l,M):(E.push(t),n=t,M+1)}function Q(){if(/[^\d\w_]/.test(t)){var e=E.join("");return A=D[e]?y:N[e]?m:v,F(E.join("")),A=l,M}return E.push(t),n=t,M+1}}},{"./lib/builtins":262,"./lib/builtins-300es":261,"./lib/literals":264,"./lib/literals-300es":263,"./lib/operators":265}],261:[function(e,t,n){var r=e("./builtins");r=r.slice().filter((function(e){return!/^(gl\_|texture)/.test(e)})),t.exports=r.concat(["gl_VertexID","gl_InstanceID","gl_Position","gl_PointSize","gl_FragCoord","gl_FrontFacing","gl_FragDepth","gl_PointCoord","gl_MaxVertexAttribs","gl_MaxVertexUniformVectors","gl_MaxVertexOutputVectors","gl_MaxFragmentInputVectors","gl_MaxVertexTextureImageUnits","gl_MaxCombinedTextureImageUnits","gl_MaxTextureImageUnits","gl_MaxFragmentUniformVectors","gl_MaxDrawBuffers","gl_MinProgramTexelOffset","gl_MaxProgramTexelOffset","gl_DepthRangeParameters","gl_DepthRange","trunc","round","roundEven","isnan","isinf","floatBitsToInt","floatBitsToUint","intBitsToFloat","uintBitsToFloat","packSnorm2x16","unpackSnorm2x16","packUnorm2x16","unpackUnorm2x16","packHalf2x16","unpackHalf2x16","outerProduct","transpose","determinant","inverse","texture","textureSize","textureProj","textureLod","textureOffset","texelFetch","texelFetchOffset","textureProjOffset","textureLodOffset","textureProjLod","textureProjLodOffset","textureGrad","textureGradOffset","textureProjGrad","textureProjGradOffset"])},{"./builtins":262}],262:[function(e,t,n){t.exports=["abs","acos","all","any","asin","atan","ceil","clamp","cos","cross","dFdx","dFdy","degrees","distance","dot","equal","exp","exp2","faceforward","floor","fract","gl_BackColor","gl_BackLightModelProduct","gl_BackLightProduct","gl_BackMaterial","gl_BackSecondaryColor","gl_ClipPlane","gl_ClipVertex","gl_Color","gl_DepthRange","gl_DepthRangeParameters","gl_EyePlaneQ","gl_EyePlaneR","gl_EyePlaneS","gl_EyePlaneT","gl_Fog","gl_FogCoord","gl_FogFragCoord","gl_FogParameters","gl_FragColor","gl_FragCoord","gl_FragData","gl_FragDepth","gl_FragDepthEXT","gl_FrontColor","gl_FrontFacing","gl_FrontLightModelProduct","gl_FrontLightProduct","gl_FrontMaterial","gl_FrontSecondaryColor","gl_LightModel","gl_LightModelParameters","gl_LightModelProducts","gl_LightProducts","gl_LightSource","gl_LightSourceParameters","gl_MaterialParameters","gl_MaxClipPlanes","gl_MaxCombinedTextureImageUnits","gl_MaxDrawBuffers","gl_MaxFragmentUniformComponents","gl_MaxLights","gl_MaxTextureCoords","gl_MaxTextureImageUnits","gl_MaxTextureUnits","gl_MaxVaryingFloats","gl_MaxVertexAttribs","gl_MaxVertexTextureImageUnits","gl_MaxVertexUniformComponents","gl_ModelViewMatrix","gl_ModelViewMatrixInverse","gl_ModelViewMatrixInverseTranspose","gl_ModelViewMatrixTranspose","gl_ModelViewProjectionMatrix","gl_ModelViewProjectionMatrixInverse","gl_ModelViewProjectionMatrixInverseTranspose","gl_ModelViewProjectionMatrixTranspose","gl_MultiTexCoord0","gl_MultiTexCoord1","gl_MultiTexCoord2","gl_MultiTexCoord3","gl_MultiTexCoord4","gl_MultiTexCoord5","gl_MultiTexCoord6","gl_MultiTexCoord7","gl_Normal","gl_NormalMatrix","gl_NormalScale","gl_ObjectPlaneQ","gl_ObjectPlaneR","gl_ObjectPlaneS","gl_ObjectPlaneT","gl_Point","gl_PointCoord","gl_PointParameters","gl_PointSize","gl_Position","gl_ProjectionMatrix","gl_ProjectionMatrixInverse","gl_ProjectionMatrixInverseTranspose","gl_ProjectionMatrixTranspose","gl_SecondaryColor","gl_TexCoord","gl_TextureEnvColor","gl_TextureMatrix","gl_TextureMatrixInverse","gl_TextureMatrixInverseTranspose","gl_TextureMatrixTranspose","gl_Vertex","greaterThan","greaterThanEqual","inversesqrt","length","lessThan","lessThanEqual","log","log2","matrixCompMult","max","min","mix","mod","normalize","not","notEqual","pow","radians","reflect","refract","sign","sin","smoothstep","sqrt","step","tan","texture2D","texture2DLod","texture2DProj","texture2DProjLod","textureCube","textureCubeLod","texture2DLodEXT","texture2DProjLodEXT","textureCubeLodEXT","texture2DGradEXT","texture2DProjGradEXT","textureCubeGradEXT"]},{}],263:[function(e,t,n){var r=e("./literals");t.exports=r.slice().concat(["layout","centroid","smooth","case","mat2x2","mat2x3","mat2x4","mat3x2","mat3x3","mat3x4","mat4x2","mat4x3","mat4x4","uvec2","uvec3","uvec4","samplerCubeShadow","sampler2DArray","sampler2DArrayShadow","isampler2D","isampler3D","isamplerCube","isampler2DArray","usampler2D","usampler3D","usamplerCube","usampler2DArray","coherent","restrict","readonly","writeonly","resource","atomic_uint","noperspective","patch","sample","subroutine","common","partition","active","filter","image1D","image2D","image3D","imageCube","iimage1D","iimage2D","iimage3D","iimageCube","uimage1D","uimage2D","uimage3D","uimageCube","image1DArray","image2DArray","iimage1DArray","iimage2DArray","uimage1DArray","uimage2DArray","image1DShadow","image2DShadow","image1DArrayShadow","image2DArrayShadow","imageBuffer","iimageBuffer","uimageBuffer","sampler1DArray","sampler1DArrayShadow","isampler1D","isampler1DArray","usampler1D","usampler1DArray","isampler2DRect","usampler2DRect","samplerBuffer","isamplerBuffer","usamplerBuffer","sampler2DMS","isampler2DMS","usampler2DMS","sampler2DMSArray","isampler2DMSArray","usampler2DMSArray"])},{"./literals":264}],264:[function(e,t,n){t.exports=["precision","highp","mediump","lowp","attribute","const","uniform","varying","break","continue","do","for","while","if","else","in","out","inout","float","int","uint","void","bool","true","false","discard","return","mat2","mat3","mat4","vec2","vec3","vec4","ivec2","ivec3","ivec4","bvec2","bvec3","bvec4","sampler1D","sampler2D","sampler3D","samplerCube","sampler1DShadow","sampler2DShadow","struct","asm","class","union","enum","typedef","template","this","packed","goto","switch","default","inline","noinline","volatile","public","static","extern","external","interface","long","short","double","half","fixed","unsigned","input","output","hvec2","hvec3","hvec4","dvec2","dvec3","dvec4","fvec2","fvec3","fvec4","sampler2DRect","sampler3DRect","sampler2DRectShadow","sizeof","cast","namespace","using"]},{}],265:[function(e,t,n){t.exports=["<<=",">>=","++","--","<<",">>","<=",">=","==","!=","&&","||","+=","-=","*=","/=","%=","&=","^^","^=","|=","(",")","[","]",".","!","~","*","/","%","+","-","<",">","&","^","|","?",":","=",",",";","{","}"]},{}],266:[function(e,t,n){var r=e("./index");function i(e,t){var n=r(t),i=[];return i=(i=i.concat(n(e))).concat(n(null))}t.exports=i},{"./index":260}],267:[function(e,n,r){(function(t){(function(){"use strict";var r,i=e("is-browser");r="function"===typeof t.matchMedia?!t.matchMedia("(hover: none)").matches:i,n.exports=r}).call(this)}).call(this,"undefined"!==typeof t?t:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})},{"is-browser":275}],268:[function(e,t,n){"use strict";var r=e("is-browser");function i(){var e=!1;try{var t=Object.defineProperty({},"passive",{get:function(){e=!0}});window.addEventListener("test",null,t),window.removeEventListener("test",null,t)}catch(n){e=!1}return e}t.exports=r&&i()},{"is-browser":275}],269:[function(e,t,n){n.read=function(e,t,n,r,i){var a,o,s=8*i-r-1,l=(1<<s)-1,u=l>>1,c=-7,f=n?i-1:0,d=n?-1:1,h=e[t+f];for(f+=d,a=h&(1<<-c)-1,h>>=-c,c+=s;c>0;a=256*a+e[t+f],f+=d,c-=8);for(o=a&(1<<-c)-1,a>>=-c,c+=r;c>0;o=256*o+e[t+f],f+=d,c-=8);if(0===a)a=1-u;else{if(a===l)return o?NaN:1/0*(h?-1:1);o+=Math.pow(2,r),a-=u}return(h?-1:1)*o*Math.pow(2,a-r)},n.write=function(e,t,n,r,i,a){var o,s,l,u=8*a-i-1,c=(1<<u)-1,f=c>>1,d=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,h=r?0:a-1,p=r?1:-1,g=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,o=c):(o=Math.floor(Math.log(t)/Math.LN2),t*(l=Math.pow(2,-o))<1&&(o--,l*=2),(t+=o+f>=1?d/l:d*Math.pow(2,1-f))*l>=2&&(o++,l/=2),o+f>=c?(s=0,o=c):o+f>=1?(s=(t*l-1)*Math.pow(2,i),o+=f):(s=t*Math.pow(2,f-1)*Math.pow(2,i),o=0));i>=8;e[n+h]=255&s,h+=p,s/=256,i-=8);for(o=o<<i|s,u+=i;u>0;e[n+h]=255&o,h+=p,o/=256,u-=8);e[n+h-p]|=128*g}},{}],270:[function(e,t,n){"use strict";t.exports=d;var r=e("robust-orientation"),i=e("simplicial-complex").compareCells;function a(e,t,n){this.vertices=e,this.adjacent=t,this.boundary=n,this.lastVisited=-1}function o(e,t,n){this.vertices=e,this.cell=t,this.index=n}function s(e,t){return i(e.vertices,t.vertices)}function l(e){for(var t=["function orient(){var tuple=this.tuple;return test("],n=0;n<=e;++n)n>0&&t.push(","),t.push("tuple[",n,"]");t.push(")}return orient");var i=new Function("test",t.join("")),a=r[e+1];return a||(a=r),i(a)}a.prototype.flip=function(){var e=this.vertices[0];this.vertices[0]=this.vertices[1],this.vertices[1]=e;var t=this.adjacent[0];this.adjacent[0]=this.adjacent[1],this.adjacent[1]=t};var u=[];function c(e,t,n){this.dimension=e,this.vertices=t,this.simplices=n,this.interior=n.filter((function(e){return!e.boundary})),this.tuple=new Array(e+1);for(var r=0;r<=e;++r)this.tuple[r]=this.vertices[r];var i=u[e];i||(i=u[e]=l(e)),this.orient=i}var f=c.prototype;function d(e,t){var n=e.length;if(0===n)throw new Error("Must have at least d+1 points");var i=e[0].length;if(n<=i)throw new Error("Must input at least d+1 points");var o=e.slice(0,i+1),s=r.apply(void 0,o);if(0===s)throw new Error("Input not in general position");for(var l=new Array(i+1),u=0;u<=i;++u)l[u]=u;s<0&&(l[0]=1,l[1]=0);var f=new a(l,new Array(i+1),!1),d=f.adjacent,h=new Array(i+2);for(u=0;u<=i;++u){for(var p=l.slice(),g=0;g<=i;++g)g===u&&(p[g]=-1);var v=p[0];p[0]=p[1],p[1]=v;var m=new a(p,new Array(i+1),!0);d[u]=m,h[u]=m}for(h[i+1]=f,u=0;u<=i;++u){p=d[u].vertices;var y=d[u].adjacent;for(g=0;g<=i;++g){var b=p[g];if(b<0)y[g]=f;else for(var x=0;x<=i;++x)d[x].vertices.indexOf(b)<0&&(y[g]=d[x])}}var _=new c(i,o,h),w=!!t;for(u=i+1;u<n;++u)_.insert(e[u],w);return _.boundary()}f.handleBoundaryDegeneracy=function(e,t){var n=this.dimension,r=this.vertices.length-1,i=this.tuple,a=this.vertices,o=[e];for(e.lastVisited=-r;o.length>0;){(e=o.pop()).vertices;for(var s=e.adjacent,l=0;l<=n;++l){var u=s[l];if(u.boundary&&!(u.lastVisited<=-r)){for(var c=u.vertices,f=0;f<=n;++f){var d=c[f];i[f]=d<0?t:a[d]}var h=this.orient();if(h>0)return u;u.lastVisited=-r,0===h&&o.push(u)}}}return null},f.walk=function(e,t){var n=this.vertices.length-1,r=this.dimension,i=this.vertices,a=this.tuple,o=t?this.interior.length*Math.random()|0:this.interior.length-1,s=this.interior[o];e:for(;!s.boundary;){for(var l=s.vertices,u=s.adjacent,c=0;c<=r;++c)a[c]=i[l[c]];for(s.lastVisited=n,c=0;c<=r;++c){var f=u[c];if(!(f.lastVisited>=n)){var d=a[c];a[c]=e;var h=this.orient();if(a[c]=d,h<0){s=f;continue e}f.boundary?f.lastVisited=-n:f.lastVisited=n}}return}return s},f.addPeaks=function(e,t){var n=this.vertices.length-1,r=this.dimension,i=this.vertices,l=this.tuple,u=this.interior,c=this.simplices,f=[t];t.lastVisited=n,t.vertices[t.vertices.indexOf(-1)]=n,t.boundary=!1,u.push(t);for(var d=[];f.length>0;){var h=(t=f.pop()).vertices,p=t.adjacent,g=h.indexOf(n);if(!(g<0))for(var v=0;v<=r;++v)if(v!==g){var m=p[v];if(m.boundary&&!(m.lastVisited>=n)){var y=m.vertices;if(m.lastVisited!==-n){for(var b=0,x=0;x<=r;++x)y[x]<0?(b=x,l[x]=e):l[x]=i[y[x]];if(this.orient()>0){y[b]=n,m.boundary=!1,u.push(m),f.push(m),m.lastVisited=n;continue}m.lastVisited=-n}var _=m.adjacent,w=h.slice(),k=p.slice(),M=new a(w,k,!0);c.push(M);var T=_.indexOf(t);if(!(T<0))for(_[T]=M,k[g]=m,w[v]=-1,k[v]=t,p[v]=M,M.flip(),x=0;x<=r;++x){var A=w[x];if(!(A<0||A===n)){for(var E=new Array(r-1),S=0,O=0;O<=r;++O){var C=w[O];C<0||O===x||(E[S++]=C)}d.push(new o(E,M,x))}}}}}for(d.sort(s),v=0;v+1<d.length;v+=2){var L=d[v],R=d[v+1],P=L.index,j=R.index;P<0||j<0||(L.cell.adjacent[L.index]=R.cell,R.cell.adjacent[R.index]=L.cell)}},f.insert=function(e,t){var n=this.vertices;n.push(e);var r=this.walk(e,t);if(r){for(var i=this.dimension,a=this.tuple,o=0;o<=i;++o){var s=r.vertices[o];a[o]=s<0?e:n[s]}var l=this.orient(a);l<0||(0!==l||(r=this.handleBoundaryDegeneracy(r,e)))&&this.addPeaks(e,r)}},f.boundary=function(){for(var e=this.dimension,t=[],n=this.simplices,r=n.length,i=0;i<r;++i){var a=n[i];if(a.boundary){for(var o=new Array(e),s=a.vertices,l=0,u=0,c=0;c<=e;++c)s[c]>=0?o[l++]=s[c]:u=1&c;if(u===(1&e)){var f=o[0];o[0]=o[1],o[1]=f}t.push(o)}}return t}},{"robust-orientation":339,"simplicial-complex":349}],271:[function(e,t,n){"use strict";var r=e("binary-search-bounds"),i=0,a=1,o=2;function s(e,t,n,r,i){this.mid=e,this.left=t,this.right=n,this.leftPoints=r,this.rightPoints=i,this.count=(t?t.count:0)+(n?n.count:0)+r.length}t.exports=w;var l=s.prototype;function u(e,t){e.mid=t.mid,e.left=t.left,e.right=t.right,e.leftPoints=t.leftPoints,e.rightPoints=t.rightPoints,e.count=t.count}function c(e,t){var n=b(t);e.mid=n.mid,e.left=n.left,e.right=n.right,e.leftPoints=n.leftPoints,e.rightPoints=n.rightPoints,e.count=n.count}function f(e,t){var n=e.intervals([]);n.push(t),c(e,n)}function d(e,t){var n=e.intervals([]),r=n.indexOf(t);return r<0?i:(n.splice(r,1),c(e,n),a)}function h(e,t,n){for(var r=0;r<e.length&&e[r][0]<=t;++r){var i=n(e[r]);if(i)return i}}function p(e,t,n){for(var r=e.length-1;r>=0&&e[r][1]>=t;--r){var i=n(e[r]);if(i)return i}}function g(e,t){for(var n=0;n<e.length;++n){var r=t(e[n]);if(r)return r}}function v(e,t){return e-t}function m(e,t){var n=e[0]-t[0];return n||e[1]-t[1]}function y(e,t){var n=e[1]-t[1];return n||e[0]-t[0]}function b(e){if(0===e.length)return null;for(var t=[],n=0;n<e.length;++n)t.push(e[n][0],e[n][1]);t.sort(v);var r=t[t.length>>1],i=[],a=[],o=[];for(n=0;n<e.length;++n){var l=e[n];l[1]<r?i.push(l):r<l[0]?a.push(l):o.push(l)}var u=o,c=o.slice();return u.sort(m),c.sort(y),new s(r,b(i),b(a),u,c)}function x(e){this.root=e}l.intervals=function(e){return e.push.apply(e,this.leftPoints),this.left&&this.left.intervals(e),this.right&&this.right.intervals(e),e},l.insert=function(e){var t=this.count-this.leftPoints.length;if(this.count+=1,e[1]<this.mid)this.left?4*(this.left.count+1)>3*(t+1)?f(this,e):this.left.insert(e):this.left=b([e]);else if(e[0]>this.mid)this.right?4*(this.right.count+1)>3*(t+1)?f(this,e):this.right.insert(e):this.right=b([e]);else{var n=r.ge(this.leftPoints,e,m),i=r.ge(this.rightPoints,e,y);this.leftPoints.splice(n,0,e),this.rightPoints.splice(i,0,e)}},l.remove=function(e){var t=this.count-this.leftPoints;if(e[1]<this.mid)return this.left?4*(this.right?this.right.count:0)>3*(t-1)?d(this,e):(c=this.left.remove(e))===o?(this.left=null,this.count-=1,a):(c===a&&(this.count-=1),c):i;if(e[0]>this.mid)return this.right?4*(this.left?this.left.count:0)>3*(t-1)?d(this,e):(c=this.right.remove(e))===o?(this.right=null,this.count-=1,a):(c===a&&(this.count-=1),c):i;if(1===this.count)return this.leftPoints[0]===e?o:i;if(1===this.leftPoints.length&&this.leftPoints[0]===e){if(this.left&&this.right){for(var n=this,s=this.left;s.right;)n=s,s=s.right;if(n===this)s.right=this.right;else{var l=this.left,c=this.right;n.count-=s.count,n.right=s.left,s.left=l,s.right=c}u(this,s),this.count=(this.left?this.left.count:0)+(this.right?this.right.count:0)+this.leftPoints.length}else this.left?u(this,this.left):u(this,this.right);return a}for(l=r.ge(this.leftPoints,e,m);l<this.leftPoints.length&&this.leftPoints[l][0]===e[0];++l)if(this.leftPoints[l]===e)for(this.count-=1,this.leftPoints.splice(l,1),c=r.ge(this.rightPoints,e,y);c<this.rightPoints.length&&this.rightPoints[c][1]===e[1];++c)if(this.rightPoints[c]===e)return this.rightPoints.splice(c,1),a;return i},l.queryPoint=function(e,t){return e<this.mid?this.left&&(n=this.left.queryPoint(e,t))?n:h(this.leftPoints,e,t):e>this.mid?this.right&&(n=this.right.queryPoint(e,t))?n:p(this.rightPoints,e,t):g(this.leftPoints,t);var n},l.queryInterval=function(e,t,n){var r;return e<this.mid&&this.left&&(r=this.left.queryInterval(e,t,n))||t>this.mid&&this.right&&(r=this.right.queryInterval(e,t,n))?r:t<this.mid?h(this.leftPoints,t,n):e>this.mid?p(this.rightPoints,e,n):g(this.leftPoints,n)};var _=x.prototype;function w(e){return e&&0!==e.length?new x(b(e)):new x(null)}_.insert=function(e){this.root?this.root.insert(e):this.root=new s(e[0],null,null,[e],[e])},_.remove=function(e){if(this.root){var t=this.root.remove(e);return t===o&&(this.root=null),t!==i}return!1},_.queryPoint=function(e,t){if(this.root)return this.root.queryPoint(e,t)},_.queryInterval=function(e,t,n){if(e<=t&&this.root)return this.root.queryInterval(e,t,n)},Object.defineProperty(_,"count",{get:function(){return this.root?this.root.count:0}}),Object.defineProperty(_,"intervals",{get:function(){return this.root?this.root.intervals([]):[]}})},{"binary-search-bounds":272}],272:[function(e,t,n){arguments[4][93][0].apply(n,arguments)},{dup:93}],273:[function(e,t,n){"use strict";function r(e,t){t=t||new Array(e.length);for(var n=0;n<e.length;++n)t[e[n]]=n;return t}t.exports=r},{}],274:[function(e,t,n){"use strict";function r(e){for(var t=new Array(e),n=0;n<e;++n)t[n]=n;return t}t.exports=r},{}],275:[function(e,t,n){t.exports=!0},{}],276:[function(e,t,n){function r(e){return!!e.constructor&&"function"===typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)}function i(e){return"function"===typeof e.readFloatLE&&"function"===typeof e.slice&&r(e.slice(0,0))}t.exports=function(e){return null!=e&&(r(e)||i(e)||!!e._isBuffer)}},{}],277:[function(e,t,n){"use strict";t.exports=a,t.exports.isMobile=a,t.exports.default=a;var r=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series[46]0|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i,i=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series[46]0|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino|android|ipad|playbook|silk/i;function a(e){e||(e={});var t=e.ua;if(t||"undefined"===typeof navigator||(t=navigator.userAgent),t&&t.headers&&"string"===typeof t.headers["user-agent"]&&(t=t.headers["user-agent"]),"string"!==typeof t)return!1;var n=e.tablet?i.test(t):r.test(t);return!n&&e.tablet&&e.featureDetect&&navigator&&navigator.maxTouchPoints>1&&-1!==t.indexOf("Macintosh")&&-1!==t.indexOf("Safari")&&(n=!0),n}},{}],278:[function(e,t,n){"use strict";var r=Object.prototype.toString;t.exports=function(e){var t;return"[object Object]"===r.call(e)&&(null===(t=Object.getPrototypeOf(e))||t===Object.getPrototypeOf({}))}},{}],279:[function(e,t,n){"use strict";t.exports=function(e){for(var t,n=e.length,r=0;r<n;r++)if(((t=e.charCodeAt(r))<9||t>13)&&32!==t&&133!==t&&160!==t&&5760!==t&&6158!==t&&(t<8192||t>8205)&&8232!==t&&8233!==t&&8239!==t&&8287!==t&&8288!==t&&12288!==t&&65279!==t)return!1;return!0}},{}],280:[function(e,t,n){function r(e,t,n){return e*(1-n)+t*n}t.exports=r},{}],281:[function(e,t,n){"use strict";t.exports=o;var r=e("convex-hull");function i(e,t,n){for(var r=new Array(e),i=0;i<e;++i)r[i]=0,i===t&&(r[i]+=.5),i===n&&(r[i]+=.5);return r}function a(e,t){if(0===t||t===(1<<e+1)-1)return[];for(var n=[],a=[],o=0;o<=e;++o)if(t&1<<o){n.push(i(e,o-1,o-1)),a.push(null);for(var s=0;s<=e;++s)~t&1<<s&&(n.push(i(e,o-1,s-1)),a.push([o,s]))}var l=r(n),u=[];e:for(o=0;o<l.length;++o){var c=l[o],f=[];for(s=0;s<c.length;++s){if(!a[c[s]])continue e;f.push(a[c[s]].slice())}u.push(f)}return u}function o(e){for(var t=1<<e+1,n=new Array(t),r=0;r<t;++r)n[r]=a(e,r);return n}},{"convex-hull":72}],282:[function(e,t,n){var r=e("./normalize"),i=e("gl-mat4/create"),a=e("gl-mat4/clone"),o=e("gl-mat4/determinant"),s=e("gl-mat4/invert"),l=e("gl-mat4/transpose"),u={length:e("gl-vec3/length"),normalize:e("gl-vec3/normalize"),dot:e("gl-vec3/dot"),cross:e("gl-vec3/cross")},c=i(),f=i(),d=[0,0,0,0],h=[[0,0,0],[0,0,0],[0,0,0]],p=[0,0,0];function g(e,t,n){var r=t[0],i=t[1],a=t[2],o=t[3];return e[0]=n[0]*r+n[4]*i+n[8]*a+n[12]*o,e[1]=n[1]*r+n[5]*i+n[9]*a+n[13]*o,e[2]=n[2]*r+n[6]*i+n[10]*a+n[14]*o,e[3]=n[3]*r+n[7]*i+n[11]*a+n[15]*o,e}function v(e,t){e[0][0]=t[0],e[0][1]=t[1],e[0][2]=t[2],e[1][0]=t[4],e[1][1]=t[5],e[1][2]=t[6],e[2][0]=t[8],e[2][1]=t[9],e[2][2]=t[10]}function m(e,t,n,r,i){e[0]=t[0]*r+n[0]*i,e[1]=t[1]*r+n[1]*i,e[2]=t[2]*r+n[2]*i}t.exports=function(e,t,n,i,y,b){if(t||(t=[0,0,0]),n||(n=[0,0,0]),i||(i=[0,0,0]),y||(y=[0,0,0,1]),b||(b=[0,0,0,1]),!r(c,e))return!1;if(a(f,c),f[3]=0,f[7]=0,f[11]=0,f[15]=1,Math.abs(o(f)<1e-8))return!1;var x=c[3],_=c[7],w=c[11],k=c[12],M=c[13],T=c[14],A=c[15];if(0!==x||0!==_||0!==w){if(d[0]=x,d[1]=_,d[2]=w,d[3]=A,!s(f,f))return!1;l(f,f),g(y,d,f)}else y[0]=y[1]=y[2]=0,y[3]=1;if(t[0]=k,t[1]=M,t[2]=T,v(h,c),n[0]=u.length(h[0]),u.normalize(h[0],h[0]),i[0]=u.dot(h[0],h[1]),m(h[1],h[1],h[0],1,-i[0]),n[1]=u.length(h[1]),u.normalize(h[1],h[1]),i[0]/=n[1],i[1]=u.dot(h[0],h[2]),m(h[2],h[2],h[0],1,-i[1]),i[2]=u.dot(h[1],h[2]),m(h[2],h[2],h[1],1,-i[2]),n[2]=u.length(h[2]),u.normalize(h[2],h[2]),i[1]/=n[2],i[2]/=n[2],u.cross(p,h[1],h[2]),u.dot(h[0],p)<0)for(var E=0;E<3;E++)n[E]*=-1,h[E][0]*=-1,h[E][1]*=-1,h[E][2]*=-1;return b[0]=.5*Math.sqrt(Math.max(1+h[0][0]-h[1][1]-h[2][2],0)),b[1]=.5*Math.sqrt(Math.max(1-h[0][0]+h[1][1]-h[2][2],0)),b[2]=.5*Math.sqrt(Math.max(1-h[0][0]-h[1][1]+h[2][2],0)),b[3]=.5*Math.sqrt(Math.max(1+h[0][0]+h[1][1]+h[2][2],0)),h[2][1]>h[1][2]&&(b[0]=-b[0]),h[0][2]>h[2][0]&&(b[1]=-b[1]),h[1][0]>h[0][1]&&(b[2]=-b[2]),!0}},{"./normalize":283,"gl-mat4/clone":122,"gl-mat4/create":124,"gl-mat4/determinant":125,"gl-mat4/invert":137,"gl-mat4/transpose":150,"gl-vec3/cross":193,"gl-vec3/dot":198,"gl-vec3/length":208,"gl-vec3/normalize":215}],283:[function(e,t,n){t.exports=function(e,t){var n=t[15];if(0===n)return!1;for(var r=1/n,i=0;i<16;i++)e[i]=t[i]*r;return!0}},{}],284:[function(e,t,n){var r=e("gl-vec3/lerp"),i=e("mat4-recompose"),a=e("mat4-decompose"),o=e("gl-mat4/determinant"),s=e("quat-slerp"),l=d(),u=d(),c=d();function f(e,t,n,f){if(0===o(t)||0===o(n))return!1;var d=a(t,l.translate,l.scale,l.skew,l.perspective,l.quaternion),h=a(n,u.translate,u.scale,u.skew,u.perspective,u.quaternion);return!(!d||!h)&&(r(c.translate,l.translate,u.translate,f),r(c.skew,l.skew,u.skew,f),r(c.scale,l.scale,u.scale,f),r(c.perspective,l.perspective,u.perspective,f),s(c.quaternion,l.quaternion,u.quaternion,f),i(e,c.translate,c.scale,c.skew,c.perspective,c.quaternion),!0)}function d(){return{translate:h(),scale:h(1),skew:h(),perspective:p(),quaternion:p()}}function h(e){return[e||0,e||0,e||0]}function p(){return[0,0,0,1]}t.exports=f},{"gl-mat4/determinant":125,"gl-vec3/lerp":209,"mat4-decompose":282,"mat4-recompose":285,"quat-slerp":326}],285:[function(e,t,n){var r={identity:e("gl-mat4/identity"),translate:e("gl-mat4/translate"),multiply:e("gl-mat4/multiply"),create:e("gl-mat4/create"),scale:e("gl-mat4/scale"),fromRotationTranslation:e("gl-mat4/fromRotationTranslation")},i=(r.create(),r.create());t.exports=function(e,t,n,a,o,s){return r.identity(e),r.fromRotationTranslation(e,s,t),e[3]=o[0],e[7]=o[1],e[11]=o[2],e[15]=o[3],r.identity(i),0!==a[2]&&(i[9]=a[2],r.multiply(e,e,i)),0!==a[1]&&(i[9]=0,i[8]=a[1],r.multiply(e,e,i)),0!==a[0]&&(i[8]=0,i[4]=a[0],r.multiply(e,e,i)),r.scale(e,e,n),e}},{"gl-mat4/create":124,"gl-mat4/fromRotationTranslation":128,"gl-mat4/identity":135,"gl-mat4/multiply":139,"gl-mat4/scale":147,"gl-mat4/translate":149}],286:[function(e,t,n){"use strict";var r=e("binary-search-bounds"),i=e("mat4-interpolate"),a=e("gl-mat4/invert"),o=e("gl-mat4/rotateX"),s=e("gl-mat4/rotateY"),l=e("gl-mat4/rotateZ"),u=e("gl-mat4/lookAt"),c=e("gl-mat4/translate"),f=(e("gl-mat4/scale"),e("gl-vec3/normalize")),d=[0,0,0];function h(e){this._components=e.slice(),this._time=[0],this.prevMatrix=e.slice(),this.nextMatrix=e.slice(),this.computedMatrix=e.slice(),this.computedInverse=e.slice(),this.computedEye=[0,0,0],this.computedUp=[0,0,0],this.computedCenter=[0,0,0],this.computedRadius=[0],this._limits=[-1/0,1/0]}t.exports=v;var p=h.prototype;p.recalcMatrix=function(e){var t=this._time,n=r.le(t,e),o=this.computedMatrix;if(!(n<0)){var s=this._components;if(n===t.length-1)for(var l=16*n,u=0;u<16;++u)o[u]=s[l++];else{var c=t[n+1]-t[n],d=(l=16*n,this.prevMatrix),h=!0;for(u=0;u<16;++u)d[u]=s[l++];var p=this.nextMatrix;for(u=0;u<16;++u)p[u]=s[l++],h=h&&d[u]===p[u];if(c<1e-6||h)for(u=0;u<16;++u)o[u]=d[u];else i(o,d,p,(e-t[n])/c)}var g=this.computedUp;g[0]=o[1],g[1]=o[5],g[2]=o[9],f(g,g);var v=this.computedInverse;a(v,o);var m=this.computedEye,y=v[15];m[0]=v[12]/y,m[1]=v[13]/y,m[2]=v[14]/y;var b=this.computedCenter,x=Math.exp(this.computedRadius[0]);for(u=0;u<3;++u)b[u]=m[u]-o[2+4*u]*x}},p.idle=function(e){if(!(e<this.lastT())){for(var t=this._components,n=t.length-16,r=0;r<16;++r)t.push(t[n++]);this._time.push(e)}},p.flush=function(e){var t=r.gt(this._time,e)-2;t<0||(this._time.splice(0,t),this._components.splice(0,16*t))},p.lastT=function(){return this._time[this._time.length-1]},p.lookAt=function(e,t,n,r){this.recalcMatrix(e),t=t||this.computedEye,n=n||d,r=r||this.computedUp,this.setMatrix(e,u(this.computedMatrix,t,n,r));for(var i=0,a=0;a<3;++a)i+=Math.pow(n[a]-t[a],2);i=Math.log(Math.sqrt(i)),this.computedRadius[0]=i},p.rotate=function(e,t,n,r){this.recalcMatrix(e);var i=this.computedInverse;t&&s(i,i,t),n&&o(i,i,n),r&&l(i,i,r),this.setMatrix(e,a(this.computedMatrix,i))};var g=[0,0,0];function v(e){return new h((e=e||{}).matrix||[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])}p.pan=function(e,t,n,r){g[0]=-(t||0),g[1]=-(n||0),g[2]=-(r||0),this.recalcMatrix(e);var i=this.computedInverse;c(i,i,g),this.setMatrix(e,a(i,i))},p.translate=function(e,t,n,r){g[0]=t||0,g[1]=n||0,g[2]=r||0,this.recalcMatrix(e);var i=this.computedMatrix;c(i,i,g),this.setMatrix(e,i)},p.setMatrix=function(e,t){if(!(e<this.lastT())){this._time.push(e);for(var n=0;n<16;++n)this._components.push(t[n])}},p.setDistance=function(e,t){this.computedRadius[0]=t},p.setDistanceLimits=function(e,t){var n=this._limits;n[0]=e,n[1]=t},p.getDistanceLimits=function(e){var t=this._limits;return e?(e[0]=t[0],e[1]=t[1],e):t}},{"binary-search-bounds":287,"gl-mat4/invert":137,"gl-mat4/lookAt":138,"gl-mat4/rotateX":144,"gl-mat4/rotateY":145,"gl-mat4/rotateZ":146,"gl-mat4/scale":147,"gl-mat4/translate":149,"gl-vec3/normalize":215,"mat4-interpolate":284}],287:[function(e,t,n){arguments[4][93][0].apply(n,arguments)},{dup:93}],288:[function(e,t,n){"use strict";t.exports=i;var r=e("robust-orientation")[3];function i(e){var t=e.length;if(t<3){for(var n=new Array(t),i=0;i<t;++i)n[i]=i;return 2===t&&e[0][0]===e[1][0]&&e[0][1]===e[1][1]?[0]:n}var a=new Array(t);for(i=0;i<t;++i)a[i]=i;a.sort((function(t,n){var r=e[t][0]-e[n][0];return r||e[t][1]-e[n][1]}));var o=[a[0],a[1]],s=[a[0],a[1]];for(i=2;i<t;++i){for(var l=a[i],u=e[l],c=o.length;c>1&&r(e[o[c-2]],e[o[c-1]],u)<=0;)c-=1,o.pop();for(o.push(l),c=s.length;c>1&&r(e[s[c-2]],e[s[c-1]],u)>=0;)c-=1,s.pop();s.push(l)}n=new Array(s.length+o.length-2);for(var f=0,d=(i=0,o.length);i<d;++i)n[f++]=o[i];for(var h=s.length-2;h>0;--h)n[f++]=s[h];return n}},{"robust-orientation":339}],289:[function(e,t,n){"use strict";t.exports=i;var r=e("mouse-event");function i(e,t){t||(t=e,e=window);var n=0,i=0,a=0,o={shift:!1,alt:!1,control:!1,meta:!1},s=!1;function l(e){var t=!1;return"altKey"in e&&(t=t||e.altKey!==o.alt,o.alt=!!e.altKey),"shiftKey"in e&&(t=t||e.shiftKey!==o.shift,o.shift=!!e.shiftKey),"ctrlKey"in e&&(t=t||e.ctrlKey!==o.control,o.control=!!e.ctrlKey),"metaKey"in e&&(t=t||e.metaKey!==o.meta,o.meta=!!e.metaKey),t}function u(e,s){var u=r.x(s),c=r.y(s);"buttons"in s&&(e=0|s.buttons),(e!==n||u!==i||c!==a||l(s))&&(n=0|e,i=u||0,a=c||0,t&&t(n,i,a,o))}function c(e){u(0,e)}function f(){(n||i||a||o.shift||o.alt||o.meta||o.control)&&(i=a=0,n=0,o.shift=o.alt=o.control=o.meta=!1,t&&t(0,0,0,o))}function d(e){l(e)&&t&&t(n,i,a,o)}function h(e){0===r.buttons(e)?u(0,e):u(n,e)}function p(e){u(n|r.buttons(e),e)}function g(e){u(n&~r.buttons(e),e)}function v(){s||(s=!0,e.addEventListener("mousemove",h),e.addEventListener("mousedown",p),e.addEventListener("mouseup",g),e.addEventListener("mouseleave",c),e.addEventListener("mouseenter",c),e.addEventListener("mouseout",c),e.addEventListener("mouseover",c),e.addEventListener("blur",f),e.addEventListener("keyup",d),e.addEventListener("keydown",d),e.addEventListener("keypress",d),e!==window&&(window.addEventListener("blur",f),window.addEventListener("keyup",d),window.addEventListener("keydown",d),window.addEventListener("keypress",d)))}function m(){s&&(s=!1,e.removeEventListener("mousemove",h),e.removeEventListener("mousedown",p),e.removeEventListener("mouseup",g),e.removeEventListener("mouseleave",c),e.removeEventListener("mouseenter",c),e.removeEventListener("mouseout",c),e.removeEventListener("mouseover",c),e.removeEventListener("blur",f),e.removeEventListener("keyup",d),e.removeEventListener("keydown",d),e.removeEventListener("keypress",d),e!==window&&(window.removeEventListener("blur",f),window.removeEventListener("keyup",d),window.removeEventListener("keydown",d),window.removeEventListener("keypress",d)))}v();var y={element:e};return Object.defineProperties(y,{enabled:{get:function(){return s},set:function(e){e?v():m()},enumerable:!0},buttons:{get:function(){return n},enumerable:!0},x:{get:function(){return i},enumerable:!0},y:{get:function(){return a},enumerable:!0},mods:{get:function(){return o},enumerable:!0}}),y}},{"mouse-event":291}],290:[function(e,t,n){var r={left:0,top:0};function i(e,t,n){t=t||e.currentTarget||e.srcElement,Array.isArray(n)||(n=[0,0]);var r=e.clientX||0,i=e.clientY||0,o=a(t);return n[0]=r-o.left,n[1]=i-o.top,n}function a(e){return e===window||e===document||e===document.body?r:e.getBoundingClientRect()}t.exports=i},{}],291:[function(e,t,n){"use strict";function r(e){if("object"===typeof e){if("buttons"in e)return e.buttons;if("which"in e){if(2===(t=e.which))return 4;if(3===t)return 2;if(t>0)return 1<<t-1}else if("button"in e){var t;if(1===(t=e.button))return 4;if(2===t)return 2;if(t>=0)return 1<<t}}return 0}function i(e){return e.target||e.srcElement||window}function a(e){if("object"===typeof e){if("offsetX"in e)return e.offsetX;var t=i(e).getBoundingClientRect();return e.clientX-t.left}return 0}function o(e){if("object"===typeof e){if("offsetY"in e)return e.offsetY;var t=i(e).getBoundingClientRect();return e.clientY-t.top}return 0}n.buttons=r,n.element=i,n.x=a,n.y=o},{}],292:[function(e,t,n){"use strict";var r=e("to-px");function i(e,t,n){"function"===typeof e&&(n=!!t,t=e,e=window);var i=r("ex",e),a=function(e){n&&e.preventDefault();var r=e.deltaX||0,a=e.deltaY||0,o=e.deltaZ||0,s=1;switch(e.deltaMode){case 1:s=i;break;case 2:s=window.innerHeight}if(a*=s,o*=s,(r*=s)||a||o)return t(r,a,o,e)};return e.addEventListener("wheel",a),a}t.exports=i},{"to-px":361}],293:[function(e,t,n){"use strict";var r=e("typedarray-pool");function i(e){return"a"+e}function a(e){return"d"+e}function o(e,t){return"c"+e+"_"+t}function s(e){return"s"+e}function l(e,t){return"t"+e+"_"+t}function u(e){return"o"+e}function c(e){return"x"+e}function f(e){return"p"+e}function d(e,t){return"d"+e+"_"+t}function h(e){return"i"+e}function p(e,t){return"u"+e+"_"+t}function g(e){return"b"+e}function v(e){return"y"+e}function m(e){return"e"+e}function y(e){return"v"+e}t.exports=E;var b="V",x="P",_="N",w="Q",k="X",M="T";function T(e,t,n){for(var r=0,i=0;i<e;++i)t&1<<i&&(r|=1<<n[i]);return r}function A(e,t,n,A,E,S){var O=S.length,C=E.length;if(C<2)throw new Error("ndarray-extract-contour: Dimension must be at least 2");for(var L="extractContour"+E.join("_"),R=[],P=[],j=[],z=0;z<O;++z)j.push(i(z));for(z=0;z<A;++z)j.push(c(z));for(z=0;z<C;++z)P.push(s(z)+"="+i(0)+".shape["+z+"]|0");for(z=0;z<O;++z){P.push(a(z)+"="+i(z)+".data",u(z)+"="+i(z)+".offset|0");for(var I=0;I<C;++I)P.push(l(z,I)+"="+i(z)+".stride["+I+"]|0")}for(z=0;z<O;++z)for(P.push(f(z)+"="+u(z)),P.push(o(z,0)),I=1;I<1<<C;++I){for(var N=[],D=0;D<C;++D)I&1<<D&&N.push("-"+l(z,D));P.push(d(z,I)+"=("+N.join("")+")|0"),P.push(o(z,I)+"=0")}for(z=0;z<O;++z)for(I=0;I<C;++I){var F=[l(z,E[I])];I>0&&F.push(l(z,E[I-1])+"*"+s(E[I-1])),P.push(p(z,E[I])+"=("+F.join("-")+")|0")}for(z=0;z<C;++z)P.push(h(z)+"=0");P.push(_+"=0");var B=["2"];for(z=C-2;z>=0;--z)B.push(s(E[z]));for(P.push(w+"=("+B.join("*")+")|0",x+"=mallocUint32("+w+")",b+"=mallocUint32("+w+")",k+"=0"),P.push(g(0)+"=0"),I=1;I<1<<C;++I){var U=[],V=[];for(D=0;D<C;++D)I&1<<D&&(0===V.length?U.push("1"):U.unshift(V.join("*"))),V.push(s(E[D]));var H="";U[0].indexOf(s(E[C-2]))<0&&(H="-");var q=T(C,I,E);P.push(m(q)+"=(-"+U.join("-")+")|0",v(q)+"=("+H+U.join("-")+")|0",g(q)+"=0")}function W(e,t){R.push("for(",h(E[e]),"=",t,";",h(E[e]),"<",s(E[e]),";","++",h(E[e]),"){")}function G(e){for(var t=0;t<O;++t)R.push(f(t),"+=",p(t,E[e]),";");R.push("}")}function X(e){for(var t=e-1;t>=0;--t)W(t,0);var n=[];for(t=0;t<O;++t)S[t]?n.push(a(t)+".get("+f(t)+")"):n.push(a(t)+"["+f(t)+"]");for(t=0;t<A;++t)n.push(c(t));for(R.push(x,"[",k,"++]=phase(",n.join(),");"),t=0;t<e;++t)G(t);for(var r=0;r<O;++r)R.push(f(r),"+=",p(r,E[e]),";")}function Y(e){for(var t=0;t<O;++t)S[t]?R.push(o(t,0),"=",a(t),".get(",f(t),");"):R.push(o(t,0),"=",a(t),"[",f(t),"];");var n=[];for(t=0;t<O;++t)n.push(o(t,0));for(t=0;t<A;++t)n.push(c(t));R.push(g(0),"=",x,"[",k,"]=phase(",n.join(),");");for(var r=1;r<1<<C;++r)R.push(g(r),"=",x,"[",k,"+",m(r),"];");var i=[];for(r=1;r<1<<C;++r)i.push("("+g(0)+"!=="+g(r)+")");R.push("if(",i.join("||"),"){");var s=[];for(t=0;t<C;++t)s.push(h(t));for(t=0;t<O;++t)for(s.push(o(t,0)),r=1;r<1<<C;++r)S[t]?R.push(o(t,r),"=",a(t),".get(",f(t),"+",d(t,r),");"):R.push(o(t,r),"=",a(t),"[",f(t),"+",d(t,r),"];"),s.push(o(t,r));for(t=0;t<1<<C;++t)s.push(g(t));for(t=0;t<A;++t)s.push(c(t));R.push("vertex(",s.join(),");",y(0),"=",b,"[",k,"]=",_,"++;");var l=(1<<C)-1,u=g(l);for(r=0;r<C;++r)if(0===(e&~(1<<r))){for(var p=l^1<<r,v=g(p),w=[],M=p;M>0;M=M-1&p)w.push(b+"["+k+"+"+m(M)+"]");for(w.push(y(0)),M=0;M<O;++M)1&r?w.push(o(M,l),o(M,p)):w.push(o(M,p),o(M,l));for(1&r?w.push(u,v):w.push(v,u),M=0;M<A;++M)w.push(c(M));R.push("if(",u,"!==",v,"){","face(",w.join(),")}")}R.push("}",k,"+=1;")}function Z(){for(var e=1;e<1<<C;++e)R.push(M,"=",m(e),";",m(e),"=",v(e),";",v(e),"=",M,";")}function $(e,t){if(e<0)Y(t);else{X(e),R.push("if(",s(E[e]),">0){",h(E[e]),"=1;"),$(e-1,t|1<<E[e]);for(var n=0;n<O;++n)R.push(f(n),"+=",p(n,E[e]),";");e===C-1&&(R.push(k,"=0;"),Z()),W(e,2),$(e-1,t),e===C-1&&(R.push("if(",h(E[C-1]),"&1){",k,"=0;}"),Z()),G(e),R.push("}")}}P.push(y(0)+"=0",M+"=0"),$(C-1,0),R.push("freeUint32(",b,");freeUint32(",x,");");var K=["'use strict';","function ",L,"(",j.join(),"){","var ",P.join(),";",R.join(""),"}","return ",L].join("");return new Function("vertex","face","phase","mallocUint32","freeUint32",K)(e,t,n,r.mallocUint32,r.freeUint32)}function E(e){function t(e){throw new Error("ndarray-extract-contour: "+e)}"object"!==typeof e&&t("Must specify arguments");var n=e.order;Array.isArray(n)||t("Must specify order");var r=e.arrayArguments||1;r<1&&t("Must have at least one array argument");var i=e.scalarArguments||0;i<0&&t("Scalar arg count must be > 0"),"function"!==typeof e.vertex&&t("Must specify vertex creation function"),"function"!==typeof e.cell&&t("Must specify cell creation function"),"function"!==typeof e.phase&&t("Must specify phase function");for(var a=e.getters||[],o=new Array(r),s=0;s<r;++s)a.indexOf(s)>=0?o[s]=!0:o[s]=!1;return A(e.vertex,e.cell,e.phase,i,n,o)}},{"typedarray-pool":366}],294:[function(e,t,n){"use strict";t.exports=d;var r=e("dup"),i=e("cwise-compiler"),a={},o={},s={body:"",args:[],thisVars:[],localVars:[]},l=i({args:["array","array","array"],pre:s,post:s,body:{args:[{name:"out",lvalue:!0,rvalue:!1,count:1},{name:"left",lvalue:!1,rvalue:!0,count:1},{name:"right",lvalue:!1,rvalue:!0,count:1}],body:"out=0.5*(left-right)",thisVars:[],localVars:[]},funcName:"cdiff"}),u=i({args:["array"],pre:s,post:s,body:{args:[{name:"out",lvalue:!0,rvalue:!1,count:1}],body:"out=0",thisVars:[],localVars:[]},funcName:"zero"});function c(e){if(e in a)return a[e];for(var t=[],n=0;n<e;++n)t.push("out",n,"s=0.5*(inp",n,"l-inp",n,"r);");var o=["array"],l=["junk"];for(n=0;n<e;++n){o.push("array"),l.push("out"+n+"s");var u=r(e);u[n]=-1,o.push({array:0,offset:u.slice()}),u[n]=1,o.push({array:0,offset:u.slice()}),l.push("inp"+n+"l","inp"+n+"r")}return a[e]=i({args:o,pre:s,post:s,body:{body:t.join(""),args:l.map((function(e){return{name:e,lvalue:0===e.indexOf("out"),rvalue:0===e.indexOf("inp"),count:"junk"!==e|0}})),thisVars:[],localVars:[]},funcName:"fdTemplate"+e})}function f(e){var t=e.join();if(m=o[t])return m;var n=e.length,r=["function gradient(dst,src){var s=src.shape.slice();"];function i(t){for(var i=n-t.length,a=[],o=[],s=[],l=0;l<n;++l)t.indexOf(l+1)>=0?s.push("0"):t.indexOf(-(l+1))>=0?s.push("s["+l+"]-1"):(s.push("-1"),a.push("1"),o.push("s["+l+"]-2"));var u=".lo("+a.join()+").hi("+o.join()+")";if(0===a.length&&(u=""),i>0){for(r.push("if(1"),l=0;l<n;++l)t.indexOf(l+1)>=0||t.indexOf(-(l+1))>=0||r.push("&&s[",l,"]>2");for(r.push("){grad",i,"(src.pick(",s.join(),")",u),l=0;l<n;++l)t.indexOf(l+1)>=0||t.indexOf(-(l+1))>=0||r.push(",dst.pick(",s.join(),",",l,")",u);r.push(");")}for(l=0;l<t.length;++l){var c=Math.abs(t[l])-1,f="dst.pick("+s.join()+","+c+")"+u;switch(e[c]){case"clamp":var d=s.slice(),h=s.slice();t[l]<0?d[c]="s["+c+"]-2":h[c]="1",0===i?r.push("if(s[",c,"]>1){dst.set(",s.join(),",",c,",0.5*(src.get(",d.join(),")-src.get(",h.join(),")))}else{dst.set(",s.join(),",",c,",0)};"):r.push("if(s[",c,"]>1){diff(",f,",src.pick(",d.join(),")",u,",src.pick(",h.join(),")",u,");}else{zero(",f,");};");break;case"mirror":0===i?r.push("dst.set(",s.join(),",",c,",0);"):r.push("zero(",f,");");break;case"wrap":var p=s.slice(),g=s.slice();t[l]<0?(p[c]="s["+c+"]-2",g[c]="0"):(p[c]="s["+c+"]-1",g[c]="1"),0===i?r.push("if(s[",c,"]>2){dst.set(",s.join(),",",c,",0.5*(src.get(",p.join(),")-src.get(",g.join(),")))}else{dst.set(",s.join(),",",c,",0)};"):r.push("if(s[",c,"]>2){diff(",f,",src.pick(",p.join(),")",u,",src.pick(",g.join(),")",u,");}else{zero(",f,");};");break;default:throw new Error("ndarray-gradient: Invalid boundary condition")}}i>0&&r.push("};")}for(var s=0;s<1<<n;++s){for(var f=[],d=0;d<n;++d)s&1<<d&&f.push(d+1);for(var h=0;h<1<<f.length;++h){var p=f.slice();for(d=0;d<f.length;++d)h&1<<d&&(p[d]=-p[d]);i(p)}}r.push("return dst;};return gradient");var g=["diff","zero"],v=[l,u];for(s=1;s<=n;++s)g.push("grad"+s),v.push(c(s));g.push(r.join(""));var m=Function.apply(void 0,g).apply(void 0,v);return a[t]=m,m}function d(e,t,n){if(Array.isArray(n)){if(n.length!==t.dimension)throw new Error("ndarray-gradient: invalid boundary conditions")}else n=r(t.dimension,"string"===typeof n?n:"clamp");if(e.dimension!==t.dimension+1)throw new Error("ndarray-gradient: output dimension must be +1 input dimension");if(e.shape[t.dimension]!==t.dimension)throw new Error("ndarray-gradient: output shape must match input shape");for(var i=0;i<t.dimension;++i)if(e.shape[i]!==t.shape[i])throw new Error("ndarray-gradient: shape mismatch");return 0===t.size?e:t.dimension<=0?(e.set(0),e):f(n)(e,t)}},{"cwise-compiler":77,dup:87}],295:[function(e,t,n){"use strict";function r(e,t){var n=Math.floor(t),r=t-n,i=0<=n&&n<e.shape[0],a=0<=n+1&&n+1<e.shape[0];return(1-r)*(i?+e.get(n):0)+r*(a?+e.get(n+1):0)}function i(e,t,n){var r=Math.floor(t),i=t-r,a=0<=r&&r<e.shape[0],o=0<=r+1&&r+1<e.shape[0],s=Math.floor(n),l=n-s,u=0<=s&&s<e.shape[1],c=0<=s+1&&s+1<e.shape[1],f=a&&u?e.get(r,s):0,d=a&&c?e.get(r,s+1):0;return(1-l)*((1-i)*f+i*(o&&u?e.get(r+1,s):0))+l*((1-i)*d+i*(o&&c?e.get(r+1,s+1):0))}function a(e,t,n,r){var i=Math.floor(t),a=t-i,o=0<=i&&i<e.shape[0],s=0<=i+1&&i+1<e.shape[0],l=Math.floor(n),u=n-l,c=0<=l&&l<e.shape[1],f=0<=l+1&&l+1<e.shape[1],d=Math.floor(r),h=r-d,p=0<=d&&d<e.shape[2],g=0<=d+1&&d+1<e.shape[2],v=o&&c&&p?e.get(i,l,d):0,m=o&&f&&p?e.get(i,l+1,d):0,y=s&&c&&p?e.get(i+1,l,d):0,b=s&&f&&p?e.get(i+1,l+1,d):0,x=o&&c&&g?e.get(i,l,d+1):0,_=o&&f&&g?e.get(i,l+1,d+1):0;return(1-h)*((1-u)*((1-a)*v+a*y)+u*((1-a)*m+a*b))+h*((1-u)*((1-a)*x+a*(s&&c&&g?e.get(i+1,l,d+1):0))+u*((1-a)*_+a*(s&&f&&g?e.get(i+1,l+1,d+1):0)))}function o(e){var t,n,r=0|e.shape.length,i=new Array(r),a=new Array(r),o=new Array(r),s=new Array(r);for(t=0;t<r;++t)n=+arguments[t+1],i[t]=Math.floor(n),a[t]=n-i[t],o[t]=0<=i[t]&&i[t]<e.shape[t],s[t]=0<=i[t]+1&&i[t]+1<e.shape[t];var l,u,c,f=0;e:for(t=0;t<1<<r;++t){for(u=1,c=e.offset,l=0;l<r;++l)if(t&1<<l){if(!s[l])continue e;u*=a[l],c+=e.stride[l]*(i[l]+1)}else{if(!o[l])continue e;u*=1-a[l],c+=e.stride[l]*i[l]}f+=u*e.data[c]}return f}function s(e,t,n,s){switch(e.shape.length){case 0:return 0;case 1:return r(e,t);case 2:return i(e,t,n);case 3:return a(e,t,n,s);default:return o.apply(void 0,arguments)}}t.exports=s,t.exports.d1=r,t.exports.d2=i,t.exports.d3=a},{}],296:[function(e,t,n){"use strict";var r=e("cwise-compiler"),i={body:"",args:[],thisVars:[],localVars:[]};function a(e){if(!e)return i;for(var t=0;t<e.args.length;++t){var n=e.args[t];e.args[t]=0===t?{name:n,lvalue:!0,rvalue:!!e.rvalue,count:e.count||1}:{name:n,lvalue:!1,rvalue:!0,count:1}}return e.thisVars||(e.thisVars=[]),e.localVars||(e.localVars=[]),e}function o(e){return r({args:e.args,pre:a(e.pre),body:a(e.body),post:a(e.proc),funcName:e.funcName})}function s(e){for(var t=[],n=0;n<e.args.length;++n)t.push("a"+n);return new Function("P",["return function ",e.funcName,"_ndarrayops(",t.join(","),") {P(",t.join(","),");return a0}"].join(""))(o(e))}var l={add:"+",sub:"-",mul:"*",div:"/",mod:"%",band:"&",bor:"|",bxor:"^",lshift:"<<",rshift:">>",rrshift:">>>"};!function(){for(var e in l){var t=l[e];n[e]=s({args:["array","array","array"],body:{args:["a","b","c"],body:"a=b"+t+"c"},funcName:e}),n[e+"eq"]=s({args:["array","array"],body:{args:["a","b"],body:"a"+t+"=b"},rvalue:!0,funcName:e+"eq"}),n[e+"s"]=s({args:["array","array","scalar"],body:{args:["a","b","s"],body:"a=b"+t+"s"},funcName:e+"s"}),n[e+"seq"]=s({args:["array","scalar"],body:{args:["a","s"],body:"a"+t+"=s"},rvalue:!0,funcName:e+"seq"})}}();var u={not:"!",bnot:"~",neg:"-",recip:"1.0/"};!function(){for(var e in u){var t=u[e];n[e]=s({args:["array","array"],body:{args:["a","b"],body:"a="+t+"b"},funcName:e}),n[e+"eq"]=s({args:["array"],body:{args:["a"],body:"a="+t+"a"},rvalue:!0,count:2,funcName:e+"eq"})}}();var c={and:"&&",or:"||",eq:"===",neq:"!==",lt:"<",gt:">",leq:"<=",geq:">="};!function(){for(var e in c){var t=c[e];n[e]=s({args:["array","array","array"],body:{args:["a","b","c"],body:"a=b"+t+"c"},funcName:e}),n[e+"s"]=s({args:["array","array","scalar"],body:{args:["a","b","s"],body:"a=b"+t+"s"},funcName:e+"s"}),n[e+"eq"]=s({args:["array","array"],body:{args:["a","b"],body:"a=a"+t+"b"},rvalue:!0,count:2,funcName:e+"eq"}),n[e+"seq"]=s({args:["array","scalar"],body:{args:["a","s"],body:"a=a"+t+"s"},rvalue:!0,count:2,funcName:e+"seq"})}}();var f=["abs","acos","asin","atan","ceil","cos","exp","floor","log","round","sin","sqrt","tan"];!function(){for(var e=0;e<f.length;++e){var t=f[e];n[t]=s({args:["array","array"],pre:{args:[],body:"this_f=Math."+t,thisVars:["this_f"]},body:{args:["a","b"],body:"a=this_f(b)",thisVars:["this_f"]},funcName:t}),n[t+"eq"]=s({args:["array"],pre:{args:[],body:"this_f=Math."+t,thisVars:["this_f"]},body:{args:["a"],body:"a=this_f(a)",thisVars:["this_f"]},rvalue:!0,count:2,funcName:t+"eq"})}}();var d=["max","min","atan2","pow"];!function(){for(var e=0;e<d.length;++e){var t=d[e];n[t]=s({args:["array","array","array"],pre:{args:[],body:"this_f=Math."+t,thisVars:["this_f"]},body:{args:["a","b","c"],body:"a=this_f(b,c)",thisVars:["this_f"]},funcName:t}),n[t+"s"]=s({args:["array","array","scalar"],pre:{args:[],body:"this_f=Math."+t,thisVars:["this_f"]},body:{args:["a","b","c"],body:"a=this_f(b,c)",thisVars:["this_f"]},funcName:t+"s"}),n[t+"eq"]=s({args:["array","array"],pre:{args:[],body:"this_f=Math."+t,thisVars:["this_f"]},body:{args:["a","b"],body:"a=this_f(a,b)",thisVars:["this_f"]},rvalue:!0,count:2,funcName:t+"eq"}),n[t+"seq"]=s({args:["array","scalar"],pre:{args:[],body:"this_f=Math."+t,thisVars:["this_f"]},body:{args:["a","b"],body:"a=this_f(a,b)",thisVars:["this_f"]},rvalue:!0,count:2,funcName:t+"seq"})}}();var h=["atan2","pow"];!function(){for(var e=0;e<h.length;++e){var t=h[e];n[t+"op"]=s({args:["array","array","array"],pre:{args:[],body:"this_f=Math."+t,thisVars:["this_f"]},body:{args:["a","b","c"],body:"a=this_f(c,b)",thisVars:["this_f"]},funcName:t+"op"}),n[t+"ops"]=s({args:["array","array","scalar"],pre:{args:[],body:"this_f=Math."+t,thisVars:["this_f"]},body:{args:["a","b","c"],body:"a=this_f(c,b)",thisVars:["this_f"]},funcName:t+"ops"}),n[t+"opeq"]=s({args:["array","array"],pre:{args:[],body:"this_f=Math."+t,thisVars:["this_f"]},body:{args:["a","b"],body:"a=this_f(b,a)",thisVars:["this_f"]},rvalue:!0,count:2,funcName:t+"opeq"}),n[t+"opseq"]=s({args:["array","scalar"],pre:{args:[],body:"this_f=Math."+t,thisVars:["this_f"]},body:{args:["a","b"],body:"a=this_f(b,a)",thisVars:["this_f"]},rvalue:!0,count:2,funcName:t+"opseq"})}}(),n.any=r({args:["array"],pre:i,body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:1}],body:"if(a){return true}",localVars:[],thisVars:[]},post:{args:[],localVars:[],thisVars:[],body:"return false"},funcName:"any"}),n.all=r({args:["array"],pre:i,body:{args:[{name:"x",lvalue:!1,rvalue:!0,count:1}],body:"if(!x){return false}",localVars:[],thisVars:[]},post:{args:[],localVars:[],thisVars:[],body:"return true"},funcName:"all"}),n.sum=r({args:["array"],pre:{args:[],localVars:[],thisVars:["this_s"],body:"this_s=0"},body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:1}],body:"this_s+=a",localVars:[],thisVars:["this_s"]},post:{args:[],localVars:[],thisVars:["this_s"],body:"return this_s"},funcName:"sum"}),n.prod=r({args:["array"],pre:{args:[],localVars:[],thisVars:["this_s"],body:"this_s=1"},body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:1}],body:"this_s*=a",localVars:[],thisVars:["this_s"]},post:{args:[],localVars:[],thisVars:["this_s"],body:"return this_s"},funcName:"prod"}),n.norm2squared=r({args:["array"],pre:{args:[],localVars:[],thisVars:["this_s"],body:"this_s=0"},body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:2}],body:"this_s+=a*a",localVars:[],thisVars:["this_s"]},post:{args:[],localVars:[],thisVars:["this_s"],body:"return this_s"},funcName:"norm2squared"}),n.norm2=r({args:["array"],pre:{args:[],localVars:[],thisVars:["this_s"],body:"this_s=0"},body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:2}],body:"this_s+=a*a",localVars:[],thisVars:["this_s"]},post:{args:[],localVars:[],thisVars:["this_s"],body:"return Math.sqrt(this_s)"},funcName:"norm2"}),n.norminf=r({args:["array"],pre:{args:[],localVars:[],thisVars:["this_s"],body:"this_s=0"},body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:4}],body:"if(-a>this_s){this_s=-a}else if(a>this_s){this_s=a}",localVars:[],thisVars:["this_s"]},post:{args:[],localVars:[],thisVars:["this_s"],body:"return this_s"},funcName:"norminf"}),n.norm1=r({args:["array"],pre:{args:[],localVars:[],thisVars:["this_s"],body:"this_s=0"},body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:3}],body:"this_s+=a<0?-a:a",localVars:[],thisVars:["this_s"]},post:{args:[],localVars:[],thisVars:["this_s"],body:"return this_s"},funcName:"norm1"}),n.sup=r({args:["array"],pre:{body:"this_h=-Infinity",args:[],thisVars:["this_h"],localVars:[]},body:{body:"if(_inline_1_arg0_>this_h)this_h=_inline_1_arg0_",args:[{name:"_inline_1_arg0_",lvalue:!1,rvalue:!0,count:2}],thisVars:["this_h"],localVars:[]},post:{body:"return this_h",args:[],thisVars:["this_h"],localVars:[]}}),n.inf=r({args:["array"],pre:{body:"this_h=Infinity",args:[],thisVars:["this_h"],localVars:[]},body:{body:"if(_inline_1_arg0_<this_h)this_h=_inline_1_arg0_",args:[{name:"_inline_1_arg0_",lvalue:!1,rvalue:!0,count:2}],thisVars:["this_h"],localVars:[]},post:{body:"return this_h",args:[],thisVars:["this_h"],localVars:[]}}),n.argmin=r({args:["index","array","shape"],pre:{body:"{this_v=Infinity;this_i=_inline_0_arg2_.slice(0)}",args:[{name:"_inline_0_arg0_",lvalue:!1,rvalue:!1,count:0},{name:"_inline_0_arg1_",lvalue:!1,rvalue:!1,count:0},{name:"_inline_0_arg2_",lvalue:!1,rvalue:!0,count:1}],thisVars:["this_i","this_v"],localVars:[]},body:{body:"{if(_inline_1_arg1_<this_v){this_v=_inline_1_arg1_;for(var _inline_1_k=0;_inline_1_k<_inline_1_arg0_.length;++_inline_1_k){this_i[_inline_1_k]=_inline_1_arg0_[_inline_1_k]}}}",args:[{name:"_inline_1_arg0_",lvalue:!1,rvalue:!0,count:2},{name:"_inline_1_arg1_",lvalue:!1,rvalue:!0,count:2}],thisVars:["this_i","this_v"],localVars:["_inline_1_k"]},post:{body:"{return this_i}",args:[],thisVars:["this_i"],localVars:[]}}),n.argmax=r({args:["index","array","shape"],pre:{body:"{this_v=-Infinity;this_i=_inline_0_arg2_.slice(0)}",args:[{name:"_inline_0_arg0_",lvalue:!1,rvalue:!1,count:0},{name:"_inline_0_arg1_",lvalue:!1,rvalue:!1,count:0},{name:"_inline_0_arg2_",lvalue:!1,rvalue:!0,count:1}],thisVars:["this_i","this_v"],localVars:[]},body:{body:"{if(_inline_1_arg1_>this_v){this_v=_inline_1_arg1_;for(var _inline_1_k=0;_inline_1_k<_inline_1_arg0_.length;++_inline_1_k){this_i[_inline_1_k]=_inline_1_arg0_[_inline_1_k]}}}",args:[{name:"_inline_1_arg0_",lvalue:!1,rvalue:!0,count:2},{name:"_inline_1_arg1_",lvalue:!1,rvalue:!0,count:2}],thisVars:["this_i","this_v"],localVars:["_inline_1_k"]},post:{body:"{return this_i}",args:[],thisVars:["this_i"],localVars:[]}}),n.random=s({args:["array"],pre:{args:[],body:"this_f=Math.random",thisVars:["this_f"]},body:{args:["a"],body:"a=this_f()",thisVars:["this_f"]},funcName:"random"}),n.assign=s({args:["array","array"],body:{args:["a","b"],body:"a=b"},funcName:"assign"}),n.assigns=s({args:["array","scalar"],body:{args:["a","b"],body:"a=b"},funcName:"assigns"}),n.equals=r({args:["array","array"],pre:i,body:{args:[{name:"x",lvalue:!1,rvalue:!0,count:1},{name:"y",lvalue:!1,rvalue:!0,count:1}],body:"if(x!==y){return false}",localVars:[],thisVars:[]},post:{args:[],localVars:[],thisVars:[],body:"return true"},funcName:"equals"})},{"cwise-compiler":77}],297:[function(e,t,n){"use strict";var r=e("ndarray"),i=e("./doConvert.js");t.exports=function(e,t){for(var n=[],a=e,o=1;Array.isArray(a);)n.push(a.length),o*=a.length,a=a[0];return 0===n.length?r():(t||(t=r(new Float64Array(o),n)),i(t,e),t)}},{"./doConvert.js":298,ndarray:301}],298:[function(e,t,n){t.exports=e("cwise-compiler")({args:["array","scalar","index"],pre:{body:"{}",args:[],thisVars:[],localVars:[]},body:{body:"{\nvar _inline_1_v=_inline_1_arg1_,_inline_1_i\nfor(_inline_1_i=0;_inline_1_i<_inline_1_arg2_.length-1;++_inline_1_i) {\n_inline_1_v=_inline_1_v[_inline_1_arg2_[_inline_1_i]]\n}\n_inline_1_arg0_=_inline_1_v[_inline_1_arg2_[_inline_1_arg2_.length-1]]\n}",args:[{name:"_inline_1_arg0_",lvalue:!0,rvalue:!1,count:1},{name:"_inline_1_arg1_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_1_arg2_",lvalue:!1,rvalue:!0,count:4}],thisVars:[],localVars:["_inline_1_i","_inline_1_v"]},post:{body:"{}",args:[],thisVars:[],localVars:[]},funcName:"convert",blockSize:64})},{"cwise-compiler":77}],299:[function(e,t,n){"use strict";var r=e("typedarray-pool"),i=32;function a(e){switch(e){case"uint8":return[r.mallocUint8,r.freeUint8];case"uint16":return[r.mallocUint16,r.freeUint16];case"uint32":return[r.mallocUint32,r.freeUint32];case"int8":return[r.mallocInt8,r.freeInt8];case"int16":return[r.mallocInt16,r.freeInt16];case"int32":return[r.mallocInt32,r.freeInt32];case"float32":return[r.mallocFloat,r.freeFloat];case"float64":return[r.mallocDouble,r.freeDouble];default:return null}}function o(e){for(var t=[],n=0;n<e;++n)t.push("s"+n);for(n=0;n<e;++n)t.push("n"+n);for(n=1;n<e;++n)t.push("d"+n);for(n=1;n<e;++n)t.push("e"+n);for(n=1;n<e;++n)t.push("f"+n);return t}function s(e,t){var n=["'use strict'"],r=["ndarrayInsertionSort",e.join("d"),t].join(""),i=["left","right","data","offset"].concat(o(e.length)),s=a(t),l=["i,j,cptr,ptr=left*s0+offset"];if(e.length>1){for(var u=[],c=1;c<e.length;++c)l.push("i"+c),u.push("n"+c);s?l.push("scratch=malloc("+u.join("*")+")"):l.push("scratch=new Array("+u.join("*")+")"),l.push("dptr","sptr","a","b")}else l.push("scratch");function f(e){return"generic"===t?["data.get(",e,")"].join(""):["data[",e,"]"].join("")}function d(e,n){return"generic"===t?["data.set(",e,",",n,")"].join(""):["data[",e,"]=",n].join("")}if(n.push(["function ",r,"(",i.join(","),"){var ",l.join(",")].join(""),"for(i=left+1;i<=right;++i){","j=i;ptr+=s0","cptr=ptr"),e.length>1){for(n.push("dptr=0;sptr=ptr"),c=e.length-1;c>=0;--c)0!==(h=e[c])&&n.push(["for(i",h,"=0;i",h,"<n",h,";++i",h,"){"].join(""));for(n.push("scratch[dptr++]=",f("sptr")),c=0;c<e.length;++c)0!==(h=e[c])&&n.push("sptr+=d"+h,"}");for(n.push("__g:while(j--\x3eleft){","dptr=0","sptr=cptr-s0"),c=1;c<e.length;++c)1===c&&n.push("__l:"),n.push(["for(i",c,"=0;i",c,"<n",c,";++i",c,"){"].join(""));for(n.push(["a=",f("sptr"),"\nb=scratch[dptr]\nif(a<b){break __g}\nif(a>b){break __l}"].join("")),c=e.length-1;c>=1;--c)n.push("sptr+=e"+c,"dptr+=f"+c,"}");for(n.push("dptr=cptr;sptr=cptr-s0"),c=e.length-1;c>=0;--c)0!==(h=e[c])&&n.push(["for(i",h,"=0;i",h,"<n",h,";++i",h,"){"].join(""));for(n.push(d("dptr",f("sptr"))),c=0;c<e.length;++c)0!==(h=e[c])&&n.push(["dptr+=d",h,";sptr+=d",h].join(""),"}");for(n.push("cptr-=s0\n}"),n.push("dptr=cptr;sptr=0"),c=e.length-1;c>=0;--c)0!==(h=e[c])&&n.push(["for(i",h,"=0;i",h,"<n",h,";++i",h,"){"].join(""));for(n.push(d("dptr","scratch[sptr++]")),c=0;c<e.length;++c){var h;0!==(h=e[c])&&n.push("dptr+=d"+h,"}")}}else n.push("scratch="+f("ptr"),"while((j--\x3eleft)&&("+f("cptr-s0")+">scratch)){",d("cptr",f("cptr-s0")),"cptr-=s0","}",d("cptr","scratch"));return n.push("}"),e.length>1&&s&&n.push("free(scratch)"),n.push("} return "+r),s?new Function("malloc","free",n.join("\n"))(s[0],s[1]):new Function(n.join("\n"))()}function l(e,t,n){var r=["'use strict'"],s=["ndarrayQuickSort",e.join("d"),t].join(""),l=["left","right","data","offset"].concat(o(e.length)),u=a(t),c=0;r.push(["function ",s,"(",l.join(","),"){"].join(""));var f=["sixth=((right-left+1)/6)|0","index1=left+sixth","index5=right-sixth","index3=(left+right)>>1","index2=index3-sixth","index4=index3+sixth","el1=index1","el2=index2","el3=index3","el4=index4","el5=index5","less=left+1","great=right-1","pivots_are_equal=true","tmp","tmp0","x","y","z","k","ptr0","ptr1","ptr2","comp_pivot1=0","comp_pivot2=0","comp=0"];if(e.length>1){for(var d=[],h=1;h<e.length;++h)d.push("n"+h),f.push("i"+h);for(h=0;h<8;++h)f.push("b_ptr"+h);f.push("ptr3","ptr4","ptr5","ptr6","ptr7","pivot_ptr","ptr_shift","elementSize="+d.join("*")),u?f.push("pivot1=malloc(elementSize)","pivot2=malloc(elementSize)"):f.push("pivot1=new Array(elementSize),pivot2=new Array(elementSize)")}else f.push("pivot1","pivot2");function p(e){return["(offset+",e,"*s0)"].join("")}function g(e){return"generic"===t?["data.get(",e,")"].join(""):["data[",e,"]"].join("")}function v(e,n){return"generic"===t?["data.set(",e,",",n,")"].join(""):["data[",e,"]=",n].join("")}function m(t,n,i){if(1===t.length)r.push("ptr0="+p(t[0]));else for(var a=0;a<t.length;++a)r.push(["b_ptr",a,"=s0*",t[a]].join(""));for(n&&r.push("pivot_ptr=0"),r.push("ptr_shift=offset"),a=e.length-1;a>=0;--a)0!==(o=e[a])&&r.push(["for(i",o,"=0;i",o,"<n",o,";++i",o,"){"].join(""));if(t.length>1)for(a=0;a<t.length;++a)r.push(["ptr",a,"=b_ptr",a,"+ptr_shift"].join(""));for(r.push(i),n&&r.push("++pivot_ptr"),a=0;a<e.length;++a){var o;0!==(o=e[a])&&(t.length>1?r.push("ptr_shift+=d"+o):r.push("ptr0+=d"+o),r.push("}"))}}function y(t,n,i,a){if(1===n.length)r.push("ptr0="+p(n[0]));else{for(var o=0;o<n.length;++o)r.push(["b_ptr",o,"=s0*",n[o]].join(""));r.push("ptr_shift=offset")}for(i&&r.push("pivot_ptr=0"),t&&r.push(t+":"),o=1;o<e.length;++o)r.push(["for(i",o,"=0;i",o,"<n",o,";++i",o,"){"].join(""));if(n.length>1)for(o=0;o<n.length;++o)r.push(["ptr",o,"=b_ptr",o,"+ptr_shift"].join(""));for(r.push(a),o=e.length-1;o>=1;--o)i&&r.push("pivot_ptr+=f"+o),n.length>1?r.push("ptr_shift+=e"+o):r.push("ptr0+=e"+o),r.push("}")}function b(){e.length>1&&u&&r.push("free(pivot1)","free(pivot2)")}function x(t,n){var i="el"+t,a="el"+n;if(e.length>1){var o="__l"+ ++c;y(o,[i,a],!1,["comp=",g("ptr0"),"-",g("ptr1"),"\n","if(comp>0){tmp0=",i,";",i,"=",a,";",a,"=tmp0;break ",o,"}\n","if(comp<0){break ",o,"}"].join(""))}else r.push(["if(",g(p(i)),">",g(p(a)),"){tmp0=",i,";",i,"=",a,";",a,"=tmp0}"].join(""))}function _(t,n){e.length>1?m([t,n],!1,v("ptr0",g("ptr1"))):r.push(v(p(t),g(p(n))))}function w(t,n,i){if(e.length>1){var a="__l"+ ++c;y(a,[n],!0,[t,"=",g("ptr0"),"-pivot",i,"[pivot_ptr]\n","if(",t,"!==0){break ",a,"}"].join(""))}else r.push([t,"=",g(p(n)),"-pivot",i].join(""))}function k(t,n){e.length>1?m([t,n],!1,["tmp=",g("ptr0"),"\n",v("ptr0",g("ptr1")),"\n",v("ptr1","tmp")].join("")):r.push(["ptr0=",p(t),"\n","ptr1=",p(n),"\n","tmp=",g("ptr0"),"\n",v("ptr0",g("ptr1")),"\n",v("ptr1","tmp")].join(""))}function M(t,n,i){e.length>1?(m([t,n,i],!1,["tmp=",g("ptr0"),"\n",v("ptr0",g("ptr1")),"\n",v("ptr1",g("ptr2")),"\n",v("ptr2","tmp")].join("")),r.push("++"+n,"--"+i)):r.push(["ptr0=",p(t),"\n","ptr1=",p(n),"\n","ptr2=",p(i),"\n","++",n,"\n","--",i,"\n","tmp=",g("ptr0"),"\n",v("ptr0",g("ptr1")),"\n",v("ptr1",g("ptr2")),"\n",v("ptr2","tmp")].join(""))}function T(e,t){k(e,t),r.push("--"+t)}function A(t,n,i){e.length>1?m([t,n],!0,[v("ptr0",g("ptr1")),"\n",v("ptr1",["pivot",i,"[pivot_ptr]"].join(""))].join("")):r.push(v(p(t),g(p(n))),v(p(n),"pivot"+i))}function E(t,n){r.push(["if((",n,"-",t,")<=",i,"){\n","insertionSort(",t,",",n,",data,offset,",o(e.length).join(","),")\n","}else{\n",s,"(",t,",",n,",data,offset,",o(e.length).join(","),")\n","}"].join(""))}function S(t,n,i){e.length>1?(r.push(["__l",++c,":while(true){"].join("")),m([t],!0,["if(",g("ptr0"),"!==pivot",n,"[pivot_ptr]){break __l",c,"}"].join("")),r.push(i,"}")):r.push(["while(",g(p(t)),"===pivot",n,"){",i,"}"].join(""))}return r.push("var "+f.join(",")),x(1,2),x(4,5),x(1,3),x(2,3),x(1,4),x(3,4),x(2,5),x(2,3),x(4,5),e.length>1?m(["el1","el2","el3","el4","el5","index1","index3","index5"],!0,["pivot1[pivot_ptr]=",g("ptr1"),"\n","pivot2[pivot_ptr]=",g("ptr3"),"\n","pivots_are_equal=pivots_are_equal&&(pivot1[pivot_ptr]===pivot2[pivot_ptr])\n","x=",g("ptr0"),"\n","y=",g("ptr2"),"\n","z=",g("ptr4"),"\n",v("ptr5","x"),"\n",v("ptr6","y"),"\n",v("ptr7","z")].join("")):r.push(["pivot1=",g(p("el2")),"\n","pivot2=",g(p("el4")),"\n","pivots_are_equal=pivot1===pivot2\n","x=",g(p("el1")),"\n","y=",g(p("el3")),"\n","z=",g(p("el5")),"\n",v(p("index1"),"x"),"\n",v(p("index3"),"y"),"\n",v(p("index5"),"z")].join("")),_("index2","left"),_("index4","right"),r.push("if(pivots_are_equal){"),r.push("for(k=less;k<=great;++k){"),w("comp","k",1),r.push("if(comp===0){continue}"),r.push("if(comp<0){"),r.push("if(k!==less){"),k("k","less"),r.push("}"),r.push("++less"),r.push("}else{"),r.push("while(true){"),w("comp","great",1),r.push("if(comp>0){"),r.push("great--"),r.push("}else if(comp<0){"),M("k","less","great"),r.push("break"),r.push("}else{"),T("k","great"),r.push("break"),r.push("}"),r.push("}"),r.push("}"),r.push("}"),r.push("}else{"),r.push("for(k=less;k<=great;++k){"),w("comp_pivot1","k",1),r.push("if(comp_pivot1<0){"),r.push("if(k!==less){"),k("k","less"),r.push("}"),r.push("++less"),r.push("}else{"),w("comp_pivot2","k",2),r.push("if(comp_pivot2>0){"),r.push("while(true){"),w("comp","great",2),r.push("if(comp>0){"),r.push("if(--great<k){break}"),r.push("continue"),r.push("}else{"),w("comp","great",1),r.push("if(comp<0){"),M("k","less","great"),r.push("}else{"),T("k","great"),r.push("}"),r.push("break"),r.push("}"),r.push("}"),r.push("}"),r.push("}"),r.push("}"),r.push("}"),A("left","(less-1)",1),A("right","(great+1)",2),E("left","(less-2)"),E("(great+2)","right"),r.push("if(pivots_are_equal){"),b(),r.push("return"),r.push("}"),r.push("if(less<index1&&great>index5){"),S("less",1,"++less"),S("great",2,"--great"),r.push("for(k=less;k<=great;++k){"),w("comp_pivot1","k",1),r.push("if(comp_pivot1===0){"),r.push("if(k!==less){"),k("k","less"),r.push("}"),r.push("++less"),r.push("}else{"),w("comp_pivot2","k",2),r.push("if(comp_pivot2===0){"),r.push("while(true){"),w("comp","great",2),r.push("if(comp===0){"),r.push("if(--great<k){break}"),r.push("continue"),r.push("}else{"),w("comp","great",1),r.push("if(comp<0){"),M("k","less","great"),r.push("}else{"),T("k","great"),r.push("}"),r.push("break"),r.push("}"),r.push("}"),r.push("}"),r.push("}"),r.push("}"),r.push("}"),b(),E("less","great"),r.push("}return "+s),e.length>1&&u?new Function("insertionSort","malloc","free",r.join("\n"))(n,u[0],u[1]):new Function("insertionSort",r.join("\n"))(n)}function u(e,t){var n=["'use strict'"],r=["ndarraySortWrapper",e.join("d"),t].join(""),a=["array"];n.push(["function ",r,"(",a.join(","),"){"].join(""));for(var u=["data=array.data,offset=array.offset|0,shape=array.shape,stride=array.stride"],c=0;c<e.length;++c)u.push(["s",c,"=stride[",c,"]|0,n",c,"=shape[",c,"]|0"].join(""));var f=new Array(e.length),d=[];for(c=0;c<e.length;++c)0!==(g=e[c])&&(0===d.length?f[g]="1":f[g]=d.join("*"),d.push("n"+g));var h=-1,p=-1;for(c=0;c<e.length;++c){var g,v=e[c];0!==v&&(h>0?u.push(["d",v,"=s",v,"-d",h,"*n",h].join("")):u.push(["d",v,"=s",v].join("")),h=v),0!==(g=e.length-1-c)&&(p>0?u.push(["e",g,"=s",g,"-e",p,"*n",p,",f",g,"=",f[g],"-f",p,"*n",p].join("")):u.push(["e",g,"=s",g,",f",g,"=",f[g]].join("")),p=g)}n.push("var "+u.join(","));var m=["0","n0-1","data","offset"].concat(o(e.length));n.push(["if(n0<=",i,"){","insertionSort(",m.join(","),")}else{","quickSort(",m.join(","),")}"].join("")),n.push("}return "+r);var y=new Function("insertionSort","quickSort",n.join("\n")),b=s(e,t);return y(b,l(e,t,b))}t.exports=u},{"typedarray-pool":366}],300:[function(e,t,n){"use strict";var r=e("./lib/compile_sort.js"),i={};function a(e){var t=e.order,n=e.dtype,a=[t,n].join(":"),o=i[a];return o||(i[a]=o=r(t,n)),o(e),e}t.exports=a},{"./lib/compile_sort.js":299}],301:[function(e,t,n){var r=e("iota-array"),i=e("is-buffer"),a="undefined"!==typeof Float64Array;function o(e,t){return e[0]-t[0]}function s(){var e,t=this.stride,n=new Array(t.length);for(e=0;e<n.length;++e)n[e]=[Math.abs(t[e]),e];n.sort(o);var r=new Array(n.length);for(e=0;e<r.length;++e)r[e]=n[e][1];return r}function l(e,t){var n=["View",t,"d",e].join("");t<0&&(n="View_Nil"+e);var i="generic"===e;if(-1===t){var a="function "+n+"(a){this.data=a;};var proto="+n+".prototype;proto.dtype='"+e+"';proto.index=function(){return -1};proto.size=0;proto.dimension=-1;proto.shape=proto.stride=proto.order=[];proto.lo=proto.hi=proto.transpose=proto.step=function(){return new "+n+"(this.data);};proto.get=proto.set=function(){};proto.pick=function(){return null};return function construct_"+n+"(a){return new "+n+"(a);}";return new Function(a)()}if(0===t)return a="function "+n+"(a,d) {this.data = a;this.offset = d};var proto="+n+".prototype;proto.dtype='"+e+"';proto.index=function(){return this.offset};proto.dimension=0;proto.size=1;proto.shape=proto.stride=proto.order=[];proto.lo=proto.hi=proto.transpose=proto.step=function "+n+"_copy() {return new "+n+"(this.data,this.offset)};proto.pick=function "+n+"_pick(){return TrivialArray(this.data);};proto.valueOf=proto.get=function "+n+"_get(){return "+(i?"this.data.get(this.offset)":"this.data[this.offset]")+"};proto.set=function "+n+"_set(v){return "+(i?"this.data.set(this.offset,v)":"this.data[this.offset]=v")+"};return function construct_"+n+"(a,b,c,d){return new "+n+"(a,d)}",new Function("TrivialArray",a)(c[e][0]);a=["'use strict'"];var o=r(t),l=o.map((function(e){return"i"+e})),u="this.offset+"+o.map((function(e){return"this.stride["+e+"]*i"+e})).join("+"),f=o.map((function(e){return"b"+e})).join(","),d=o.map((function(e){return"c"+e})).join(",");a.push("function "+n+"(a,"+f+","+d+",d){this.data=a","this.shape=["+f+"]","this.stride=["+d+"]","this.offset=d|0}","var proto="+n+".prototype","proto.dtype='"+e+"'","proto.dimension="+t),a.push("Object.defineProperty(proto,'size',{get:function "+n+"_size(){return "+o.map((function(e){return"this.shape["+e+"]"})).join("*"),"}})"),1===t?a.push("proto.order=[0]"):(a.push("Object.defineProperty(proto,'order',{get:"),t<4?(a.push("function "+n+"_order(){"),2===t?a.push("return (Math.abs(this.stride[0])>Math.abs(this.stride[1]))?[1,0]:[0,1]}})"):3===t&&a.push("var s0=Math.abs(this.stride[0]),s1=Math.abs(this.stride[1]),s2=Math.abs(this.stride[2]);if(s0>s1){if(s1>s2){return [2,1,0];}else if(s0>s2){return [1,2,0];}else{return [1,0,2];}}else if(s0>s2){return [2,0,1];}else if(s2>s1){return [0,1,2];}else{return [0,2,1];}}})")):a.push("ORDER})")),a.push("proto.set=function "+n+"_set("+l.join(",")+",v){"),i?a.push("return this.data.set("+u+",v)}"):a.push("return this.data["+u+"]=v}"),a.push("proto.get=function "+n+"_get("+l.join(",")+"){"),i?a.push("return this.data.get("+u+")}"):a.push("return this.data["+u+"]}"),a.push("proto.index=function "+n+"_index(",l.join(),"){return "+u+"}"),a.push("proto.hi=function "+n+"_hi("+l.join(",")+"){return new "+n+"(this.data,"+o.map((function(e){return["(typeof i",e,"!=='number'||i",e,"<0)?this.shape[",e,"]:i",e,"|0"].join("")})).join(",")+","+o.map((function(e){return"this.stride["+e+"]"})).join(",")+",this.offset)}");var h=o.map((function(e){return"a"+e+"=this.shape["+e+"]"})),p=o.map((function(e){return"c"+e+"=this.stride["+e+"]"}));a.push("proto.lo=function "+n+"_lo("+l.join(",")+"){var b=this.offset,d=0,"+h.join(",")+","+p.join(","));for(var g=0;g<t;++g)a.push("if(typeof i"+g+"==='number'&&i"+g+">=0){d=i"+g+"|0;b+=c"+g+"*d;a"+g+"-=d}");for(a.push("return new "+n+"(this.data,"+o.map((function(e){return"a"+e})).join(",")+","+o.map((function(e){return"c"+e})).join(",")+",b)}"),a.push("proto.step=function "+n+"_step("+l.join(",")+"){var "+o.map((function(e){return"a"+e+"=this.shape["+e+"]"})).join(",")+","+o.map((function(e){return"b"+e+"=this.stride["+e+"]"})).join(",")+",c=this.offset,d=0,ceil=Math.ceil"),g=0;g<t;++g)a.push("if(typeof i"+g+"==='number'){d=i"+g+"|0;if(d<0){c+=b"+g+"*(a"+g+"-1);a"+g+"=ceil(-a"+g+"/d)}else{a"+g+"=ceil(a"+g+"/d)}b"+g+"*=d}");a.push("return new "+n+"(this.data,"+o.map((function(e){return"a"+e})).join(",")+","+o.map((function(e){return"b"+e})).join(",")+",c)}");var v=new Array(t),m=new Array(t);for(g=0;g<t;++g)v[g]="a[i"+g+"]",m[g]="b[i"+g+"]";for(a.push("proto.transpose=function "+n+"_transpose("+l+"){"+l.map((function(e,t){return e+"=("+e+"===undefined?"+t+":"+e+"|0)"})).join(";"),"var a=this.shape,b=this.stride;return new "+n+"(this.data,"+v.join(",")+","+m.join(",")+",this.offset)}"),a.push("proto.pick=function "+n+"_pick("+l+"){var a=[],b=[],c=this.offset"),g=0;g<t;++g)a.push("if(typeof i"+g+"==='number'&&i"+g+">=0){c=(c+this.stride["+g+"]*i"+g+")|0}else{a.push(this.shape["+g+"]);b.push(this.stride["+g+"])}");return a.push("var ctor=CTOR_LIST[a.length+1];return ctor(this.data,a,b,c)}"),a.push("return function construct_"+n+"(data,shape,stride,offset){return new "+n+"(data,"+o.map((function(e){return"shape["+e+"]"})).join(",")+","+o.map((function(e){return"stride["+e+"]"})).join(",")+",offset)}"),new Function("CTOR_LIST","ORDER",a.join("\n"))(c[e],s)}function u(e){if(i(e))return"buffer";if(a)switch(Object.prototype.toString.call(e)){case"[object Float64Array]":return"float64";case"[object Float32Array]":return"float32";case"[object Int8Array]":return"int8";case"[object Int16Array]":return"int16";case"[object Int32Array]":return"int32";case"[object Uint8Array]":return"uint8";case"[object Uint16Array]":return"uint16";case"[object Uint32Array]":return"uint32";case"[object Uint8ClampedArray]":return"uint8_clamped";case"[object BigInt64Array]":return"bigint64";case"[object BigUint64Array]":return"biguint64"}return Array.isArray(e)?"array":"generic"}var c={float32:[],float64:[],int8:[],int16:[],int32:[],uint8:[],uint16:[],uint32:[],array:[],uint8_clamped:[],bigint64:[],biguint64:[],buffer:[],generic:[]};function f(e,t,n,r){if(void 0===e)return(0,c.array[0])([]);"number"===typeof e&&(e=[e]),void 0===t&&(t=[e.length]);var i=t.length;if(void 0===n){n=new Array(i);for(var a=i-1,o=1;a>=0;--a)n[a]=o,o*=t[a]}if(void 0===r)for(r=0,a=0;a<i;++a)n[a]<0&&(r-=(t[a]-1)*n[a]);for(var s=u(e),f=c[s];f.length<=i+1;)f.push(l(s,f.length-1));return(0,f[i+1])(e,t,n,r)}t.exports=f},{"iota-array":274,"is-buffer":276}],302:[function(e,t,n){"use strict";var r=e("double-bits"),i=Math.pow(2,-1074),a=-1>>>0;function o(e,t){if(isNaN(e)||isNaN(t))return NaN;if(e===t)return e;if(0===e)return t<0?-i:i;var n=r.hi(e),o=r.lo(e);return t>e===e>0?o===a?(n+=1,o=0):o+=1:0===o?(o=a,n-=1):o-=1,r.pack(o,n)}t.exports=o},{"double-bits":85}],303:[function(e,t,n){var r=1e-6,i=1e-6;n.vertexNormals=function(e,t,n){for(var i=t.length,a=new Array(i),o=void 0===n?r:n,s=0;s<i;++s)a[s]=[0,0,0];for(s=0;s<e.length;++s)for(var l=e[s],u=0,c=l[l.length-1],f=l[0],d=0;d<l.length;++d){u=c,c=f,f=l[(d+1)%l.length];for(var h=t[u],p=t[c],g=t[f],v=new Array(3),m=0,y=new Array(3),b=0,x=0;x<3;++x)v[x]=h[x]-p[x],m+=v[x]*v[x],y[x]=g[x]-p[x],b+=y[x]*y[x];if(m*b>o){var _=a[c],w=1/Math.sqrt(m*b);for(x=0;x<3;++x){var k=(x+1)%3,M=(x+2)%3;_[x]+=w*(y[k]*v[M]-y[M]*v[k])}}}for(s=0;s<i;++s){_=a[s];var T=0;for(x=0;x<3;++x)T+=_[x]*_[x];if(T>o)for(w=1/Math.sqrt(T),x=0;x<3;++x)_[x]*=w;else for(x=0;x<3;++x)_[x]=0}return a},n.faceNormals=function(e,t,n){for(var r=e.length,a=new Array(r),o=void 0===n?i:n,s=0;s<r;++s){for(var l=e[s],u=new Array(3),c=0;c<3;++c)u[c]=t[l[c]];var f=new Array(3),d=new Array(3);for(c=0;c<3;++c)f[c]=u[1][c]-u[0][c],d[c]=u[2][c]-u[0][c];var h=new Array(3),p=0;for(c=0;c<3;++c){var g=(c+1)%3,v=(c+2)%3;h[c]=f[g]*d[v]-f[v]*d[g],p+=h[c]*h[c]}for(p=p>o?1/Math.sqrt(p):0,c=0;c<3;++c)h[c]*=p;a[s]=h}return a}},{}],304:[function(e,t,n){"use strict";function r(e,t,n,r,i,a,o,s,l,u){var c=t+a+u;if(f>0){var f=Math.sqrt(c+1);e[0]=.5*(o-l)/f,e[1]=.5*(s-r)/f,e[2]=.5*(n-a)/f,e[3]=.5*f}else{var d=Math.max(t,a,u);f=Math.sqrt(2*d-c+1),t>=d?(e[0]=.5*f,e[1]=.5*(i+n)/f,e[2]=.5*(s+r)/f,e[3]=.5*(o-l)/f):a>=d?(e[0]=.5*(n+i)/f,e[1]=.5*f,e[2]=.5*(l+o)/f,e[3]=.5*(s-r)/f):(e[0]=.5*(r+s)/f,e[1]=.5*(o+l)/f,e[2]=.5*f,e[3]=.5*(n-i)/f)}return e}t.exports=r},{}],305:[function(e,t,n){"use strict";t.exports=h;var r=e("filtered-vector"),i=e("gl-mat4/lookAt"),a=e("gl-mat4/fromQuat"),o=e("gl-mat4/invert"),s=e("./lib/quatFromFrame");function l(e,t,n){return Math.sqrt(Math.pow(e,2)+Math.pow(t,2)+Math.pow(n,2))}function u(e,t,n,r){return Math.sqrt(Math.pow(e,2)+Math.pow(t,2)+Math.pow(n,2)+Math.pow(r,2))}function c(e,t){var n=t[0],r=t[1],i=t[2],a=t[3],o=u(n,r,i,a);o>1e-6?(e[0]=n/o,e[1]=r/o,e[2]=i/o,e[3]=a/o):(e[0]=e[1]=e[2]=0,e[3]=1)}function f(e,t,n){this.radius=r([n]),this.center=r(t),this.rotation=r(e),this.computedRadius=this.radius.curve(0),this.computedCenter=this.center.curve(0),this.computedRotation=this.rotation.curve(0),this.computedUp=[.1,0,0],this.computedEye=[.1,0,0],this.computedMatrix=[.1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],this.recalcMatrix(0)}var d=f.prototype;function h(e){var t=(e=e||{}).center||[0,0,0],n=e.rotation||[0,0,0,1],r=e.radius||1;t=[].slice.call(t,0,3),c(n=[].slice.call(n,0,4),n);var i=new f(n,t,Math.log(r));return i.setDistanceLimits(e.zoomMin,e.zoomMax),("eye"in e||"up"in e)&&i.lookAt(0,e.eye,e.center,e.up),i}d.lastT=function(){return Math.max(this.radius.lastT(),this.center.lastT(),this.rotation.lastT())},d.recalcMatrix=function(e){this.radius.curve(e),this.center.curve(e),this.rotation.curve(e);var t=this.computedRotation;c(t,t);var n=this.computedMatrix;a(n,t);var r=this.computedCenter,i=this.computedEye,o=this.computedUp,s=Math.exp(this.computedRadius[0]);i[0]=r[0]+s*n[2],i[1]=r[1]+s*n[6],i[2]=r[2]+s*n[10],o[0]=n[1],o[1]=n[5],o[2]=n[9];for(var l=0;l<3;++l){for(var u=0,f=0;f<3;++f)u+=n[l+4*f]*i[f];n[12+l]=-u}},d.getMatrix=function(e,t){this.recalcMatrix(e);var n=this.computedMatrix;if(t){for(var r=0;r<16;++r)t[r]=n[r];return t}return n},d.idle=function(e){this.center.idle(e),this.radius.idle(e),this.rotation.idle(e)},d.flush=function(e){this.center.flush(e),this.radius.flush(e),this.rotation.flush(e)},d.pan=function(e,t,n,r){t=t||0,n=n||0,r=r||0,this.recalcMatrix(e);var i=this.computedMatrix,a=i[1],o=i[5],s=i[9],u=l(a,o,s);a/=u,o/=u,s/=u;var c=i[0],f=i[4],d=i[8],h=c*a+f*o+d*s,p=l(c-=a*h,f-=o*h,d-=s*h);c/=p,f/=p,d/=p;var g=i[2],v=i[6],m=i[10],y=g*a+v*o+m*s,b=g*c+v*f+m*d,x=l(g-=y*a+b*c,v-=y*o+b*f,m-=y*s+b*d);g/=x,v/=x,m/=x;var _=c*t+a*n,w=f*t+o*n,k=d*t+s*n;this.center.move(e,_,w,k);var M=Math.exp(this.computedRadius[0]);M=Math.max(1e-4,M+r),this.radius.set(e,Math.log(M))},d.rotate=function(e,t,n,r){this.recalcMatrix(e),t=t||0,n=n||0;var i=this.computedMatrix,a=i[0],o=i[4],s=i[8],c=i[1],f=i[5],d=i[9],h=i[2],p=i[6],g=i[10],v=t*a+n*c,m=t*o+n*f,y=t*s+n*d,b=-(p*y-g*m),x=-(g*v-h*y),_=-(h*m-p*v),w=Math.sqrt(Math.max(0,1-Math.pow(b,2)-Math.pow(x,2)-Math.pow(_,2))),k=u(b,x,_,w);k>1e-6?(b/=k,x/=k,_/=k,w/=k):(b=x=_=0,w=1);var M=this.computedRotation,T=M[0],A=M[1],E=M[2],S=M[3],O=T*w+S*b+A*_-E*x,C=A*w+S*x+E*b-T*_,L=E*w+S*_+T*x-A*b,R=S*w-T*b-A*x-E*_;if(r){b=h,x=p,_=g;var P=Math.sin(r)/l(b,x,_);b*=P,x*=P,_*=P,R=R*(w=Math.cos(t))-(O=O*w+R*b+C*_-L*x)*b-(C=C*w+R*x+L*b-O*_)*x-(L=L*w+R*_+O*x-C*b)*_}var j=u(O,C,L,R);j>1e-6?(O/=j,C/=j,L/=j,R/=j):(O=C=L=0,R=1),this.rotation.set(e,O,C,L,R)},d.lookAt=function(e,t,n,r){this.recalcMatrix(e),n=n||this.computedCenter,t=t||this.computedEye,r=r||this.computedUp;var a=this.computedMatrix;i(a,t,n,r);var o=this.computedRotation;s(o,a[0],a[1],a[2],a[4],a[5],a[6],a[8],a[9],a[10]),c(o,o),this.rotation.set(e,o[0],o[1],o[2],o[3]);for(var l=0,u=0;u<3;++u)l+=Math.pow(n[u]-t[u],2);this.radius.set(e,.5*Math.log(Math.max(l,1e-6))),this.center.set(e,n[0],n[1],n[2])},d.translate=function(e,t,n,r){this.center.move(e,t||0,n||0,r||0)},d.setMatrix=function(e,t){var n=this.computedRotation;s(n,t[0],t[1],t[2],t[4],t[5],t[6],t[8],t[9],t[10]),c(n,n),this.rotation.set(e,n[0],n[1],n[2],n[3]);var r=this.computedMatrix;o(r,t);var i=r[15];if(Math.abs(i)>1e-6){var a=r[12]/i,l=r[13]/i,u=r[14]/i;this.recalcMatrix(e);var f=Math.exp(this.computedRadius[0]);this.center.set(e,a-r[2]*f,l-r[6]*f,u-r[10]*f),this.radius.idle(e)}else this.center.idle(e),this.radius.idle(e)},d.setDistance=function(e,t){t>0&&this.radius.set(e,Math.log(t))},d.setDistanceLimits=function(e,t){e=e>0?Math.log(e):-1/0,t=t>0?Math.log(t):1/0,t=Math.max(t,e),this.radius.bounds[0][0]=e,this.radius.bounds[1][0]=t},d.getDistanceLimits=function(e){var t=this.radius.bounds;return e?(e[0]=Math.exp(t[0][0]),e[1]=Math.exp(t[1][0]),e):[Math.exp(t[0][0]),Math.exp(t[1][0])]},d.toJSON=function(){return this.recalcMatrix(this.lastT()),{center:this.computedCenter.slice(),rotation:this.computedRotation.slice(),distance:Math.log(this.computedRadius[0]),zoomMin:this.radius.bounds[0][0],zoomMax:this.radius.bounds[1][0]}},d.fromJSON=function(e){var t=this.lastT(),n=e.center;n&&this.center.set(t,n[0],n[1],n[2]);var r=e.rotation;r&&this.rotation.set(t,r[0],r[1],r[2],r[3]);var i=e.distance;i&&i>0&&this.radius.set(t,Math.log(i)),this.setDistanceLimits(e.zoomMin,e.zoomMax)}},{"./lib/quatFromFrame":304,"filtered-vector":92,"gl-mat4/fromQuat":126,"gl-mat4/invert":137,"gl-mat4/lookAt":138}],306:[function(e,t,n){"use strict";var r=e("repeat-string");t.exports=function(e,t,n){return r(n="undefined"!==typeof n?n+"":" ",t)+e}},{"repeat-string":332}],307:[function(e,t,n){t.exports=a;var r={a:7,c:6,h:1,l:2,m:2,q:4,s:4,t:2,v:1,z:0},i=/([astvzqmhlc])([^astvzqmhlc]*)/gi;function a(e){var t=[];return e.replace(i,(function(e,n,i){var a=n.toLowerCase();for(i=s(i),"m"==a&&i.length>2&&(t.push([n].concat(i.splice(0,2))),a="l",n="m"==n?"l":"L");;){if(i.length==r[a])return i.unshift(n),t.push(i);if(i.length<r[a])throw new Error("malformed path data");t.push([n].concat(i.splice(0,r[a])))}})),t}var o=/-?[0-9]*\.?[0-9]+(?:e[-+]?\d+)?/gi;function s(e){var t=e.match(o);return t?t.map(Number):[]}},{}],308:[function(e,t,n){t.exports=function(e,t){t||(t=[0,""]),e=String(e);var n=parseFloat(e,10);return t[0]=n,t[1]=e.match(/[\d.\-\+]*\s*(.*)/)[1]||"",t}},{}],309:[function(e,t,n){"use strict";t.exports=a;var r=32,i=e("typedarray-pool");function a(e){var t=e.length;if(t<r){for(var n=1,a=0;a<t;++a)for(var o=0;o<a;++o)if(e[a]<e[o])n=-n;else if(e[a]===e[o])return 0;return n}var s=i.mallocUint8(t);for(a=0;a<t;++a)s[a]=0;for(n=1,a=0;a<t;++a)if(!s[a]){var l=1;for(s[a]=1,o=e[a];o!==a;o=e[o]){if(s[o])return i.freeUint8(s),0;l+=1,s[o]=1}1&l||(n=-n)}return i.freeUint8(s),n}},{"typedarray-pool":366}],310:[function(e,t,n){"use strict";var r=e("typedarray-pool"),i=e("invert-permutation");function a(e){var t=e.length;switch(t){case 0:case 1:return 0;case 2:return e[1]}var n,a,o,s=r.mallocUint32(t),l=r.mallocUint32(t),u=0;for(i(e,l),o=0;o<t;++o)s[o]=e[o];for(o=t-1;o>0;--o)a=l[o],n=s[o],s[o]=s[a],s[a]=n,l[o]=l[n],l[n]=a,u=(u+n)*o;return r.freeUint32(l),r.freeUint32(s),u}function o(e,t,n){switch(e){case 0:return n||[];case 1:return n?(n[0]=0,n):[0];case 2:return n?(t?(n[0]=0,n[1]=1):(n[0]=1,n[1]=0),n):t?[0,1]:[1,0]}var r,i,a,o=1;for((n=n||new Array(e))[0]=0,a=1;a<e;++a)n[a]=a,o=o*a|0;for(a=e-1;a>0;--a)t=t-(r=t/o|0)*o|0,o=o/a|0,i=0|n[a],n[a]=0|n[r],n[r]=0|i;return n}n.rank=a,n.unrank=o},{"invert-permutation":273,"typedarray-pool":366}],311:[function(e,t,n){"use strict";t.exports=i;var r=e("compare-angle");function i(e,t){for(var n=0|t.length,i=e.length,a=[new Array(n),new Array(n)],o=0;o<n;++o)a[0][o]=[],a[1][o]=[];for(o=0;o<i;++o){var s=e[o];a[0][s[0]].push(s),a[1][s[1]].push(s)}var l=[];for(o=0;o<n;++o)a[0][o].length+a[1][o].length===0&&l.push([o]);function u(e,t){var n=a[t][e[t]];n.splice(n.indexOf(e),1)}function c(e,n,i){for(var o,s,l,c=0;c<2;++c)if(a[c][n].length>0){o=a[c][n][0],l=c;break}s=o[1^l];for(var f=0;f<2;++f)for(var d=a[f][n],h=0;h<d.length;++h){var p=d[h],g=p[1^f];r(t[e],t[n],t[s],t[g])>0&&(o=p,s=g,l=f)}return i||o&&u(o,l),s}function f(e,n){var i=a[n][e][0],o=[e];u(i,n);for(var s=i[1^n];;){for(;s!==e;)o.push(s),s=c(o[o.length-2],s,!1);if(a[0][e].length+a[1][e].length===0)break;var l=o[o.length-1],f=e,d=o[1],h=c(l,f,!0);if(r(t[l],t[f],t[d],t[h])<0)break;o.push(e),s=c(l,f)}return o}function d(e,t){return t[1]===t[t.length-1]}for(o=0;o<n;++o)for(var h=0;h<2;++h){for(var p=[];a[h][o].length>0;){a[0][o].length;var g=f(o,h);d(p,g)?p.push.apply(p,g):(p.length>0&&l.push(p),p=g)}p.length>0&&l.push(p)}return l}},{"compare-angle":69}],312:[function(e,t,n){"use strict";t.exports=i;var r=e("edges-to-adjacency-list");function i(e,t){for(var n=r(e,t.length),i=new Array(t.length),a=new Array(t.length),o=[],s=0;s<t.length;++s){var l=n[s].length;a[s]=l,i[s]=!0,l<=1&&o.push(s)}for(;o.length>0;){i[h=o.pop()]=!1;var u=n[h];for(s=0;s<u.length;++s){var c=u[s];0===--a[c]&&o.push(c)}}var f=new Array(t.length),d=[];for(s=0;s<t.length;++s)if(i[s]){var h=d.length;f[s]=h,d.push(t[s])}else f[s]=-1;var p=[];for(s=0;s<e.length;++s){var g=e[s];i[g[0]]&&i[g[1]]&&p.push([f[g[0]],f[g[1]]])}return[p,d]}},{"edges-to-adjacency-list":88}],313:[function(e,t,n){"use strict";t.exports=d;var r=e("edges-to-adjacency-list"),i=e("planar-dual"),a=e("point-in-big-polygon"),o=e("two-product"),s=e("robust-sum"),l=e("uniq"),u=e("./lib/trim-leaves");function c(e,t){for(var n=new Array(e),r=0;r<e;++r)n[r]=t;return n}function f(e){for(var t=new Array(e),n=0;n<e;++n)t[n]=[];return t}function d(e,t){e=(F=u(e,t))[0];for(var n=(t=F[1]).length,d=(e.length,r(e,t.length)),h=0;h<n;++h)if(d[h].length%2===1)throw new Error("planar-graph-to-polyline: graph must be manifold");var p=i(e,t);function g(e){for(var n=e.length,r=[0],i=0;i<n;++i){var a=t[e[i]],l=t[e[(i+1)%n]],u=o(-a[0],a[1]),c=o(-a[0],l[1]),f=o(l[0],a[1]),d=o(l[0],l[1]);r=s(r,s(s(u,c),s(f,d)))}return r[r.length-1]>0}var v=(p=p.filter(g)).length,m=new Array(v),y=new Array(v);for(h=0;h<v;++h){m[h]=h;var b=new Array(v),x=p[h].map((function(e){return t[e]})),_=a([x]),w=0;e:for(var k=0;k<v;++k)if(b[k]=0,h!==k){for(var M=(W=p[k]).length,T=0;T<M;++T){var A=_(t[W[T]]);if(0!==A){A<0&&(b[k]=1,w+=1);continue e}}b[k]=1,w+=1}y[h]=[w,h,b]}for(y.sort((function(e,t){return t[0]-e[0]})),h=0;h<v;++h){var E=(b=y[h])[1],S=b[2];for(k=0;k<v;++k)S[k]&&(m[k]=E)}var O=f(v);for(h=0;h<v;++h)O[h].push(m[h]),O[m[h]].push(h);var C={},L=c(n,!1);for(h=0;h<v;++h)for(M=(W=p[h]).length,k=0;k<M;++k){var R=W[k],P=W[(k+1)%M],j=Math.min(R,P)+":"+Math.max(R,P);if(j in C){var z=C[j];O[z].push(h),O[h].push(z),L[R]=L[P]=!0}else C[j]=h}function I(e){for(var t=e.length,n=0;n<t;++n)if(!L[e[n]])return!1;return!0}var N=[],D=c(v,-1);for(h=0;h<v;++h)m[h]!==h||I(p[h])?D[h]=-1:(N.push(h),D[h]=0);for(var F=[];N.length>0;){var B=N.pop(),U=O[B];l(U,(function(e,t){return e-t}));var V,H=U.length,q=D[B];for(0===q&&(V=[W=p[B]]),h=0;h<H;++h){var W,G=U[h];D[G]>=0||(D[G]=1^q,N.push(G),0===q&&(I(W=p[G])||(W.reverse(),V.push(W))))}0===q&&F.push(V)}return F}},{"./lib/trim-leaves":312,"edges-to-adjacency-list":88,"planar-dual":311,"point-in-big-polygon":315,"robust-sum":344,"two-product":364,uniq:368}],314:[function(e,t,n){arguments[4][93][0].apply(n,arguments)},{dup:93}],315:[function(e,t,n){t.exports=p;var r=e("robust-orientation")[3],i=e("slab-decomposition"),a=e("interval-tree-1d"),o=e("binary-search-bounds");function s(){return!0}function l(e){return function(t,n){var r=e[t];return!!r&&!!r.queryPoint(n,s)}}function u(e){for(var t={},n=0;n<e.length;++n){var r=e[n],i=r[0][0],o=r[0][1],s=r[1][1],u=[Math.min(o,s),Math.max(o,s)];i in t?t[i].push(u):t[i]=[u]}var c={},f=Object.keys(t);for(n=0;n<f.length;++n){var d=t[f[n]];c[f[n]]=a(d)}return l(c)}function c(e,t){return function(n){var i=o.le(t,n[0]);if(i<0)return 1;var a=e[i];if(!a){if(!(i>0&&t[i]===n[0]))return 1;a=e[i-1]}for(var s=1;a;){var l=a.key,u=r(n,l[0],l[1]);if(l[0][0]<l[1][0])if(u<0)a=a.left;else{if(!(u>0))return 0;s=-1,a=a.right}else if(u>0)a=a.left;else{if(!(u<0))return 0;s=1,a=a.right}}return s}}function f(e){return 1}function d(e){return function(t){return e(t[0],t[1])?0:1}}function h(e,t){return function(n){return e(n[0],n[1])?0:t(n)}}function p(e){for(var t=e.length,n=[],r=[],a=0;a<t;++a)for(var o=e[a],s=o.length,l=s-1,p=0;p<s;l=p++){var g=o[l],v=o[p];g[0]===v[0]?r.push([g,v]):n.push([g,v])}if(0===n.length)return 0===r.length?f:d(u(r));var m=i(n),y=c(m.slabs,m.coordinates);return 0===r.length?y:h(u(r),y)}},{"binary-search-bounds":314,"interval-tree-1d":271,"robust-orientation":339,"slab-decomposition":356}],316:[function(e,t,n){var r,i=e("./lib/build-log"),a=e("./lib/epsilon"),o=e("./lib/intersecter"),s=e("./lib/segment-chainer"),l=e("./lib/segment-selector"),u=e("./lib/geojson"),c=!1,f=a();function d(e,t,n){var i=r.segments(e),a=r.segments(t),o=n(r.combine(i,a));return r.polygon(o)}r={buildLog:function(e){return!0===e?c=i():!1===e&&(c=!1),!1!==c&&c.list},epsilon:function(e){return f.epsilon(e)},segments:function(e){var t=o(!0,f,c);return e.regions.forEach(t.addRegion),{segments:t.calculate(e.inverted),inverted:e.inverted}},combine:function(e,t){return{combined:o(!1,f,c).calculate(e.segments,e.inverted,t.segments,t.inverted),inverted1:e.inverted,inverted2:t.inverted}},selectUnion:function(e){return{segments:l.union(e.combined,c),inverted:e.inverted1||e.inverted2}},selectIntersect:function(e){return{segments:l.intersect(e.combined,c),inverted:e.inverted1&&e.inverted2}},selectDifference:function(e){return{segments:l.difference(e.combined,c),inverted:e.inverted1&&!e.inverted2}},selectDifferenceRev:function(e){return{segments:l.differenceRev(e.combined,c),inverted:!e.inverted1&&e.inverted2}},selectXor:function(e){return{segments:l.xor(e.combined,c),inverted:e.inverted1!==e.inverted2}},polygon:function(e){return{regions:s(e.segments,f,c),inverted:e.inverted}},polygonFromGeoJSON:function(e){return u.toPolygon(r,e)},polygonToGeoJSON:function(e){return u.fromPolygon(r,f,e)},union:function(e,t){return d(e,t,r.selectUnion)},intersect:function(e,t){return d(e,t,r.selectIntersect)},difference:function(e,t){return d(e,t,r.selectDifference)},differenceRev:function(e,t){return d(e,t,r.selectDifferenceRev)},xor:function(e,t){return d(e,t,r.selectXor)}},"object"===typeof window&&(window.PolyBool=r),t.exports=r},{"./lib/build-log":317,"./lib/epsilon":318,"./lib/geojson":319,"./lib/intersecter":320,"./lib/segment-chainer":322,"./lib/segment-selector":323}],317:[function(e,t,n){function r(){var e,t=0,n=!1;function r(t,n){return e.list.push({type:t,data:n?JSON.parse(JSON.stringify(n)):void 0}),e}return e={list:[],segmentId:function(){return t++},checkIntersection:function(e,t){return r("check",{seg1:e,seg2:t})},segmentChop:function(e,t){return r("div_seg",{seg:e,pt:t}),r("chop",{seg:e,pt:t})},statusRemove:function(e){return r("pop_seg",{seg:e})},segmentUpdate:function(e){return r("seg_update",{seg:e})},segmentNew:function(e,t){return r("new_seg",{seg:e,primary:t})},segmentRemove:function(e){return r("rem_seg",{seg:e})},tempStatus:function(e,t,n){return r("temp_status",{seg:e,above:t,below:n})},rewind:function(e){return r("rewind",{seg:e})},status:function(e,t,n){return r("status",{seg:e,above:t,below:n})},vert:function(t){return t===n?e:(n=t,r("vert",{x:t}))},log:function(e){return"string"!==typeof e&&(e=JSON.stringify(e,!1,"  ")),r("log",{txt:e})},reset:function(){return r("reset")},selected:function(e){return r("selected",{segs:e})},chainStart:function(e){return r("chain_start",{seg:e})},chainRemoveHead:function(e,t){return r("chain_rem_head",{index:e,pt:t})},chainRemoveTail:function(e,t){return r("chain_rem_tail",{index:e,pt:t})},chainNew:function(e,t){return r("chain_new",{pt1:e,pt2:t})},chainMatch:function(e){return r("chain_match",{index:e})},chainClose:function(e){return r("chain_close",{index:e})},chainAddHead:function(e,t){return r("chain_add_head",{index:e,pt:t})},chainAddTail:function(e,t){return r("chain_add_tail",{index:e,pt:t})},chainConnect:function(e,t){return r("chain_con",{index1:e,index2:t})},chainReverse:function(e){return r("chain_rev",{index:e})},chainJoin:function(e,t){return r("chain_join",{index1:e,index2:t})},done:function(){return r("done")}}}t.exports=r},{}],318:[function(e,t,n){function r(e){"number"!==typeof e&&(e=1e-10);var t={epsilon:function(t){return"number"===typeof t&&(e=t),e},pointAboveOrOnLine:function(t,n,r){var i=n[0],a=n[1],o=r[0],s=r[1],l=t[0];return(o-i)*(t[1]-a)-(s-a)*(l-i)>=-e},pointBetween:function(t,n,r){var i=t[1]-n[1],a=r[0]-n[0],o=t[0]-n[0],s=r[1]-n[1],l=o*a+i*s;return!(l<e)&&!(l-(a*a+s*s)>-e)},pointsSameX:function(t,n){return Math.abs(t[0]-n[0])<e},pointsSameY:function(t,n){return Math.abs(t[1]-n[1])<e},pointsSame:function(e,n){return t.pointsSameX(e,n)&&t.pointsSameY(e,n)},pointsCompare:function(e,n){return t.pointsSameX(e,n)?t.pointsSameY(e,n)?0:e[1]<n[1]?-1:1:e[0]<n[0]?-1:1},pointsCollinear:function(t,n,r){var i=t[0]-n[0],a=t[1]-n[1],o=n[0]-r[0],s=n[1]-r[1];return Math.abs(i*s-o*a)<e},linesIntersect:function(t,n,r,i){var a=n[0]-t[0],o=n[1]-t[1],s=i[0]-r[0],l=i[1]-r[1],u=a*l-o*s;if(Math.abs(u)<e)return!1;var c=t[0]-r[0],f=t[1]-r[1],d=(s*f-l*c)/u,h=(a*f-o*c)/u,p={alongA:0,alongB:0,pt:[t[0]+d*a,t[1]+d*o]};return p.alongA=d<=-e?-2:d<e?-1:d-1<=-e?0:d-1<e?1:2,p.alongB=h<=-e?-2:h<e?-1:h-1<=-e?0:h-1<e?1:2,p},pointInsideRegion:function(t,n){for(var r=t[0],i=t[1],a=n[n.length-1][0],o=n[n.length-1][1],s=!1,l=0;l<n.length;l++){var u=n[l][0],c=n[l][1];c-i>e!=o-i>e&&(a-u)*(i-c)/(o-c)+u-r>e&&(s=!s),a=u,o=c}return s}};return t}t.exports=r},{}],319:[function(e,t,n){var r={toPolygon:function(e,t){function n(t){if(t.length<=0)return e.segments({inverted:!1,regions:[]});function n(t){var n=t.slice(0,t.length-1);return e.segments({inverted:!1,regions:[n]})}for(var r=n(t[0]),i=1;i<t.length;i++)r=e.selectDifference(e.combine(r,n(t[i])));return r}if("Polygon"===t.type)return e.polygon(n(t.coordinates));if("MultiPolygon"===t.type){for(var r=e.segments({inverted:!1,regions:[]}),i=0;i<t.coordinates.length;i++)r=e.selectUnion(e.combine(r,n(t.coordinates[i])));return e.polygon(r)}throw new Error("PolyBool: Cannot convert GeoJSON object to PolyBool polygon")},fromPolygon:function(e,t,n){function r(e,n){return t.pointInsideRegion([.5*(e[0][0]+e[1][0]),.5*(e[0][1]+e[1][1])],n)}function i(e){return{region:e,children:[]}}n=e.polygon(e.segments(n));var a=i(null);function o(e,t){for(var n=0;n<e.children.length;n++)if(r(t,(s=e.children[n]).region))return void o(s,t);var a=i(t);for(n=0;n<e.children.length;n++){var s;r((s=e.children[n]).region,t)&&(a.children.push(s),e.children.splice(n,1),n--)}e.children.push(a)}for(var s=0;s<n.regions.length;s++){var l=n.regions[s];l.length<3||o(a,l)}function u(e,t){for(var n=0,r=e[e.length-1][0],i=e[e.length-1][1],a=[],o=0;o<e.length;o++){var s=e[o][0],l=e[o][1];a.push([s,l]),n+=l*r-s*i,r=s,i=l}return n<0!==t&&a.reverse(),a.push([a[0][0],a[0][1]]),a}var c=[];function f(e){var t=[u(e.region,!1)];c.push(t);for(var n=0;n<e.children.length;n++)t.push(d(e.children[n]))}function d(e){for(var t=0;t<e.children.length;t++)f(e.children[t]);return u(e.region,!0)}for(s=0;s<a.children.length;s++)f(a.children[s]);return c.length<=0?{type:"Polygon",coordinates:[]}:1==c.length?{type:"Polygon",coordinates:c[0]}:{type:"MultiPolygon",coordinates:c}}};t.exports=r},{}],320:[function(e,t,n){var r=e("./linked-list");function i(e,t,n){function i(e,t){return{id:n?n.segmentId():-1,start:e,end:t,myFill:{above:null,below:null},otherFill:null}}function a(e,t,r){return{id:n?n.segmentId():-1,start:e,end:t,myFill:{above:r.myFill.above,below:r.myFill.below},otherFill:null}}var o=r.create();function s(e,n,r,i,a,o){var s=t.pointsCompare(n,a);return 0!==s?s:t.pointsSame(r,o)?0:e!==i?e?1:-1:t.pointAboveOrOnLine(r,i?a:o,i?o:a)?1:-1}function l(e,t){o.insertBefore(e,(function(n){return s(e.isStart,e.pt,t,n.isStart,n.pt,n.other.pt)<0}))}function u(e,t){var n=r.node({isStart:!0,pt:e.start,seg:e,primary:t,other:null,status:null});return l(n,e.end),n}function c(e,t,n){var i=r.node({isStart:!1,pt:t.end,seg:t,primary:n,other:e,status:null});e.other=i,l(i,e.pt)}function f(e,t){var n=u(e,t);return c(n,e,t),n}function d(e,t){n&&n.segmentChop(e.seg,t),e.other.remove(),e.seg.end=t,e.other.pt=t,l(e.other,e.pt)}function h(e,t){var n=a(t,e.seg.end,e.seg);return d(e,t),f(n,e.primary)}function p(i,a){var s=r.create();function l(e,n){var r=e.seg.start,i=e.seg.end,a=n.seg.start,o=n.seg.end;return t.pointsCollinear(r,a,o)?t.pointsCollinear(i,a,o)||t.pointAboveOrOnLine(i,a,o)?1:-1:t.pointAboveOrOnLine(r,a,o)?1:-1}function u(e){return s.findTransition((function(t){return l(e,t.ev)>0}))}function c(e,r){var i=e.seg,a=r.seg,o=i.start,s=i.end,l=a.start,u=a.end;n&&n.checkIntersection(i,a);var c=t.linesIntersect(o,s,l,u);if(!1===c){if(!t.pointsCollinear(o,s,l))return!1;if(t.pointsSame(o,u)||t.pointsSame(s,l))return!1;var f=t.pointsSame(o,l),d=t.pointsSame(s,u);if(f&&d)return r;var p=!f&&t.pointBetween(o,l,u),g=!d&&t.pointBetween(s,l,u);if(f)return g?h(r,s):h(e,u),r;p&&(d||(g?h(r,s):h(e,u)),h(r,o))}else 0===c.alongA&&(-1===c.alongB?h(e,l):0===c.alongB?h(e,c.pt):1===c.alongB&&h(e,u)),0===c.alongB&&(-1===c.alongA?h(r,o):0===c.alongA?h(r,c.pt):1===c.alongA&&h(r,s));return!1}for(var f=[];!o.isEmpty();){var d=o.getHead();if(n&&n.vert(d.pt[0]),d.isStart){var p=function(){if(v){var e=c(d,v);if(e)return e}return!!m&&c(d,m)};n&&n.segmentNew(d.seg,d.primary);var g=u(d),v=g.before?g.before.ev:null,m=g.after?g.after.ev:null;n&&n.tempStatus(d.seg,!!v&&v.seg,!!m&&m.seg);var y,b,x=p();if(x)e?(b=null===d.seg.myFill.below||d.seg.myFill.above!==d.seg.myFill.below)&&(x.seg.myFill.above=!x.seg.myFill.above):x.seg.otherFill=d.seg.myFill,n&&n.segmentUpdate(x.seg),d.other.remove(),d.remove();if(o.getHead()!==d){n&&n.rewind(d.seg);continue}e?(b=null===d.seg.myFill.below||d.seg.myFill.above!==d.seg.myFill.below,d.seg.myFill.below=m?m.seg.myFill.above:i,d.seg.myFill.above=b?!d.seg.myFill.below:d.seg.myFill.below):null===d.seg.otherFill&&(y=m?d.primary===m.primary?m.seg.otherFill.above:m.seg.myFill.above:d.primary?a:i,d.seg.otherFill={above:y,below:y}),n&&n.status(d.seg,!!v&&v.seg,!!m&&m.seg),d.other.status=g.insert(r.node({ev:d}))}else{var _=d.status;if(null===_)throw new Error("PolyBool: Zero-length segment detected; your epsilon is probably too small or too large");if(s.exists(_.prev)&&s.exists(_.next)&&c(_.prev.ev,_.next.ev),n&&n.statusRemove(_.ev.seg),_.remove(),!d.primary){var w=d.seg.myFill;d.seg.myFill=d.seg.otherFill,d.seg.otherFill=w}f.push(d.seg)}o.getHead().remove()}return n&&n.done(),f}return e?{addRegion:function(e){for(var n,r=e[e.length-1],a=0;a<e.length;a++){n=r,r=e[a];var o=t.pointsCompare(n,r);0!==o&&f(i(o<0?n:r,o<0?r:n),!0)}},calculate:function(e){return p(e,!1)}}:{calculate:function(e,t,n,r){return e.forEach((function(e){f(a(e.start,e.end,e),!0)})),n.forEach((function(e){f(a(e.start,e.end,e),!1)})),p(t,r)}}}t.exports=i},{"./linked-list":321}],321:[function(e,t,n){var r={create:function(){var e={root:{root:!0,next:null},exists:function(t){return null!==t&&t!==e.root},isEmpty:function(){return null===e.root.next},getHead:function(){return e.root.next},insertBefore:function(t,n){for(var r=e.root,i=e.root.next;null!==i;){if(n(i))return t.prev=i.prev,t.next=i,i.prev.next=t,void(i.prev=t);r=i,i=i.next}r.next=t,t.prev=r,t.next=null},findTransition:function(t){for(var n=e.root,r=e.root.next;null!==r&&!t(r);)n=r,r=r.next;return{before:n===e.root?null:n,after:r,insert:function(e){return e.prev=n,e.next=r,n.next=e,null!==r&&(r.prev=e),e}}}};return e},node:function(e){return e.prev=null,e.next=null,e.remove=function(){e.prev.next=e.next,e.next&&(e.next.prev=e.prev),e.prev=null,e.next=null},e}};t.exports=r},{}],322:[function(e,t,n){function r(e,t,n){var r=[],i=[];return e.forEach((function(e){var a=e.start,o=e.end;if(t.pointsSame(a,o))console.warn("PolyBool: Warning: Zero-length segment detected; your epsilon is probably too small or too large");else{n&&n.chainStart(e);for(var s={index:0,matches_head:!1,matches_pt1:!1},l={index:0,matches_head:!1,matches_pt1:!1},u=s,c=0;c<r.length;c++){var f=(v=r[c])[0],d=(v[1],v[v.length-1]);if(v[v.length-2],t.pointsSame(f,a)){if(M(c,!0,!0))break}else if(t.pointsSame(f,o)){if(M(c,!0,!1))break}else if(t.pointsSame(d,a)){if(M(c,!1,!0))break}else if(t.pointsSame(d,o)&&M(c,!1,!1))break}if(u===s)return r.push([a,o]),void(n&&n.chainNew(a,o));if(u===l){n&&n.chainMatch(s.index);var h=s.index,p=s.matches_pt1?o:a,g=s.matches_head,v=r[h],m=g?v[0]:v[v.length-1],y=g?v[1]:v[v.length-2],b=g?v[v.length-1]:v[0],x=g?v[v.length-2]:v[1];return t.pointsCollinear(y,m,p)&&(g?(n&&n.chainRemoveHead(s.index,p),v.shift()):(n&&n.chainRemoveTail(s.index,p),v.pop()),m=y),t.pointsSame(b,p)?(r.splice(h,1),t.pointsCollinear(x,b,m)&&(g?(n&&n.chainRemoveTail(s.index,m),v.pop()):(n&&n.chainRemoveHead(s.index,m),v.shift())),n&&n.chainClose(s.index),void i.push(v)):void(g?(n&&n.chainAddHead(s.index,p),v.unshift(p)):(n&&n.chainAddTail(s.index,p),v.push(p)))}var _=s.index,w=l.index;n&&n.chainConnect(_,w);var k=r[_].length<r[w].length;s.matches_head?l.matches_head?k?(T(_),A(_,w)):(T(w),A(w,_)):A(w,_):l.matches_head?A(_,w):k?(T(_),A(w,_)):(T(w),A(_,w))}function M(e,t,n){return u.index=e,u.matches_head=t,u.matches_pt1=n,u===s?(u=l,!1):(u=null,!0)}function T(e){n&&n.chainReverse(e),r[e].reverse()}function A(e,i){var a=r[e],o=r[i],s=a[a.length-1],l=a[a.length-2],u=o[0],c=o[1];t.pointsCollinear(l,s,u)&&(n&&n.chainRemoveTail(e,s),a.pop(),s=l),t.pointsCollinear(s,u,c)&&(n&&n.chainRemoveHead(i,u),o.shift()),n&&n.chainJoin(e,i),r[e]=a.concat(o),r.splice(i,1)}})),i}t.exports=r},{}],323:[function(e,t,n){function r(e,t,n){var r=[];return e.forEach((function(e){var i=(e.myFill.above?8:0)+(e.myFill.below?4:0)+(e.otherFill&&e.otherFill.above?2:0)+(e.otherFill&&e.otherFill.below?1:0);0!==t[i]&&r.push({id:n?n.segmentId():-1,start:e.start,end:e.end,myFill:{above:1===t[i],below:2===t[i]},otherFill:null})})),n&&n.selected(r),r}var i={union:function(e,t){return r(e,[0,2,1,0,2,2,0,0,1,0,1,0,0,0,0,0],t)},intersect:function(e,t){return r(e,[0,0,0,0,0,2,0,2,0,0,1,1,0,2,1,0],t)},difference:function(e,t){return r(e,[0,0,0,0,2,0,2,0,1,1,0,0,0,1,2,0],t)},differenceRev:function(e,t){return r(e,[0,2,1,0,0,0,1,1,0,2,0,2,0,0,0,0],t)},xor:function(e,t){return r(e,[0,2,1,0,2,0,0,1,1,0,0,2,0,1,2,0],t)}};t.exports=i},{}],324:[function(e,t,n){"use strict";var r=new Float64Array(4),i=new Float64Array(4),a=new Float64Array(4);function o(e,t,n,o,s){r.length<o.length&&(r=new Float64Array(o.length),i=new Float64Array(o.length),a=new Float64Array(o.length));for(var l=0;l<o.length;++l)r[l]=e[l]-o[l],i[l]=t[l]-e[l],a[l]=n[l]-e[l];var u=0,c=0,f=0,d=0,h=0,p=0;for(l=0;l<o.length;++l){var g=i[l],v=a[l],m=r[l];u+=g*g,c+=g*v,f+=v*v,d+=m*g,h+=m*v,p+=m*m}var y,b,x,_,w,k=Math.abs(u*f-c*c),M=c*h-f*d,T=c*d-u*h;if(M+T<=k)if(M<0)T<0&&d<0?(T=0,-d>=u?(M=1,y=u+2*d+p):y=d*(M=-d/u)+p):(M=0,h>=0?(T=0,y=p):-h>=f?(T=1,y=f+2*h+p):y=h*(T=-h/f)+p);else if(T<0)T=0,d>=0?(M=0,y=p):-d>=u?(M=1,y=u+2*d+p):y=d*(M=-d/u)+p;else{var A=1/k;y=(M*=A)*(u*M+c*(T*=A)+2*d)+T*(c*M+f*T+2*h)+p}else M<0?(x=f+h)>(b=c+d)?(_=x-b)>=(w=u-2*c+f)?(M=1,T=0,y=u+2*d+p):y=(M=_/w)*(u*M+c*(T=1-M)+2*d)+T*(c*M+f*T+2*h)+p:(M=0,x<=0?(T=1,y=f+2*h+p):h>=0?(T=0,y=p):y=h*(T=-h/f)+p):T<0?(x=u+d)>(b=c+h)?(_=x-b)>=(w=u-2*c+f)?(T=1,M=0,y=f+2*h+p):y=(M=1-(T=_/w))*(u*M+c*T+2*d)+T*(c*M+f*T+2*h)+p:(T=0,x<=0?(M=1,y=u+2*d+p):d>=0?(M=0,y=p):y=d*(M=-d/u)+p):(_=f+h-c-d)<=0?(M=0,T=1,y=f+2*h+p):_>=(w=u-2*c+f)?(M=1,T=0,y=u+2*d+p):y=(M=_/w)*(u*M+c*(T=1-M)+2*d)+T*(c*M+f*T+2*h)+p;var E=1-M-T;for(l=0;l<o.length;++l)s[l]=E*e[l]+M*t[l]+T*n[l];return y<0?0:y}t.exports=o},{}],325:[function(e,t,n){var r,i,a=t.exports={};function o(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function l(e){if(r===setTimeout)return setTimeout(e,0);if((r===o||!r)&&setTimeout)return r=setTimeout,setTimeout(e,0);try{return r(e,0)}catch(t){try{return r.call(null,e,0)}catch(t){return r.call(this,e,0)}}}function u(e){if(i===clearTimeout)return clearTimeout(e);if((i===s||!i)&&clearTimeout)return i=clearTimeout,clearTimeout(e);try{return i(e)}catch(t){try{return i.call(null,e)}catch(t){return i.call(this,e)}}}!function(){try{r="function"===typeof setTimeout?setTimeout:o}catch(e){r=o}try{i="function"===typeof clearTimeout?clearTimeout:s}catch(e){i=s}}();var c,f=[],d=!1,h=-1;function p(){d&&c&&(d=!1,c.length?f=c.concat(f):h=-1,f.length&&g())}function g(){if(!d){var e=l(p);d=!0;for(var t=f.length;t;){for(c=f,f=[];++h<t;)c&&c[h].run();h=-1,t=f.length}c=null,d=!1,u(e)}}function v(e,t){this.fun=e,this.array=t}function m(){}a.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];f.push(new v(e,t)),1!==f.length||d||l(g)},v.prototype.run=function(){this.fun.apply(null,this.array)},a.title="browser",a.browser=!0,a.env={},a.argv=[],a.version="",a.versions={},a.on=m,a.addListener=m,a.once=m,a.off=m,a.removeListener=m,a.removeAllListeners=m,a.emit=m,a.prependListener=m,a.prependOnceListener=m,a.listeners=function(e){return[]},a.binding=function(e){throw new Error("process.binding is not supported")},a.cwd=function(){return"/"},a.chdir=function(e){throw new Error("process.chdir is not supported")},a.umask=function(){return 0}},{}],326:[function(e,t,n){t.exports=e("gl-quat/slerp")},{"gl-quat/slerp":159}],327:[function(e,t,n){"use strict";var r=e("big-rat/add");function i(e,t){for(var n=e.length,i=new Array(n),a=0;a<n;++a)i[a]=r(e[a],t[a]);return i}t.exports=i},{"big-rat/add":20}],328:[function(e,t,n){"use strict";t.exports=i;var r=e("big-rat");function i(e){for(var t=new Array(e.length),n=0;n<e.length;++n)t[n]=r(e[n]);return t}},{"big-rat":23}],329:[function(e,t,n){"use strict";var r=e("big-rat"),i=e("big-rat/mul");function a(e,t){for(var n=r(t),a=e.length,o=new Array(a),s=0;s<a;++s)o[s]=i(e[s],n);return o}t.exports=a},{"big-rat":23,"big-rat/mul":32}],330:[function(e,t,n){"use strict";var r=e("big-rat/sub");function i(e,t){for(var n=e.length,i=new Array(n),a=0;a<n;++a)i[a]=r(e[a],t[a]);return i}t.exports=i},{"big-rat/sub":34}],331:[function(e,t,n){"use strict";var r=e("compare-cell"),i=e("compare-oriented-cell"),a=e("cell-orientation");function o(e){e.sort(i);for(var t=e.length,n=0,o=0;o<t;++o){var s=e[o],l=a(s);if(0!==l){if(n>0){var u=e[n-1];if(0===r(s,u)&&a(u)!==l){n-=1;continue}}e[n++]=s}}return e.length=n,e}t.exports=o},{"cell-orientation":55,"compare-cell":70,"compare-oriented-cell":71}],332:[function(e,t,n){"use strict";var r,i="";function a(e,t){if("string"!==typeof e)throw new TypeError("expected a string");if(1===t)return e;if(2===t)return e+e;var n=e.length*t;if(r!==e||"undefined"===typeof r)r=e,i="";else if(i.length>=n)return i.substr(0,n);for(;n>i.length&&t>1;)1&t&&(i+=e),t>>=1,e+=e;return i=(i+=e).substr(0,n)}t.exports=a},{}],333:[function(e,n,r){(function(e){(function(){n.exports=e.performance&&e.performance.now?function(){return performance.now()}:Date.now||function(){return+new Date}}).call(this)}).call(this,"undefined"!==typeof t?t:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})},{}],334:[function(e,t,n){"use strict";function r(e){for(var t=e.length,n=e[e.length-1],r=t,i=t-2;i>=0;--i){var a=n;(l=(s=e[i])-((n=a+s)-a))&&(e[--r]=n,n=l)}var o=0;for(i=r;i<t;++i){var s,l;(l=(s=n)-((n=(a=e[i])+s)-a))&&(e[o++]=l)}return e[o++]=n,e.length=o,e}t.exports=r},{}],335:[function(e,t,n){"use strict";var r=e("two-product"),i=e("robust-sum"),a=e("robust-scale"),o=e("robust-compress"),s=6;function l(e,t){for(var n=new Array(e.length-1),r=1;r<e.length;++r)for(var i=n[r-1]=new Array(e.length-1),a=0,o=0;a<e.length;++a)a!==t&&(i[o++]=e[r][a]);return n}function u(e){for(var t=new Array(e),n=0;n<e;++n){t[n]=new Array(e);for(var r=0;r<e;++r)t[n][r]=["m[",n,"][",r,"]"].join("")}return t}function c(e){return 1&e?"-":""}function f(e){if(1===e.length)return e[0];if(2===e.length)return["sum(",e[0],",",e[1],")"].join("");var t=e.length>>1;return["sum(",f(e.slice(0,t)),",",f(e.slice(t)),")"].join("")}function d(e){if(2===e.length)return["sum(prod(",e[0][0],",",e[1][1],"),prod(-",e[0][1],",",e[1][0],"))"].join("");for(var t=[],n=0;n<e.length;++n)t.push(["scale(",d(l(e,n)),",",c(n),e[0][n],")"].join(""));return f(t)}function h(e){return new Function("sum","scale","prod","compress",["function robustDeterminant",e,"(m){return compress(",d(u(e)),")};return robustDeterminant",e].join(""))(i,a,r,o)}var p=[function(){return[0]},function(e){return[e[0][0]]}];function g(){for(;p.length<s;)p.push(h(p.length));for(var e=[],n=["function robustDeterminant(m){switch(m.length){"],r=0;r<s;++r)e.push("det"+r),n.push("case ",r,":return det",r,"(m);");n.push("}var det=CACHE[m.length];if(!det)det=CACHE[m.length]=gen(m.length);return det(m);}return robustDeterminant"),e.push("CACHE","gen",n.join(""));var i=Function.apply(void 0,e);for(t.exports=i.apply(void 0,p.concat([p,h])),r=0;r<p.length;++r)t.exports[r]=p[r]}g()},{"robust-compress":334,"robust-scale":341,"robust-sum":344,"two-product":364}],336:[function(e,t,n){"use strict";var r=e("two-product"),i=e("robust-sum");function a(e,t){for(var n=r(e[0],t[0]),a=1;a<e.length;++a)n=i(n,r(e[a],t[a]));return n}t.exports=a},{"robust-sum":344,"two-product":364}],337:[function(e,t,n){"use strict";var r=e("two-product"),i=e("robust-sum"),a=e("robust-subtract"),o=e("robust-scale"),s=6;function l(e,t){for(var n=new Array(e.length-1),r=1;r<e.length;++r)for(var i=n[r-1]=new Array(e.length-1),a=0,o=0;a<e.length;++a)a!==t&&(i[o++]=e[r][a]);return n}function u(e){for(var t=new Array(e),n=0;n<e;++n){t[n]=new Array(e);for(var r=0;r<e;++r)t[n][r]=["m",r,"[",e-n-2,"]"].join("")}return t}function c(e){if(1===e.length)return e[0];if(2===e.length)return["sum(",e[0],",",e[1],")"].join("");var t=e.length>>1;return["sum(",c(e.slice(0,t)),",",c(e.slice(t)),")"].join("")}function f(e,t){if("m"===e.charAt(0)){if("w"===t.charAt(0)){var n=e.split("[");return["w",t.substr(1),"m",n[0].substr(1)].join("")}return["prod(",e,",",t,")"].join("")}return f(t,e)}function d(e){return!0&e?"-":""}function h(e){if(2===e.length)return[["diff(",f(e[0][0],e[1][1]),",",f(e[1][0],e[0][1]),")"].join("")];for(var t=[],n=0;n<e.length;++n)t.push(["scale(",c(h(l(e,n))),",",d(n),e[0][n],")"].join(""));return t}function p(e,t){for(var n=[],r=0;r<t-2;++r)n.push(["prod(m",e,"[",r,"],m",e,"[",r,"])"].join(""));return c(n)}function g(e){for(var t=[],n=[],s=u(e),f=0;f<e;++f)s[0][f]="1",s[e-1][f]="w"+f;for(f=0;f<e;++f)0===(1&f)?t.push.apply(t,h(l(s,f))):n.push.apply(n,h(l(s,f)));var d=c(t),g=c(n),v="exactInSphere"+e,m=[];for(f=0;f<e;++f)m.push("m"+f);var y=["function ",v,"(",m.join(),"){"];for(f=0;f<e;++f){y.push("var w",f,"=",p(f,e),";");for(var b=0;b<e;++b)b!==f&&y.push("var w",f,"m",b,"=scale(w",f,",m",b,"[0]);")}return y.push("var p=",d,",n=",g,",d=diff(p,n);return d[d.length-1];}return ",v),new Function("sum","diff","prod","scale",y.join(""))(i,a,r,o)}function v(){return 0}function m(){return 0}function y(){return 0}var b=[v,m,y];function x(e){var t=b[e.length];return t||(t=b[e.length]=g(e.length)),t.apply(void 0,e)}function _(){for(;b.length<=s;)b.push(g(b.length));for(var e=[],n=["slow"],r=0;r<=s;++r)e.push("a"+r),n.push("o"+r);var i=["function testInSphere(",e.join(),"){switch(arguments.length){case 0:case 1:return 0;"];for(r=2;r<=s;++r)i.push("case ",r,":return o",r,"(",e.slice(0,r).join(),");");i.push("}var s=new Array(arguments.length);for(var i=0;i<arguments.length;++i){s[i]=arguments[i]};return slow(s);}return testInSphere"),n.push(i.join(""));var a=Function.apply(void 0,n);for(t.exports=a.apply(void 0,[x].concat(b)),r=0;r<=s;++r)t.exports[r]=b[r]}_()},{"robust-scale":341,"robust-subtract":343,"robust-sum":344,"two-product":364}],338:[function(e,t,n){"use strict";var r=e("robust-determinant"),i=6;function a(e){for(var t="robustLinearSolve"+e+"d",n=["function ",t,"(A,b){return ["],i=0;i<e;++i){n.push("det([");for(var a=0;a<e;++a){a>0&&n.push(","),n.push("[");for(var o=0;o<e;++o)o>0&&n.push(","),o===i?n.push("+b[",a,"]"):n.push("+A[",a,"][",o,"]");n.push("]")}n.push("]),")}n.push("det(A)]}return ",t);var s=new Function("det",n.join(""));return s(e<6?r[e]:r)}function o(){return[0]}function s(e,t){return[[t[0]],[e[0][0]]]}var l=[o,s];function u(){for(;l.length<i;)l.push(a(l.length));for(var e=[],n=["function dispatchLinearSolve(A,b){switch(A.length){"],r=0;r<i;++r)e.push("s"+r),n.push("case ",r,":return s",r,"(A,b);");n.push("}var s=CACHE[A.length];if(!s)s=CACHE[A.length]=g(A.length);return s(A,b)}return dispatchLinearSolve"),e.push("CACHE","g",n.join(""));var o=Function.apply(void 0,e);for(t.exports=o.apply(void 0,l.concat([l,a])),r=0;r<i;++r)t.exports[r]=l[r]}u()},{"robust-determinant":335}],339:[function(e,t,n){"use strict";var r=e("two-product"),i=e("robust-sum"),a=e("robust-scale"),o=e("robust-subtract"),s=5,l=11102230246251565e-32,u=(3+16*l)*l,c=(7+56*l)*l;function f(e,t){for(var n=new Array(e.length-1),r=1;r<e.length;++r)for(var i=n[r-1]=new Array(e.length-1),a=0,o=0;a<e.length;++a)a!==t&&(i[o++]=e[r][a]);return n}function d(e){for(var t=new Array(e),n=0;n<e;++n){t[n]=new Array(e);for(var r=0;r<e;++r)t[n][r]=["m",r,"[",e-n-1,"]"].join("")}return t}function h(e){return 1&e?"-":""}function p(e){if(1===e.length)return e[0];if(2===e.length)return["sum(",e[0],",",e[1],")"].join("");var t=e.length>>1;return["sum(",p(e.slice(0,t)),",",p(e.slice(t)),")"].join("")}function g(e){if(2===e.length)return[["sum(prod(",e[0][0],",",e[1][1],"),prod(-",e[0][1],",",e[1][0],"))"].join("")];for(var t=[],n=0;n<e.length;++n)t.push(["scale(",p(g(f(e,n))),",",h(n),e[0][n],")"].join(""));return t}function v(e){for(var t=[],n=[],s=d(e),l=[],u=0;u<e;++u)0===(1&u)?t.push.apply(t,g(f(s,u))):n.push.apply(n,g(f(s,u))),l.push("m"+u);var c=p(t),h=p(n),v="orientation"+e+"Exact",m=["function ",v,"(",l.join(),"){var p=",c,",n=",h,",d=sub(p,n);return d[d.length-1];};return ",v].join("");return new Function("sum","prod","scale","sub",m)(i,r,a,o)}var m=v(3),y=v(4),b=[function(){return 0},function(){return 0},function(e,t){return t[0]-e[0]},function(e,t,n){var r,i=(e[1]-n[1])*(t[0]-n[0]),a=(e[0]-n[0])*(t[1]-n[1]),o=i-a;if(i>0){if(a<=0)return o;r=i+a}else{if(!(i<0))return o;if(a>=0)return o;r=-(i+a)}var s=u*r;return o>=s||o<=-s?o:m(e,t,n)},function(e,t,n,r){var i=e[0]-r[0],a=t[0]-r[0],o=n[0]-r[0],s=e[1]-r[1],l=t[1]-r[1],u=n[1]-r[1],f=e[2]-r[2],d=t[2]-r[2],h=n[2]-r[2],p=a*u,g=o*l,v=o*s,m=i*u,b=i*l,x=a*s,_=f*(p-g)+d*(v-m)+h*(b-x),w=(Math.abs(p)+Math.abs(g))*Math.abs(f)+(Math.abs(v)+Math.abs(m))*Math.abs(d)+(Math.abs(b)+Math.abs(x))*Math.abs(h),k=c*w;return _>k||-_>k?_:y(e,t,n,r)}];function x(e){var t=b[e.length];return t||(t=b[e.length]=v(e.length)),t.apply(void 0,e)}function _(){for(;b.length<=s;)b.push(v(b.length));for(var e=[],n=["slow"],r=0;r<=s;++r)e.push("a"+r),n.push("o"+r);var i=["function getOrientation(",e.join(),"){switch(arguments.length){case 0:case 1:return 0;"];for(r=2;r<=s;++r)i.push("case ",r,":return o",r,"(",e.slice(0,r).join(),");");i.push("}var s=new Array(arguments.length);for(var i=0;i<arguments.length;++i){s[i]=arguments[i]};return slow(s);}return getOrientation"),n.push(i.join(""));var a=Function.apply(void 0,n);for(t.exports=a.apply(void 0,[x].concat(b)),r=0;r<=s;++r)t.exports[r]=b[r]}_()},{"robust-scale":341,"robust-subtract":343,"robust-sum":344,"two-product":364}],340:[function(e,t,n){"use strict";var r=e("robust-sum"),i=e("robust-scale");function a(e,t){if(1===e.length)return i(t,e[0]);if(1===t.length)return i(e,t[0]);if(0===e.length||0===t.length)return[0];var n=[0];if(e.length<t.length)for(var a=0;a<e.length;++a)n=r(n,i(t,e[a]));else for(a=0;a<t.length;++a)n=r(n,i(e,t[a]));return n}t.exports=a},{"robust-scale":341,"robust-sum":344}],341:[function(e,t,n){"use strict";var r=e("two-product"),i=e("two-sum");function a(e,t){var n=e.length;if(1===n){var a=r(e[0],t);return a[0]?a:[a[1]]}var o=new Array(2*n),s=[.1,.1],l=[.1,.1],u=0;r(e[0],t,s),s[0]&&(o[u++]=s[0]);for(var c=1;c<n;++c){r(e[c],t,l);var f=s[1];i(f,l[0],s),s[0]&&(o[u++]=s[0]);var d=l[1],h=s[1],p=d+h,g=h-(p-d);s[1]=p,g&&(o[u++]=g)}return s[1]&&(o[u++]=s[1]),0===u&&(o[u++]=0),o.length=u,o}t.exports=a},{"two-product":364,"two-sum":365}],342:[function(e,t,n){"use strict";t.exports=a;var r=e("robust-orientation")[3];function i(e,t,n,r){for(var i=0;i<2;++i){var a=e[i],o=t[i],s=Math.min(a,o),l=Math.max(a,o),u=n[i],c=r[i],f=Math.min(u,c);if(Math.max(u,c)<s||l<f)return!1}return!0}function a(e,t,n,a){var o=r(e,n,a),s=r(t,n,a);if(o>0&&s>0||o<0&&s<0)return!1;var l=r(n,e,t),u=r(a,e,t);return!(l>0&&u>0||l<0&&u<0)&&(0!==o||0!==s||0!==l||0!==u||i(e,t,n,a))}},{"robust-orientation":339}],343:[function(e,t,n){"use strict";function r(e,t){var n=e+t,r=n-e,i=e-(n-r)+(t-r);return i?[i,n]:[n]}function i(e,t){var n=0|e.length,i=0|t.length;if(1===n&&1===i)return r(e[0],-t[0]);var a,o,s=new Array(n+i),l=0,u=0,c=0,f=Math.abs,d=e[u],h=f(d),p=-t[c],g=f(p);h<g?(o=d,(u+=1)<n&&(h=f(d=e[u]))):(o=p,(c+=1)<i&&(g=f(p=-t[c]))),u<n&&h<g||c>=i?(a=d,(u+=1)<n&&(h=f(d=e[u]))):(a=p,(c+=1)<i&&(g=f(p=-t[c])));for(var v,m,y=a+o,b=y-a,x=o-b,_=x,w=y;u<n&&c<i;)h<g?(a=d,(u+=1)<n&&(h=f(d=e[u]))):(a=p,(c+=1)<i&&(g=f(p=-t[c]))),(x=(o=_)-(b=(y=a+o)-a))&&(s[l++]=x),_=w-((v=w+y)-(m=v-w))+(y-m),w=v;for(;u<n;)(x=(o=_)-(b=(y=(a=d)+o)-a))&&(s[l++]=x),_=w-((v=w+y)-(m=v-w))+(y-m),w=v,(u+=1)<n&&(d=e[u]);for(;c<i;)(x=(o=_)-(b=(y=(a=p)+o)-a))&&(s[l++]=x),_=w-((v=w+y)-(m=v-w))+(y-m),w=v,(c+=1)<i&&(p=-t[c]);return _&&(s[l++]=_),w&&(s[l++]=w),l||(s[l++]=0),s.length=l,s}t.exports=i},{}],344:[function(e,t,n){"use strict";function r(e,t){var n=e+t,r=n-e,i=e-(n-r)+(t-r);return i?[i,n]:[n]}function i(e,t){var n=0|e.length,i=0|t.length;if(1===n&&1===i)return r(e[0],t[0]);var a,o,s=new Array(n+i),l=0,u=0,c=0,f=Math.abs,d=e[u],h=f(d),p=t[c],g=f(p);h<g?(o=d,(u+=1)<n&&(h=f(d=e[u]))):(o=p,(c+=1)<i&&(g=f(p=t[c]))),u<n&&h<g||c>=i?(a=d,(u+=1)<n&&(h=f(d=e[u]))):(a=p,(c+=1)<i&&(g=f(p=t[c])));for(var v,m,y=a+o,b=y-a,x=o-b,_=x,w=y;u<n&&c<i;)h<g?(a=d,(u+=1)<n&&(h=f(d=e[u]))):(a=p,(c+=1)<i&&(g=f(p=t[c]))),(x=(o=_)-(b=(y=a+o)-a))&&(s[l++]=x),_=w-((v=w+y)-(m=v-w))+(y-m),w=v;for(;u<n;)(x=(o=_)-(b=(y=(a=d)+o)-a))&&(s[l++]=x),_=w-((v=w+y)-(m=v-w))+(y-m),w=v,(u+=1)<n&&(d=e[u]);for(;c<i;)(x=(o=_)-(b=(y=(a=p)+o)-a))&&(s[l++]=x),_=w-((v=w+y)-(m=v-w))+(y-m),w=v,(c+=1)<i&&(p=t[c]);return _&&(s[l++]=_),w&&(s[l++]=w),l||(s[l++]=0),s.length=l,s}t.exports=i},{}],345:[function(e,t,n){"use strict";t.exports=function(e){return e<0?-1:e>0?1:0}},{}],346:[function(e,t,n){"use strict";t.exports=a;var r=e("boundary-cells"),i=e("reduce-simplicial-complex");function a(e){return i(r(e))}},{"boundary-cells":39,"reduce-simplicial-complex":331}],347:[function(e,t,n){"use strict";t.exports=h;var r=e("ndarray"),i=e("typedarray-pool"),a=e("ndarray-sort"),o=e("./lib/codegen");function s(e){for(var t=e.length,n=0,r=0;r<t;++r)n=0|Math.max(n,e[r].length);return n-1}function l(e,t){for(var n=e.length,r=i.mallocUint8(n),a=0;a<n;++a)r[a]=e[a]<t|0;return r}function u(e,t){for(var n=e.length,o=t*(t+1)/2*n|0,s=i.mallocUint32(2*o),l=0,u=0;u<n;++u)for(var c=e[u],f=(t=c.length,0);f<t;++f)for(var d=0;d<f;++d){var h=c[d],p=c[f];s[l++]=0|Math.min(h,p),s[l++]=0|Math.max(h,p)}a(r(s,[l/2|0,2]));var g=2;for(u=2;u<l;u+=2)s[u-2]===s[u]&&s[u-1]===s[u+1]||(s[g++]=s[u],s[g++]=s[u+1]);return r(s,[g/2|0,2])}function c(e,t,n,a){for(var o=e.data,s=e.shape[0],l=i.mallocDouble(s),u=0,c=0;c<s;++c){var f=o[2*c],d=o[2*c+1];if(n[f]!==n[d]){var h=t[f],p=t[d];o[2*u]=f,o[2*u+1]=d,l[u++]=(p-a)/(p-h)}}return e.shape[0]=u,r(l,[u])}function f(e,t){var n=i.mallocInt32(2*t),r=e.shape[0],a=e.data;n[0]=0;for(var o=0,s=0;s<r;++s){var l=a[2*s];if(l!==o){for(n[2*o+1]=s;++o<l;)n[2*o]=s,n[2*o+1]=s;n[2*o]=s}}for(n[2*o+1]=r;++o<t;)n[2*o]=n[2*o+1]=r;return n}function d(e){for(var t=0|e.shape[0],n=e.data,r=new Array(t),i=0;i<t;++i)r[i]=[n[2*i],n[2*i+1]];return r}function h(e,t,n,r){if(n=n||0,"undefined"===typeof r&&(r=s(e)),0===e.length||r<1)return{cells:[],vertexIds:[],vertexWeights:[]};var a=l(t,+n),h=u(e,r),p=c(h,t,a,+n),g=f(h,0|t.length),v=o(r)(e,h.data,g,a),m=d(h),y=[].slice.call(p.data,0,p.shape[0]);return i.free(a),i.free(h.data),i.free(p.data),i.free(g),{cells:v,vertexIds:m,vertexWeights:y}}},{"./lib/codegen":348,ndarray:301,"ndarray-sort":300,"typedarray-pool":366}],348:[function(e,t,n){"use strict";t.exports=s;var r=e("typedarray-pool"),i=e("marching-simplex-table"),a={};function o(e){var t=0,n=new Array(e+1);n[0]=[[]];for(var a=1;a<=e;++a)for(var o=n[a]=i(a),s=0;s<o.length;++s)t=Math.max(t,o[a].length);var l=["function B(C,E,i,j){","var a=Math.min(i,j)|0,b=Math.max(i,j)|0,l=C[2*a],h=C[2*a+1];","while(l<h){","var m=(l+h)>>1,v=E[2*m+1];","if(v===b){return m}","if(b<v){h=m}else{l=m+1}","}","return l;","};","function getContour",e,"d(F,E,C,S){","var n=F.length,R=[];","for(var i=0;i<n;++i){var c=F[i],l=c.length;"];function u(e){if(!(e.length<=0)){l.push("R.push(");for(var t=0;t<e.length;++t){var n=e[t];t>0&&l.push(","),l.push("[");for(var r=0;r<n.length;++r){var i=n[r];r>0&&l.push(","),l.push("B(C,E,c[",i[0],"],c[",i[1],"])")}l.push("]")}l.push(");")}}for(a=e+1;a>1;--a){a<e+1&&l.push("else "),l.push("if(l===",a,"){");var c=[];for(s=0;s<a;++s)c.push("(S[c["+s+"]]<<"+s+")");for(l.push("var M=",c.join("+"),";if(M===0||M===",(1<<a)-1,"){continue}switch(M){"),o=n[a-1],s=0;s<o.length;++s)l.push("case ",s,":"),u(o[s]),l.push("break;");l.push("}}")}return l.push("}return R;};return getContour",e,"d"),new Function("pool",l.join(""))(r)}function s(e){var t=a[e];return t||(t=a[e]=o(e)),t}},{"marching-simplex-table":281,"typedarray-pool":366}],349:[function(e,t,n){"use strict";var r=e("bit-twiddle"),i=e("union-find");function a(e){for(var t=0,n=Math.max,r=0,i=e.length;r<i;++r)t=n(t,e[r].length);return t-1}function o(e){for(var t=-1,n=Math.max,r=0,i=e.length;r<i;++r)for(var a=e[r],o=0,s=a.length;o<s;++o)t=n(t,a[o]);return t+1}function s(e){for(var t=new Array(e.length),n=0,r=e.length;n<r;++n)t[n]=e[n].slice(0);return t}function l(e,t){var n=e.length,r=e.length-t.length,i=Math.min;if(r)return r;switch(n){case 0:return 0;case 1:return e[0]-t[0];case 2:return(s=e[0]+e[1]-t[0]-t[1])||i(e[0],e[1])-i(t[0],t[1]);case 3:var a=e[0]+e[1],o=t[0]+t[1];if(s=a+e[2]-(o+t[2]))return s;var s,l=i(e[0],e[1]),u=i(t[0],t[1]);return(s=i(l,e[2])-i(u,t[2]))||i(l+e[2],a)-i(u+t[2],o);default:var c=e.slice(0);c.sort();var f=t.slice(0);f.sort();for(var d=0;d<n;++d)if(r=c[d]-f[d])return r;return 0}}function u(e,t){return l(e[0],t[0])}function c(e,t){if(t){for(var n=e.length,r=new Array(n),i=0;i<n;++i)r[i]=[e[i],t[i]];for(r.sort(u),i=0;i<n;++i)e[i]=r[i][0],t[i]=r[i][1];return e}return e.sort(l),e}function f(e){if(0===e.length)return[];for(var t=1,n=e.length,r=1;r<n;++r){var i=e[r];if(l(i,e[r-1])){if(r===t){t++;continue}e[t++]=i}}return e.length=t,e}function d(e,t){for(var n=0,r=e.length-1,i=-1;n<=r;){var a=n+r>>1,o=l(e[a],t);o<=0?(0===o&&(i=a),n=a+1):o>0&&(r=a-1)}return i}function h(e,t){for(var n=new Array(e.length),i=0,a=n.length;i<a;++i)n[i]=[];for(var o=[],s=(i=0,t.length);i<s;++i)for(var u=t[i],c=u.length,f=1,h=1<<c;f<h;++f){o.length=r.popCount(f);for(var p=0,g=0;g<c;++g)f&1<<g&&(o[p++]=u[g]);var v=d(e,o);if(!(v<0))for(;n[v++].push(i),!(v>=e.length||0!==l(e[v],o)););}return n}function p(e,t){if(!t)return h(f(v(e,0)),e,0);for(var n=new Array(t),r=0;r<t;++r)n[r]=[];r=0;for(var i=e.length;r<i;++r)for(var a=e[r],o=0,s=a.length;o<s;++o)n[a[o]].push(r);return n}function g(e){for(var t=[],n=0,r=e.length;n<r;++n)for(var i=e[n],a=0|i.length,o=1,s=1<<a;o<s;++o){for(var l=[],u=0;u<a;++u)o>>>u&1&&l.push(i[u]);t.push(l)}return c(t)}function v(e,t){if(t<0)return[];for(var n=[],i=(1<<t+1)-1,a=0;a<e.length;++a)for(var o=e[a],s=i;s<1<<o.length;s=r.nextCombination(s)){for(var l=new Array(t+1),u=0,f=0;f<o.length;++f)s&1<<f&&(l[u++]=o[f]);n.push(l)}return c(n)}function m(e){for(var t=[],n=0,r=e.length;n<r;++n)for(var i=e[n],a=0,o=i.length;a<o;++a){for(var s=new Array(i.length-1),l=0,u=0;l<o;++l)l!==a&&(s[u++]=i[l]);t.push(s)}return c(t)}function y(e,t){for(var n=new i(t),r=0;r<e.length;++r)for(var a=e[r],o=0;o<a.length;++o)for(var s=o+1;s<a.length;++s)n.link(a[o],a[s]);var l=[],u=n.ranks;for(r=0;r<u.length;++r)u[r]=-1;for(r=0;r<e.length;++r){var c=n.find(e[r][0]);u[c]<0?(u[c]=l.length,l.push([e[r].slice(0)])):l[u[c]].push(e[r].slice(0))}return l}function b(e){for(var t=f(c(v(e,0))),n=new i(t.length),r=0;r<e.length;++r)for(var a=e[r],o=0;o<a.length;++o)for(var s=d(t,[a[o]]),l=o+1;l<a.length;++l)n.link(s,d(t,[a[l]]));var u=[],h=n.ranks;for(r=0;r<h.length;++r)h[r]=-1;for(r=0;r<e.length;++r){var p=n.find(d(t,[e[r][0]]));h[p]<0?(h[p]=u.length,u.push([e[r].slice(0)])):u[h[p]].push(e[r].slice(0))}return u}function x(e,t){return t?y(e,t):b(e)}n.dimension=a,n.countVertices=o,n.cloneCells=s,n.compareCells=l,n.normalize=c,n.unique=f,n.findCell=d,n.incidence=h,n.dual=p,n.explode=g,n.skeleton=v,n.boundary=m,n.connectedComponents=x},{"bit-twiddle":37,"union-find":367}],350:[function(e,t,n){arguments[4][37][0].apply(n,arguments)},{dup:37}],351:[function(e,t,n){arguments[4][349][0].apply(n,arguments)},{"bit-twiddle":350,dup:349,"union-find":352}],352:[function(e,t,n){"use strict";function r(e){this.roots=new Array(e),this.ranks=new Array(e);for(var t=0;t<e;++t)this.roots[t]=t,this.ranks[t]=0}t.exports=r,r.prototype.length=function(){return this.roots.length},r.prototype.makeSet=function(){var e=this.roots.length;return this.roots.push(e),this.ranks.push(0),e},r.prototype.find=function(e){for(var t=this.roots;t[e]!==e;){var n=t[e];t[e]=t[n],e=n}return e},r.prototype.link=function(e,t){var n=this.find(e),r=this.find(t);if(n!==r){var i=this.ranks,a=this.roots,o=i[n],s=i[r];o<s?a[n]=r:s<o?a[r]=n:(a[r]=n,++i[n])}}},{}],353:[function(e,t,n){"use strict";t.exports=o;var r=e("robust-orientation"),i=e("simplicial-complex");function a(e,t,n){return Math.abs(r(e,t,n))/Math.sqrt(Math.pow(t[0]-n[0],2)+Math.pow(t[1]-n[1],2))}function o(e,t,n){for(var r=t.length,o=e.length,s=new Array(r),l=new Array(r),u=new Array(r),c=new Array(r),f=0;f<r;++f)s[f]=l[f]=-1,u[f]=1/0,c[f]=!1;for(f=0;f<o;++f){var d=e[f];if(2!==d.length)throw new Error("Input must be a graph");var h=d[1],p=d[0];-1!==l[p]?l[p]=-2:l[p]=h,-1!==s[h]?s[h]=-2:s[h]=p}function g(e){if(c[e])return 1/0;var n=s[e],r=l[e];return n<0||r<0?1/0:a(t[e],t[n],t[r])}function v(e,t){var n=M[e],r=M[t];M[e]=r,M[t]=n,T[n]=t,T[r]=e}function m(e){return u[M[e]]}function y(e){return 1&e?e-1>>1:(e>>1)-1}function b(e){for(var t=m(e);;){var n=t,r=2*e+1,i=2*(e+1),a=e;if(r<A){var o=m(r);o<n&&(a=r,n=o)}if(i<A&&m(i)<n&&(a=i),a===e)return e;v(e,a),e=a}}function x(e){for(var t=m(e);e>0;){var n=y(e);if(!(n>=0&&t<m(n)))return e;v(e,n),e=n}}function _(){if(A>0){var e=M[0];return v(0,A-1),A-=1,b(0),e}return-1}function w(e,t){var n=M[e];return u[n]===t?e:(u[n]=-1/0,x(e),_(),u[n]=t,x((A+=1)-1))}function k(e){if(!c[e]){c[e]=!0;var t=s[e],n=l[e];s[n]>=0&&(s[n]=t),l[t]>=0&&(l[t]=n),T[t]>=0&&w(T[t],g(t)),T[n]>=0&&w(T[n],g(n))}}var M=[],T=new Array(r);for(f=0;f<r;++f)(u[f]=g(f))<1/0?(T[f]=M.length,M.push(f)):T[f]=-1;var A=M.length;for(f=A>>1;f>=0;--f)b(f);for(;;){var E=_();if(E<0||u[E]>n)break;k(E)}var S=[];for(f=0;f<r;++f)c[f]||(T[f]=S.length,S.push(t[f].slice()));function O(e,t){if(e[t]<0)return t;var n=t,r=t;do{var i=e[r];if(!c[r]||i<0||i===r)break;if(i=e[r=i],!c[r]||i<0||i===r)break;r=i,n=e[n]}while(n!==r);for(var a=t;a!==r;a=e[a])e[a]=r;return r}S.length;var C=[];return e.forEach((function(e){var t=O(s,e[0]),n=O(l,e[1]);if(t>=0&&n>=0&&t!==n){var r=T[t],i=T[n];r!==i&&C.push([r,i])}})),i.unique(i.normalize(C)),{positions:S,edges:C}}},{"robust-orientation":339,"simplicial-complex":351}],354:[function(e,t,n){"use strict";t.exports=a;var r=e("robust-orientation");function i(e,t){var n,i,a,o;if(t[0][0]<t[1][0])n=t[0],i=t[1];else{if(!(t[0][0]>t[1][0])){var s=Math.min(e[0][1],e[1][1]),l=Math.max(e[0][1],e[1][1]),u=Math.min(t[0][1],t[1][1]),c=Math.max(t[0][1],t[1][1]);return l<u?l-u:s>c?s-c:l-c}n=t[1],i=t[0]}e[0][1]<e[1][1]?(a=e[0],o=e[1]):(a=e[1],o=e[0]);var f=r(i,n,a);return f||(f=r(i,n,o))||o-i}function a(e,t){var n,a,o,s;if(t[0][0]<t[1][0])n=t[0],a=t[1];else{if(!(t[0][0]>t[1][0]))return i(t,e);n=t[1],a=t[0]}if(e[0][0]<e[1][0])o=e[0],s=e[1];else{if(!(e[0][0]>e[1][0]))return-i(e,t);o=e[1],s=e[0]}var l=r(n,a,s),u=r(n,a,o);if(l<0){if(u<=0)return l}else if(l>0){if(u>=0)return l}else if(u)return u;if(l=r(s,o,a),u=r(s,o,n),l<0){if(u<=0)return l}else if(l>0){if(u>=0)return l}else if(u)return u;return a[0]-s[0]}},{"robust-orientation":339}],355:[function(e,t,n){arguments[4][93][0].apply(n,arguments)},{dup:93}],356:[function(e,t,n){"use strict";t.exports=d;var r=e("binary-search-bounds"),i=e("functional-red-black-tree"),a=e("robust-orientation"),o=e("./lib/order-segments");function s(e,t,n){this.slabs=e,this.coordinates=t,this.horizontal=n}function l(e,t){return e.y-t}function u(e,t){for(var n=null;e;){var r,i,o=e.key;o[0][0]<o[1][0]?(r=o[0],i=o[1]):(r=o[1],i=o[0]);var s=a(r,i,t);if(s<0)e=e.left;else if(s>0)if(t[0]!==o[1][0])n=e,e=e.right;else{if(l=u(e.right,t))return l;e=e.left}else{if(t[0]!==o[1][0])return e;var l;if(l=u(e.right,t))return l;e=e.left}}return n}function c(e,t,n,r){this.y=e,this.index=t,this.start=n,this.closed=r}function f(e,t,n,r){this.x=e,this.segment=t,this.create=n,this.index=r}function d(e){for(var t=e.length,n=2*t,r=new Array(n),a=0;a<t;++a){var l=e[a],u=l[0][0]<l[1][0];r[2*a]=new f(l[0][0],l,u,a),r[2*a+1]=new f(l[1][0],l,!u,a)}r.sort((function(e,t){var n=e.x-t.x;return n||(n=e.create-t.create)||Math.min(e.segment[0][1],e.segment[1][1])-Math.min(t.segment[0][1],t.segment[1][1])}));var d=i(o),h=[],p=[],g=[];for(a=0;a<n;){for(var v=r[a].x,m=[];a<n;){var y=r[a];if(y.x!==v)break;a+=1,y.segment[0][0]===y.x&&y.segment[1][0]===y.x?y.create&&(y.segment[0][1]<y.segment[1][1]?(m.push(new c(y.segment[0][1],y.index,!0,!0)),m.push(new c(y.segment[1][1],y.index,!1,!1))):(m.push(new c(y.segment[1][1],y.index,!0,!1)),m.push(new c(y.segment[0][1],y.index,!1,!0)))):d=y.create?d.insert(y.segment,y.index):d.remove(y.segment)}h.push(d.root),p.push(v),g.push(m)}return new s(h,p,g)}s.prototype.castUp=function(e){var t=r.le(this.coordinates,e[0]);if(t<0)return-1;this.slabs[t];var n=u(this.slabs[t],e),i=-1;if(n&&(i=n.value),this.coordinates[t]===e[0]){var s=null;if(n&&(s=n.key),t>0){var c=u(this.slabs[t-1],e);c&&(s?o(c.key,s)>0&&(s=c.key,i=c.value):(i=c.value,s=c.key))}var f=this.horizontal[t];if(f.length>0){var d=r.ge(f,e[1],l);if(d<f.length){var h=f[d];if(e[1]===h.y){if(h.closed)return h.index;for(;d<f.length-1&&f[d+1].y===e[1];)if((h=f[d+=1]).closed)return h.index;if(h.y===e[1]&&!h.start){if((d+=1)>=f.length)return i;h=f[d]}}if(h.start)if(s){var p=a(s[0],s[1],[e[0],h.y]);s[0][0]>s[1][0]&&(p=-p),p>0&&(i=h.index)}else i=h.index;else h.y!==e[1]&&(i=h.index)}}}return i}},{"./lib/order-segments":354,"binary-search-bounds":355,"functional-red-black-tree":94,"robust-orientation":339}],357:[function(e,t,n){"use strict";var r=e("robust-dot-product"),i=e("robust-sum");function a(e,t){var n=i(r(e,t),[t[t.length-1]]);return n[n.length-1]}function o(e,t,n,r){var i=-t/(r-t);i<0?i=0:i>1&&(i=1);for(var a=1-i,o=e.length,s=new Array(o),l=0;l<o;++l)s[l]=i*e[l]+a*n[l];return s}function s(e,t){for(var n=[],r=[],i=a(e[e.length-1],t),s=e[e.length-1],l=e[0],u=0;u<e.length;++u,s=l){var c=a(l=e[u],t);if(i<0&&c>0||i>0&&c<0){var f=o(s,c,l,i);n.push(f),r.push(f.slice())}c<0?r.push(l.slice()):c>0?n.push(l.slice()):(n.push(l.slice()),r.push(l.slice())),i=c}return{positive:n,negative:r}}function l(e,t){for(var n=[],r=a(e[e.length-1],t),i=e[e.length-1],s=e[0],l=0;l<e.length;++l,i=s){var u=a(s=e[l],t);(r<0&&u>0||r>0&&u<0)&&n.push(o(i,u,s,r)),u>=0&&n.push(s.slice()),r=u}return n}function u(e,t){for(var n=[],r=a(e[e.length-1],t),i=e[e.length-1],s=e[0],l=0;l<e.length;++l,i=s){var u=a(s=e[l],t);(r<0&&u>0||r>0&&u<0)&&n.push(o(i,u,s,r)),u<=0&&n.push(s.slice()),r=u}return n}t.exports=s,t.exports.positive=l,t.exports.negative=u},{"robust-dot-product":336,"robust-sum":344}],358:[function(t,n,r){!function(){"use strict";var t={not_string:/[^s]/,not_bool:/[^t]/,not_type:/[^T]/,not_primitive:/[^v]/,number:/[diefg]/,numeric_arg:/[bcdiefguxX]/,json:/[j]/,not_json:/[^j]/,text:/^[^\x25]+/,modulo:/^\x25{2}/,placeholder:/^\x25(?:([1-9]\d*)\$|\(([^)]+)\))?(\+)?(0|'[^$])?(-)?(\d+)?(?:\.(\d+))?([b-gijostTuvxX])/,key:/^([a-z_][a-z_\d]*)/i,key_access:/^\.([a-z_][a-z_\d]*)/i,index_access:/^\[(\d+)\]/,sign:/^[+-]/};function n(e){return a(s(e),arguments)}function i(e,t){return n.apply(null,[e].concat(t||[]))}function a(e,r){var i,a,o,s,l,u,c,f,d,h=1,p=e.length,g="";for(a=0;a<p;a++)if("string"===typeof e[a])g+=e[a];else if("object"===typeof e[a]){if((s=e[a]).keys)for(i=r[h],o=0;o<s.keys.length;o++){if(void 0==i)throw new Error(n('[sprintf] Cannot access property "%s" of undefined value "%s"',s.keys[o],s.keys[o-1]));i=i[s.keys[o]]}else i=s.param_no?r[s.param_no]:r[h++];if(t.not_type.test(s.type)&&t.not_primitive.test(s.type)&&i instanceof Function&&(i=i()),t.numeric_arg.test(s.type)&&"number"!==typeof i&&isNaN(i))throw new TypeError(n("[sprintf] expecting number but found %T",i));switch(t.number.test(s.type)&&(f=i>=0),s.type){case"b":i=parseInt(i,10).toString(2);break;case"c":i=String.fromCharCode(parseInt(i,10));break;case"d":case"i":i=parseInt(i,10);break;case"j":i=JSON.stringify(i,null,s.width?parseInt(s.width):0);break;case"e":i=s.precision?parseFloat(i).toExponential(s.precision):parseFloat(i).toExponential();break;case"f":i=s.precision?parseFloat(i).toFixed(s.precision):parseFloat(i);break;case"g":i=s.precision?String(Number(i.toPrecision(s.precision))):parseFloat(i);break;case"o":i=(parseInt(i,10)>>>0).toString(8);break;case"s":i=String(i),i=s.precision?i.substring(0,s.precision):i;break;case"t":i=String(!!i),i=s.precision?i.substring(0,s.precision):i;break;case"T":i=Object.prototype.toString.call(i).slice(8,-1).toLowerCase(),i=s.precision?i.substring(0,s.precision):i;break;case"u":i=parseInt(i,10)>>>0;break;case"v":i=i.valueOf(),i=s.precision?i.substring(0,s.precision):i;break;case"x":i=(parseInt(i,10)>>>0).toString(16);break;case"X":i=(parseInt(i,10)>>>0).toString(16).toUpperCase()}t.json.test(s.type)?g+=i:(!t.number.test(s.type)||f&&!s.sign?d="":(d=f?"+":"-",i=i.toString().replace(t.sign,"")),u=s.pad_char?"0"===s.pad_char?"0":s.pad_char.charAt(1):" ",c=s.width-(d+i).length,l=s.width&&c>0?u.repeat(c):"",g+=s.align?d+i+l:"0"===u?d+l+i:l+d+i)}return g}var o=Object.create(null);function s(e){if(o[e])return o[e];for(var n,r=e,i=[],a=0;r;){if(null!==(n=t.text.exec(r)))i.push(n[0]);else if(null!==(n=t.modulo.exec(r)))i.push("%");else{if(null===(n=t.placeholder.exec(r)))throw new SyntaxError("[sprintf] unexpected placeholder");if(n[2]){a|=1;var s=[],l=n[2],u=[];if(null===(u=t.key.exec(l)))throw new SyntaxError("[sprintf] failed to parse named argument key");for(s.push(u[1]);""!==(l=l.substring(u[0].length));)if(null!==(u=t.key_access.exec(l)))s.push(u[1]);else{if(null===(u=t.index_access.exec(l)))throw new SyntaxError("[sprintf] failed to parse named argument key");s.push(u[1])}n[2]=s}else a|=2;if(3===a)throw new Error("[sprintf] mixing positional and named placeholders is not (yet) supported");i.push({placeholder:n[0],param_no:n[1],keys:n[2],sign:n[3],pad_char:n[4],align:n[5],width:n[6],precision:n[7],type:n[8]})}r=r.substring(n[0].length)}return o[e]=i}"undefined"!==typeof r&&(r.sprintf=n,r.vsprintf=i),"undefined"!==typeof window&&(window.sprintf=n,window.vsprintf=i,"function"===typeof e&&e.amd&&e((function(){return{sprintf:n,vsprintf:i}})))}()},{}],359:[function(e,t,n){"use strict";t.exports=u;var r=e("ndarray-extract-contour"),i=e("triangulate-hypercube"),a=e("zero-crossings");function o(e,t){var n=e.length,a=["'use strict';"],o="surfaceNets"+e.join("_")+"d"+t;a.push("var contour=genContour({","order:[",e.join(),"],","scalarArguments: 3,","phase:function phaseFunc(p,a,b,c) { return (p > c)|0 },"),"generic"===t&&a.push("getters:[0],");for(var s=[],l=[],u=0;u<n;++u)s.push("d"+u),l.push("d"+u);for(u=0;u<1<<n;++u)s.push("v"+u),l.push("v"+u);for(u=0;u<1<<n;++u)s.push("p"+u),l.push("p"+u);s.push("a","b","c"),l.push("a","c"),a.push("vertex:function vertexFunc(",s.join(),"){");var c=[];for(u=0;u<1<<n;++u)c.push("(p"+u+"<<"+u+")");a.push("var m=(",c.join("+"),")|0;if(m===0||m===",(1<<(1<<n))-1,"){return}");var f=[],d=[];for(1<<(1<<n)<=128?(a.push("switch(m){"),d=a):a.push("switch(m>>>7){"),u=0;u<1<<(1<<n);++u){if(1<<(1<<n)>128&&u%128===0){f.length>0&&d.push("}}");var h="vExtra"+f.length;a.push("case ",u>>>7,":",h,"(m&0x7f,",l.join(),");break;"),d=["function ",h,"(m,",l.join(),"){switch(m){"],f.push(d)}d.push("case ",127&u,":");for(var p=new Array(n),g=new Array(n),v=new Array(n),m=new Array(n),y=0,b=0;b<n;++b)p[b]=[],g[b]=[],v[b]=0,m[b]=0;for(b=0;b<1<<n;++b)for(var x=0;x<n;++x){var _=b^1<<x;if(!(_>b)&&!(u&1<<_)!==!(u&1<<b)){var w=1;u&1<<_?g[x].push("v"+_+"-v"+b):(g[x].push("v"+b+"-v"+_),w=-w),w<0?(p[x].push("-v"+b+"-v"+_),v[x]+=2):(p[x].push("v"+b+"+v"+_),v[x]-=2),y+=1;for(var k=0;k<n;++k)k!==x&&(_&1<<k?m[k]+=1:m[k]-=1)}}var M=[];for(x=0;x<n;++x)if(0===p[x].length)M.push("d"+x+"-0.5");else{var T="";v[x]<0?T=v[x]+"*c":v[x]>0&&(T="+"+v[x]+"*c");var A=p[x].length/y*.5,E=.5+m[x]/y*.5;M.push("d"+x+"-"+E+"-"+A+"*("+p[x].join("+")+T+")/("+g[x].join("+")+")")}d.push("a.push([",M.join(),"]);","break;")}a.push("}},"),f.length>0&&d.push("}}");var S=[];for(u=0;u<1<<n-1;++u)S.push("v"+u);S.push("c0","c1","p0","p1","a","b","c"),a.push("cell:function cellFunc(",S.join(),"){");var O=i(n-1);for(a.push("if(p0){b.push(",O.map((function(e){return"["+e.map((function(e){return"v"+e}))+"]"})).join(),")}else{b.push(",O.map((function(e){var t=e.slice();return t.reverse(),"["+t.map((function(e){return"v"+e}))+"]"})).join(),")}}});function ",o,"(array,level){var verts=[],cells=[];contour(array,verts,cells,level);return {positions:verts,cells:cells};} return ",o,";"),u=0;u<f.length;++u)a.push(f[u].join(""));return new Function("genContour",a.join(""))(r)}function s(e,t){for(var n=a(e,t),r=n.length,i=new Array(r),o=new Array(r),s=0;s<r;++s)i[s]=[n[s]],o[s]=[s];return{positions:i,cells:o}}var l={};function u(e,t){if(e.dimension<=0)return{positions:[],cells:[]};if(1===e.dimension)return s(e,t);var n=e.order.join()+"-"+e.dtype,r=l[n];return t=+t||0,r||(r=l[n]=o(e.order,e.dtype)),r(e,t)}},{"ndarray-extract-contour":293,"triangulate-hypercube":362,"zero-crossings":377}],360:[function(t,n,r){!function(t){var r=/^\s+/,i=/\s+$/,a=0,o=t.round,s=t.min,l=t.max,u=t.random;function c(e,t){if(t=t||{},(e=e||"")instanceof c)return e;if(!(this instanceof c))return new c(e,t);var n=f(e);this._originalInput=e,this._r=n.r,this._g=n.g,this._b=n.b,this._a=n.a,this._roundA=o(100*this._a)/100,this._format=t.format||n.format,this._gradientType=t.gradientType,this._r<1&&(this._r=o(this._r)),this._g<1&&(this._g=o(this._g)),this._b<1&&(this._b=o(this._b)),this._ok=n.ok,this._tc_id=a++}function f(e){var t={r:0,g:0,b:0},n=1,r=null,i=null,a=null,o=!1,u=!1;return"string"==typeof e&&(e=Y(e)),"object"==typeof e&&(X(e.r)&&X(e.g)&&X(e.b)?(t=d(e.r,e.g,e.b),o=!0,u="%"===String(e.r).substr(-1)?"prgb":"rgb"):X(e.h)&&X(e.s)&&X(e.v)?(r=H(e.s),i=H(e.v),t=v(e.h,r,i),o=!0,u="hsv"):X(e.h)&&X(e.s)&&X(e.l)&&(r=H(e.s),a=H(e.l),t=p(e.h,r,a),o=!0,u="hsl"),e.hasOwnProperty("a")&&(n=e.a)),n=I(n),{ok:o,format:e.format||u,r:s(255,l(t.r,0)),g:s(255,l(t.g,0)),b:s(255,l(t.b,0)),a:n}}function d(e,t,n){return{r:255*N(e,255),g:255*N(t,255),b:255*N(n,255)}}function h(e,t,n){e=N(e,255),t=N(t,255),n=N(n,255);var r,i,a=l(e,t,n),o=s(e,t,n),u=(a+o)/2;if(a==o)r=i=0;else{var c=a-o;switch(i=u>.5?c/(2-a-o):c/(a+o),a){case e:r=(t-n)/c+(t<n?6:0);break;case t:r=(n-e)/c+2;break;case n:r=(e-t)/c+4}r/=6}return{h:r,s:i,l:u}}function p(e,t,n){var r,i,a;function o(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}if(e=N(e,360),t=N(t,100),n=N(n,100),0===t)r=i=a=n;else{var s=n<.5?n*(1+t):n+t-n*t,l=2*n-s;r=o(l,s,e+1/3),i=o(l,s,e),a=o(l,s,e-1/3)}return{r:255*r,g:255*i,b:255*a}}function g(e,t,n){e=N(e,255),t=N(t,255),n=N(n,255);var r,i,a=l(e,t,n),o=s(e,t,n),u=a,c=a-o;if(i=0===a?0:c/a,a==o)r=0;else{switch(a){case e:r=(t-n)/c+(t<n?6:0);break;case t:r=(n-e)/c+2;break;case n:r=(e-t)/c+4}r/=6}return{h:r,s:i,v:u}}function v(e,n,r){e=6*N(e,360),n=N(n,100),r=N(r,100);var i=t.floor(e),a=e-i,o=r*(1-n),s=r*(1-a*n),l=r*(1-(1-a)*n),u=i%6;return{r:255*[r,s,o,o,l,r][u],g:255*[l,r,r,s,o,o][u],b:255*[o,o,l,r,r,s][u]}}function m(e,t,n,r){var i=[V(o(e).toString(16)),V(o(t).toString(16)),V(o(n).toString(16))];return r&&i[0].charAt(0)==i[0].charAt(1)&&i[1].charAt(0)==i[1].charAt(1)&&i[2].charAt(0)==i[2].charAt(1)?i[0].charAt(0)+i[1].charAt(0)+i[2].charAt(0):i.join("")}function y(e,t,n,r,i){var a=[V(o(e).toString(16)),V(o(t).toString(16)),V(o(n).toString(16)),V(q(r))];return i&&a[0].charAt(0)==a[0].charAt(1)&&a[1].charAt(0)==a[1].charAt(1)&&a[2].charAt(0)==a[2].charAt(1)&&a[3].charAt(0)==a[3].charAt(1)?a[0].charAt(0)+a[1].charAt(0)+a[2].charAt(0)+a[3].charAt(0):a.join("")}function b(e,t,n,r){return[V(q(r)),V(o(e).toString(16)),V(o(t).toString(16)),V(o(n).toString(16))].join("")}function x(e,t){t=0===t?0:t||10;var n=c(e).toHsl();return n.s-=t/100,n.s=D(n.s),c(n)}function _(e,t){t=0===t?0:t||10;var n=c(e).toHsl();return n.s+=t/100,n.s=D(n.s),c(n)}function w(e){return c(e).desaturate(100)}function k(e,t){t=0===t?0:t||10;var n=c(e).toHsl();return n.l+=t/100,n.l=D(n.l),c(n)}function M(e,t){t=0===t?0:t||10;var n=c(e).toRgb();return n.r=l(0,s(255,n.r-o(-t/100*255))),n.g=l(0,s(255,n.g-o(-t/100*255))),n.b=l(0,s(255,n.b-o(-t/100*255))),c(n)}function T(e,t){t=0===t?0:t||10;var n=c(e).toHsl();return n.l-=t/100,n.l=D(n.l),c(n)}function A(e,t){var n=c(e).toHsl(),r=(n.h+t)%360;return n.h=r<0?360+r:r,c(n)}function E(e){var t=c(e).toHsl();return t.h=(t.h+180)%360,c(t)}function S(e){var t=c(e).toHsl(),n=t.h;return[c(e),c({h:(n+120)%360,s:t.s,l:t.l}),c({h:(n+240)%360,s:t.s,l:t.l})]}function O(e){var t=c(e).toHsl(),n=t.h;return[c(e),c({h:(n+90)%360,s:t.s,l:t.l}),c({h:(n+180)%360,s:t.s,l:t.l}),c({h:(n+270)%360,s:t.s,l:t.l})]}function C(e){var t=c(e).toHsl(),n=t.h;return[c(e),c({h:(n+72)%360,s:t.s,l:t.l}),c({h:(n+216)%360,s:t.s,l:t.l})]}function L(e,t,n){t=t||6,n=n||30;var r=c(e).toHsl(),i=360/n,a=[c(e)];for(r.h=(r.h-(i*t>>1)+720)%360;--t;)r.h=(r.h+i)%360,a.push(c(r));return a}function R(e,t){t=t||6;for(var n=c(e).toHsv(),r=n.h,i=n.s,a=n.v,o=[],s=1/t;t--;)o.push(c({h:r,s:i,v:a})),a=(a+s)%1;return o}c.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var e=this.toRgb();return(299*e.r+587*e.g+114*e.b)/1e3},getLuminance:function(){var e,n,r,i=this.toRgb();return e=i.r/255,n=i.g/255,r=i.b/255,.2126*(e<=.03928?e/12.92:t.pow((e+.055)/1.055,2.4))+.7152*(n<=.03928?n/12.92:t.pow((n+.055)/1.055,2.4))+.0722*(r<=.03928?r/12.92:t.pow((r+.055)/1.055,2.4))},setAlpha:function(e){return this._a=I(e),this._roundA=o(100*this._a)/100,this},toHsv:function(){var e=g(this._r,this._g,this._b);return{h:360*e.h,s:e.s,v:e.v,a:this._a}},toHsvString:function(){var e=g(this._r,this._g,this._b),t=o(360*e.h),n=o(100*e.s),r=o(100*e.v);return 1==this._a?"hsv("+t+", "+n+"%, "+r+"%)":"hsva("+t+", "+n+"%, "+r+"%, "+this._roundA+")"},toHsl:function(){var e=h(this._r,this._g,this._b);return{h:360*e.h,s:e.s,l:e.l,a:this._a}},toHslString:function(){var e=h(this._r,this._g,this._b),t=o(360*e.h),n=o(100*e.s),r=o(100*e.l);return 1==this._a?"hsl("+t+", "+n+"%, "+r+"%)":"hsla("+t+", "+n+"%, "+r+"%, "+this._roundA+")"},toHex:function(e){return m(this._r,this._g,this._b,e)},toHexString:function(e){return"#"+this.toHex(e)},toHex8:function(e){return y(this._r,this._g,this._b,this._a,e)},toHex8String:function(e){return"#"+this.toHex8(e)},toRgb:function(){return{r:o(this._r),g:o(this._g),b:o(this._b),a:this._a}},toRgbString:function(){return 1==this._a?"rgb("+o(this._r)+", "+o(this._g)+", "+o(this._b)+")":"rgba("+o(this._r)+", "+o(this._g)+", "+o(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:o(100*N(this._r,255))+"%",g:o(100*N(this._g,255))+"%",b:o(100*N(this._b,255))+"%",a:this._a}},toPercentageRgbString:function(){return 1==this._a?"rgb("+o(100*N(this._r,255))+"%, "+o(100*N(this._g,255))+"%, "+o(100*N(this._b,255))+"%)":"rgba("+o(100*N(this._r,255))+"%, "+o(100*N(this._g,255))+"%, "+o(100*N(this._b,255))+"%, "+this._roundA+")"},toName:function(){return 0===this._a?"transparent":!(this._a<1)&&(j[m(this._r,this._g,this._b,!0)]||!1)},toFilter:function(e){var t="#"+b(this._r,this._g,this._b,this._a),n=t,r=this._gradientType?"GradientType = 1, ":"";if(e){var i=c(e);n="#"+b(i._r,i._g,i._b,i._a)}return"progid:DXImageTransform.Microsoft.gradient("+r+"startColorstr="+t+",endColorstr="+n+")"},toString:function(e){var t=!!e;e=e||this._format;var n=!1,r=this._a<1&&this._a>=0;return t||!r||"hex"!==e&&"hex6"!==e&&"hex3"!==e&&"hex4"!==e&&"hex8"!==e&&"name"!==e?("rgb"===e&&(n=this.toRgbString()),"prgb"===e&&(n=this.toPercentageRgbString()),"hex"!==e&&"hex6"!==e||(n=this.toHexString()),"hex3"===e&&(n=this.toHexString(!0)),"hex4"===e&&(n=this.toHex8String(!0)),"hex8"===e&&(n=this.toHex8String()),"name"===e&&(n=this.toName()),"hsl"===e&&(n=this.toHslString()),"hsv"===e&&(n=this.toHsvString()),n||this.toHexString()):"name"===e&&0===this._a?this.toName():this.toRgbString()},clone:function(){return c(this.toString())},_applyModification:function(e,t){var n=e.apply(null,[this].concat([].slice.call(t)));return this._r=n._r,this._g=n._g,this._b=n._b,this.setAlpha(n._a),this},lighten:function(){return this._applyModification(k,arguments)},brighten:function(){return this._applyModification(M,arguments)},darken:function(){return this._applyModification(T,arguments)},desaturate:function(){return this._applyModification(x,arguments)},saturate:function(){return this._applyModification(_,arguments)},greyscale:function(){return this._applyModification(w,arguments)},spin:function(){return this._applyModification(A,arguments)},_applyCombination:function(e,t){return e.apply(null,[this].concat([].slice.call(t)))},analogous:function(){return this._applyCombination(L,arguments)},complement:function(){return this._applyCombination(E,arguments)},monochromatic:function(){return this._applyCombination(R,arguments)},splitcomplement:function(){return this._applyCombination(C,arguments)},triad:function(){return this._applyCombination(S,arguments)},tetrad:function(){return this._applyCombination(O,arguments)}},c.fromRatio=function(e,t){if("object"==typeof e){var n={};for(var r in e)e.hasOwnProperty(r)&&(n[r]="a"===r?e[r]:H(e[r]));e=n}return c(e,t)},c.equals=function(e,t){return!(!e||!t)&&c(e).toRgbString()==c(t).toRgbString()},c.random=function(){return c.fromRatio({r:u(),g:u(),b:u()})},c.mix=function(e,t,n){n=0===n?0:n||50;var r=c(e).toRgb(),i=c(t).toRgb(),a=n/100;return c({r:(i.r-r.r)*a+r.r,g:(i.g-r.g)*a+r.g,b:(i.b-r.b)*a+r.b,a:(i.a-r.a)*a+r.a})},c.readability=function(e,n){var r=c(e),i=c(n);return(t.max(r.getLuminance(),i.getLuminance())+.05)/(t.min(r.getLuminance(),i.getLuminance())+.05)},c.isReadable=function(e,t,n){var r,i,a=c.readability(e,t);switch(i=!1,(r=Z(n)).level+r.size){case"AAsmall":case"AAAlarge":i=a>=4.5;break;case"AAlarge":i=a>=3;break;case"AAAsmall":i=a>=7}return i},c.mostReadable=function(e,t,n){var r,i,a,o,s=null,l=0;i=(n=n||{}).includeFallbackColors,a=n.level,o=n.size;for(var u=0;u<t.length;u++)(r=c.readability(e,t[u]))>l&&(l=r,s=c(t[u]));return c.isReadable(e,s,{level:a,size:o})||!i?s:(n.includeFallbackColors=!1,c.mostReadable(e,["#fff","#000"],n))};var P=c.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},j=c.hexNames=z(P);function z(e){var t={};for(var n in e)e.hasOwnProperty(n)&&(t[e[n]]=n);return t}function I(e){return e=parseFloat(e),(isNaN(e)||e<0||e>1)&&(e=1),e}function N(e,n){B(e)&&(e="100%");var r=U(e);return e=s(n,l(0,parseFloat(e))),r&&(e=parseInt(e*n,10)/100),t.abs(e-n)<1e-6?1:e%n/parseFloat(n)}function D(e){return s(1,l(0,e))}function F(e){return parseInt(e,16)}function B(e){return"string"==typeof e&&-1!=e.indexOf(".")&&1===parseFloat(e)}function U(e){return"string"===typeof e&&-1!=e.indexOf("%")}function V(e){return 1==e.length?"0"+e:""+e}function H(e){return e<=1&&(e=100*e+"%"),e}function q(e){return t.round(255*parseFloat(e)).toString(16)}function W(e){return F(e)/255}var G=function(){var e="(?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?)",t="[\\s|\\(]+("+e+")[,|\\s]+("+e+")[,|\\s]+("+e+")\\s*\\)?",n="[\\s|\\(]+("+e+")[,|\\s]+("+e+")[,|\\s]+("+e+")[,|\\s]+("+e+")\\s*\\)?";return{CSS_UNIT:new RegExp(e),rgb:new RegExp("rgb"+t),rgba:new RegExp("rgba"+n),hsl:new RegExp("hsl"+t),hsla:new RegExp("hsla"+n),hsv:new RegExp("hsv"+t),hsva:new RegExp("hsva"+n),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}}();function X(e){return!!G.CSS_UNIT.exec(e)}function Y(e){e=e.replace(r,"").replace(i,"").toLowerCase();var t,n=!1;if(P[e])e=P[e],n=!0;else if("transparent"==e)return{r:0,g:0,b:0,a:0,format:"name"};return(t=G.rgb.exec(e))?{r:t[1],g:t[2],b:t[3]}:(t=G.rgba.exec(e))?{r:t[1],g:t[2],b:t[3],a:t[4]}:(t=G.hsl.exec(e))?{h:t[1],s:t[2],l:t[3]}:(t=G.hsla.exec(e))?{h:t[1],s:t[2],l:t[3],a:t[4]}:(t=G.hsv.exec(e))?{h:t[1],s:t[2],v:t[3]}:(t=G.hsva.exec(e))?{h:t[1],s:t[2],v:t[3],a:t[4]}:(t=G.hex8.exec(e))?{r:F(t[1]),g:F(t[2]),b:F(t[3]),a:W(t[4]),format:n?"name":"hex8"}:(t=G.hex6.exec(e))?{r:F(t[1]),g:F(t[2]),b:F(t[3]),format:n?"name":"hex"}:(t=G.hex4.exec(e))?{r:F(t[1]+""+t[1]),g:F(t[2]+""+t[2]),b:F(t[3]+""+t[3]),a:W(t[4]+""+t[4]),format:n?"name":"hex8"}:!!(t=G.hex3.exec(e))&&{r:F(t[1]+""+t[1]),g:F(t[2]+""+t[2]),b:F(t[3]+""+t[3]),format:n?"name":"hex"}}function Z(e){var t,n;return"AA"!==(t=((e=e||{level:"AA",size:"small"}).level||"AA").toUpperCase())&&"AAA"!==t&&(t="AA"),"small"!==(n=(e.size||"small").toLowerCase())&&"large"!==n&&(n="small"),{level:t,size:n}}"undefined"!==typeof n&&n.exports?n.exports=c:"function"===typeof e&&e.amd?e((function(){return c})):window.tinycolor=c}(Math)},{}],361:[function(e,t,n){"use strict";var r=e("parse-unit");t.exports=s;var i=96;function a(e,t){var n=r(getComputedStyle(e).getPropertyValue(t));return n[0]*s(n[1],e)}function o(e,t){var n=document.createElement("div");n.style["font-size"]="128"+e,t.appendChild(n);var r=a(n,"font-size")/128;return t.removeChild(n),r}function s(e,t){switch(t=t||document.body,e=(e||"px").trim().toLowerCase(),t!==window&&t!==document||(t=document.body),e){case"%":return t.clientHeight/100;case"ch":case"ex":return o(e,t);case"em":return a(t,"font-size");case"rem":return a(document.body,"font-size");case"vw":return window.innerWidth/100;case"vh":return window.innerHeight/100;case"vmin":return Math.min(window.innerWidth,window.innerHeight)/100;case"vmax":return Math.max(window.innerWidth,window.innerHeight)/100;case"in":return i;case"cm":return i/2.54;case"mm":return i/25.4;case"pt":return i/72;case"pc":return i/6}return 1}},{"parse-unit":308}],362:[function(e,t,n){"use strict";t.exports=o;var r=e("permutation-rank"),i=e("permutation-parity"),a=e("gamma");function o(e){if(e<0)return[];if(0===e)return[[0]];for(var t=0|Math.round(a(e+1)),n=[],o=0;o<t;++o){for(var s=r.unrank(e,o),l=[0],u=0,c=0;c<s.length;++c)u+=1<<s[c],l.push(u);i(s)<1&&(l[0]=u,l[e]=0),n.push(l)}return n}},{gamma:95,"permutation-parity":309,"permutation-rank":310}],363:[function(e,t,n){"use strict";t.exports=g;var r=e("filtered-vector"),i=e("gl-mat4/invert"),a=e("gl-mat4/rotate"),o=e("gl-vec3/cross"),s=e("gl-vec3/normalize"),l=e("gl-vec3/dot");function u(e,t,n){return Math.sqrt(Math.pow(e,2)+Math.pow(t,2)+Math.pow(n,2))}function c(e){return Math.min(1,Math.max(-1,e))}function f(e){var t=Math.abs(e[0]),n=Math.abs(e[1]),r=Math.abs(e[2]),i=[0,0,0];t>Math.max(n,r)?i[2]=1:n>Math.max(t,r)?i[0]=1:i[1]=1;for(var a=0,o=0,l=0;l<3;++l)a+=e[l]*e[l],o+=i[l]*e[l];for(l=0;l<3;++l)i[l]-=o/a*e[l];return s(i,i),i}function d(e,t,n,i,a,o,s,l){this.center=r(n),this.up=r(i),this.right=r(a),this.radius=r([o]),this.angle=r([s,l]),this.angle.bounds=[[-1/0,-Math.PI/2],[1/0,Math.PI/2]],this.setDistanceLimits(e,t),this.computedCenter=this.center.curve(0),this.computedUp=this.up.curve(0),this.computedRight=this.right.curve(0),this.computedRadius=this.radius.curve(0),this.computedAngle=this.angle.curve(0),this.computedToward=[0,0,0],this.computedEye=[0,0,0],this.computedMatrix=new Array(16);for(var u=0;u<16;++u)this.computedMatrix[u]=.5;this.recalcMatrix(0)}var h=d.prototype;h.setDistanceLimits=function(e,t){e=e>0?Math.log(e):-1/0,t=t>0?Math.log(t):1/0,t=Math.max(t,e),this.radius.bounds[0][0]=e,this.radius.bounds[1][0]=t},h.getDistanceLimits=function(e){var t=this.radius.bounds[0];return e?(e[0]=Math.exp(t[0][0]),e[1]=Math.exp(t[1][0]),e):[Math.exp(t[0][0]),Math.exp(t[1][0])]},h.recalcMatrix=function(e){this.center.curve(e),this.up.curve(e),this.right.curve(e),this.radius.curve(e),this.angle.curve(e);for(var t=this.computedUp,n=this.computedRight,r=0,i=0,a=0;a<3;++a)i+=t[a]*n[a],r+=t[a]*t[a];var l=Math.sqrt(r),c=0;for(a=0;a<3;++a)n[a]-=t[a]*i/r,c+=n[a]*n[a],t[a]/=l;var f=Math.sqrt(c);for(a=0;a<3;++a)n[a]/=f;var d=this.computedToward;o(d,t,n),s(d,d);var h=Math.exp(this.computedRadius[0]),p=this.computedAngle[0],g=this.computedAngle[1],v=Math.cos(p),m=Math.sin(p),y=Math.cos(g),b=Math.sin(g),x=this.computedCenter,_=v*y,w=m*y,k=b,M=-v*b,T=-m*b,A=y,E=this.computedEye,S=this.computedMatrix;for(a=0;a<3;++a){var O=_*n[a]+w*d[a]+k*t[a];S[4*a+1]=M*n[a]+T*d[a]+A*t[a],S[4*a+2]=O,S[4*a+3]=0}var C=S[1],L=S[5],R=S[9],P=S[2],j=S[6],z=S[10],I=L*z-R*j,N=R*P-C*z,D=C*j-L*P,F=u(I,N,D);for(I/=F,N/=F,D/=F,S[0]=I,S[4]=N,S[8]=D,a=0;a<3;++a)E[a]=x[a]+S[2+4*a]*h;for(a=0;a<3;++a){c=0;for(var B=0;B<3;++B)c+=S[a+4*B]*E[B];S[12+a]=-c}S[15]=1},h.getMatrix=function(e,t){this.recalcMatrix(e);var n=this.computedMatrix;if(t){for(var r=0;r<16;++r)t[r]=n[r];return t}return n};var p=[0,0,0];function g(e){var t=(e=e||{}).center||[0,0,0],n=e.up||[0,1,0],r=e.right||f(n),i=e.radius||1,a=e.theta||0,c=e.phi||0;if(t=[].slice.call(t,0,3),n=[].slice.call(n,0,3),s(n,n),r=[].slice.call(r,0,3),s(r,r),"eye"in e){var h=e.eye,p=[h[0]-t[0],h[1]-t[1],h[2]-t[2]];o(r,p,n),u(r[0],r[1],r[2])<1e-6?r=f(n):s(r,r),i=u(p[0],p[1],p[2]);var g=l(n,p)/i,v=l(r,p)/i;c=Math.acos(g),a=Math.acos(v)}return i=Math.log(i),new d(e.zoomMin,e.zoomMax,t,n,r,i,a,c)}h.rotate=function(e,t,n,r){if(this.angle.move(e,t,n),r){this.recalcMatrix(e);var i=this.computedMatrix;p[0]=i[2],p[1]=i[6],p[2]=i[10];for(var o=this.computedUp,s=this.computedRight,l=this.computedToward,u=0;u<3;++u)i[4*u]=o[u],i[4*u+1]=s[u],i[4*u+2]=l[u];for(a(i,i,r,p),u=0;u<3;++u)o[u]=i[4*u],s[u]=i[4*u+1];this.up.set(e,o[0],o[1],o[2]),this.right.set(e,s[0],s[1],s[2])}},h.pan=function(e,t,n,r){t=t||0,n=n||0,r=r||0,this.recalcMatrix(e);var i=this.computedMatrix,a=(Math.exp(this.computedRadius[0]),i[1]),o=i[5],s=i[9],l=u(a,o,s);a/=l,o/=l,s/=l;var c=i[0],f=i[4],d=i[8],h=c*a+f*o+d*s,p=u(c-=a*h,f-=o*h,d-=s*h),g=(c/=p)*t+a*n,v=(f/=p)*t+o*n,m=(d/=p)*t+s*n;this.center.move(e,g,v,m);var y=Math.exp(this.computedRadius[0]);y=Math.max(1e-4,y+r),this.radius.set(e,Math.log(y))},h.translate=function(e,t,n,r){this.center.move(e,t||0,n||0,r||0)},h.setMatrix=function(e,t,n,r){var a=1;"number"===typeof n&&(a=0|n),(a<0||a>3)&&(a=1);var o=(a+2)%3;t||(this.recalcMatrix(e),t=this.computedMatrix);var s=t[a],l=t[a+4],f=t[a+8];if(r){var d=Math.abs(s),h=Math.abs(l),p=Math.abs(f),g=Math.max(d,h,p);d===g?(s=s<0?-1:1,l=f=0):p===g?(f=f<0?-1:1,s=l=0):(l=l<0?-1:1,s=f=0)}else{var v=u(s,l,f);s/=v,l/=v,f/=v}var m,y,b=t[o],x=t[o+4],_=t[o+8],w=b*s+x*l+_*f,k=u(b-=s*w,x-=l*w,_-=f*w),M=l*(_/=k)-f*(x/=k),T=f*(b/=k)-s*_,A=s*x-l*b,E=u(M,T,A);if(M/=E,T/=E,A/=E,this.center.jump(e,q,W,G),this.radius.idle(e),this.up.jump(e,s,l,f),this.right.jump(e,b,x,_),2===a){var S=t[1],O=t[5],C=t[9],L=S*b+O*x+C*_,R=S*M+O*T+C*A;m=I<0?-Math.PI/2:Math.PI/2,y=Math.atan2(R,L)}else{var P=t[2],j=t[6],z=t[10],I=P*s+j*l+z*f,N=P*b+j*x+z*_,D=P*M+j*T+z*A;m=Math.asin(c(I)),y=Math.atan2(D,N)}this.angle.jump(e,y,m),this.recalcMatrix(e);var F=t[2],B=t[6],U=t[10],V=this.computedMatrix;i(V,t);var H=V[15],q=V[12]/H,W=V[13]/H,G=V[14]/H,X=Math.exp(this.computedRadius[0]);this.center.jump(e,q-F*X,W-B*X,G-U*X)},h.lastT=function(){return Math.max(this.center.lastT(),this.up.lastT(),this.right.lastT(),this.radius.lastT(),this.angle.lastT())},h.idle=function(e){this.center.idle(e),this.up.idle(e),this.right.idle(e),this.radius.idle(e),this.angle.idle(e)},h.flush=function(e){this.center.flush(e),this.up.flush(e),this.right.flush(e),this.radius.flush(e),this.angle.flush(e)},h.setDistance=function(e,t){t>0&&this.radius.set(e,Math.log(t))},h.lookAt=function(e,t,n,r){this.recalcMatrix(e),t=t||this.computedEye,n=n||this.computedCenter;var i=(r=r||this.computedUp)[0],a=r[1],o=r[2],s=u(i,a,o);if(!(s<1e-6)){i/=s,a/=s,o/=s;var l=t[0]-n[0],f=t[1]-n[1],d=t[2]-n[2],h=u(l,f,d);if(!(h<1e-6)){l/=h,f/=h,d/=h;var p=this.computedRight,g=p[0],v=p[1],m=p[2],y=i*g+a*v+o*m,b=u(g-=y*i,v-=y*a,m-=y*o);if(!(b<.01&&(b=u(g=a*d-o*f,v=o*l-i*d,m=i*f-a*l))<1e-6)){g/=b,v/=b,m/=b,this.up.set(e,i,a,o),this.right.set(e,g,v,m),this.center.set(e,n[0],n[1],n[2]),this.radius.set(e,Math.log(h));var x=a*m-o*v,_=o*g-i*m,w=i*v-a*g,k=u(x,_,w),M=i*l+a*f+o*d,T=g*l+v*f+m*d,A=(x/=k)*l+(_/=k)*f+(w/=k)*d,E=Math.asin(c(M)),S=Math.atan2(A,T),O=this.angle._state,C=O[O.length-1],L=O[O.length-2];C%=2*Math.PI;var R=Math.abs(C+2*Math.PI-S),P=Math.abs(C-S),j=Math.abs(C-2*Math.PI-S);R<P&&(C+=2*Math.PI),j<P&&(C-=2*Math.PI),this.angle.jump(this.angle.lastT(),C,L),this.angle.set(e,S,E)}}}}},{"filtered-vector":92,"gl-mat4/invert":137,"gl-mat4/rotate":143,"gl-vec3/cross":193,"gl-vec3/dot":198,"gl-vec3/normalize":215}],364:[function(e,t,n){"use strict";t.exports=i;var r=+(Math.pow(2,27)+1);function i(e,t,n){var i=e*t,a=r*e,o=a-(a-e),s=e-o,l=r*t,u=l-(l-t),c=t-u,f=s*c-(i-o*u-s*u-o*c);return n?(n[0]=f,n[1]=i,n):[f,i]}},{}],365:[function(e,t,n){"use strict";function r(e,t,n){var r=e+t,i=r-e,a=t-i,o=e-(r-i);return n?(n[0]=o+a,n[1]=r,n):[o+a,r]}t.exports=r},{}],366:[function(e,n,r){(function(t){(function(){"use strict";var n=e("bit-twiddle"),i=e("dup"),a=e("buffer").Buffer;t.__TYPEDARRAY_POOL||(t.__TYPEDARRAY_POOL={UINT8:i([32,0]),UINT16:i([32,0]),UINT32:i([32,0]),BIGUINT64:i([32,0]),INT8:i([32,0]),INT16:i([32,0]),INT32:i([32,0]),BIGINT64:i([32,0]),FLOAT:i([32,0]),DOUBLE:i([32,0]),DATA:i([32,0]),UINT8C:i([32,0]),BUFFER:i([32,0])});var o="undefined"!==typeof Uint8ClampedArray,s="undefined"!==typeof BigUint64Array,l="undefined"!==typeof BigInt64Array,u=t.__TYPEDARRAY_POOL;u.UINT8C||(u.UINT8C=i([32,0])),u.BIGUINT64||(u.BIGUINT64=i([32,0])),u.BIGINT64||(u.BIGINT64=i([32,0])),u.BUFFER||(u.BUFFER=i([32,0]));var c=u.DATA,f=u.BUFFER;function d(e){if(e){var t=e.length||e.byteLength,r=n.log2(t);c[r].push(e)}}function h(e){d(e.buffer)}function p(e){e=n.nextPow2(e);var t=n.log2(e),r=c[t];return r.length>0?r.pop():new ArrayBuffer(e)}function g(e){return new Uint8Array(p(e),0,e)}function v(e){return new Uint16Array(p(2*e),0,e)}function m(e){return new Uint32Array(p(4*e),0,e)}function y(e){return new Int8Array(p(e),0,e)}function b(e){return new Int16Array(p(2*e),0,e)}function x(e){return new Int32Array(p(4*e),0,e)}function _(e){return new Float32Array(p(4*e),0,e)}function w(e){return new Float64Array(p(8*e),0,e)}function k(e){return o?new Uint8ClampedArray(p(e),0,e):g(e)}function M(e){return s?new BigUint64Array(p(8*e),0,e):null}function T(e){return l?new BigInt64Array(p(8*e),0,e):null}function A(e){return new DataView(p(e),0,e)}function E(e){e=n.nextPow2(e);var t=n.log2(e),r=f[t];return r.length>0?r.pop():new a(e)}r.free=function(e){if(a.isBuffer(e))f[n.log2(e.length)].push(e);else{if("[object ArrayBuffer]"!==Object.prototype.toString.call(e)&&(e=e.buffer),!e)return;var t=e.length||e.byteLength,r=0|n.log2(t);c[r].push(e)}},r.freeUint8=r.freeUint16=r.freeUint32=r.freeBigUint64=r.freeInt8=r.freeInt16=r.freeInt32=r.freeBigInt64=r.freeFloat32=r.freeFloat=r.freeFloat64=r.freeDouble=r.freeUint8Clamped=r.freeDataView=h,r.freeArrayBuffer=d,r.freeBuffer=function(e){f[n.log2(e.length)].push(e)},r.malloc=function(e,t){if(void 0===t||"arraybuffer"===t)return p(e);switch(t){case"uint8":return g(e);case"uint16":return v(e);case"uint32":return m(e);case"int8":return y(e);case"int16":return b(e);case"int32":return x(e);case"float":case"float32":return _(e);case"double":case"float64":return w(e);case"uint8_clamped":return k(e);case"bigint64":return T(e);case"biguint64":return M(e);case"buffer":return E(e);case"data":case"dataview":return A(e);default:return null}return null},r.mallocArrayBuffer=p,r.mallocUint8=g,r.mallocUint16=v,r.mallocUint32=m,r.mallocInt8=y,r.mallocInt16=b,r.mallocInt32=x,r.mallocFloat32=r.mallocFloat=_,r.mallocFloat64=r.mallocDouble=w,r.mallocUint8Clamped=k,r.mallocBigUint64=M,r.mallocBigInt64=T,r.mallocDataView=A,r.mallocBuffer=E,r.clearCache=function(){for(var e=0;e<32;++e)u.UINT8[e].length=0,u.UINT16[e].length=0,u.UINT32[e].length=0,u.INT8[e].length=0,u.INT16[e].length=0,u.INT32[e].length=0,u.FLOAT[e].length=0,u.DOUBLE[e].length=0,u.BIGUINT64[e].length=0,u.BIGINT64[e].length=0,u.UINT8C[e].length=0,c[e].length=0,f[e].length=0}}).call(this)}).call(this,"undefined"!==typeof t?t:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})},{"bit-twiddle":37,buffer:49,dup:87}],367:[function(e,t,n){"use strict";function r(e){this.roots=new Array(e),this.ranks=new Array(e);for(var t=0;t<e;++t)this.roots[t]=t,this.ranks[t]=0}t.exports=r;var i=r.prototype;Object.defineProperty(i,"length",{get:function(){return this.roots.length}}),i.makeSet=function(){var e=this.roots.length;return this.roots.push(e),this.ranks.push(0),e},i.find=function(e){for(var t=e,n=this.roots;n[e]!==e;)e=n[e];for(;n[t]!==e;){var r=n[t];n[t]=e,t=r}return e},i.link=function(e,t){var n=this.find(e),r=this.find(t);if(n!==r){var i=this.ranks,a=this.roots,o=i[n],s=i[r];o<s?a[n]=r:s<o?a[r]=n:(a[r]=n,++i[n])}}},{}],368:[function(e,t,n){"use strict";function r(e,t){for(var n=1,r=e.length,i=e[0],a=e[0],o=1;o<r;++o)if(a=i,t(i=e[o],a)){if(o===n){n++;continue}e[n++]=i}return e.length=n,e}function i(e){for(var t=1,n=e.length,r=e[0],i=e[0],a=1;a<n;++a,i=r)if(i=r,(r=e[a])!==i){if(a===t){t++;continue}e[t++]=r}return e.length=t,e}function a(e,t,n){return 0===e.length?e:t?(n||e.sort(t),r(e,t)):(n||e.sort(),i(e))}t.exports=a},{}],369:[function(e,t,n){"use strict";t.exports=o;var r=e("./lib/vtext"),i=null,a=null;function o(e,t){return"object"===typeof t&&null!==t||(t={}),r(e,t.canvas||i,t.context||a,t)}"undefined"!==typeof document&&((i=document.createElement("canvas")).width=8192,i.height=1024,a=i.getContext("2d"))},{"./lib/vtext":370}],370:[function(e,t,n){t.exports=T,t.exports.processPixels=M;var r=e("surface-nets"),i=e("ndarray"),a=e("simplify-planar-graph"),o=e("clean-pslg"),s=e("cdt2d"),l=e("planar-graph-to-polyline"),u="b",c="b|",f="i",d="i|",h="sup",p="+",g="+1",v="sub",m="-",y="-1";function b(e,t,n,r){for(var i="<"+e+">",a="</"+e+">",o=i.length,s=a.length,l=t[0]===p||t[0]===m,u=0,c=-s;u>-1&&-1!==(u=n.indexOf(i,u))&&-1!==(c=n.indexOf(a,u+o))&&!(c<=u);){for(var f=u;f<c+s;++f)if(f<u+o||f>=c)r[f]=null,n=n.substr(0,f)+" "+n.substr(f+1);else if(null!==r[f]){var d=r[f].indexOf(t[0]);-1===d?r[f]+=t:l&&(r[f]=r[f].substr(0,d+1)+(1+parseInt(r[f][d+1]))+r[f].substr(d+2))}var h=u+o,g=n.substr(h,c-h).indexOf(i);u=-1!==g?g:c+s}return r}function x(e,t,n){for(var r=t.textAlign||"start",i=t.textBaseline||"alphabetic",a=[1<<30,1<<30],o=[0,0],s=e.length,l=0;l<s;++l)for(var u=e[l],c=0;c<2;++c)a[c]=0|Math.min(a[c],u[c]),o[c]=0|Math.max(o[c],u[c]);var f=0;switch(r){case"center":f=-.5*(a[0]+o[0]);break;case"right":case"end":f=-o[0];break;case"left":case"start":f=-a[0];break;default:throw new Error("vectorize-text: Unrecognized textAlign: '"+r+"'")}var d=0;switch(i){case"hanging":case"top":d=-a[1];break;case"middle":d=-.5*(a[1]+o[1]);break;case"alphabetic":case"ideographic":d=-3*n;break;case"bottom":d=-o[1];break;default:throw new Error("vectorize-text: Unrecoginized textBaseline: '"+i+"'")}var h=1/n;return"lineHeight"in t?h*=+t.lineHeight:"width"in t?h=t.width/(o[0]-a[0]):"height"in t&&(h=t.height/(o[1]-a[1])),e.map((function(e){return[h*(e[0]+f),h*(e[1]+d)]}))}function _(e,t,n,r,a,o){n=n.replace(/\n/g,""),n=!0===o.breaklines?n.replace(/\<br\>/g,"\n"):n.replace(/\<br\>/g," ");var s="",l=[];for(k=0;k<n.length;++k)l[k]=s;!0===o.bolds&&(l=b(u,c,n,l)),!0===o.italics&&(l=b(f,d,n,l)),!0===o.superscripts&&(l=b(h,g,n,l)),!0===o.subscripts&&(l=b(v,y,n,l));var x=[],_="";for(k=0;k<n.length;++k)null!==l[k]&&(_+=n[k],x.push(l[k]));var w,k,M,T,A,E=_.split("\n"),S=E.length,O=Math.round(a*r),C=r,L=2*r,R=0,P=S*O+L;e.height<P&&(e.height=P),t.fillStyle="#000",t.fillRect(0,0,e.width,e.height),t.fillStyle="#fff";var j=0,z="";function I(){if(""!==z){var e=t.measureText(z).width;t.fillText(z,C+M,L+T),M+=e}}function N(){return Math.round(A)+"px "}function D(e,n){var r=""+t.font;if(!0===o.subscripts){var i=e.indexOf(m),a=n.indexOf(m),s=i>-1?parseInt(e[1+i]):0,l=a>-1?parseInt(n[1+a]):0;s!==l&&(r=r.replace(N(),"?px "),A*=Math.pow(.75,l-s),r=r.replace("?px ",N())),T+=.25*O*(l-s)}if(!0===o.superscripts){var u=e.indexOf(p),f=n.indexOf(p),h=u>-1?parseInt(e[1+u]):0,g=f>-1?parseInt(n[1+f]):0;h!==g&&(r=r.replace(N(),"?px "),A*=Math.pow(.75,g-h),r=r.replace("?px ",N())),T-=.25*O*(g-h)}if(!0===o.bolds){var v=e.indexOf(c)>-1,y=n.indexOf(c)>-1;!v&&y&&(r=b?r.replace("italic ","italic bold "):"bold "+r),v&&!y&&(r=r.replace("bold ",""))}if(!0===o.italics){var b=e.indexOf(d)>-1,x=n.indexOf(d)>-1;!b&&x&&(r="italic "+r),b&&!x&&(r=r.replace("italic ",""))}t.font=r}for(w=0;w<S;++w){var F=E[w]+"\n";for(M=0,T=w*O,A=r,z="",k=0;k<F.length;++k){var B=k+j<x.length?x[k+j]:x[x.length-1];s===B?z+=F[k]:(I(),z=F[k],void 0!==B&&(D(s,B),s=B))}I(),j+=F.length;var U=0|Math.round(M+2*C);R<U&&(R=U)}var V=R,H=L+O*S;return i(t.getImageData(0,0,V,H).data,[H,V,4]).pick(-1,-1,0).transpose(1,0)}function w(e,t){var n=r(e,128);return t?a(n.cells,n.positions,.25):{edges:n.cells,positions:n.positions}}function k(e,t,n,r){var i=w(e,r),a=x(i.positions,t,n),u=i.edges,c="ccw"===t.orientation;if(o(a,u),t.polygons||t.polygon||t.polyline){for(var f=l(u,a),d=new Array(f.length),h=0;h<f.length;++h){for(var p=f[h],g=new Array(p.length),v=0;v<p.length;++v){for(var m=p[v],y=new Array(m.length),b=0;b<m.length;++b)y[b]=a[m[b]].slice();c&&y.reverse(),g[v]=y}d[h]=g}return d}return t.triangles||t.triangulate||t.triangle?{cells:s(a,u,{delaunay:!1,exterior:!1,interior:!0}),positions:a}:{edges:u,positions:a}}function M(e,t,n){try{return k(e,t,n,!0)}catch(r){}try{return k(e,t,n,!1)}catch(r){}return t.polygons||t.polyline||t.polygon?[]:t.triangles||t.triangulate||t.triangle?{cells:[],positions:[]}:{edges:[],positions:[]}}function T(e,t,n,r){var i=64,a=1.25,o={breaklines:!1,bolds:!1,italics:!1,subscripts:!1,superscripts:!1};return r&&(r.size&&r.size>0&&(i=r.size),r.lineSpacing&&r.lineSpacing>0&&(a=r.lineSpacing),r.styletags&&r.styletags.breaklines&&(o.breaklines=!!r.styletags.breaklines),r.styletags&&r.styletags.bolds&&(o.bolds=!!r.styletags.bolds),r.styletags&&r.styletags.italics&&(o.italics=!!r.styletags.italics),r.styletags&&r.styletags.subscripts&&(o.subscripts=!!r.styletags.subscripts),r.styletags&&r.styletags.superscripts&&(o.superscripts=!!r.styletags.superscripts)),n.font=[r.fontStyle,r.fontVariant,r.fontWeight,i+"px",r.font].filter((function(e){return e})).join(" "),n.textAlign="start",n.textBaseline="alphabetic",n.direction="ltr",M(_(t,n,e,i,a,o),r,i)}},{cdt2d:50,"clean-pslg":59,ndarray:301,"planar-graph-to-polyline":313,"simplify-planar-graph":353,"surface-nets":359}],371:[function(e,t,n){!function(){"use strict";if("undefined"===typeof ses||!ses.ok||ses.ok()){"undefined"!==typeof ses&&(ses.weakMapPermitHostObjects=v);var e=!1;if("function"===typeof WeakMap){var n=WeakMap;if("undefined"!==typeof navigator&&/Firefox/.test(navigator.userAgent));else{var r=new n,i=Object.freeze({});if(r.set(i,1),1===r.get(i))return void(t.exports=WeakMap);e=!0}}Object.prototype.hasOwnProperty;var a=Object.getOwnPropertyNames,o=Object.defineProperty,s=Object.isExtensible,l="weakmap:",u=l+"ident:"+Math.random()+"___";if("undefined"!==typeof crypto&&"function"===typeof crypto.getRandomValues&&"function"===typeof ArrayBuffer&&"function"===typeof Uint8Array){var c=new ArrayBuffer(25),f=new Uint8Array(c);crypto.getRandomValues(f),u=l+"rand:"+Array.prototype.map.call(f,(function(e){return(e%36).toString(36)})).join("")+"___"}if(o(Object,"getOwnPropertyNames",{value:function(e){return a(e).filter(m)}}),"getPropertyNames"in Object){var d=Object.getPropertyNames;o(Object,"getPropertyNames",{value:function(e){return d(e).filter(m)}})}!function(){var e=Object.freeze;o(Object,"freeze",{value:function(t){return y(t),e(t)}});var t=Object.seal;o(Object,"seal",{value:function(e){return y(e),t(e)}});var n=Object.preventExtensions;o(Object,"preventExtensions",{value:function(e){return y(e),n(e)}})}();var h=!1,p=0,g=function e(){this instanceof e||x();var t=[],n=[],r=p++;function i(e,i){var a,o=y(e);return o?r in o?o[r]:i:(a=t.indexOf(e))>=0?n[a]:i}function a(e){var n=y(e);return n?r in n:t.indexOf(e)>=0}function o(e,i){var a,o=y(e);return o?o[r]=i:(a=t.indexOf(e))>=0?n[a]=i:(a=t.length,n[a]=i,t[a]=e),this}function s(e){var i,a,o=y(e);return o?r in o&&delete o[r]:!((i=t.indexOf(e))<0)&&(a=t.length-1,t[i]=void 0,n[i]=n[a],t[i]=t[a],t.length=a,n.length=a,!0)}return Object.create(e.prototype,{get___:{value:b(i)},has___:{value:b(a)},set___:{value:b(o)},delete___:{value:b(s)}})};g.prototype=Object.create(Object.prototype,{get:{value:function(e,t){return this.get___(e,t)},writable:!0,configurable:!0},has:{value:function(e){return this.has___(e)},writable:!0,configurable:!0},set:{value:function(e,t){return this.set___(e,t)},writable:!0,configurable:!0},delete:{value:function(e){return this.delete___(e)},writable:!0,configurable:!0}}),"function"===typeof n?function(){function r(){this instanceof g||x();var t,r=new n,i=void 0,a=!1;function o(e,t){return i?r.has(e)?r.get(e):i.get___(e,t):r.get(e,t)}function s(e){return r.has(e)||!!i&&i.has___(e)}function l(e){var t=!!r.delete(e);return i&&i.delete___(e)||t}return t=e?function(e,t){return r.set(e,t),r.has(e)||(i||(i=new g),i.set(e,t)),this}:function(e,t){if(a)try{r.set(e,t)}catch(n){i||(i=new g),i.set___(e,t)}else r.set(e,t);return this},Object.create(g.prototype,{get___:{value:b(o)},has___:{value:b(s)},set___:{value:b(t)},delete___:{value:b(l)},permitHostObjects___:{value:b((function(e){if(e!==v)throw new Error("bogus call to permitHostObjects___");a=!0}))}})}e&&"undefined"!==typeof Proxy&&(Proxy=void 0),r.prototype=g.prototype,t.exports=r,Object.defineProperty(WeakMap.prototype,"constructor",{value:WeakMap,enumerable:!1,configurable:!0,writable:!0})}():("undefined"!==typeof Proxy&&(Proxy=void 0),t.exports=g)}function v(e){e.permitHostObjects___&&e.permitHostObjects___(v)}function m(e){return!(e.substr(0,l.length)==l&&"___"===e.substr(e.length-3))}function y(e){if(e!==Object(e))throw new TypeError("Not an object: "+e);var t=e[u];if(t&&t.key===e)return t;if(s(e)){t={key:e};try{return o(e,u,{value:t,writable:!1,enumerable:!1,configurable:!1}),t}catch(n){return}}}function b(e){return e.prototype=null,Object.freeze(e)}function x(){h||"undefined"===typeof console||(h=!0,console.warn("WeakMap should be invoked as new WeakMap(), not WeakMap(). This will be an error in the future."))}}()},{}],372:[function(e,t,n){var r=e("./hidden-store.js");function i(){var e={};return function(t){if(("object"!==typeof t||null===t)&&"function"!==typeof t)throw new Error("Weakmap-shim: Key must be object");var n=t.valueOf(e);return n&&n.identity===e?n:r(t,e)}}t.exports=i},{"./hidden-store.js":373}],373:[function(e,t,n){function r(e,t){var n={identity:t},r=e.valueOf;return Object.defineProperty(e,"valueOf",{value:function(e){return e!==t?r.apply(this,arguments):n},writable:!0}),n}t.exports=r},{}],374:[function(e,t,n){var r=e("./create-store.js");function i(){var e=r();return{get:function(t,n){var r=e(t);return r.hasOwnProperty("value")?r.value:n},set:function(t,n){return e(t).value=n,this},has:function(t){return"value"in e(t)},delete:function(t){return delete e(t).value}}}t.exports=i},{"./create-store.js":372}],375:[function(e,t,n){var r=e("get-canvas-context");t.exports=function(e){return r("webgl",e)}},{"get-canvas-context":96}],376:[function(e,t,n){t.exports=e("cwise-compiler")({args:["array",{offset:[1],array:0},"scalar","scalar","index"],pre:{body:"{}",args:[],thisVars:[],localVars:[]},post:{body:"{}",args:[],thisVars:[],localVars:[]},body:{body:"{\n        var _inline_1_da = _inline_1_arg0_ - _inline_1_arg3_\n        var _inline_1_db = _inline_1_arg1_ - _inline_1_arg3_\n        if((_inline_1_da >= 0) !== (_inline_1_db >= 0)) {\n          _inline_1_arg2_.push(_inline_1_arg4_[0] + 0.5 + 0.5 * (_inline_1_da + _inline_1_db) / (_inline_1_da - _inline_1_db))\n        }\n      }",args:[{name:"_inline_1_arg0_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_1_arg1_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_1_arg2_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_1_arg3_",lvalue:!1,rvalue:!0,count:2},{name:"_inline_1_arg4_",lvalue:!1,rvalue:!0,count:1}],thisVars:[],localVars:["_inline_1_da","_inline_1_db"]},funcName:"zeroCrossings"})},{"cwise-compiler":77}],377:[function(e,t,n){"use strict";t.exports=i;var r=e("./lib/zc-core");function i(e,t){var n=[];return t=+t||0,r(e.hi(e.shape[0]-1),n,t),n}},{"./lib/zc-core":376}],378:[function(e,t,n){"use strict";t.exports=[{path:"",backoff:0},{path:"M-2.4,-3V3L0.6,0Z",backoff:.6},{path:"M-3.7,-2.5V2.5L1.3,0Z",backoff:1.3},{path:"M-4.45,-3L-1.65,-0.2V0.2L-4.45,3L1.55,0Z",backoff:1.55},{path:"M-2.2,-2.2L-0.2,-0.2V0.2L-2.2,2.2L-1.4,3L1.6,0L-1.4,-3Z",backoff:1.6},{path:"M-4.4,-2.1L-0.6,-0.2V0.2L-4.4,2.1L-4,3L2,0L-4,-3Z",backoff:2},{path:"M2,0A2,2 0 1,1 0,-2A2,2 0 0,1 2,0Z",backoff:0,noRotate:!0},{path:"M2,2V-2H-2V2Z",backoff:0,noRotate:!0}]},{}],379:[function(e,t,n){"use strict";var r=e("./arrow_paths"),i=e("../../plots/font_attributes"),a=e("../../plots/cartesian/constants"),o=e("../../plot_api/plot_template").templatedArray;e("../../constants/axis_placeable_objects"),t.exports=o("annotation",{visible:{valType:"boolean",dflt:!0,editType:"calc+arraydraw"},text:{valType:"string",editType:"calc+arraydraw"},textangle:{valType:"angle",dflt:0,editType:"calc+arraydraw"},font:i({editType:"calc+arraydraw",colorEditType:"arraydraw"}),width:{valType:"number",min:1,dflt:null,editType:"calc+arraydraw"},height:{valType:"number",min:1,dflt:null,editType:"calc+arraydraw"},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"arraydraw"},align:{valType:"enumerated",values:["left","center","right"],dflt:"center",editType:"arraydraw"},valign:{valType:"enumerated",values:["top","middle","bottom"],dflt:"middle",editType:"arraydraw"},bgcolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"arraydraw"},bordercolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"arraydraw"},borderpad:{valType:"number",min:0,dflt:1,editType:"calc+arraydraw"},borderwidth:{valType:"number",min:0,dflt:1,editType:"calc+arraydraw"},showarrow:{valType:"boolean",dflt:!0,editType:"calc+arraydraw"},arrowcolor:{valType:"color",editType:"arraydraw"},arrowhead:{valType:"integer",min:0,max:r.length,dflt:1,editType:"arraydraw"},startarrowhead:{valType:"integer",min:0,max:r.length,dflt:1,editType:"arraydraw"},arrowside:{valType:"flaglist",flags:["end","start"],extras:["none"],dflt:"end",editType:"arraydraw"},arrowsize:{valType:"number",min:.3,dflt:1,editType:"calc+arraydraw"},startarrowsize:{valType:"number",min:.3,dflt:1,editType:"calc+arraydraw"},arrowwidth:{valType:"number",min:.1,editType:"calc+arraydraw"},standoff:{valType:"number",min:0,dflt:0,editType:"calc+arraydraw"},startstandoff:{valType:"number",min:0,dflt:0,editType:"calc+arraydraw"},ax:{valType:"any",editType:"calc+arraydraw"},ay:{valType:"any",editType:"calc+arraydraw"},axref:{valType:"enumerated",dflt:"pixel",values:["pixel",a.idRegex.x.toString()],editType:"calc"},ayref:{valType:"enumerated",dflt:"pixel",values:["pixel",a.idRegex.y.toString()],editType:"calc"},xref:{valType:"enumerated",values:["paper",a.idRegex.x.toString()],editType:"calc"},x:{valType:"any",editType:"calc+arraydraw"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"auto",editType:"calc+arraydraw"},xshift:{valType:"number",dflt:0,editType:"calc+arraydraw"},yref:{valType:"enumerated",values:["paper",a.idRegex.y.toString()],editType:"calc"},y:{valType:"any",editType:"calc+arraydraw"},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"auto",editType:"calc+arraydraw"},yshift:{valType:"number",dflt:0,editType:"calc+arraydraw"},clicktoshow:{valType:"enumerated",values:[!1,"onoff","onout"],dflt:!1,editType:"arraydraw"},xclick:{valType:"any",editType:"arraydraw"},yclick:{valType:"any",editType:"arraydraw"},hovertext:{valType:"string",editType:"arraydraw"},hoverlabel:{bgcolor:{valType:"color",editType:"arraydraw"},bordercolor:{valType:"color",editType:"arraydraw"},font:i({editType:"arraydraw"}),editType:"arraydraw"},captureevents:{valType:"boolean",editType:"arraydraw"},editType:"calc",_deprecated:{ref:{valType:"string",editType:"calc"}}})},{"../../constants/axis_placeable_objects":497,"../../plot_api/plot_template":561,"../../plots/cartesian/constants":578,"../../plots/font_attributes":600,"./arrow_paths":378}],380:[function(e,t,n){"use strict";var r=e("../../lib"),i=e("../../plots/cartesian/axes"),a=e("./draw").draw;function o(e){var t=e._fullLayout;r.filterVisible(t.annotations).forEach((function(t){var n=i.getFromId(e,t.xref),r=i.getFromId(e,t.yref),a=i.getRefType(t.xref),o=i.getRefType(t.yref);t._extremes={},"range"===a&&s(t,n),"range"===o&&s(t,r)}))}function s(e,t){var n,r=t._id,a=r.charAt(0),o=e[a],s=e["a"+a],l=e[a+"ref"],u=e["a"+a+"ref"],c=e["_"+a+"padplus"],f=e["_"+a+"padminus"],d={x:1,y:-1}[a]*e[a+"shift"],h=3*e.arrowsize*e.arrowwidth||0,p=h+d,g=h-d,v=3*e.startarrowsize*e.arrowwidth||0,m=v+d,y=v-d;if(u===l){var b=i.findExtremes(t,[t.r2c(o)],{ppadplus:p,ppadminus:g}),x=i.findExtremes(t,[t.r2c(s)],{ppadplus:Math.max(c,m),ppadminus:Math.max(f,y)});n={min:[b.min[0],x.min[0]],max:[b.max[0],x.max[0]]}}else m=s?m+s:m,y=s?y-s:y,n=i.findExtremes(t,[t.r2c(o)],{ppadplus:Math.max(c,p,m),ppadminus:Math.max(f,g,y)});e._extremes[r]=n}t.exports=function(e){var t=e._fullLayout;if(r.filterVisible(t.annotations).length&&e._fullData.length)return r.syncOrAsync([a,o],e)}},{"../../lib":524,"../../plots/cartesian/axes":572,"./draw":385}],381:[function(e,t,n){"use strict";var r=e("../../lib"),i=e("../../registry"),a=e("../../plot_api/plot_template").arrayEditor;function o(e,t){var n=l(e,t);return n.on.length>0||n.explicitOff.length>0}function s(e,t){var n,o,s=l(e,t),u=s.on,c=s.off.concat(s.explicitOff),f={},d=e._fullLayout.annotations;if(u.length||c.length){for(n=0;n<u.length;n++)(o=a(e.layout,"annotations",d[u[n]])).modifyItem("visible",!0),r.extendFlat(f,o.getUpdateObj());for(n=0;n<c.length;n++)(o=a(e.layout,"annotations",d[c[n]])).modifyItem("visible",!1),r.extendFlat(f,o.getUpdateObj());return i.call("update",e,{},f)}}function l(e,t){var n,r,i,a,o,s,l,c=e._fullLayout.annotations,f=[],d=[],h=[],p=(t||[]).length;for(n=0;n<c.length;n++)if(a=(i=c[n]).clicktoshow){for(r=0;r<p;r++)if(s=(o=t[r]).xaxis,l=o.yaxis,s._id===i.xref&&l._id===i.yref&&s.d2r(o.x)===u(i._xclick,s)&&l.d2r(o.y)===u(i._yclick,l)){(i.visible?"onout"===a?d:h:f).push(n);break}r===p&&i.visible&&"onout"===a&&d.push(n)}return{on:f,off:d,explicitOff:h}}function u(e,t){return"log"===t.type?t.l2r(e):t.d2r(e)}t.exports={hasClickToShow:o,onClick:s}},{"../../lib":524,"../../plot_api/plot_template":561,"../../registry":626}],382:[function(e,t,n){"use strict";var r=e("../../lib"),i=e("../color");t.exports=function(e,t,n,a){a("opacity");var o=a("bgcolor"),s=a("bordercolor"),l=i.opacity(s);a("borderpad");var u=a("borderwidth"),c=a("showarrow");if(a("text",c?" ":n._dfltTitle.annotation),a("textangle"),r.coerceFont(a,"font",n.font),a("width"),a("align"),a("height")&&a("valign"),c){var f,d,h=a("arrowside");-1!==h.indexOf("end")&&(f=a("arrowhead"),d=a("arrowsize")),-1!==h.indexOf("start")&&(a("startarrowhead",f),a("startarrowsize",d)),a("arrowcolor",l?t.bordercolor:i.defaultLine),a("arrowwidth",2*(l&&u||1)),a("standoff"),a("startstandoff")}var p=a("hovertext"),g=n.hoverlabel||{};if(p){var v=a("hoverlabel.bgcolor",g.bgcolor||(i.opacity(o)?i.rgb(o):i.defaultLine)),m=a("hoverlabel.bordercolor",g.bordercolor||i.contrast(v));r.coerceFont(a,"hoverlabel.font",{family:g.font.family,size:g.font.size,color:g.font.color||m})}a("captureevents",!!p)}},{"../../lib":524,"../color":394}],383:[function(e,t,n){"use strict";var r=e("fast-isnumeric"),i=e("../../lib/to_log_range");t.exports=function(e,t,n,a){t=t||{};var o="log"===n&&"linear"===t.type,s="linear"===n&&"log"===t.type;if(o||s)for(var l,u,c=e._fullLayout.annotations,f=t._id.charAt(0),d=0;d<c.length;d++)l=c[d],u="annotations["+d+"].",l[f+"ref"]===t._id&&h(f),l["a"+f+"ref"]===t._id&&h("a"+f);function h(e){var n=l[e],s=null;s=o?i(n,t.range):Math.pow(10,n),r(s)||(s=null),a(u+e,s)}}},{"../../lib/to_log_range":550,"fast-isnumeric":91}],384:[function(e,t,n){"use strict";var r=e("../../lib"),i=e("../../plots/cartesian/axes"),a=e("../../plots/array_container_defaults"),o=e("./common_defaults"),s=e("./attributes");function l(e,t,n){function a(n,i){return r.coerce(e,t,s,n,i)}var l=a("visible"),u=a("clicktoshow");if(l||u){o(e,t,n,a);for(var c=t.showarrow,f=["x","y"],d=[-10,-30],h={_fullLayout:n},p=0;p<2;p++){var g=f[p],v=i.coerceRef(e,t,h,g,"","paper");if("paper"!==v&&i.getFromId(h,v)._annIndices.push(t._index),i.coercePosition(t,h,a,v,g,.5),c){var m="a"+g,y=i.coerceRef(e,t,h,m,"pixel",["pixel","paper"]);"pixel"!==y&&y!==v&&(y=t[m]="pixel");var b="pixel"===y?d[p]:.4;i.coercePosition(t,h,a,y,m,b)}a(g+"anchor"),a(g+"shift")}if(r.noneOrAll(e,t,["x","y"]),c&&r.noneOrAll(e,t,["ax","ay"]),u){var x=a("xclick"),_=a("yclick");t._xclick=void 0===x?t.x:i.cleanPosition(x,h,t.xref),t._yclick=void 0===_?t.y:i.cleanPosition(_,h,t.yref)}}}t.exports=function(e,t){a(e,t,{name:"annotations",handleItemDefaults:l})}},{"../../lib":524,"../../plots/array_container_defaults":567,"../../plots/cartesian/axes":572,"./attributes":379,"./common_defaults":382}],385:[function(e,t,n){"use strict";var r=e("d3"),i=e("../../registry"),a=e("../../plots/plots"),o=e("../../lib"),s=o.strTranslate,l=e("../../plots/cartesian/axes"),u=e("../color"),c=e("../drawing"),f=e("../fx"),d=e("../../lib/svg_text_utils"),h=e("../../lib/setcursor"),p=e("../dragelement"),g=e("../../plot_api/plot_template").arrayEditor,v=e("./draw_arrow_head");function m(e){var t=e._fullLayout;t._infolayer.selectAll(".annotation").remove();for(var n=0;n<t.annotations.length;n++)t.annotations[n].visible&&y(e,n);return a.previousPromises(e)}function y(e,t){var n=e._fullLayout.annotations[t]||{},r=l.getFromId(e,n.xref),i=l.getFromId(e,n.yref);r&&r.setScale(),i&&i.setScale(),x(e,n,t,!1,r,i)}function b(e,t,n,r,i){var a=i[n],o=i[n+"ref"],s=-1!==n.indexOf("y"),u="domain"===l.getRefType(o),c=s?r.h:r.w;return e?u?a+(s?-t:t)/e._length:e.p2r(e.r2p(a)+t):a+(s?-t:t)/c}function x(e,t,n,a,m,y){var x,_,w=e._fullLayout,k=e._fullLayout._size,M=e._context.edits;a?(x="annotation-"+a,_=a+".annotations"):(x="annotation",_="annotations");var T=g(e.layout,_,t),A=T.modifyBase,E=T.modifyItem,S=T.getUpdateObj;w._infolayer.selectAll("."+x+'[data-index="'+n+'"]').remove();var O="clip"+w._uid+"_ann"+n;if(t._input&&!1!==t.visible){var C={x:{},y:{}},L=+t.textangle||0,R=w._infolayer.append("g").classed(x,!0).attr("data-index",String(n)).style("opacity",t.opacity),P=R.append("g").classed("annotation-text-g",!0),j=M[t.showarrow?"annotationTail":"annotationPosition"],z=t.captureevents||M.annotationText||j,I=P.append("g").style("pointer-events",z?"all":null).call(h,"pointer").on("click",(function(){e._dragging=!1,e.emit("plotly_clickannotation",G(r.event))}));t.hovertext&&I.on("mouseover",(function(){var n=t.hoverlabel,r=n.font,i=this.getBoundingClientRect(),a=e.getBoundingClientRect();f.loneHover({x0:i.left-a.left,x1:i.right-a.left,y:(i.top+i.bottom)/2-a.top,text:t.hovertext,color:n.bgcolor,borderColor:n.bordercolor,fontFamily:r.family,fontSize:r.size,fontColor:r.color},{container:w._hoverlayer.node(),outerContainer:w._paper.node(),gd:e})})).on("mouseout",(function(){f.loneUnhover(w._hoverlayer.node())}));var N=t.borderwidth,D=t.borderpad,F=N+D,B=I.append("rect").attr("class","bg").style("stroke-width",N+"px").call(u.stroke,t.bordercolor).call(u.fill,t.bgcolor),U=t.width||t.height,V=w._topclips.selectAll("#"+O).data(U?[0]:[]);V.enter().append("clipPath").classed("annclip",!0).attr("id",O).append("rect"),V.exit().remove();var H=t.font,q=w._meta?o.templateString(t.text,w._meta):t.text,W=I.append("text").classed("annotation-text",!0).text(q);M.annotationText?W.call(d.makeEditable,{delegate:I,gd:e}).call(X).on("edit",(function(n){t.text=n,this.call(X),E("text",n),m&&m.autorange&&A(m._name+".autorange",!0),y&&y.autorange&&A(y._name+".autorange",!0),i.call("_guiRelayout",e,S())})):W.call(X)}else r.selectAll("#"+O).remove();function G(e){var r={index:n,annotation:t._input,fullAnnotation:t,event:e};return a&&(r.subplotId=a),r}function X(n){return n.call(c.font,H).attr({"text-anchor":{left:"start",right:"end"}[t.align]||"middle"}),d.convertToTspans(n,e,Y),n}function Y(){var n=W.selectAll("a");1===n.size()&&n.text()===W.text()&&I.insert("a",":first-child").attr({"xlink:xlink:href":n.attr("xlink:href"),"xlink:xlink:show":n.attr("xlink:show")}).style({cursor:"pointer"}).node().appendChild(B.node());var r=I.select(".annotation-text-math-group"),f=!r.empty(),g=c.bBox((f?r:W).node()),x=g.width,_=g.height,T=t.width||x,z=t.height||_,D=Math.round(T+2*F),H=Math.round(z+2*F);function q(e,t){return"auto"===t&&(t=e<1/3?"left":e>2/3?"right":"center"),{center:0,middle:0,left:.5,bottom:-.5,right:-.5,top:.5}[t]}for(var X=!1,Y=["x","y"],Z=0;Z<Y.length;Z++){var $,K,Q,J,ee,te=Y[Z],ne=t[te+"ref"]||te,re=t["a"+te+"ref"],ie={x:m,y:y}[te],ae=(L+("x"===te?0:-90))*Math.PI/180,oe=D*Math.cos(ae),se=H*Math.sin(ae),le=Math.abs(oe)+Math.abs(se),ue=t[te+"anchor"],ce=t[te+"shift"]*("x"===te?1:-1),fe=C[te],de=l.getRefType(ne);if(ie&&"domain"!==de){var he=ie.r2fraction(t[te]);(he<0||he>1)&&(re===ne?((he=ie.r2fraction(t["a"+te]))<0||he>1)&&(X=!0):X=!0),$=ie._offset+ie.r2p(t[te]),J=.5}else{var pe="domain"===de;"x"===te?(Q=t[te],$=pe?ie._offset+ie._length*Q:$=k.l+k.w*Q):(Q=1-t[te],$=pe?ie._offset+ie._length*Q:$=k.t+k.h*Q),J=t.showarrow?.5:Q}if(t.showarrow){fe.head=$;var ge=t["a"+te];if(ee=oe*q(.5,t.xanchor)-se*q(.5,t.yanchor),re===ne){var ve=l.getRefType(re);"domain"===ve?("y"===te&&(ge=1-ge),fe.tail=ie._offset+ie._length*ge):"paper"===ve?"y"===te?(ge=1-ge,fe.tail=k.t+k.h*ge):fe.tail=k.l+k.w*ge:fe.tail=ie._offset+ie.r2p(ge),K=ee}else fe.tail=$+ge,K=ee+ge;fe.text=fe.tail+ee;var me=w["x"===te?"width":"height"];if("paper"===ne&&(fe.head=o.constrain(fe.head,1,me-1)),"pixel"===re){var ye=-Math.max(fe.tail-3,fe.text),be=Math.min(fe.tail+3,fe.text)-me;ye>0?(fe.tail+=ye,fe.text+=ye):be>0&&(fe.tail-=be,fe.text-=be)}fe.tail+=ce,fe.head+=ce}else K=ee=le*q(J,ue),fe.text=$+ee;fe.text+=ce,ee+=ce,K+=ce,t["_"+te+"padplus"]=le/2+K,t["_"+te+"padminus"]=le/2-K,t["_"+te+"size"]=le,t["_"+te+"shift"]=ee}if(X)I.remove();else{var xe=0,_e=0;if("left"!==t.align&&(xe=(T-x)*("center"===t.align?.5:1)),"top"!==t.valign&&(_e=(z-_)*("middle"===t.valign?.5:1)),f)r.select("svg").attr({x:F+xe-1,y:F+_e}).call(c.setClipUrl,U?O:null,e);else{var we=F+_e-g.top,ke=F+xe-g.left;W.call(d.positionText,ke,we).call(c.setClipUrl,U?O:null,e)}V.select("rect").call(c.setRect,F,F,T,z),B.call(c.setRect,N/2,N/2,D-N,H-N),I.call(c.setTranslate,Math.round(C.x.text-D/2),Math.round(C.y.text-H/2)),P.attr({transform:"rotate("+L+","+C.x.text+","+C.y.text+")"});var Me,Te=function(n,r){R.selectAll(".annotation-arrow-g").remove();var l=C.x.head,f=C.y.head,d=C.x.tail+n,h=C.y.tail+r,g=C.x.text+n,x=C.y.text+r,_=o.rotationXYMatrix(L,g,x),w=o.apply2DTransform(_),T=o.apply2DTransform2(_),O=+B.attr("width"),j=+B.attr("height"),z=g-.5*O,N=z+O,D=x-.5*j,F=D+j,U=[[z,D,z,F],[z,F,N,F],[N,F,N,D],[N,D,z,D]].map(T);if(!U.reduce((function(e,t){return e^!!o.segmentsIntersect(l,f,l+1e6,f+1e6,t[0],t[1],t[2],t[3])}),!1)){U.forEach((function(e){var t=o.segmentsIntersect(d,h,l,f,e[0],e[1],e[2],e[3]);t&&(d=t.x,h=t.y)}));var V=t.arrowwidth,H=t.arrowcolor,q=t.arrowside,W=R.append("g").style({opacity:u.opacity(H)}).classed("annotation-arrow-g",!0),G=W.append("path").attr("d","M"+d+","+h+"L"+l+","+f).style("stroke-width",V+"px").call(u.stroke,u.rgb(H));if(v(G,q,t),M.annotationPosition&&G.node().parentNode&&!a){var X=l,Y=f;if(t.standoff){var Z=Math.sqrt(Math.pow(l-d,2)+Math.pow(f-h,2));X+=t.standoff*(d-l)/Z,Y+=t.standoff*(h-f)/Z}var $,K,Q=W.append("path").classed("annotation-arrow",!0).classed("anndrag",!0).classed("cursor-move",!0).attr({d:"M3,3H-3V-3H3ZM0,0L"+(d-X)+","+(h-Y),transform:s(X,Y)}).style("stroke-width",V+6+"px").call(u.stroke,"rgba(0,0,0,0)").call(u.fill,"rgba(0,0,0,0)");p.init({element:Q.node(),gd:e,prepFn:function(){var e=c.getTranslate(I);$=e.x,K=e.y,m&&m.autorange&&A(m._name+".autorange",!0),y&&y.autorange&&A(y._name+".autorange",!0)},moveFn:function(e,n){var r=w($,K),i=r[0]+e,a=r[1]+n;I.call(c.setTranslate,i,a),E("x",b(m,e,"x",k,t)),E("y",b(y,n,"y",k,t)),t.axref===t.xref&&E("ax",b(m,e,"ax",k,t)),t.ayref===t.yref&&E("ay",b(y,n,"ay",k,t)),W.attr("transform",s(e,n)),P.attr({transform:"rotate("+L+","+i+","+a+")"})},doneFn:function(){i.call("_guiRelayout",e,S());var t=document.querySelector(".js-notes-box-panel");t&&t.redraw(t.selectedObj)}})}}};t.showarrow&&Te(0,0),j&&p.init({element:I.node(),gd:e,prepFn:function(){Me=P.attr("transform")},moveFn:function(e,n){var r="pointer";if(t.showarrow)t.axref===t.xref?E("ax",b(m,e,"ax",k,t)):E("ax",t.ax+e),t.ayref===t.yref?E("ay",b(y,n,"ay",k.w,t)):E("ay",t.ay+n),Te(e,n);else{if(a)return;var i,o;if(m)i=b(m,e,"x",k,t);else{var l=t._xsize/k.w,u=t.x+(t._xshift-t.xshift)/k.w-l/2;i=p.align(u+e/k.w,l,0,1,t.xanchor)}if(y)o=b(y,n,"y",k,t);else{var c=t._ysize/k.h,f=t.y-(t._yshift+t.yshift)/k.h-c/2;o=p.align(f-n/k.h,c,0,1,t.yanchor)}E("x",i),E("y",o),m&&y||(r=p.getCursor(m?.5:i,y?.5:o,t.xanchor,t.yanchor))}P.attr({transform:s(e,n)+Me}),h(I,r)},clickFn:function(n,r){t.captureevents&&e.emit("plotly_clickannotation",G(r))},doneFn:function(){h(I),i.call("_guiRelayout",e,S());var t=document.querySelector(".js-notes-box-panel");t&&t.redraw(t.selectedObj)}})}}}t.exports={draw:m,drawOne:y,drawRaw:x}},{"../../lib":524,"../../lib/setcursor":544,"../../lib/svg_text_utils":548,"../../plot_api/plot_template":561,"../../plots/cartesian/axes":572,"../../plots/plots":617,"../../registry":626,"../color":394,"../dragelement":413,"../drawing":416,"../fx":434,"./draw_arrow_head":386,d3:82}],386:[function(e,t,n){"use strict";var r=e("d3"),i=e("../color"),a=e("./arrow_paths"),o=e("../../lib"),s=o.strScale,l=o.strRotate,u=o.strTranslate;t.exports=function(e,t,n){var o,c,f,d,h=e.node(),p=a[n.arrowhead||0],g=a[n.startarrowhead||0],v=(n.arrowwidth||1)*(n.arrowsize||1),m=(n.arrowwidth||1)*(n.startarrowsize||1),y=t.indexOf("start")>=0,b=t.indexOf("end")>=0,x=p.backoff*v+n.standoff,_=g.backoff*m+n.startstandoff;if("line"===h.nodeName){o={x:+e.attr("x1"),y:+e.attr("y1")},c={x:+e.attr("x2"),y:+e.attr("y2")};var w=o.x-c.x,k=o.y-c.y;if(d=(f=Math.atan2(k,w))+Math.PI,x&&_&&x+_>Math.sqrt(w*w+k*k))return void j();if(x){if(x*x>w*w+k*k)return void j();var M=x*Math.cos(f),T=x*Math.sin(f);c.x+=M,c.y+=T,e.attr({x2:c.x,y2:c.y})}if(_){if(_*_>w*w+k*k)return void j();var A=_*Math.cos(f),E=_*Math.sin(f);o.x-=A,o.y-=E,e.attr({x1:o.x,y1:o.y})}}else if("path"===h.nodeName){var S=h.getTotalLength(),O="";if(S<x+_)return void j();var C=h.getPointAtLength(0),L=h.getPointAtLength(.1);f=Math.atan2(C.y-L.y,C.x-L.x),o=h.getPointAtLength(Math.min(_,S)),O="0px,"+_+"px,";var R=h.getPointAtLength(S),P=h.getPointAtLength(S-.1);d=Math.atan2(R.y-P.y,R.x-P.x),c=h.getPointAtLength(Math.max(0,S-x)),O+=S-(O?_+x:x)+"px,"+S+"px",e.style("stroke-dasharray",O)}function j(){e.style("stroke-dasharray","0px,100px")}function z(t,a,o,c){t.path&&(t.noRotate&&(o=0),r.select(h.parentNode).append("path").attr({class:e.attr("class"),d:t.path,transform:u(a.x,a.y)+l(180*o/Math.PI)+s(c)}).style({fill:i.rgb(n.arrowcolor),"stroke-width":0}))}y&&z(g,o,f,m),b&&z(p,c,d,v)}},{"../../lib":524,"../color":394,"./arrow_paths":378,d3:82}],387:[function(e,t,n){"use strict";var r=e("./draw"),i=e("./click");t.exports={moduleType:"component",name:"annotations",layoutAttributes:e("./attributes"),supplyLayoutDefaults:e("./defaults"),includeBasePlot:e("../../plots/cartesian/include_components")("annotations"),calcAutorange:e("./calc_autorange"),draw:r.draw,drawOne:r.drawOne,drawRaw:r.drawRaw,hasClickToShow:i.hasClickToShow,onClick:i.onClick,convertCoords:e("./convert_coords")}},{"../../plots/cartesian/include_components":584,"./attributes":379,"./calc_autorange":380,"./click":381,"./convert_coords":383,"./defaults":384,"./draw":385}],388:[function(e,t,n){"use strict";var r=e("../annotations/attributes"),i=e("../../plot_api/edit_types").overrideAll,a=e("../../plot_api/plot_template").templatedArray;t.exports=i(a("annotation",{visible:r.visible,x:{valType:"any"},y:{valType:"any"},z:{valType:"any"},ax:{valType:"number"},ay:{valType:"number"},xanchor:r.xanchor,xshift:r.xshift,yanchor:r.yanchor,yshift:r.yshift,text:r.text,textangle:r.textangle,font:r.font,width:r.width,height:r.height,opacity:r.opacity,align:r.align,valign:r.valign,bgcolor:r.bgcolor,bordercolor:r.bordercolor,borderpad:r.borderpad,borderwidth:r.borderwidth,showarrow:r.showarrow,arrowcolor:r.arrowcolor,arrowhead:r.arrowhead,startarrowhead:r.startarrowhead,arrowside:r.arrowside,arrowsize:r.arrowsize,startarrowsize:r.startarrowsize,arrowwidth:r.arrowwidth,standoff:r.standoff,startstandoff:r.startstandoff,hovertext:r.hovertext,hoverlabel:r.hoverlabel,captureevents:r.captureevents}),"calc","from-root")},{"../../plot_api/edit_types":554,"../../plot_api/plot_template":561,"../annotations/attributes":379}],389:[function(e,t,n){"use strict";var r=e("../../lib"),i=e("../../plots/cartesian/axes");function a(e,t){var n=t.fullSceneLayout.domain,a=t.fullLayout._size,o={pdata:null,type:"linear",autorange:!1,range:[-1/0,1/0]};e._xa={},r.extendFlat(e._xa,o),i.setConvert(e._xa),e._xa._offset=a.l+n.x[0]*a.w,e._xa.l2p=function(){return.5*(1+e._pdata[0]/e._pdata[3])*a.w*(n.x[1]-n.x[0])},e._ya={},r.extendFlat(e._ya,o),i.setConvert(e._ya),e._ya._offset=a.t+(1-n.y[1])*a.h,e._ya.l2p=function(){return.5*(1-e._pdata[1]/e._pdata[3])*a.h*(n.y[1]-n.y[0])}}t.exports=function(e){for(var t=e.fullSceneLayout.annotations,n=0;n<t.length;n++)a(t[n],e);e.fullLayout._infolayer.selectAll(".annotation-"+e.id).remove()}},{"../../lib":524,"../../plots/cartesian/axes":572}],390:[function(e,t,n){"use strict";var r=e("../../lib"),i=e("../../plots/cartesian/axes"),a=e("../../plots/array_container_defaults"),o=e("../annotations/common_defaults"),s=e("./attributes");function l(e,t,n,a){function l(n,i){return r.coerce(e,t,s,n,i)}function u(e){var r=e+"axis",a={_fullLayout:{}};return a._fullLayout[r]=n[r],i.coercePosition(t,a,l,e,e,.5)}l("visible")&&(o(e,t,a.fullLayout,l),u("x"),u("y"),u("z"),r.noneOrAll(e,t,["x","y","z"]),t.xref="x",t.yref="y",t.zref="z",l("xanchor"),l("yanchor"),l("xshift"),l("yshift"),t.showarrow&&(t.axref="pixel",t.ayref="pixel",l("ax",-10),l("ay",-30),r.noneOrAll(e,t,["ax","ay"])))}t.exports=function(e,t,n){a(e,t,{name:"annotations",handleItemDefaults:l,fullLayout:n.fullLayout})}},{"../../lib":524,"../../plots/array_container_defaults":567,"../../plots/cartesian/axes":572,"../annotations/common_defaults":382,"./attributes":388}],391:[function(e,t,n){"use strict";var r=e("../annotations/draw").drawRaw,i=e("../../plots/gl3d/project"),a=["x","y","z"];t.exports=function(e){for(var t=e.fullSceneLayout,n=e.dataScale,o=t.annotations,s=0;s<o.length;s++){for(var l=o[s],u=!1,c=0;c<3;c++){var f=a[c],d=l[f],h=t[f+"axis"].r2fraction(d);if(h<0||h>1){u=!0;break}}u?e.fullLayout._infolayer.select(".annotation-"+e.id+'[data-index="'+s+'"]').remove():(l._pdata=i(e.glplot.cameraParams,[t.xaxis.r2l(l.x)*n[0],t.yaxis.r2l(l.y)*n[1],t.zaxis.r2l(l.z)*n[2]]),r(e.graphDiv,l,s,e.id,l._xa,l._ya))}}},{"../../plots/gl3d/project":612,"../annotations/draw":385}],392:[function(e,t,n){"use strict";var r=e("../../registry"),i=e("../../lib");function a(e,t){var n=r.subplotsRegistry.gl3d;if(n)for(var a=n.attrRegex,o=Object.keys(e),s=0;s<o.length;s++){var l=o[s];a.test(l)&&(e[l].annotations||[]).length&&(i.pushUnique(t._basePlotModules,n),i.pushUnique(t._subplots.gl3d,l))}}t.exports={moduleType:"component",name:"annotations3d",schema:{subplots:{scene:{annotations:e("./attributes")}}},layoutAttributes:e("./attributes"),handleDefaults:e("./defaults"),includeBasePlot:a,convert:e("./convert"),draw:e("./draw")}},{"../../lib":524,"../../registry":626,"./attributes":388,"./convert":389,"./defaults":390,"./draw":391}],393:[function(e,t,n){"use strict";n.defaults=["#1f77b4","#ff7f0e","#2ca02c","#d62728","#9467bd","#8c564b","#e377c2","#7f7f7f","#bcbd22","#17becf"],n.defaultLine="#444",n.lightLine="#eee",n.background="#fff",n.borderLine="#BEC8D9",n.lightFraction=1e3/11},{}],394:[function(e,t,n){"use strict";var r=e("tinycolor2"),i=e("fast-isnumeric"),a=t.exports={},o=e("./attributes");a.defaults=o.defaults;var s=a.defaultLine=o.defaultLine;a.lightLine=o.lightLine;var l=a.background=o.background;function u(e){if(i(e)||"string"!==typeof e)return e;var t=e.trim();if("rgb"!==t.substr(0,3))return e;var n=t.match(/^rgba?\s*\(([^()]*)\)$/);if(!n)return e;var r=n[1].trim().split(/\s*[\s,]\s*/),a="a"===t.charAt(3)&&4===r.length;if(!a&&3!==r.length)return e;for(var o=0;o<r.length;o++){if(!r[o].length)return e;if(r[o]=Number(r[o]),!(r[o]>=0))return e;if(3===o)r[o]>1&&(r[o]=1);else if(r[o]>=1)return e}var s=Math.round(255*r[0])+", "+Math.round(255*r[1])+", "+Math.round(255*r[2]);return a?"rgba("+s+", "+r[3]+")":"rgb("+s+")"}a.tinyRGB=function(e){var t=e.toRgb();return"rgb("+Math.round(t.r)+", "+Math.round(t.g)+", "+Math.round(t.b)+")"},a.rgb=function(e){return a.tinyRGB(r(e))},a.opacity=function(e){return e?r(e).getAlpha():0},a.addOpacity=function(e,t){var n=r(e).toRgb();return"rgba("+Math.round(n.r)+", "+Math.round(n.g)+", "+Math.round(n.b)+", "+t+")"},a.combine=function(e,t){var n=r(e).toRgb();if(1===n.a)return r(e).toRgbString();var i=r(t||l).toRgb(),a=1===i.a?i:{r:255*(1-i.a)+i.r*i.a,g:255*(1-i.a)+i.g*i.a,b:255*(1-i.a)+i.b*i.a},o={r:a.r*(1-n.a)+n.r*n.a,g:a.g*(1-n.a)+n.g*n.a,b:a.b*(1-n.a)+n.b*n.a};return r(o).toRgbString()},a.contrast=function(e,t,n){var i=r(e);return 1!==i.getAlpha()&&(i=r(a.combine(e,l))),(i.isDark()?t?i.lighten(t):l:n?i.darken(n):s).toString()},a.stroke=function(e,t){var n=r(t);e.style({stroke:a.tinyRGB(n),"stroke-opacity":n.getAlpha()})},a.fill=function(e,t){var n=r(t);e.style({fill:a.tinyRGB(n),"fill-opacity":n.getAlpha()})},a.clean=function(e){if(e&&"object"===typeof e){var t,n,r,i,o=Object.keys(e);for(t=0;t<o.length;t++)if(i=e[r=o[t]],"color"===r.substr(r.length-5))if(Array.isArray(i))for(n=0;n<i.length;n++)i[n]=u(i[n]);else e[r]=u(i);else if("colorscale"===r.substr(r.length-10)&&Array.isArray(i))for(n=0;n<i.length;n++)Array.isArray(i[n])&&(i[n][1]=u(i[n][1]));else if(Array.isArray(i)){var s=i[0];if(!Array.isArray(s)&&s&&"object"===typeof s)for(n=0;n<i.length;n++)a.clean(i[n])}else i&&"object"===typeof i&&a.clean(i)}}},{"./attributes":393,"fast-isnumeric":91,tinycolor2:360}],395:[function(e,t,n){"use strict";var r=e("../../plots/cartesian/layout_attributes"),i=e("../../plots/font_attributes"),a=e("../../lib/extend").extendFlat,o=e("../../plot_api/edit_types").overrideAll;t.exports=o({thicknessmode:{valType:"enumerated",values:["fraction","pixels"],dflt:"pixels"},thickness:{valType:"number",min:0,dflt:30},lenmode:{valType:"enumerated",values:["fraction","pixels"],dflt:"fraction"},len:{valType:"number",min:0,dflt:1},x:{valType:"number",dflt:1.02,min:-2,max:3},xanchor:{valType:"enumerated",values:["left","center","right"],dflt:"left"},xpad:{valType:"number",min:0,dflt:10},y:{valType:"number",dflt:.5,min:-2,max:3},yanchor:{valType:"enumerated",values:["top","middle","bottom"],dflt:"middle"},ypad:{valType:"number",min:0,dflt:10},outlinecolor:r.linecolor,outlinewidth:r.linewidth,bordercolor:r.linecolor,borderwidth:{valType:"number",min:0,dflt:0},bgcolor:{valType:"color",dflt:"rgba(0,0,0,0)"},tickmode:r.tickmode,nticks:r.nticks,tick0:r.tick0,dtick:r.dtick,tickvals:r.tickvals,ticktext:r.ticktext,ticks:a({},r.ticks,{dflt:""}),ticklabelposition:{valType:"enumerated",values:["outside","inside","outside top","inside top","outside bottom","inside bottom"],dflt:"outside"},ticklen:r.ticklen,tickwidth:r.tickwidth,tickcolor:r.tickcolor,showticklabels:r.showticklabels,tickfont:i({}),tickangle:r.tickangle,tickformat:r.tickformat,tickformatstops:r.tickformatstops,tickprefix:r.tickprefix,showtickprefix:r.showtickprefix,ticksuffix:r.ticksuffix,showticksuffix:r.showticksuffix,separatethousands:r.separatethousands,exponentformat:r.exponentformat,minexponent:r.minexponent,showexponent:r.showexponent,title:{text:{valType:"string"},font:i({}),side:{valType:"enumerated",values:["right","top","bottom"],dflt:"top"}},_deprecated:{title:{valType:"string"},titlefont:i({}),titleside:{valType:"enumerated",values:["right","top","bottom"],dflt:"top"}}},"colorbars","from-root")},{"../../lib/extend":517,"../../plot_api/edit_types":554,"../../plots/cartesian/layout_attributes":586,"../../plots/font_attributes":600}],396:[function(e,t,n){"use strict";t.exports={cn:{colorbar:"colorbar",cbbg:"cbbg",cbfill:"cbfill",cbfills:"cbfills",cbline:"cbline",cblines:"cblines",cbaxis:"cbaxis",cbtitleunshift:"cbtitleunshift",cbtitle:"cbtitle",cboutline:"cboutline",crisp:"crisp",jsPlaceholder:"js-placeholder"}}},{}],397:[function(e,t,n){"use strict";var r=e("../../lib"),i=e("../../plot_api/plot_template"),a=e("../../plots/cartesian/tick_value_defaults"),o=e("../../plots/cartesian/tick_mark_defaults"),s=e("../../plots/cartesian/tick_label_defaults"),l=e("./attributes");t.exports=function(e,t,n){var u=i.newContainer(t,"colorbar"),c=e.colorbar||{};function f(e,t){return r.coerce(c,u,l,e,t)}var d=f("thicknessmode");f("thickness","fraction"===d?30/(n.width-n.margin.l-n.margin.r):30);var h=f("lenmode");f("len","fraction"===h?1:n.height-n.margin.t-n.margin.b),f("x"),f("xanchor"),f("xpad"),f("y"),f("yanchor"),f("ypad"),r.noneOrAll(c,u,["x","y"]),f("outlinecolor"),f("outlinewidth"),f("bordercolor"),f("borderwidth"),f("bgcolor");var p=f("ticklabelposition");a(c,u,f,"linear");var g={outerTicks:!1,font:n.font};-1!==p.indexOf("inside")&&(g.bgColor="black"),s(c,u,f,"linear",g),o(c,u,f,"linear",g),f("title.text",n._dfltTitle.colorbar),r.coerceFont(f,"title.font",n.font),f("title.side")}},{"../../lib":524,"../../plot_api/plot_template":561,"../../plots/cartesian/tick_label_defaults":593,"../../plots/cartesian/tick_mark_defaults":594,"../../plots/cartesian/tick_value_defaults":595,"./attributes":395}],398:[function(e,t,n){"use strict";var r=e("d3"),i=e("tinycolor2"),a=e("../../plots/plots"),o=e("../../registry"),s=e("../../plots/cartesian/axes"),l=e("../dragelement"),u=e("../../lib"),c=u.strTranslate,f=e("../../lib/extend").extendFlat,d=e("../../lib/setcursor"),h=e("../drawing"),p=e("../color"),g=e("../titles"),v=e("../../lib/svg_text_utils"),m=e("../colorscale/helpers").flipScale,y=e("../../plots/cartesian/axis_defaults"),b=e("../../plots/cartesian/position_defaults"),x=e("../../plots/cartesian/layout_attributes"),_=e("../../constants/alignment"),w=_.LINE_SPACING,k=_.FROM_TL,M=_.FROM_BR,T=e("./constants").cn;function A(e){var t=e._fullLayout._infolayer.selectAll("g."+T.colorbar).data(E(e),(function(e){return e._id}));t.enter().append("g").attr("class",(function(e){return e._id})).classed(T.colorbar,!0),t.each((function(t){var n=r.select(this);u.ensureSingle(n,"rect",T.cbbg),u.ensureSingle(n,"g",T.cbfills),u.ensureSingle(n,"g",T.cblines),u.ensureSingle(n,"g",T.cbaxis,(function(e){e.classed(T.crisp,!0)})),u.ensureSingle(n,"g",T.cbtitleunshift,(function(e){e.append("g").classed(T.cbtitle,!0)})),u.ensureSingle(n,"rect",T.cboutline);var i=S(n,t,e);i&&i.then&&(e._promises||[]).push(i),e._context.edits.colorbarPosition&&O(n,t,e)})),t.exit().each((function(t){a.autoMargin(e,t._id)})).remove(),t.order()}function E(e){var t,n,r,i,a=e._fullLayout,o=e.calcdata,s=[];function l(e){return f(e,{_fillcolor:null,_line:{color:null,width:null,dash:null},_levels:{start:null,end:null,size:null},_filllevels:null,_fillgradient:null,_zrange:null})}function u(){"function"===typeof i.calc?i.calc(e,r,t):(t._fillgradient=n.reversescale?m(n.colorscale):n.colorscale,t._zrange=[n[i.min],n[i.max]])}for(var c=0;c<o.length;c++){var d=o[c],h=(r=d[0].trace)._module.colorbar;if(!0===r.visible&&h)for(var p=Array.isArray(h),g=p?h:[h],v=0;v<g.length;v++){var y=(i=g[v]).container;(n=y?r[y]:r)&&n.showscale&&((t=l(n.colorbar))._id="cb"+r.uid+(p&&y?"-"+y:""),t._traceIndex=r.index,t._propPrefix=(y?y+".":"")+"colorbar.",t._meta=r._meta,u(),s.push(t))}}for(var b in a._colorAxes)if((n=a[b]).showscale){var x=a._colorAxes[b];(t=l(n.colorbar))._id="cb"+b,t._propPrefix=b+".colorbar.",t._meta=a._meta,i={min:"cmin",max:"cmax"},"heatmap"!==x[0]&&(r=x[1],i.calc=r._module.colorbar.calc),u(),s.push(t)}return s}function S(e,t,n){var o=n._fullLayout,l=o._size,d=t._fillcolor,m=t._line,y=t.title,b=y.side,x=t._zrange||r.extent(("function"===typeof d?d:m.color).domain()),_="function"===typeof m.color?m.color:function(){return m.color},A="function"===typeof d?d:function(){return d},E=t._levels,S=C(n,t,x),O=S.fill,R=S.line,P=Math.round(t.thickness*("fraction"===t.thicknessmode?l.w:1)),j=P/l.w,z=Math.round(t.len*("fraction"===t.lenmode?l.h:1)),I=z/l.h,N=t.xpad/l.w,D=(t.borderwidth+t.outlinewidth)/2,F=t.ypad/l.h,B=Math.round(t.x*l.w+t.xpad),U=t.x-j*({middle:.5,right:1}[t.xanchor]||0),V=t.y+I*(({top:-.5,bottom:.5}[t.yanchor]||0)-.5),H=Math.round(l.h*(1-V)),q=H-z;t._lenFrac=I,t._thickFrac=j,t._xLeftFrac=U,t._yBottomFrac=V;var W=t._axis=L(n,t,x);if(W.position=t.x+N+j,-1!==["top","bottom"].indexOf(b)&&(W.title.side=b,W.titlex=t.x+N,W.titley=V+("top"===y.side?I-F:F)),m.color&&"auto"===t.tickmode){W.tickmode="linear",W.tick0=E.start;var G=E.size,X=u.constrain((H-q)/50,4,15)+1,Y=(x[1]-x[0])/((t.nticks||X)*G);if(Y>1){var Z=Math.pow(10,Math.floor(Math.log(Y)/Math.LN10));G*=Z*u.roundUp(Y/Z,[2,5,10]),(Math.abs(E.start)/E.size+1e-6)%1<2e-6&&(W.tick0=0)}W.dtick=G}W.domain=[V+F,V+I-F],W.setScale(),e.attr("transform",c(Math.round(l.l),Math.round(l.t)));var $,K=e.select("."+T.cbtitleunshift).attr("transform",c(-Math.round(l.l),-Math.round(l.t))),Q=e.select("."+T.cbaxis),J=0;function ee(r,i){var a={propContainer:W,propName:t._propPrefix+"title",traceIndex:t._traceIndex,_meta:t._meta,placeholder:o._dfltTitle.colorbar,containerGroup:e.select("."+T.cbtitle)},s="h"===r.charAt(0)?r.substr(1):"h"+r;e.selectAll("."+s+",."+s+"-math-group").remove(),g.draw(n,r,f(a,i||{}))}function te(){if(-1!==["top","bottom"].indexOf(b)){var e,n=l.l+(t.x+N)*l.w,r=W.title.font.size;e="top"===b?(1-(V+I-F))*l.h+l.t+3+.75*r:(1-(V+F))*l.h+l.t-3-.25*r,ee(W._id+"title",{attributes:{x:n,y:e,"text-anchor":"start"}})}}function ne(){if(-1===["top","bottom"].indexOf(b)){var e=W.title.font.size,t=W._offset+W._length/2,i=l.l+(W.position||0)*l.w+("right"===W.side?10+e*(W.showticklabels?1:.5):-10-e*(W.showticklabels?.5:0));ee("h"+W._id+"title",{avoid:{selection:r.select(n).selectAll("g."+W._id+"tick"),side:b,offsetLeft:l.l,offsetTop:0,maxShift:o.width},attributes:{x:i,y:t,"text-anchor":"middle"},transform:{rotate:"-90",offset:0}})}}function re(){if(-1!==["top","bottom"].indexOf(b)){var a=e.select("."+T.cbtitle),o=a.select("text"),f=[-t.outlinewidth/2,t.outlinewidth/2],d=a.select(".h"+W._id+"title-math-group").node(),p=15.6;if(o.node()&&(p=parseInt(o.node().style.fontSize,10)*w),d?(J=h.bBox(d).height)>p&&(f[1]-=(J-p)/2):o.node()&&!o.classed(T.jsPlaceholder)&&(J=h.bBox(o.node()).height),J){if(J+=5,"top"===b)W.domain[1]-=J/l.h,f[1]*=-1;else{W.domain[0]+=J/l.h;var g=v.lineCount(o);f[1]+=(1-g)*p}a.attr("transform",c(f[0],f[1])),W.setScale()}}e.selectAll("."+T.cbfills+",."+T.cblines).attr("transform",c(0,Math.round(l.h*(1-W.domain[1])))),Q.attr("transform",c(0,Math.round(-l.t)));var y=e.select("."+T.cbfills).selectAll("rect."+T.cbfill).attr("style","").data(O);y.enter().append("rect").classed(T.cbfill,!0).style("stroke","none"),y.exit().remove();var k=x.map(W.c2p).map(Math.round).sort((function(e,t){return e-t}));y.each((function(e,a){var o=[0===a?x[0]:(O[a]+O[a-1])/2,a===O.length-1?x[1]:(O[a]+O[a+1])/2].map(W.c2p).map(Math.round);o[1]=u.constrain(o[1]+(o[1]>o[0])?1:-1,k[0],k[1]);var s=r.select(this).attr({x:B,width:Math.max(P,2),y:r.min(o),height:Math.max(r.max(o)-r.min(o),2)});if(t._fillgradient)h.gradient(s,n,t._id,"vertical",t._fillgradient,"fill");else{var l=A(e).replace("e-","");s.attr("fill",i(l).toHexString())}}));var M=e.select("."+T.cblines).selectAll("path."+T.cbline).data(m.color&&m.width?R:[]);M.enter().append("path").classed(T.cbline,!0),M.exit().remove(),M.each((function(e){r.select(this).attr("d","M"+B+","+(Math.round(W.c2p(e))+m.width/2%1)+"h"+P).call(h.lineGroupStyle,m.width,_(e),m.dash)})),Q.selectAll("g."+W._id+"tick,path").remove();var E=B+P+(t.outlinewidth||0)/2-("outside"===t.ticks?1:0),S=s.calcTicks(W),C=s.getTickSigns(W)[2];return s.drawTicks(n,W,{vals:"inside"===W.ticks?s.clipEnds(W,S):S,layer:Q,path:s.makeTickPath(W,E,C),transFn:s.makeTransTickFn(W)}),s.drawLabels(n,W,{vals:S,layer:Q,transFn:s.makeTransTickLabelFn(W),labelFns:s.makeLabelFns(W,E)})}function ie(){var r=P+t.outlinewidth/2;if(-1===W.ticklabelposition.indexOf("inside")&&(r+=h.bBox(Q.node()).width),($=K.select("text")).node()&&!$.classed(T.jsPlaceholder)){var i,o=K.select(".h"+W._id+"title-math-group").node();i=o&&-1!==["top","bottom"].indexOf(b)?h.bBox(o).width:h.bBox(K.node()).right-B-l.l,r=Math.max(r,i)}var s=2*t.xpad+r+t.borderwidth+t.outlinewidth/2,u=H-q;e.select("."+T.cbbg).attr({x:B-t.xpad-(t.borderwidth+t.outlinewidth)/2,y:q-D,width:Math.max(s,2),height:Math.max(u+2*D,2)}).call(p.fill,t.bgcolor).call(p.stroke,t.bordercolor).style("stroke-width",t.borderwidth),e.selectAll("."+T.cboutline).attr({x:B,y:q+t.ypad+("top"===b?J:0),width:Math.max(P,2),height:Math.max(u-2*t.ypad-J,2)}).call(p.stroke,t.outlinecolor).style({fill:"none","stroke-width":t.outlinewidth});var f=({center:.5,right:1}[t.xanchor]||0)*s;e.attr("transform",c(l.l-f,l.t));var d={},g=k[t.yanchor],v=M[t.yanchor];"pixels"===t.lenmode?(d.y=t.y,d.t=u*g,d.b=u*v):(d.t=d.b=0,d.yt=t.y+t.len*g,d.yb=t.y-t.len*v);var m=k[t.xanchor],y=M[t.xanchor];if("pixels"===t.thicknessmode)d.x=t.x,d.l=s*m,d.r=s*y;else{var x=s-P;d.l=x*m,d.r=x*y,d.xl=t.x-t.thickness*m,d.xr=t.x+t.thickness*y}a.autoMargin(n,t._id,d)}return u.syncOrAsync([a.previousPromises,te,re,ne,a.previousPromises,ie],n)}function O(e,t,n){var r,i,a,s=n._fullLayout._size;l.init({element:e.node(),gd:n,prepFn:function(){r=e.attr("transform"),d(e)},moveFn:function(n,o){e.attr("transform",r+c(n,o)),i=l.align(t._xLeftFrac+n/s.w,t._thickFrac,0,1,t.xanchor),a=l.align(t._yBottomFrac-o/s.h,t._lenFrac,0,1,t.yanchor);var u=l.getCursor(i,a,t.xanchor,t.yanchor);d(e,u)},doneFn:function(){if(d(e),void 0!==i&&void 0!==a){var r={};r[t._propPrefix+"x"]=i,r[t._propPrefix+"y"]=a,void 0!==t._traceIndex?o.call("_guiRestyle",n,r,t._traceIndex):o.call("_guiRelayout",n,r)}}})}function C(e,t,n){var r,i,a=t._levels,o=[],s=[],l=a.end+a.size/100,u=a.size,c=1.001*n[0]-.001*n[1],f=1.001*n[1]-.001*n[0];for(i=0;i<1e5&&(r=a.start+i*u,!(u>0?r>=l:r<=l));i++)r>c&&r<f&&o.push(r);if(t._fillgradient)s=[0];else if("function"===typeof t._fillcolor){var d=t._filllevels;if(d)for(l=d.end+d.size/100,u=d.size,i=0;i<1e5&&(r=d.start+i*u,!(u>0?r>=l:r<=l));i++)r>n[0]&&r<n[1]&&s.push(r);else(s=o.map((function(e){return e-a.size/2}))).push(s[s.length-1]+a.size)}else t._fillcolor&&"string"===typeof t._fillcolor&&(s=[0]);return a.size<0&&(o.reverse(),s.reverse()),{line:o,fill:s}}function L(e,t,n){var r=e._fullLayout,i={type:"linear",range:n,tickmode:t.tickmode,nticks:t.nticks,tick0:t.tick0,dtick:t.dtick,tickvals:t.tickvals,ticktext:t.ticktext,ticks:t.ticks,ticklen:t.ticklen,tickwidth:t.tickwidth,tickcolor:t.tickcolor,showticklabels:t.showticklabels,ticklabelposition:t.ticklabelposition,tickfont:t.tickfont,tickangle:t.tickangle,tickformat:t.tickformat,exponentformat:t.exponentformat,minexponent:t.minexponent,separatethousands:t.separatethousands,showexponent:t.showexponent,showtickprefix:t.showtickprefix,tickprefix:t.tickprefix,showticksuffix:t.showticksuffix,ticksuffix:t.ticksuffix,title:t.title,showline:!0,anchor:"free",side:"right",position:1},a={type:"linear",_id:"y"+t._id},o={letter:"y",font:r.font,noHover:!0,noTickson:!0,noTicklabelmode:!0,calendar:r.calendar};function s(e,t){return u.coerce(i,a,x,e,t)}return y(i,a,s,o,r),b(i,a,s,o),a}t.exports={draw:A}},{"../../constants/alignment":496,"../../lib":524,"../../lib/extend":517,"../../lib/setcursor":544,"../../lib/svg_text_utils":548,"../../plots/cartesian/axes":572,"../../plots/cartesian/axis_defaults":574,"../../plots/cartesian/layout_attributes":586,"../../plots/cartesian/position_defaults":589,"../../plots/plots":617,"../../registry":626,"../color":394,"../colorscale/helpers":405,"../dragelement":413,"../drawing":416,"../titles":489,"./constants":396,d3:82,tinycolor2:360}],399:[function(e,t,n){"use strict";var r=e("../../lib");t.exports=function(e){return r.isPlainObject(e.colorbar)}},{"../../lib":524}],400:[function(e,t,n){"use strict";t.exports={moduleType:"component",name:"colorbar",attributes:e("./attributes"),supplyDefaults:e("./defaults"),draw:e("./draw").draw,hasColorbar:e("./has_colorbar")}},{"./attributes":395,"./defaults":397,"./draw":398,"./has_colorbar":399}],401:[function(e,t,n){"use strict";var r=e("../colorbar/attributes"),i=e("../../lib/regex").counter,a=e("./scales.js").scales;function o(e){return"`"+e+"`"}Object.keys(a),t.exports=function(e,t){e=e||"";var n,s=(t=t||{}).cLetter||"c",l=("onlyIfNumerical"in t?t.onlyIfNumerical:Boolean(e),"noScale"in t?t.noScale:"marker.line"===e),u="showScaleDflt"in t?t.showScaleDflt:"z"===s,c="string"===typeof t.colorscaleDflt?a[t.colorscaleDflt]:null,f=t.editTypeOverride||"",d=e?e+".":"";"colorAttr"in t?(n=t.colorAttr,t.colorAttr):o(d+(n={z:"z",c:"color"}[s]));var h=s+"auto",p=s+"min",g=s+"max",v=s+"mid",m=(o(d+h),o(d+p),o(d+g),{});m[p]=m[g]=void 0;var y={};y[h]=!1;var b={};return"color"===n&&(b.color={valType:"color",arrayOk:!0,editType:f||"style"},t.anim&&(b.color.anim=!0)),b[h]={valType:"boolean",dflt:!0,editType:"calc",impliedEdits:m},b[p]={valType:"number",dflt:null,editType:f||"plot",impliedEdits:y},b[g]={valType:"number",dflt:null,editType:f||"plot",impliedEdits:y},b[v]={valType:"number",dflt:null,editType:"calc",impliedEdits:m},b.colorscale={valType:"colorscale",editType:"calc",dflt:c,impliedEdits:{autocolorscale:!1}},b.autocolorscale={valType:"boolean",dflt:!1!==t.autoColorDflt,editType:"calc",impliedEdits:{colorscale:void 0}},b.reversescale={valType:"boolean",dflt:!1,editType:"plot"},l||(b.showscale={valType:"boolean",dflt:u,editType:"calc"},b.colorbar=r),t.noColorAxis||(b.coloraxis={valType:"subplotid",regex:i("coloraxis"),dflt:null,editType:"calc"}),b}},{"../../lib/regex":540,"../colorbar/attributes":395,"./scales.js":409}],402:[function(e,t,n){"use strict";var r=e("fast-isnumeric"),i=e("../../lib"),a=e("./helpers").extractOpts;t.exports=function(e,t,n){var o,s=e._fullLayout,l=n.vals,u=n.containerStr,c=u?i.nestedProperty(t,u).get():t,f=a(c),d=!1!==f.auto,h=f.min,p=f.max,g=f.mid,v=function(){return i.aggNums(Math.min,null,l)},m=function(){return i.aggNums(Math.max,null,l)};void 0===h?h=v():d&&(h=c._colorAx&&r(h)?Math.min(h,v()):v()),void 0===p?p=m():d&&(p=c._colorAx&&r(p)?Math.max(p,m()):m()),d&&void 0!==g&&(p-g>g-h?h=g-(p-g):p-g<g-h&&(p=g+(g-h))),h===p&&(h-=.5,p+=.5),f._sync("min",h),f._sync("max",p),f.autocolorscale&&(o=h*p<0?s.colorscale.diverging:h>=0?s.colorscale.sequential:s.colorscale.sequentialminus,f._sync("colorscale",o))}},{"../../lib":524,"./helpers":405,"fast-isnumeric":91}],403:[function(e,t,n){"use strict";var r=e("../../lib"),i=e("./helpers").hasColorscale,a=e("./helpers").extractOpts;t.exports=function(e,t){function n(e,t){var n=e["_"+t];void 0!==n&&(e[t]=n)}function o(e,i){var o=i.container?r.nestedProperty(e,i.container).get():e;if(o)if(o.coloraxis)o._colorAx=t[o.coloraxis];else{var s=a(o),l=s.auto;(l||void 0===s.min)&&n(o,i.min),(l||void 0===s.max)&&n(o,i.max),s.autocolorscale&&n(o,"colorscale")}}for(var s=0;s<e.length;s++){var l=e[s],u=l._module.colorbar;if(u)if(Array.isArray(u))for(var c=0;c<u.length;c++)o(l,u[c]);else o(l,u);i(l,"marker.line")&&o(l,{container:"marker.line",min:"cmin",max:"cmax"})}for(var f in t._colorAxes)o(t[f],{min:"cmin",max:"cmax"})}},{"../../lib":524,"./helpers":405}],404:[function(e,t,n){"use strict";var r=e("fast-isnumeric"),i=e("../../lib"),a=e("../colorbar/has_colorbar"),o=e("../colorbar/defaults"),s=e("./scales").isValid,l=e("../../registry").traceIs;function u(e,t){var n=t.slice(0,t.length-1);return t?i.nestedProperty(e,n).get()||{}:e}t.exports=function e(t,n,c,f,d){var h=d.prefix,p=d.cLetter,g="_module"in n,v=u(t,h),m=u(n,h),y=u(n._template||{},h)||{},b=function(){return delete t.coloraxis,delete n.coloraxis,e(t,n,c,f,d)};if(g){var x=c._colorAxes||{},_=f(h+"coloraxis");if(_){var w=l(n,"contour")&&i.nestedProperty(n,"contours.coloring").get()||"heatmap",k=x[_];return void(k?(k[2].push(b),k[0]!==w&&(k[0]=!1,i.warn(["Ignoring coloraxis:",_,"setting","as it is linked to incompatible colorscales."].join(" ")))):x[_]=[w,n,[b]])}}var M=v[p+"min"],T=v[p+"max"],A=r(M)&&r(T)&&M<T;f(h+p+"auto",!A)?f(h+p+"mid"):(f(h+p+"min"),f(h+p+"max"));var E,S,O=v.colorscale,C=y.colorscale;void 0!==O&&(E=!s(O)),void 0!==C&&(E=!s(C)),f(h+"autocolorscale",E),f(h+"colorscale"),f(h+"reversescale"),"marker.line."!==h&&(h&&g&&(S=a(v)),f(h+"showscale",S)&&(h&&y&&(m._template=y),o(v,m,c)))}},{"../../lib":524,"../../registry":626,"../colorbar/defaults":397,"../colorbar/has_colorbar":399,"./scales":409,"fast-isnumeric":91}],405:[function(e,t,n){"use strict";var r=e("d3"),i=e("tinycolor2"),a=e("fast-isnumeric"),o=e("../../lib"),s=e("../color"),l=e("./scales").isValid;function u(e,t,n){var r=t?o.nestedProperty(e,t).get()||{}:e,i=r[n||"color"],s=!1;if(o.isArrayOrTypedArray(i))for(var u=0;u<i.length;u++)if(a(i[u])){s=!0;break}return o.isPlainObject(r)&&(s||!0===r.showscale||a(r.cmin)&&a(r.cmax)||l(r.colorscale)||o.isPlainObject(r.colorbar))}var c=["showscale","autocolorscale","colorscale","reversescale","colorbar"],f=["min","max","mid","auto"];function d(e){var t,n,r,i=e._colorAx,a=i||e,o={};for(n=0;n<c.length;n++)o[r=c[n]]=a[r];if(i)for(t="c",n=0;n<f.length;n++)o[r=f[n]]=a["c"+r];else{var s;for(n=0;n<f.length;n++)((s="c"+(r=f[n]))in a||(s="z"+r)in a)&&(o[r]=a[s]);t=s.charAt(0)}return o._sync=function(e,n){var r=-1!==f.indexOf(e)?t+e:e;a[r]=a["_"+r]=n},o}function h(e){for(var t=d(e),n=t.min,r=t.max,i=t.reversescale?p(t.colorscale):t.colorscale,a=i.length,o=new Array(a),s=new Array(a),l=0;l<a;l++){var u=i[l];o[l]=n+u[0]*(r-n),s[l]=u[1]}return{domain:o,range:s}}function p(e){for(var t=e.length,n=new Array(t),r=t-1,i=0;r>=0;r--,i++){var a=e[r];n[i]=[1-a[0],a[1]]}return n}function g(e,t){t=t||{};for(var n=e.domain,o=e.range,l=o.length,u=new Array(l),c=0;c<l;c++){var f=i(o[c]).toRgb();u[c]=[f.r,f.g,f.b,f.a]}var d,h=r.scale.linear().domain(n).range(u).clamp(!0),p=t.noNumericCheck,g=t.returnArray;return(d=p&&g?h:p?function(e){return m(h(e))}:g?function(e){return a(e)?h(e):i(e).isValid()?e:s.defaultLine}:function(e){return a(e)?m(h(e)):i(e).isValid()?e:s.defaultLine}).domain=h.domain,d.range=function(){return o},d}function v(e,t){return g(h(e),t)}function m(e){var t={r:e[0],g:e[1],b:e[2],a:e[3]};return i(t).toRgbString()}t.exports={hasColorscale:u,extractOpts:d,extractScale:h,flipScale:p,makeColorScaleFunc:g,makeColorScaleFuncFromTrace:v}},{"../../lib":524,"../color":394,"./scales":409,d3:82,"fast-isnumeric":91,tinycolor2:360}],406:[function(e,t,n){"use strict";var r=e("./scales"),i=e("./helpers");t.exports={moduleType:"component",name:"colorscale",attributes:e("./attributes"),layoutAttributes:e("./layout_attributes"),supplyLayoutDefaults:e("./layout_defaults"),handleDefaults:e("./defaults"),crossTraceDefaults:e("./cross_trace_defaults"),calc:e("./calc"),scales:r.scales,defaultScale:r.defaultScale,getScale:r.get,isValidScale:r.isValid,hasColorscale:i.hasColorscale,extractOpts:i.extractOpts,extractScale:i.extractScale,flipScale:i.flipScale,makeColorScaleFunc:i.makeColorScaleFunc,makeColorScaleFuncFromTrace:i.makeColorScaleFuncFromTrace}},{"./attributes":401,"./calc":402,"./cross_trace_defaults":403,"./defaults":404,"./helpers":405,"./layout_attributes":407,"./layout_defaults":408,"./scales":409}],407:[function(e,t,n){"use strict";var r=e("../../lib/extend").extendFlat,i=e("./attributes"),a=e("./scales").scales;t.exports={editType:"calc",colorscale:{editType:"calc",sequential:{valType:"colorscale",dflt:a.Reds,editType:"calc"},sequentialminus:{valType:"colorscale",dflt:a.Blues,editType:"calc"},diverging:{valType:"colorscale",dflt:a.RdBu,editType:"calc"}},coloraxis:r({_isSubplotObj:!0,editType:"calc"},i("",{colorAttr:"corresponding trace color array(s)",noColorAxis:!0,showScaleDflt:!0}))}},{"../../lib/extend":517,"./attributes":401,"./scales":409}],408:[function(e,t,n){"use strict";var r=e("../../lib"),i=e("../../plot_api/plot_template"),a=e("./layout_attributes"),o=e("./defaults");t.exports=function(e,t){function n(n,i){return r.coerce(e,t,a,n,i)}n("colorscale.sequential"),n("colorscale.sequentialminus"),n("colorscale.diverging");var s,l,u=t._colorAxes;function c(e,t){return r.coerce(s,l,a.coloraxis,e,t)}for(var f in u){var d=u[f];if(d[0])s=e[f]||{},(l=i.newContainer(t,f,"coloraxis"))._name=f,o(s,l,t,c,{prefix:"",cLetter:"c"});else{for(var h=0;h<d[2].length;h++)d[2][h]();delete t._colorAxes[f]}}}},{"../../lib":524,"../../plot_api/plot_template":561,"./defaults":404,"./layout_attributes":407}],409:[function(e,t,n){"use strict";var r=e("tinycolor2"),i={Greys:[[0,"rgb(0,0,0)"],[1,"rgb(255,255,255)"]],YlGnBu:[[0,"rgb(8,29,88)"],[.125,"rgb(37,52,148)"],[.25,"rgb(34,94,168)"],[.375,"rgb(29,145,192)"],[.5,"rgb(65,182,196)"],[.625,"rgb(127,205,187)"],[.75,"rgb(199,233,180)"],[.875,"rgb(237,248,217)"],[1,"rgb(255,255,217)"]],Greens:[[0,"rgb(0,68,27)"],[.125,"rgb(0,109,44)"],[.25,"rgb(35,139,69)"],[.375,"rgb(65,171,93)"],[.5,"rgb(116,196,118)"],[.625,"rgb(161,217,155)"],[.75,"rgb(199,233,192)"],[.875,"rgb(229,245,224)"],[1,"rgb(247,252,245)"]],YlOrRd:[[0,"rgb(128,0,38)"],[.125,"rgb(189,0,38)"],[.25,"rgb(227,26,28)"],[.375,"rgb(252,78,42)"],[.5,"rgb(253,141,60)"],[.625,"rgb(254,178,76)"],[.75,"rgb(254,217,118)"],[.875,"rgb(255,237,160)"],[1,"rgb(255,255,204)"]],Bluered:[[0,"rgb(0,0,255)"],[1,"rgb(255,0,0)"]],RdBu:[[0,"rgb(5,10,172)"],[.35,"rgb(106,137,247)"],[.5,"rgb(190,190,190)"],[.6,"rgb(220,170,132)"],[.7,"rgb(230,145,90)"],[1,"rgb(178,10,28)"]],Reds:[[0,"rgb(220,220,220)"],[.2,"rgb(245,195,157)"],[.4,"rgb(245,160,105)"],[1,"rgb(178,10,28)"]],Blues:[[0,"rgb(5,10,172)"],[.35,"rgb(40,60,190)"],[.5,"rgb(70,100,245)"],[.6,"rgb(90,120,245)"],[.7,"rgb(106,137,247)"],[1,"rgb(220,220,220)"]],Picnic:[[0,"rgb(0,0,255)"],[.1,"rgb(51,153,255)"],[.2,"rgb(102,204,255)"],[.3,"rgb(153,204,255)"],[.4,"rgb(204,204,255)"],[.5,"rgb(255,255,255)"],[.6,"rgb(255,204,255)"],[.7,"rgb(255,153,255)"],[.8,"rgb(255,102,204)"],[.9,"rgb(255,102,102)"],[1,"rgb(255,0,0)"]],Rainbow:[[0,"rgb(150,0,90)"],[.125,"rgb(0,0,200)"],[.25,"rgb(0,25,255)"],[.375,"rgb(0,152,255)"],[.5,"rgb(44,255,150)"],[.625,"rgb(151,255,0)"],[.75,"rgb(255,234,0)"],[.875,"rgb(255,111,0)"],[1,"rgb(255,0,0)"]],Portland:[[0,"rgb(12,51,131)"],[.25,"rgb(10,136,186)"],[.5,"rgb(242,211,56)"],[.75,"rgb(242,143,56)"],[1,"rgb(217,30,30)"]],Jet:[[0,"rgb(0,0,131)"],[.125,"rgb(0,60,170)"],[.375,"rgb(5,255,255)"],[.625,"rgb(255,255,0)"],[.875,"rgb(250,0,0)"],[1,"rgb(128,0,0)"]],Hot:[[0,"rgb(0,0,0)"],[.3,"rgb(230,0,0)"],[.6,"rgb(255,210,0)"],[1,"rgb(255,255,255)"]],Blackbody:[[0,"rgb(0,0,0)"],[.2,"rgb(230,0,0)"],[.4,"rgb(230,210,0)"],[.7,"rgb(255,255,255)"],[1,"rgb(160,200,255)"]],Earth:[[0,"rgb(0,0,130)"],[.1,"rgb(0,180,180)"],[.2,"rgb(40,210,40)"],[.4,"rgb(230,230,50)"],[.6,"rgb(120,70,20)"],[1,"rgb(255,255,255)"]],Electric:[[0,"rgb(0,0,0)"],[.15,"rgb(30,0,100)"],[.4,"rgb(120,0,100)"],[.6,"rgb(160,90,0)"],[.8,"rgb(230,200,0)"],[1,"rgb(255,250,220)"]],Viridis:[[0,"#440154"],[.06274509803921569,"#48186a"],[.12549019607843137,"#472d7b"],[.18823529411764706,"#424086"],[.25098039215686274,"#3b528b"],[.3137254901960784,"#33638d"],[.3764705882352941,"#2c728e"],[.4392156862745098,"#26828e"],[.5019607843137255,"#21918c"],[.5647058823529412,"#1fa088"],[.6274509803921569,"#28ae80"],[.6901960784313725,"#3fbc73"],[.7529411764705882,"#5ec962"],[.8156862745098039,"#84d44b"],[.8784313725490196,"#addc30"],[.9411764705882353,"#d8e219"],[1,"#fde725"]],Cividis:[[0,"rgb(0,32,76)"],[.058824,"rgb(0,42,102)"],[.117647,"rgb(0,52,110)"],[.176471,"rgb(39,63,108)"],[.235294,"rgb(60,74,107)"],[.294118,"rgb(76,85,107)"],[.352941,"rgb(91,95,109)"],[.411765,"rgb(104,106,112)"],[.470588,"rgb(117,117,117)"],[.529412,"rgb(131,129,120)"],[.588235,"rgb(146,140,120)"],[.647059,"rgb(161,152,118)"],[.705882,"rgb(176,165,114)"],[.764706,"rgb(192,177,109)"],[.823529,"rgb(209,191,102)"],[.882353,"rgb(225,204,92)"],[.941176,"rgb(243,219,79)"],[1,"rgb(255,233,69)"]]},a=i.RdBu;function o(e,t){if(t||(t=a),!e)return t;function n(){try{e=i[e]||JSON.parse(e)}catch(n){e=t}}return"string"===typeof e&&(n(),"string"===typeof e&&n()),s(e)?e:t}function s(e){var t=0;if(!Array.isArray(e)||e.length<2)return!1;if(!e[0]||!e[e.length-1])return!1;if(0!==+e[0][0]||1!==+e[e.length-1][0])return!1;for(var n=0;n<e.length;n++){var i=e[n];if(2!==i.length||+i[0]<t||!r(i[1]).isValid())return!1;t=+i[0]}return!0}function l(e){return void 0!==i[e]||s(e)}t.exports={scales:i,defaultScale:a,get:o,isValid:l}},{tinycolor2:360}],410:[function(e,t,n){"use strict";t.exports=function(e,t,n,r,i){var a=(e-n)/(r-n),o=a+t/(r-n),s=(a+o)/2;return"left"===i||"bottom"===i?a:"center"===i||"middle"===i?s:"right"===i||"top"===i?o:a<2/3-s?a:o>4/3-s?o:s}},{}],411:[function(e,t,n){"use strict";var r=e("../../lib"),i=[["sw-resize","s-resize","se-resize"],["w-resize","move","e-resize"],["nw-resize","n-resize","ne-resize"]];t.exports=function(e,t,n,a){return e="left"===n?0:"center"===n?1:"right"===n?2:r.constrain(Math.floor(3*e),0,2),t="bottom"===a?0:"middle"===a?1:"top"===a?2:r.constrain(Math.floor(3*t),0,2),i[t][e]}},{"../../lib":524}],412:[function(e,t,n){"use strict";n.selectMode=function(e){return"lasso"===e||"select"===e},n.drawMode=function(e){return"drawclosedpath"===e||"drawopenpath"===e||"drawline"===e||"drawrect"===e||"drawcircle"===e},n.openMode=function(e){return"drawline"===e||"drawopenpath"===e},n.rectMode=function(e){return"select"===e||"drawline"===e||"drawrect"===e||"drawcircle"===e},n.freeMode=function(e){return"lasso"===e||"drawclosedpath"===e||"drawopenpath"===e},n.selectingOrDrawing=function(e){return n.freeMode(e)||n.rectMode(e)}},{}],413:[function(e,t,n){"use strict";var r=e("mouse-event-offset"),i=e("has-hover"),a=e("has-passive-events"),o=e("../../lib").removeElement,s=e("../../plots/cartesian/constants"),l=t.exports={};l.align=e("./align"),l.getCursor=e("./cursor");var u=e("./unhover");function c(){var e=document.createElement("div");e.className="dragcover";var t=e.style;return t.position="fixed",t.left=0,t.right=0,t.top=0,t.bottom=0,t.zIndex=999999999,t.background="none",document.body.appendChild(e),e}function f(e){return r(e.changedTouches?e.changedTouches[0]:e,document.body)}l.unhover=u.wrapped,l.unhoverRaw=u.raw,l.init=function(e){var t,n,r,u,d,h,p,g,v=e.gd,m=1,y=v._context.doubleClickDelay,b=e.element;function x(e,t,n){return Math.abs(e)<n&&(e=0),Math.abs(t)<n&&(t=0),[e,t]}v._mouseDownTime||(v._mouseDownTime=0),b.style.pointerEvents="all",b.onmousedown=w,a?(b._ontouchstart&&b.removeEventListener("touchstart",b._ontouchstart),b._ontouchstart=w,b.addEventListener("touchstart",w,{passive:!1})):b.ontouchstart=w;var _=e.clampFn||x;function w(a){v._dragged=!1,v._dragging=!0;var o=f(a);t=o[0],n=o[1],p=a.target,h=a,g=2===a.buttons||a.ctrlKey,"undefined"===typeof a.clientX&&"undefined"===typeof a.clientY&&(a.clientX=t,a.clientY=n),(r=(new Date).getTime())-v._mouseDownTime<y?m+=1:(m=1,v._mouseDownTime=r),e.prepFn&&e.prepFn(a,t,n),i&&!g?(d=c()).style.cursor=window.getComputedStyle(b).cursor:i||(d=document,u=window.getComputedStyle(document.documentElement).cursor,document.documentElement.style.cursor=window.getComputedStyle(b).cursor),document.addEventListener("mouseup",M),document.addEventListener("touchend",M),!1!==e.dragmode&&(a.preventDefault(),document.addEventListener("mousemove",k),document.addEventListener("touchmove",k,{passive:!1}))}function k(r){r.preventDefault();var i=f(r),a=e.minDrag||s.MINDRAG,o=_(i[0]-t,i[1]-n,a),u=o[0],c=o[1];(u||c)&&(v._dragged=!0,l.unhover(v)),v._dragged&&e.moveFn&&!g&&(v._dragdata={element:b,dx:u,dy:c},e.moveFn(u,c))}function M(t){if(delete v._dragdata,!1!==e.dragmode&&(t.preventDefault(),document.removeEventListener("mousemove",k),document.removeEventListener("touchmove",k)),document.removeEventListener("mouseup",M),document.removeEventListener("touchend",M),i?o(d):u&&(d.documentElement.style.cursor=u,u=null),v._dragging){if(v._dragging=!1,(new Date).getTime()-v._mouseDownTime>y&&(m=Math.max(m-1,1)),v._dragged)e.doneFn&&e.doneFn();else if(e.clickFn&&e.clickFn(m,h),!g){var n;try{n=new MouseEvent("click",t)}catch(a){var r=f(t);(n=document.createEvent("MouseEvents")).initMouseEvent("click",t.bubbles,t.cancelable,t.view,t.detail,t.screenX,t.screenY,r[0],r[1],t.ctrlKey,t.altKey,t.shiftKey,t.metaKey,t.button,t.relatedTarget)}p.dispatchEvent(n)}v._dragging=!1,v._dragged=!1}else v._dragged=!1}},l.coverSlip=c},{"../../lib":524,"../../plots/cartesian/constants":578,"./align":410,"./cursor":411,"./unhover":414,"has-hover":267,"has-passive-events":268,"mouse-event-offset":290}],414:[function(e,t,n){"use strict";var r=e("../../lib/events"),i=e("../../lib/throttle"),a=e("../../lib/dom").getGraphDiv,o=e("../fx/constants"),s=t.exports={};s.wrapped=function(e,t,n){(e=a(e))._fullLayout&&i.clear(e._fullLayout._uid+o.HOVERID),s.raw(e,t,n)},s.raw=function(e,t){var n=e._fullLayout,i=e._hoverdata;t||(t={}),t.target&&!1===r.triggerHandler(e,"plotly_beforehover",t)||(n._hoverlayer.selectAll("g").remove(),n._hoverlayer.selectAll("line").remove(),n._hoverlayer.selectAll("circle").remove(),e._hoverdata=void 0,t.target&&i&&e.emit("plotly_unhover",{event:t,points:i}))}},{"../../lib/dom":515,"../../lib/events":516,"../../lib/throttle":549,"../fx/constants":428}],415:[function(e,t,n){"use strict";n.dash={valType:"string",values:["solid","dot","dash","longdash","dashdot","longdashdot"],dflt:"solid",editType:"style"}},{}],416:[function(e,t,n){"use strict";var r=e("d3"),i=e("fast-isnumeric"),a=e("tinycolor2"),o=e("../../registry"),s=e("../color"),l=e("../colorscale"),u=e("../../lib"),c=u.strTranslate,f=e("../../lib/svg_text_utils"),d=e("../../constants/xmlns_namespaces"),h=e("../../constants/alignment").LINE_SPACING,p=e("../../constants/interactions").DESELECTDIM,g=e("../../traces/scatter/subtypes"),v=e("../../traces/scatter/make_bubble_size_func"),m=e("../../components/fx/helpers").appendArrayPointValue,y=t.exports={};y.font=function(e,t,n,r){u.isPlainObject(t)&&(r=t.color,n=t.size,t=t.family),t&&e.style("font-family",t),n+1&&e.style("font-size",n+"px"),r&&e.call(s.fill,r)},y.setPosition=function(e,t,n){e.attr("x",t).attr("y",n)},y.setSize=function(e,t,n){e.attr("width",t).attr("height",n)},y.setRect=function(e,t,n,r,i){e.call(y.setPosition,t,n).call(y.setSize,r,i)},y.translatePoint=function(e,t,n,r){var a=n.c2p(e.x),o=r.c2p(e.y);return!!(i(a)&&i(o)&&t.node())&&("text"===t.node().nodeName?t.attr("x",a).attr("y",o):t.attr("transform",c(a,o)),!0)},y.translatePoints=function(e,t,n){e.each((function(e){var i=r.select(this);y.translatePoint(e,i,t,n)}))},y.hideOutsideRangePoint=function(e,t,n,r,i,a){t.attr("display",n.isPtWithinRange(e,i)&&r.isPtWithinRange(e,a)?null:"none")},y.hideOutsideRangePoints=function(e,t){if(t._hasClipOnAxisFalse){var n=t.xaxis,i=t.yaxis;e.each((function(t){var a=t[0].trace,s=a.xcalendar,l=a.ycalendar,u=o.traceIs(a,"bar-like")?".bartext":".point,.textpoint";e.selectAll(u).each((function(e){y.hideOutsideRangePoint(e,r.select(this),n,i,s,l)}))}))}},y.crispRound=function(e,t,n){return t&&i(t)?e._context.staticPlot?t:t<1?1:Math.round(t):n||0},y.singleLineStyle=function(e,t,n,r,i){t.style("fill","none");var a=(((e||[])[0]||{}).trace||{}).line||{},o=n||a.width||0,l=i||a.dash||"";s.stroke(t,r||a.color),y.dashLine(t,l,o)},y.lineGroupStyle=function(e,t,n,i){e.style("fill","none").each((function(e){var a=(((e||[])[0]||{}).trace||{}).line||{},o=t||a.width||0,l=i||a.dash||"";r.select(this).call(s.stroke,n||a.color).call(y.dashLine,l,o)}))},y.dashLine=function(e,t,n){n=+n||0,t=y.dashStyle(t,n),e.style({"stroke-dasharray":t,"stroke-width":n+"px"})},y.dashStyle=function(e,t){t=+t||1;var n=Math.max(t,3);return"solid"===e?e="":"dot"===e?e=n+"px,"+n+"px":"dash"===e?e=3*n+"px,"+3*n+"px":"longdash"===e?e=5*n+"px,"+5*n+"px":"dashdot"===e?e=3*n+"px,"+n+"px,"+n+"px,"+n+"px":"longdashdot"===e&&(e=5*n+"px,"+2*n+"px,"+n+"px,"+2*n+"px"),e},y.singleFillStyle=function(e){var t=(((r.select(e.node()).data()[0]||[])[0]||{}).trace||{}).fillcolor;t&&e.call(s.fill,t)},y.fillGroupStyle=function(e){e.style("stroke-width",0).each((function(e){var t=r.select(this);e[0].trace&&t.call(s.fill,e[0].trace.fillcolor)}))};var b=e("./symbol_defs");y.symbolNames=[],y.symbolFuncs=[],y.symbolNeedLines={},y.symbolNoDot={},y.symbolNoFill={},y.symbolList=[],Object.keys(b).forEach((function(e){var t=b[e],n=t.n;y.symbolList.push(n,String(n),e,n+100,String(n+100),e+"-open"),y.symbolNames[n]=e,y.symbolFuncs[n]=t.f,t.needLine&&(y.symbolNeedLines[n]=!0),t.noDot?y.symbolNoDot[n]=!0:y.symbolList.push(n+200,String(n+200),e+"-dot",n+300,String(n+300),e+"-open-dot"),t.noFill&&(y.symbolNoFill[n]=!0)}));var x=y.symbolNames.length,_="M0,0.5L0.5,0L0,-0.5L-0.5,0Z";function w(e,t){var n=e%100;return y.symbolFuncs[n](t)+(e>=200?_:"")}y.symbolNumber=function(e){if(i(e))e=+e;else if("string"===typeof e){var t=0;e.indexOf("-open")>0&&(t=100,e=e.replace("-open","")),e.indexOf("-dot")>0&&(t+=200,e=e.replace("-dot","")),(e=y.symbolNames.indexOf(e))>=0&&(e+=t)}return e%100>=x||e>=400?0:Math.floor(Math.max(e,0))};var k={x1:1,x2:0,y1:0,y2:0},M={x1:0,x2:0,y1:1,y2:0},T=r.format("~.1f"),A={radial:{node:"radialGradient"},radialreversed:{node:"radialGradient",reversed:!0},horizontal:{node:"linearGradient",attrs:k},horizontalreversed:{node:"linearGradient",attrs:k,reversed:!0},vertical:{node:"linearGradient",attrs:M},verticalreversed:{node:"linearGradient",attrs:M,reversed:!0}};y.gradient=function(e,t,n,i,o,l){for(var c=o.length,f=A[i],d=new Array(c),h=0;h<c;h++)f.reversed?d[c-1-h]=[T(100*(1-o[h][0])),o[h][1]]:d[h]=[T(100*o[h][0]),o[h][1]];var p=t._fullLayout,g="g"+p._uid+"-"+n,v=p._defs.select(".gradients").selectAll("#"+g).data([i+d.join(";")],u.identity);v.exit().remove(),v.enter().append(f.node).each((function(){var e=r.select(this);f.attrs&&e.attr(f.attrs),e.attr("id",g);var t=e.selectAll("stop").data(d);t.exit().remove(),t.enter().append("stop"),t.each((function(e){var t=a(e[1]);r.select(this).attr({offset:e[0]+"%","stop-color":s.tinyRGB(t),"stop-opacity":t.getAlpha()})}))})),e.style(l,N(g,t)).style(l+"-opacity",null);var m=function(e){return"."+e.attr("class").replace(/\s/g,".")},y=m(r.select(e.node().parentNode))+">"+m(e);p._gradientUrlQueryParts[y]=1},y.initGradients=function(e){var t=e._fullLayout;u.ensureSingle(t._defs,"g","gradients").selectAll("linearGradient,radialGradient").remove(),t._gradientUrlQueryParts={}},y.pointStyle=function(e,t,n){if(e.size()){var i=y.makePointStyleFns(t);e.each((function(e){y.singlePointStyle(e,r.select(this),t,i,n)}))}},y.singlePointStyle=function(e,t,n,r,i){var a=n.marker,o=a.line;if(t.style("opacity",r.selectedOpacityFn?r.selectedOpacityFn(e):void 0===e.mo?a.opacity:e.mo),r.ms2mrc){var l;l="various"===e.ms||"various"===a.size?3:r.ms2mrc(e.ms),e.mrc=l,r.selectedSizeFn&&(l=e.mrc=r.selectedSizeFn(e));var c=y.symbolNumber(e.mx||a.symbol)||0;e.om=c%200>=100,t.attr("d",w(c,l))}var f,d,h,p=!1;if(e.so)h=o.outlierwidth,d=o.outliercolor,f=a.outliercolor;else{var g=(o||{}).width;h=(e.mlw+1||g+1||(e.trace?(e.trace.marker.line||{}).width:0)+1)-1||0,d="mlc"in e?e.mlcc=r.lineScale(e.mlc):u.isArrayOrTypedArray(o.color)?s.defaultLine:o.color,u.isArrayOrTypedArray(a.color)&&(f=s.defaultLine,p=!0),f="mc"in e?e.mcc=r.markerScale(e.mc):a.color||"rgba(0,0,0,0)",r.selectedColorFn&&(f=r.selectedColorFn(e))}if(e.om)t.call(s.stroke,f).style({"stroke-width":(h||1)+"px",fill:"none"});else{t.style("stroke-width",(e.isBlank?0:h)+"px");var v=a.gradient,m=e.mgt;if(m?p=!0:m=v&&v.type,Array.isArray(m)&&(m=m[0],A[m]||(m=0)),m&&"none"!==m){var b=e.mgc;b?p=!0:b=v.color;var x=n.uid;p&&(x+="-"+e.i),y.gradient(t,i,x,m,[[0,b],[1,f]],"fill")}else s.fill(t,f);h&&s.stroke(t,d)}},y.makePointStyleFns=function(e){var t={},n=e.marker;return t.markerScale=y.tryColorscale(n,""),t.lineScale=y.tryColorscale(n,"line"),o.traceIs(e,"symbols")&&(t.ms2mrc=g.isBubble(e)?v(e):function(){return(n.size||6)/2}),e.selectedpoints&&u.extendFlat(t,y.makeSelectedPointStyleFns(e)),t},y.makeSelectedPointStyleFns=function(e){var t={},n=e.selected||{},r=e.unselected||{},i=e.marker||{},a=n.marker||{},s=r.marker||{},l=i.opacity,c=a.opacity,f=s.opacity,d=void 0!==c,h=void 0!==f;(u.isArrayOrTypedArray(l)||d||h)&&(t.selectedOpacityFn=function(e){var t=void 0===e.mo?i.opacity:e.mo;return e.selected?d?c:t:h?f:p*t});var g=i.color,v=a.color,m=s.color;(v||m)&&(t.selectedColorFn=function(e){var t=e.mcc||g;return e.selected?v||t:m||t});var y=i.size,b=a.size,x=s.size,_=void 0!==b,w=void 0!==x;return o.traceIs(e,"symbols")&&(_||w)&&(t.selectedSizeFn=function(e){var t=e.mrc||y/2;return e.selected?_?b/2:t:w?x/2:t}),t},y.makeSelectedTextStyleFns=function(e){var t={},n=e.selected||{},r=e.unselected||{},i=e.textfont||{},a=n.textfont||{},o=r.textfont||{},l=i.color,u=a.color,c=o.color;return t.selectedTextColorFn=function(e){var t=e.tc||l;return e.selected?u||t:c||(u?t:s.addOpacity(t,p))},t},y.selectedPointStyle=function(e,t){if(e.size()&&t.selectedpoints){var n=y.makeSelectedPointStyleFns(t),i=t.marker||{},a=[];n.selectedOpacityFn&&a.push((function(e,t){e.style("opacity",n.selectedOpacityFn(t))})),n.selectedColorFn&&a.push((function(e,t){s.fill(e,n.selectedColorFn(t))})),n.selectedSizeFn&&a.push((function(e,t){var r=t.mx||i.symbol||0,a=n.selectedSizeFn(t);e.attr("d",w(y.symbolNumber(r),a)),t.mrc2=a})),a.length&&e.each((function(e){for(var t=r.select(this),n=0;n<a.length;n++)a[n](t,e)}))}},y.tryColorscale=function(e,t){var n=t?u.nestedProperty(e,t).get():e;if(n){var r=n.color;if((n.colorscale||n._colorAx)&&u.isArrayOrTypedArray(r))return l.makeColorScaleFuncFromTrace(n)}return u.identity};var E={start:1,end:-1,middle:0,bottom:1,top:-1};function S(e,t,n,i){var a=r.select(e.node().parentNode),o=-1!==t.indexOf("top")?"top":-1!==t.indexOf("bottom")?"bottom":"middle",s=-1!==t.indexOf("left")?"end":-1!==t.indexOf("right")?"start":"middle",l=i?i/.8+1:0,u=(f.lineCount(e)-1)*h+1,d=E[s]*l,p=.75*n+E[o]*l+(E[o]-1)*u*n/2;e.attr("text-anchor",s),a.attr("transform",c(d,p))}function O(e,t){var n=e.ts||t.textfont.size;return i(n)&&n>0?n:0}y.textPointStyle=function(e,t,n){if(e.size()){var i;if(t.selectedpoints){var a=y.makeSelectedTextStyleFns(t);i=a.selectedTextColorFn}var o=t.texttemplate,s=n._fullLayout;e.each((function(e){var a=r.select(this),l=o?u.extractOption(e,t,"txt","texttemplate"):u.extractOption(e,t,"tx","text");if(l||0===l){if(o){var c=t._module.formatLabels?t._module.formatLabels(e,t,s):{},d={};m(d,t,e.i);var h=t._meta||{};l=u.texttemplateString(l,c,s._d3locale,d,e,h)}var p=e.tp||t.textposition,g=O(e,t),v=i?i(e):e.tc||t.textfont.color;a.call(y.font,e.tf||t.textfont.family,g,v).text(l).call(f.convertToTspans,n).call(S,p,g,e.mrc)}else a.remove()}))}},y.selectedTextStyle=function(e,t){if(e.size()&&t.selectedpoints){var n=y.makeSelectedTextStyleFns(t);e.each((function(e){var i=r.select(this),a=n.selectedTextColorFn(e),o=e.tp||t.textposition,l=O(e,t);s.fill(i,a),S(i,o,l,e.mrc2||e.mrc)}))}};var C=.5;function L(e,t,n,i){var a=e[0]-t[0],o=e[1]-t[1],s=n[0]-t[0],l=n[1]-t[1],u=Math.pow(a*a+o*o,C/2),c=Math.pow(s*s+l*l,C/2),f=(c*c*a-u*u*s)*i,d=(c*c*o-u*u*l)*i,h=3*c*(u+c),p=3*u*(u+c);return[[r.round(t[0]+(h&&f/h),2),r.round(t[1]+(h&&d/h),2)],[r.round(t[0]-(p&&f/p),2),r.round(t[1]-(p&&d/p),2)]]}y.smoothopen=function(e,t){if(e.length<3)return"M"+e.join("L");var n,r="M"+e[0],i=[];for(n=1;n<e.length-1;n++)i.push(L(e[n-1],e[n],e[n+1],t));for(r+="Q"+i[0][0]+" "+e[1],n=2;n<e.length-1;n++)r+="C"+i[n-2][1]+" "+i[n-1][0]+" "+e[n];return r+="Q"+i[e.length-3][1]+" "+e[e.length-1]},y.smoothclosed=function(e,t){if(e.length<3)return"M"+e.join("L")+"Z";var n,r="M"+e[0],i=e.length-1,a=[L(e[i],e[0],e[1],t)];for(n=1;n<i;n++)a.push(L(e[n-1],e[n],e[n+1],t));for(a.push(L(e[i-1],e[i],e[0],t)),n=1;n<=i;n++)r+="C"+a[n-1][1]+" "+a[n][0]+" "+e[n];return r+="C"+a[i][1]+" "+a[0][0]+" "+e[0]+"Z"};var R={hv:function(e,t){return"H"+r.round(t[0],2)+"V"+r.round(t[1],2)},vh:function(e,t){return"V"+r.round(t[1],2)+"H"+r.round(t[0],2)},hvh:function(e,t){return"H"+r.round((e[0]+t[0])/2,2)+"V"+r.round(t[1],2)+"H"+r.round(t[0],2)},vhv:function(e,t){return"V"+r.round((e[1]+t[1])/2,2)+"H"+r.round(t[0],2)+"V"+r.round(t[1],2)}},P=function(e,t){return"L"+r.round(t[0],2)+","+r.round(t[1],2)};y.steps=function(e){var t=R[e]||P;return function(e){for(var n="M"+r.round(e[0][0],2)+","+r.round(e[0][1],2),i=1;i<e.length;i++)n+=t(e[i-1],e[i]);return n}},y.makeTester=function(){var e=u.ensureSingleById(r.select("body"),"svg","js-plotly-tester",(function(e){e.attr(d.svgAttrs).style({position:"absolute",left:"-10000px",top:"-10000px",width:"9000px",height:"9000px","z-index":"1"})})),t=u.ensureSingle(e,"path","js-reference-point",(function(e){e.attr("d","M0,0H1V1H0Z").style({"stroke-width":0,fill:"black"})}));y.tester=e,y.testref=t},y.savedBBoxes={};var j=0,z=1e4;function I(e){var t=e.getAttribute("data-unformatted");if(null!==t)return t+e.getAttribute("data-math")+e.getAttribute("text-anchor")+e.getAttribute("style")}function N(e,t){if(!e)return null;var n=t._context;return"url('"+(n._exportedPlot?"":n._baseUrl||"")+"#"+e+"')"}y.bBox=function(e,t,n){var i,a,o;if(n||(n=I(e)),n){if(i=y.savedBBoxes[n])return u.extendFlat({},i)}else if(1===e.childNodes.length){var s=e.childNodes[0];if(n=I(s)){var l=+s.getAttribute("x")||0,c=+s.getAttribute("y")||0,d=s.getAttribute("transform");if(!d){var h=y.bBox(s,!1,n);return l&&(h.left+=l,h.right+=l),c&&(h.top+=c,h.bottom+=c),h}if(n+="~"+l+"~"+c+"~"+d,i=y.savedBBoxes[n])return u.extendFlat({},i)}}t?a=e:(o=y.tester.node(),a=e.cloneNode(!0),o.appendChild(a)),r.select(a).attr("transform",null).call(f.positionText,0,0);var p=a.getBoundingClientRect(),g=y.testref.node().getBoundingClientRect();t||o.removeChild(a);var v={height:p.height,width:p.width,left:p.left-g.left,top:p.top-g.top,right:p.right-g.left,bottom:p.bottom-g.top};return j>=z&&(y.savedBBoxes={},j=0),n&&(y.savedBBoxes[n]=v),j++,u.extendFlat({},v)},y.setClipUrl=function(e,t,n){e.attr("clip-path",N(t,n))},y.getTranslate=function(e){var t=/.*\btranslate\((-?\d*\.?\d*)[^-\d]*(-?\d*\.?\d*)[^\d].*/,n=(e[e.attr?"attr":"getAttribute"]("transform")||"").replace(t,(function(e,t,n){return[t,n].join(" ")})).split(" ");return{x:+n[0]||0,y:+n[1]||0}},y.setTranslate=function(e,t,n){var r=/(\btranslate\(.*?\);?)/,i=e.attr?"attr":"getAttribute",a=e.attr?"attr":"setAttribute",o=e[i]("transform")||"";return t=t||0,n=n||0,o=o.replace(r,"").trim(),o=(o+=c(t,n)).trim(),e[a]("transform",o),o},y.getScale=function(e){var t=/.*\bscale\((\d*\.?\d*)[^\d]*(\d*\.?\d*)[^\d].*/,n=(e[e.attr?"attr":"getAttribute"]("transform")||"").replace(t,(function(e,t,n){return[t,n].join(" ")})).split(" ");return{x:+n[0]||1,y:+n[1]||1}},y.setScale=function(e,t,n){var r=/(\bscale\(.*?\);?)/,i=e.attr?"attr":"getAttribute",a=e.attr?"attr":"setAttribute",o=e[i]("transform")||"";return t=t||1,n=n||1,o=o.replace(r,"").trim(),o=(o+="scale("+t+","+n+")").trim(),e[a]("transform",o),o};var D=/\s*sc.*/;y.setPointGroupScale=function(e,t,n){if(t=t||1,n=n||1,e){var r=1===t&&1===n?"":"scale("+t+","+n+")";e.each((function(){var e=(this.getAttribute("transform")||"").replace(D,"");e=(e+=r).trim(),this.setAttribute("transform",e)}))}};var F=/translate\([^)]*\)\s*$/;y.setTextPointsScale=function(e,t,n){e&&e.each((function(){var e,i=r.select(this),a=i.select("text");if(a.node()){var o=parseFloat(a.attr("x")||0),s=parseFloat(a.attr("y")||0),l=(i.attr("transform")||"").match(F);e=1===t&&1===n?[]:[c(o,s),"scale("+t+","+n+")",c(-o,-s)],l&&e.push(l),i.attr("transform",e.join(""))}}))}},{"../../components/fx/helpers":430,"../../constants/alignment":496,"../../constants/interactions":501,"../../constants/xmlns_namespaces":503,"../../lib":524,"../../lib/svg_text_utils":548,"../../registry":626,"../../traces/scatter/make_bubble_size_func":672,"../../traces/scatter/subtypes":680,"../color":394,"../colorscale":406,"./symbol_defs":417,d3:82,"fast-isnumeric":91,tinycolor2:360}],417:[function(e,t,n){"use strict";var r=e("d3");t.exports={circle:{n:0,f:function(e){var t=r.round(e,2);return"M"+t+",0A"+t+","+t+" 0 1,1 0,-"+t+"A"+t+","+t+" 0 0,1 "+t+",0Z"}},square:{n:1,f:function(e){var t=r.round(e,2);return"M"+t+","+t+"H-"+t+"V-"+t+"H"+t+"Z"}},diamond:{n:2,f:function(e){var t=r.round(1.3*e,2);return"M"+t+",0L0,"+t+"L-"+t+",0L0,-"+t+"Z"}},cross:{n:3,f:function(e){var t=r.round(.4*e,2),n=r.round(1.2*e,2);return"M"+n+","+t+"H"+t+"V"+n+"H-"+t+"V"+t+"H-"+n+"V-"+t+"H-"+t+"V-"+n+"H"+t+"V-"+t+"H"+n+"Z"}},x:{n:4,f:function(e){var t=r.round(.8*e/Math.sqrt(2),2),n="l"+t+","+t,i="l"+t+",-"+t,a="l-"+t+",-"+t,o="l-"+t+","+t;return"M0,"+t+n+i+a+i+a+o+a+o+n+o+n+"Z"}},"triangle-up":{n:5,f:function(e){var t=r.round(2*e/Math.sqrt(3),2);return"M-"+t+","+r.round(e/2,2)+"H"+t+"L0,-"+r.round(e,2)+"Z"}},"triangle-down":{n:6,f:function(e){var t=r.round(2*e/Math.sqrt(3),2);return"M-"+t+",-"+r.round(e/2,2)+"H"+t+"L0,"+r.round(e,2)+"Z"}},"triangle-left":{n:7,f:function(e){var t=r.round(2*e/Math.sqrt(3),2);return"M"+r.round(e/2,2)+",-"+t+"V"+t+"L-"+r.round(e,2)+",0Z"}},"triangle-right":{n:8,f:function(e){var t=r.round(2*e/Math.sqrt(3),2);return"M-"+r.round(e/2,2)+",-"+t+"V"+t+"L"+r.round(e,2)+",0Z"}},"triangle-ne":{n:9,f:function(e){var t=r.round(.6*e,2),n=r.round(1.2*e,2);return"M-"+n+",-"+t+"H"+t+"V"+n+"Z"}},"triangle-se":{n:10,f:function(e){var t=r.round(.6*e,2),n=r.round(1.2*e,2);return"M"+t+",-"+n+"V"+t+"H-"+n+"Z"}},"triangle-sw":{n:11,f:function(e){var t=r.round(.6*e,2),n=r.round(1.2*e,2);return"M"+n+","+t+"H-"+t+"V-"+n+"Z"}},"triangle-nw":{n:12,f:function(e){var t=r.round(.6*e,2),n=r.round(1.2*e,2);return"M-"+t+","+n+"V-"+t+"H"+n+"Z"}},pentagon:{n:13,f:function(e){var t=r.round(.951*e,2),n=r.round(.588*e,2),i=r.round(-e,2),a=r.round(-.309*e,2);return"M"+t+","+a+"L"+n+","+r.round(.809*e,2)+"H-"+n+"L-"+t+","+a+"L0,"+i+"Z"}},hexagon:{n:14,f:function(e){var t=r.round(e,2),n=r.round(e/2,2),i=r.round(e*Math.sqrt(3)/2,2);return"M"+i+",-"+n+"V"+n+"L0,"+t+"L-"+i+","+n+"V-"+n+"L0,-"+t+"Z"}},hexagon2:{n:15,f:function(e){var t=r.round(e,2),n=r.round(e/2,2),i=r.round(e*Math.sqrt(3)/2,2);return"M-"+n+","+i+"H"+n+"L"+t+",0L"+n+",-"+i+"H-"+n+"L-"+t+",0Z"}},octagon:{n:16,f:function(e){var t=r.round(.924*e,2),n=r.round(.383*e,2);return"M-"+n+",-"+t+"H"+n+"L"+t+",-"+n+"V"+n+"L"+n+","+t+"H-"+n+"L-"+t+","+n+"V-"+n+"Z"}},star:{n:17,f:function(e){var t=1.4*e,n=r.round(.225*t,2),i=r.round(.951*t,2),a=r.round(.363*t,2),o=r.round(.588*t,2),s=r.round(-t,2),l=r.round(-.309*t,2),u=r.round(.118*t,2),c=r.round(.809*t,2);return"M"+n+","+l+"H"+i+"L"+a+","+u+"L"+o+","+c+"L0,"+r.round(.382*t,2)+"L-"+o+","+c+"L-"+a+","+u+"L-"+i+","+l+"H-"+n+"L0,"+s+"Z"}},hexagram:{n:18,f:function(e){var t=r.round(.66*e,2),n=r.round(.38*e,2),i=r.round(.76*e,2);return"M-"+i+",0l-"+n+",-"+t+"h"+i+"l"+n+",-"+t+"l"+n+","+t+"h"+i+"l-"+n+","+t+"l"+n+","+t+"h-"+i+"l-"+n+","+t+"l-"+n+",-"+t+"h-"+i+"Z"}},"star-triangle-up":{n:19,f:function(e){var t=r.round(e*Math.sqrt(3)*.8,2),n=r.round(.8*e,2),i=r.round(1.6*e,2),a=r.round(4*e,2),o="A "+a+","+a+" 0 0 1 ";return"M-"+t+","+n+o+t+","+n+o+"0,-"+i+o+"-"+t+","+n+"Z"}},"star-triangle-down":{n:20,f:function(e){var t=r.round(e*Math.sqrt(3)*.8,2),n=r.round(.8*e,2),i=r.round(1.6*e,2),a=r.round(4*e,2),o="A "+a+","+a+" 0 0 1 ";return"M"+t+",-"+n+o+"-"+t+",-"+n+o+"0,"+i+o+t+",-"+n+"Z"}},"star-square":{n:21,f:function(e){var t=r.round(1.1*e,2),n=r.round(2*e,2),i="A "+n+","+n+" 0 0 1 ";return"M-"+t+",-"+t+i+"-"+t+","+t+i+t+","+t+i+t+",-"+t+i+"-"+t+",-"+t+"Z"}},"star-diamond":{n:22,f:function(e){var t=r.round(1.4*e,2),n=r.round(1.9*e,2),i="A "+n+","+n+" 0 0 1 ";return"M-"+t+",0"+i+"0,"+t+i+t+",0"+i+"0,-"+t+i+"-"+t+",0Z"}},"diamond-tall":{n:23,f:function(e){var t=r.round(.7*e,2),n=r.round(1.4*e,2);return"M0,"+n+"L"+t+",0L0,-"+n+"L-"+t+",0Z"}},"diamond-wide":{n:24,f:function(e){var t=r.round(1.4*e,2),n=r.round(.7*e,2);return"M0,"+n+"L"+t+",0L0,-"+n+"L-"+t+",0Z"}},hourglass:{n:25,f:function(e){var t=r.round(e,2);return"M"+t+","+t+"H-"+t+"L"+t+",-"+t+"H-"+t+"Z"},noDot:!0},bowtie:{n:26,f:function(e){var t=r.round(e,2);return"M"+t+","+t+"V-"+t+"L-"+t+","+t+"V-"+t+"Z"},noDot:!0},"circle-cross":{n:27,f:function(e){var t=r.round(e,2);return"M0,"+t+"V-"+t+"M"+t+",0H-"+t+"M"+t+",0A"+t+","+t+" 0 1,1 0,-"+t+"A"+t+","+t+" 0 0,1 "+t+",0Z"},needLine:!0,noDot:!0},"circle-x":{n:28,f:function(e){var t=r.round(e,2),n=r.round(e/Math.sqrt(2),2);return"M"+n+","+n+"L-"+n+",-"+n+"M"+n+",-"+n+"L-"+n+","+n+"M"+t+",0A"+t+","+t+" 0 1,1 0,-"+t+"A"+t+","+t+" 0 0,1 "+t+",0Z"},needLine:!0,noDot:!0},"square-cross":{n:29,f:function(e){var t=r.round(e,2);return"M0,"+t+"V-"+t+"M"+t+",0H-"+t+"M"+t+","+t+"H-"+t+"V-"+t+"H"+t+"Z"},needLine:!0,noDot:!0},"square-x":{n:30,f:function(e){var t=r.round(e,2);return"M"+t+","+t+"L-"+t+",-"+t+"M"+t+",-"+t+"L-"+t+","+t+"M"+t+","+t+"H-"+t+"V-"+t+"H"+t+"Z"},needLine:!0,noDot:!0},"diamond-cross":{n:31,f:function(e){var t=r.round(1.3*e,2);return"M"+t+",0L0,"+t+"L-"+t+",0L0,-"+t+"ZM0,-"+t+"V"+t+"M-"+t+",0H"+t},needLine:!0,noDot:!0},"diamond-x":{n:32,f:function(e){var t=r.round(1.3*e,2),n=r.round(.65*e,2);return"M"+t+",0L0,"+t+"L-"+t+",0L0,-"+t+"ZM-"+n+",-"+n+"L"+n+","+n+"M-"+n+","+n+"L"+n+",-"+n},needLine:!0,noDot:!0},"cross-thin":{n:33,f:function(e){var t=r.round(1.4*e,2);return"M0,"+t+"V-"+t+"M"+t+",0H-"+t},needLine:!0,noDot:!0,noFill:!0},"x-thin":{n:34,f:function(e){var t=r.round(e,2);return"M"+t+","+t+"L-"+t+",-"+t+"M"+t+",-"+t+"L-"+t+","+t},needLine:!0,noDot:!0,noFill:!0},asterisk:{n:35,f:function(e){var t=r.round(1.2*e,2),n=r.round(.85*e,2);return"M0,"+t+"V-"+t+"M"+t+",0H-"+t+"M"+n+","+n+"L-"+n+",-"+n+"M"+n+",-"+n+"L-"+n+","+n},needLine:!0,noDot:!0,noFill:!0},hash:{n:36,f:function(e){var t=r.round(e/2,2),n=r.round(e,2);return"M"+t+","+n+"V-"+n+"m-"+n+",0V"+n+"M"+n+","+t+"H-"+n+"m0,-"+n+"H"+n},needLine:!0,noFill:!0},"y-up":{n:37,f:function(e){var t=r.round(1.2*e,2),n=r.round(1.6*e,2),i=r.round(.8*e,2);return"M-"+t+","+i+"L0,0M"+t+","+i+"L0,0M0,-"+n+"L0,0"},needLine:!0,noDot:!0,noFill:!0},"y-down":{n:38,f:function(e){var t=r.round(1.2*e,2),n=r.round(1.6*e,2),i=r.round(.8*e,2);return"M-"+t+",-"+i+"L0,0M"+t+",-"+i+"L0,0M0,"+n+"L0,0"},needLine:!0,noDot:!0,noFill:!0},"y-left":{n:39,f:function(e){var t=r.round(1.2*e,2),n=r.round(1.6*e,2),i=r.round(.8*e,2);return"M"+i+","+t+"L0,0M"+i+",-"+t+"L0,0M-"+n+",0L0,0"},needLine:!0,noDot:!0,noFill:!0},"y-right":{n:40,f:function(e){var t=r.round(1.2*e,2),n=r.round(1.6*e,2),i=r.round(.8*e,2);return"M-"+i+","+t+"L0,0M-"+i+",-"+t+"L0,0M"+n+",0L0,0"},needLine:!0,noDot:!0,noFill:!0},"line-ew":{n:41,f:function(e){var t=r.round(1.4*e,2);return"M"+t+",0H-"+t},needLine:!0,noDot:!0,noFill:!0},"line-ns":{n:42,f:function(e){var t=r.round(1.4*e,2);return"M0,"+t+"V-"+t},needLine:!0,noDot:!0,noFill:!0},"line-ne":{n:43,f:function(e){var t=r.round(e,2);return"M"+t+",-"+t+"L-"+t+","+t},needLine:!0,noDot:!0,noFill:!0},"line-nw":{n:44,f:function(e){var t=r.round(e,2);return"M"+t+","+t+"L-"+t+",-"+t},needLine:!0,noDot:!0,noFill:!0},"arrow-up":{n:45,f:function(e){var t=r.round(e,2);return"M0,0L-"+t+","+r.round(2*e,2)+"H"+t+"Z"},noDot:!0},"arrow-down":{n:46,f:function(e){var t=r.round(e,2);return"M0,0L-"+t+",-"+r.round(2*e,2)+"H"+t+"Z"},noDot:!0},"arrow-left":{n:47,f:function(e){var t=r.round(2*e,2),n=r.round(e,2);return"M0,0L"+t+",-"+n+"V"+n+"Z"},noDot:!0},"arrow-right":{n:48,f:function(e){var t=r.round(2*e,2),n=r.round(e,2);return"M0,0L-"+t+",-"+n+"V"+n+"Z"},noDot:!0},"arrow-bar-up":{n:49,f:function(e){var t=r.round(e,2);return"M-"+t+",0H"+t+"M0,0L-"+t+","+r.round(2*e,2)+"H"+t+"Z"},needLine:!0,noDot:!0},"arrow-bar-down":{n:50,f:function(e){var t=r.round(e,2);return"M-"+t+",0H"+t+"M0,0L-"+t+",-"+r.round(2*e,2)+"H"+t+"Z"},needLine:!0,noDot:!0},"arrow-bar-left":{n:51,f:function(e){var t=r.round(2*e,2),n=r.round(e,2);return"M0,-"+n+"V"+n+"M0,0L"+t+",-"+n+"V"+n+"Z"},needLine:!0,noDot:!0},"arrow-bar-right":{n:52,f:function(e){var t=r.round(2*e,2),n=r.round(e,2);return"M0,-"+n+"V"+n+"M0,0L-"+t+",-"+n+"V"+n+"Z"},needLine:!0,noDot:!0}}},{d3:82}],418:[function(e,t,n){"use strict";t.exports={visible:{valType:"boolean",editType:"calc"},type:{valType:"enumerated",values:["percent","constant","sqrt","data"],editType:"calc"},symmetric:{valType:"boolean",editType:"calc"},array:{valType:"data_array",editType:"calc"},arrayminus:{valType:"data_array",editType:"calc"},value:{valType:"number",min:0,dflt:10,editType:"calc"},valueminus:{valType:"number",min:0,dflt:10,editType:"calc"},traceref:{valType:"integer",min:0,dflt:0,editType:"style"},tracerefminus:{valType:"integer",min:0,dflt:0,editType:"style"},copy_ystyle:{valType:"boolean",editType:"plot"},copy_zstyle:{valType:"boolean",editType:"style"},color:{valType:"color",editType:"style"},thickness:{valType:"number",min:0,dflt:2,editType:"style"},width:{valType:"number",min:0,editType:"plot"},editType:"calc",_deprecated:{opacity:{valType:"number",editType:"style"}}}},{}],419:[function(e,t,n){"use strict";var r=e("fast-isnumeric"),i=e("../../registry"),a=e("../../plots/cartesian/axes"),o=e("../../lib"),s=e("./compute_error");function l(e,t,n,i){var l=t["error_"+i]||{},u=[];if(l.visible&&-1!==["linear","log"].indexOf(n.type)){for(var c=s(l),f=0;f<e.length;f++){var d=e[f],h=d.i;if(void 0===h)h=f;else if(null===h)continue;var p=d[i];if(r(n.c2l(p))){var g=c(p,h);if(r(g[0])&&r(g[1])){var v=d[i+"s"]=p-g[0],m=d[i+"h"]=p+g[1];u.push(v,m)}}}var y=n._id,b=t._extremes[y],x=a.findExtremes(n,u,o.extendFlat({tozero:b.opts.tozero},{padded:!0}));b.min=b.min.concat(x.min),b.max=b.max.concat(x.max)}}t.exports=function(e){for(var t=e.calcdata,n=0;n<t.length;n++){var r=t[n],o=r[0].trace;if(!0===o.visible&&i.traceIs(o,"errorBarsOK")){var s=a.getFromId(e,o.xaxis),u=a.getFromId(e,o.yaxis);l(r,o,s,"x"),l(r,o,u,"y")}}}},{"../../lib":524,"../../plots/cartesian/axes":572,"../../registry":626,"./compute_error":420,"fast-isnumeric":91}],420:[function(e,t,n){"use strict";function r(e,t){return"percent"===e?function(e){return Math.abs(e*t/100)}:"constant"===e?function(){return Math.abs(t)}:"sqrt"===e?function(e){return Math.sqrt(Math.abs(e))}:void 0}t.exports=function(e){var t=e.type,n=e.symmetric;if("data"===t){var i=e.array||[];if(n)return function(e,t){var n=+i[t];return[n,n]};var a=e.arrayminus||[];return function(e,t){var n=+i[t],r=+a[t];return isNaN(n)&&isNaN(r)?[NaN,NaN]:[r||0,n||0]}}var o=r(t,e.value),s=r(t,e.valueminus);return n||void 0===e.valueminus?function(e){var t=o(e);return[t,t]}:function(e){return[s(e),o(e)]}}},{}],421:[function(e,t,n){"use strict";var r=e("fast-isnumeric"),i=e("../../registry"),a=e("../../lib"),o=e("../../plot_api/plot_template"),s=e("./attributes");t.exports=function(e,t,n,l){var u="error_"+l.axis,c=o.newContainer(t,u),f=e[u]||{};function d(e,t){return a.coerce(f,c,s,e,t)}if(!1!==d("visible",void 0!==f.array||void 0!==f.value||"sqrt"===f.type)){var h=d("type","array"in f?"data":"percent"),p=!0;"sqrt"!==h&&(p=d("symmetric",!(("data"===h?"arrayminus":"valueminus")in f))),"data"===h?(d("array"),d("traceref"),p||(d("arrayminus"),d("tracerefminus"))):"percent"!==h&&"constant"!==h||(d("value"),p||d("valueminus"));var g="copy_"+l.inherit+"style";l.inherit&&(t["error_"+l.inherit]||{}).visible&&d(g,!(f.color||r(f.thickness)||r(f.width))),l.inherit&&c[g]||(d("color",n),d("thickness"),d("width",i.traceIs(t,"gl3d")?0:4))}}},{"../../lib":524,"../../plot_api/plot_template":561,"../../registry":626,"./attributes":418,"fast-isnumeric":91}],422:[function(e,t,n){"use strict";var r=e("../../lib"),i=e("../../plot_api/edit_types").overrideAll,a=e("./attributes"),o={error_x:r.extendFlat({},a),error_y:r.extendFlat({},a)};delete o.error_x.copy_zstyle,delete o.error_y.copy_zstyle,delete o.error_y.copy_ystyle;var s={error_x:r.extendFlat({},a),error_y:r.extendFlat({},a),error_z:r.extendFlat({},a)};function l(e,t,n){(t.error_y||{}).visible&&(n.yerr=e.yh-e.y,t.error_y.symmetric||(n.yerrneg=e.y-e.ys)),(t.error_x||{}).visible&&(n.xerr=e.xh-e.x,t.error_x.symmetric||(n.xerrneg=e.x-e.xs))}delete s.error_x.copy_ystyle,delete s.error_y.copy_ystyle,delete s.error_z.copy_ystyle,delete s.error_z.copy_zstyle,t.exports={moduleType:"component",name:"errorbars",schema:{traces:{scatter:o,bar:o,histogram:o,scatter3d:i(s,"calc","nested"),scattergl:i(o,"calc","nested")}},supplyDefaults:e("./defaults"),calc:e("./calc"),makeComputeError:e("./compute_error"),plot:e("./plot"),style:e("./style"),hoverInfo:l}},{"../../lib":524,"../../plot_api/edit_types":554,"./attributes":418,"./calc":419,"./compute_error":420,"./defaults":421,"./plot":423,"./style":424}],423:[function(e,t,n){"use strict";var r=e("d3"),i=e("fast-isnumeric"),a=e("../drawing"),o=e("../../traces/scatter/subtypes");function s(e,t,n){var r={x:t.c2p(e.x),y:n.c2p(e.y)};return void 0!==e.yh&&(r.yh=n.c2p(e.yh),r.ys=n.c2p(e.ys),i(r.ys)||(r.noYS=!0,r.ys=n.c2p(e.ys,!0))),void 0!==e.xh&&(r.xh=t.c2p(e.xh),r.xs=t.c2p(e.xs),i(r.xs)||(r.noXS=!0,r.xs=t.c2p(e.xs,!0))),r}t.exports=function(e,t,n,l){var u=n.xaxis,c=n.yaxis,f=l&&l.duration>0;t.each((function(t){var d,h=t[0].trace,p=h.error_x||{},g=h.error_y||{};h.ids&&(d=function(e){return e.id});var v=o.hasMarkers(h)&&h.marker.maxdisplayed>0;g.visible||p.visible||(t=[]);var m=r.select(this).selectAll("g.errorbar").data(t,d);if(m.exit().remove(),t.length){p.visible||m.selectAll("path.xerror").remove(),g.visible||m.selectAll("path.yerror").remove(),m.style("opacity",1);var y=m.enter().append("g").classed("errorbar",!0);f&&y.style("opacity",0).transition().duration(l.duration).style("opacity",1),a.setClipUrl(m,n.layerClipId,e),m.each((function(e){var t=r.select(this),n=s(e,u,c);if(!v||e.vis){var a,o=t.select("path.yerror");if(g.visible&&i(n.x)&&i(n.yh)&&i(n.ys)){var d=g.width;a="M"+(n.x-d)+","+n.yh+"h"+2*d+"m-"+d+",0V"+n.ys,n.noYS||(a+="m-"+d+",0h"+2*d),o.size()?f&&(o=o.transition().duration(l.duration).ease(l.easing)):o=t.append("path").style("vector-effect","non-scaling-stroke").classed("yerror",!0),o.attr("d",a)}else o.remove();var h=t.select("path.xerror");if(p.visible&&i(n.y)&&i(n.xh)&&i(n.xs)){var m=(p.copy_ystyle?g:p).width;a="M"+n.xh+","+(n.y-m)+"v"+2*m+"m0,-"+m+"H"+n.xs,n.noXS||(a+="m0,-"+m+"v"+2*m),h.size()?f&&(h=h.transition().duration(l.duration).ease(l.easing)):h=t.append("path").style("vector-effect","non-scaling-stroke").classed("xerror",!0),h.attr("d",a)}else h.remove()}}))}}))}},{"../../traces/scatter/subtypes":680,"../drawing":416,d3:82,"fast-isnumeric":91}],424:[function(e,t,n){"use strict";var r=e("d3"),i=e("../color");t.exports=function(e){e.each((function(e){var t=e[0].trace,n=t.error_y||{},a=t.error_x||{},o=r.select(this);o.selectAll("path.yerror").style("stroke-width",n.thickness+"px").call(i.stroke,n.color),a.copy_ystyle&&(a=n),o.selectAll("path.xerror").style("stroke-width",a.thickness+"px").call(i.stroke,a.color)}))}},{"../color":394,d3:82}],425:[function(e,t,n){"use strict";var r=e("../../plots/font_attributes"),i=e("./layout_attributes").hoverlabel,a=e("../../lib/extend").extendFlat;t.exports={hoverlabel:{bgcolor:a({},i.bgcolor,{arrayOk:!0}),bordercolor:a({},i.bordercolor,{arrayOk:!0}),font:r({arrayOk:!0,editType:"none"}),align:a({},i.align,{arrayOk:!0}),namelength:a({},i.namelength,{arrayOk:!0}),editType:"none"}}},{"../../lib/extend":517,"../../plots/font_attributes":600,"./layout_attributes":435}],426:[function(e,t,n){"use strict";var r=e("../../lib"),i=e("../../registry");function a(e,t,n,i){i=i||r.identity,Array.isArray(e)&&(t[0][n]=i(e))}t.exports=function(e){var t=e.calcdata,n=e._fullLayout;function o(e){return function(t){return r.coerceHoverinfo({hoverinfo:t},{_module:e._module},n)}}for(var s=0;s<t.length;s++){var l=t[s],u=l[0].trace;if(!i.traceIs(u,"pie-like")){var c=i.traceIs(u,"2dMap")?a:r.fillArray;c(u.hoverinfo,l,"hi",o(u)),u.hovertemplate&&c(u.hovertemplate,l,"ht"),u.hoverlabel&&(c(u.hoverlabel.bgcolor,l,"hbg"),c(u.hoverlabel.bordercolor,l,"hbc"),c(u.hoverlabel.font.size,l,"hts"),c(u.hoverlabel.font.color,l,"htc"),c(u.hoverlabel.font.family,l,"htf"),c(u.hoverlabel.namelength,l,"hnl"),c(u.hoverlabel.align,l,"hta"))}}}},{"../../lib":524,"../../registry":626}],427:[function(e,t,n){"use strict";var r=e("../../registry"),i=e("./hover").hover;t.exports=function(e,t,n){var a=r.getComponentMethod("annotations","onClick")(e,e._hoverdata);function o(){e.emit("plotly_click",{points:e._hoverdata,event:t})}void 0!==n&&i(e,t,n,!0),e._hoverdata&&t&&t.target&&(a&&a.then?a.then(o):o(),t.stopImmediatePropagation&&t.stopImmediatePropagation())}},{"../../registry":626,"./hover":431}],428:[function(e,t,n){"use strict";t.exports={YANGLE:60,HOVERARROWSIZE:6,HOVERTEXTPAD:3,HOVERFONTSIZE:13,HOVERFONT:"Arial, sans-serif",HOVERMINTIME:50,HOVERID:"-hover"}},{}],429:[function(e,t,n){"use strict";var r=e("../../lib"),i=e("./attributes"),a=e("./hoverlabel_defaults");t.exports=function(e,t,n,o){function s(n,a){return r.coerce(e,t,i,n,a)}var l=r.extendFlat({},o.hoverlabel);t.hovertemplate&&(l.namelength=-1),a(e,t,s,l)}},{"../../lib":524,"./attributes":425,"./hoverlabel_defaults":432}],430:[function(e,t,n){"use strict";var r=e("../../lib");n.getSubplot=function(e){return e.subplot||e.xaxis+e.yaxis||e.geo},n.isTraceInSubplots=function(e,t){if("splom"===e.type){for(var r=e.xaxes||[],i=e.yaxes||[],a=0;a<r.length;a++)for(var o=0;o<i.length;o++)if(-1!==t.indexOf(r[a]+i[o]))return!0;return!1}return-1!==t.indexOf(n.getSubplot(e))},n.flat=function(e,t){for(var n=new Array(e.length),r=0;r<e.length;r++)n[r]=t;return n},n.p2c=function(e,t){for(var n=new Array(e.length),r=0;r<e.length;r++)n[r]=e[r].p2c(t);return n},n.getDistanceFunction=function(e,t,r,i){return"closest"===e?i||n.quadrature(t,r):"x"===e.charAt(0)?t:r},n.getClosest=function(e,t,n){if(!1!==n.index)n.index>=0&&n.index<e.length?n.distance=0:n.index=!1;else for(var r=0;r<e.length;r++){var i=t(e[r]);i<=n.distance&&(n.index=r,n.distance=i)}return n},n.inbox=function(e,t,n){return e*t<0||0===e?n:1/0},n.quadrature=function(e,t){return function(n){var r=e(n),i=t(n);return Math.sqrt(r*r+i*i)}},n.makeEventData=function(e,t,r){var i="index"in e?e.index:e.pointNumber,a={data:t._input,fullData:t,curveNumber:t.index,pointNumber:i};if(t._indexToPoints){var o=t._indexToPoints[i];1===o.length?a.pointIndex=o[0]:a.pointIndices=o}else a.pointIndex=i;return t._module.eventData?a=t._module.eventData(a,e,t,r,i):("xVal"in e?a.x=e.xVal:"x"in e&&(a.x=e.x),"yVal"in e?a.y=e.yVal:"y"in e&&(a.y=e.y),e.xa&&(a.xaxis=e.xa),e.ya&&(a.yaxis=e.ya),void 0!==e.zLabelVal&&(a.z=e.zLabelVal)),n.appendArrayPointValue(a,t,i),a},n.appendArrayPointValue=function(e,t,n){var i=t._arrayAttrs;if(i)for(var s=0;s<i.length;s++){var l=i[s],u=a(l);if(void 0===e[u]){var c=o(r.nestedProperty(t,l).get(),n);void 0!==c&&(e[u]=c)}}},n.appendArrayMultiPointValues=function(e,t,n){var i=t._arrayAttrs;if(i)for(var s=0;s<i.length;s++){var l=i[s],u=a(l);if(void 0===e[u]){for(var c=r.nestedProperty(t,l).get(),f=new Array(n.length),d=0;d<n.length;d++)f[d]=o(c,n[d]);e[u]=f}}};var i={ids:"id",locations:"location",labels:"label",values:"value","marker.colors":"color",parents:"parent"};function a(e){return i[e]||e}function o(e,t){return Array.isArray(t)?Array.isArray(e)&&Array.isArray(e[t[0]])?e[t[0]][t[1]]:void 0:e[t]}var s={x:!0,y:!0},l={"x unified":!0,"y unified":!0};n.isUnifiedHover=function(e){return"string"===typeof e&&!!l[e]},n.isXYhover=function(e){return"string"===typeof e&&!!s[e]}},{"../../lib":524}],431:[function(e,t,n){"use strict";var r=e("d3"),i=e("fast-isnumeric"),a=e("tinycolor2"),o=e("../../lib"),s=o.strTranslate,l=o.strRotate,u=e("../../lib/events"),c=e("../../lib/svg_text_utils"),f=e("../../lib/override_cursor"),d=e("../drawing"),h=e("../color"),p=e("../dragelement"),g=e("../../plots/cartesian/axes"),v=e("../../registry"),m=e("./helpers"),y=e("./constants"),b=e("../legend/defaults"),x=e("../legend/draw"),_=y.YANGLE,w=Math.PI*_/180,k=1/Math.sin(w),M=Math.cos(w),T=Math.sin(w),A=y.HOVERARROWSIZE,E=y.HOVERTEXTPAD;function S(e,t,n,a){n||(n="xy");var s=Array.isArray(n)?n:[n],l=e._fullLayout,c=l._plots||[],d=c[n],g=l._has("cartesian");if(d){var y=d.overlays.map((function(e){return e.id}));s=s.concat(y)}for(var b=s.length,x=new Array(b),_=new Array(b),w=!1,k=0;k<b;k++){var M=s[k];if(c[M])w=!0,x[k]=c[M].xaxis,_[k]=c[M].yaxis;else{if(!l[M]||!l[M]._subplot)return void o.warn("Unrecognized subplot: "+M);var T=l[M]._subplot;x[k]=T.xaxis,_[k]=T.yaxis}}var A=t.hovermode||l.hovermode;if(A&&!w&&(A="closest"),-1===["x","y","closest","x unified","y unified"].indexOf(A)||!e.calcdata||e.querySelector(".zoombox")||e._dragging)return p.unhoverRaw(e,t);var E,S,C,R,F,B,U,V,H,q,W,G,X,Y=-1===l.hoverdistance?1/0:l.hoverdistance,Z=-1===l.spikedistance?1/0:l.spikedistance,$=[],K=[],Q={hLinePoint:null,vLinePoint:null},J=!1;if(Array.isArray(t))for(A="array",C=0;C<t.length;C++)(F=e.calcdata[t[C].curveNumber||0])&&(B=F[0].trace,"skip"!==F[0].trace.hoverinfo&&(K.push(F),"h"===B.orientation&&(J=!0)));else{for(R=0;R<e.calcdata.length;R++)F=e.calcdata[R],"skip"!==(B=F[0].trace).hoverinfo&&m.isTraceInSubplots(B,s)&&(K.push(F),"h"===B.orientation&&(J=!0));var ee,te;if(t.target){if(!1===u.triggerHandler(e,"plotly_beforehover",t))return;var ne=t.target.getBoundingClientRect();ee=t.clientX-ne.left,te=t.clientY-ne.top,l._calcInverseTransform(e);var re=o.apply3DTransform(l._invTransform)(ee,te);if(ee=re[0],te=re[1],ee<0||ee>x[0]._length||te<0||te>_[0]._length)return p.unhoverRaw(e,t)}else ee="xpx"in t?t.xpx:x[0]._length/2,te="ypx"in t?t.ypx:_[0]._length/2;if(t.pointerX=ee+x[0]._offset,t.pointerY=te+_[0]._offset,E="xval"in t?m.flat(s,t.xval):m.p2c(x,ee),S="yval"in t?m.flat(s,t.yval):m.p2c(_,te),!i(E[0])||!i(S[0]))return o.warn("Fx.hover failed",t,e),p.unhoverRaw(e,t)}var ie=1/0;function ae(e,n){for(R=0;R<K.length;R++)if((F=K[R])&&F[0]&&F[0].trace&&!0===(B=F[0].trace).visible&&0!==B._length&&-1===["carpet","contourcarpet"].indexOf(B._module.name)){if("splom"===B.type?U=s[V=0]:(U=m.getSubplot(B),V=s.indexOf(U)),H=A,m.isUnifiedHover(H)&&(H=H.charAt(0)),G={cd:F,trace:B,xa:x[V],ya:_[V],maxHoverDistance:Y,maxSpikeDistance:Z,index:!1,distance:Math.min(ie,Y),spikeDistance:1/0,xSpike:void 0,ySpike:void 0,color:h.defaultLine,name:B.name,x0:void 0,x1:void 0,y0:void 0,y1:void 0,xLabelVal:void 0,yLabelVal:void 0,zLabelVal:void 0,text:void 0},l[U]&&(G.subplot=l[U]._subplot),l._splomScenes&&l._splomScenes[B.uid]&&(G.scene=l._splomScenes[B.uid]),X=$.length,"array"===H){var r=t[R];"pointNumber"in r?(G.index=r.pointNumber,H="closest"):(H="","xval"in r&&(q=r.xval,H="x"),"yval"in r&&(W=r.yval,H=H?"closest":"y"))}else void 0!==e&&void 0!==n?(q=e,W=n):(q=E[V],W=S[V]);if(0!==Y)if(B._module&&B._module.hoverPoints){var a=B._module.hoverPoints(G,q,W,H,l._hoverlayer);if(a)for(var u,c=0;c<a.length;c++)u=a[c],i(u.x0)&&i(u.y0)&&$.push(z(u,A))}else o.log("Unrecognized trace type in hover:",B);if("closest"===A&&$.length>X&&($.splice(0,X),ie=$[0].distance),g&&0!==Z&&0===$.length){G.distance=Z,G.index=!1;var f=B._module.hoverPoints(G,q,W,"closest",l._hoverlayer);if(f&&(f=f.filter((function(e){return e.spikeDistance<=Z}))),f&&f.length){var d,p=f.filter((function(e){return e.xa.showspikes&&"hovered data"!==e.xa.spikesnap}));if(p.length){var v=p[0];i(v.x0)&&i(v.y0)&&(d=se(v),(!Q.vLinePoint||Q.vLinePoint.spikeDistance>d.spikeDistance)&&(Q.vLinePoint=d))}var y=f.filter((function(e){return e.ya.showspikes&&"hovered data"!==e.ya.spikesnap}));if(y.length){var b=y[0];i(b.x0)&&i(b.y0)&&(d=se(b),(!Q.hLinePoint||Q.hLinePoint.spikeDistance>d.spikeDistance)&&(Q.hLinePoint=d))}}}}}function oe(e,t){for(var n,r=null,i=1/0,a=0;a<e.length;a++)(n=e[a].spikeDistance)<=i&&n<=t&&(r=e[a],i=n);return r}function se(e){return e?{xa:e.xa,ya:e.ya,x:void 0!==e.xSpike?e.xSpike:(e.x0+e.x1)/2,y:void 0!==e.ySpike?e.ySpike:(e.y0+e.y1)/2,distance:e.distance,spikeDistance:e.spikeDistance,curveNumber:e.trace.index,color:e.color,pointNumber:e.index}:null}ae();var le={fullLayout:l,container:l._hoverlayer,outerContainer:l._paperdiv,event:t},ue=e._spikepoints,ce={vLinePoint:Q.vLinePoint,hLinePoint:Q.hLinePoint};if(e._spikepoints=ce,g&&0!==Z&&0!==$.length){var fe=oe($.filter((function(e){return e.ya.showspikes})),Z);Q.hLinePoint=se(fe);var de=oe($.filter((function(e){return e.xa.showspikes})),Z);Q.vLinePoint=se(de)}if(0===$.length){var he=p.unhoverRaw(e,t);return!g||null===Q.hLinePoint&&null===Q.vLinePoint||D(ue)&&I(e,Q,le),he}if(g&&D(ue)&&I(e,Q,le),$.sort((function(e,t){return e.distance-t.distance})),m.isXYhover(H)&&0!==$[0].length&&"splom"!==$[0].trace.type){var pe=$[0],ge=pe.cd[pe.index],ve="group"===l.boxmode||"group"===l.violinmode,me=pe.xVal,ye=pe.xa;"category"===ye.type&&(me=ye._categoriesMap[me]),"date"===ye.type&&(me=ye.d2c(me)),ge&&ge.t&&ge.t.posLetter===ye._id&&ve&&(me+=ge.t.dPos);var be=pe.yVal;"category"===(ye=pe.ya).type&&(be=ye._categoriesMap[be]),"date"===ye.type&&(be=ye.d2c(be)),ge&&ge.t&&ge.t.posLetter===ye._id&&ve&&(be+=ge.t.dPos),ae(me,be);var xe={};$=$.filter((function(e){var t=O(e);if(!xe[t])return xe[t]=!0,xe[t]}))}var _e=e._hoverdata,we=[];for(C=0;C<$.length;C++){var ke=$[C],Me=m.makeEventData(ke,ke.trace,ke.cd);if(!1!==ke.hovertemplate){var Te=!1;ke.cd[ke.index]&&ke.cd[ke.index].ht&&(Te=ke.cd[ke.index].ht),ke.hovertemplate=Te||ke.trace.hovertemplate||!1}ke.eventData=[Me],we.push(Me)}e._hoverdata=we;var Ae="y"===A&&(K.length>1||$.length>1)||"closest"===A&&J&&$.length>1,Ee=h.combine(l.plot_bgcolor||h.background,l.paper_bgcolor),Se={hovermode:A,rotateLabels:Ae,bgColor:Ee,container:l._hoverlayer,outerContainer:l._paperdiv,commonLabelOpts:l.hoverlabel,hoverdistance:l.hoverdistance},Oe=L($,Se,e);if(m.isUnifiedHover(A)||(P(Oe,Ae?"xa":"ya",l),j(Oe,Ae,l._invScaleX,l._invScaleY)),t.target&&t.target.tagName){var Ce=v.getComponentMethod("annotations","hasClickToShow")(e,we);f(r.select(t.target),Ce?"pointer":"")}t.target&&!a&&N(e,t,_e)&&(_e&&e.emit("plotly_unhover",{event:t,points:_e}),e.emit("plotly_hover",{event:t,points:e._hoverdata,xaxes:x,yaxes:_,xvals:E,yvals:S}))}function O(e){return[e.trace.index,e.index,e.x0,e.y0,e.name,e.attr,e.xa,e.ya||""].join(",")}n.hover=function(e,t,n,r){e=o.getGraphDiv(e),o.throttle(e._fullLayout._uid+y.HOVERID,y.HOVERMINTIME,(function(){S(e,t,n,r)}))},n.loneHover=function(e,t){var n=!0;Array.isArray(e)||(n=!1,e=[e]);var i=e.map((function(e){return{color:e.color||h.defaultLine,x0:e.x0||e.x||0,x1:e.x1||e.x||0,y0:e.y0||e.y||0,y1:e.y1||e.y||0,xLabel:e.xLabel,yLabel:e.yLabel,zLabel:e.zLabel,text:e.text,name:e.name,idealAlign:e.idealAlign,borderColor:e.borderColor,fontFamily:e.fontFamily,fontSize:e.fontSize,fontColor:e.fontColor,nameLength:e.nameLength,textAlign:e.textAlign,trace:e.trace||{index:0,hoverinfo:""},xa:{_offset:0},ya:{_offset:0},index:0,hovertemplate:e.hovertemplate||!1,eventData:e.eventData||!1,hovertemplateLabels:e.hovertemplateLabels||!1}})),a=r.select(t.container),o=t.outerContainer?r.select(t.outerContainer):a,s={hovermode:"closest",rotateLabels:!1,bgColor:t.bgColor||h.background,container:a,outerContainer:o},l=L(i,s,t.gd),u=5,c=0,f=0;l.sort((function(e,t){return e.y0-t.y0})).each((function(e,n){var r=e.y0-e.by/2;e.offset=r-u<c?c-r+u:0,c=r+e.by+e.offset,n===t.anchorIndex&&(f=e.offset)})).each((function(e){e.offset-=f}));var d=t.gd._fullLayout._invScaleX,p=t.gd._fullLayout._invScaleY;return j(l,s.rotateLabels,d,p),n?l:l.node()};var C=/<extra>([\s\S]*)<\/extra>/;function L(e,t,n){var i=n._fullLayout,a=t.hovermode,u=t.rotateLabels,f=t.bgColor,p=t.container,g=t.outerContainer,v=t.commonLabelOpts||{},w=t.fontFamily||y.HOVERFONT,k=t.fontSize||y.HOVERFONTSIZE,M=e[0],T=M.xa,S=M.ya,C="y"===a.charAt(0)?"yLabel":"xLabel",L=M[C],P=(String(L)||"").split(" ")[0],j=g.node().getBoundingClientRect(),z=j.top,I=j.width,N=j.height,D=void 0!==L&&M.distance<=t.hoverdistance&&("x"===a||"y"===a);if(D){var F,B,U=!0;for(F=0;F<e.length;F++)if(U&&void 0===e[F].zLabel&&(U=!1),B=e[F].hoverinfo||e[F].trace.hoverinfo){var V=Array.isArray(B)?B:B.split("+");if(-1===V.indexOf("all")&&-1===V.indexOf(a)){D=!1;break}}U&&(D=!1)}var H=p.selectAll("g.axistext").data(D?[0]:[]);function q(e){return e.filter((function(e){return void 0!==e.zLabelVal||(e[C]||"").split(" ")[0]===P}))}if(H.enter().append("g").classed("axistext",!0),H.exit().remove(),H.each((function(){var t=r.select(this),l=o.ensureSingle(t,"path","",(function(e){e.style({"stroke-width":"1px"})})),u=o.ensureSingle(t,"text","",(function(e){e.attr("data-notex",1)})),f=v.bgcolor||h.defaultLine,p=v.bordercolor||h.contrast(f),g=h.contrast(f),m={family:v.font.family||w,size:v.font.size||k,color:v.font.color||g};l.style({fill:f,stroke:p}),u.text(L).call(d.font,m).call(c.positionText,0,0).call(c.convertToTspans,n),t.attr("transform","");var y,b,x=u.node().getBoundingClientRect();if("x"===a){var _="top"===T.side?"-":"";u.attr("text-anchor","middle").call(c.positionText,0,"top"===T.side?z-x.bottom-A-E:z-x.top+A+E),y=T._offset+(M.x0+M.x1)/2,b=S._offset+("top"===T.side?0:S._length);var O=x.width/2+E;y<O?(y=O,l.attr("d","M-"+(O-A)+",0L-"+(O-2*A)+","+_+A+"H"+(E+x.width/2)+"v"+_+(2*E+x.height)+"H-"+O+"V"+_+A+"Z")):y>i.width-O?(y=i.width-O,l.attr("d","M"+(O-A)+",0L"+O+","+_+A+"v"+_+(2*E+x.height)+"H-"+O+"V"+_+A+"H"+(O-2*A)+"Z")):l.attr("d","M0,0L"+A+","+_+A+"H"+(E+x.width/2)+"v"+_+(2*E+x.height)+"H-"+(E+x.width/2)+"V"+_+A+"H-"+A+"Z")}else{var C,R,P;"right"===S.side?(C="start",R=1,P="",y=T._offset+T._length):(C="end",R=-1,P="-",y=T._offset),b=S._offset+(M.y0+M.y1)/2,u.attr("text-anchor",C),l.attr("d","M0,0L"+P+A+","+A+"V"+(E+x.height/2)+"h"+P+(2*E+x.width)+"V-"+(E+x.height/2)+"H"+P+A+"V-"+A+"Z");var j,I=x.height/2,N=z-x.top-I,D="clip"+i._uid+"commonlabel"+S._id;if(y<x.width+2*E+A){j="M-"+(A+E)+"-"+I+"h-"+(x.width-E)+"V"+I+"h"+(x.width-E)+"Z";var F=x.width-y+E;c.positionText(u,F,N),"end"===C&&u.selectAll("tspan").each((function(){var e=r.select(this),t=d.tester.append("text").text(e.text()).call(d.font,m),n=t.node().getBoundingClientRect();Math.round(n.width)<Math.round(x.width)&&e.attr("x",F-n.width),t.remove()}))}else c.positionText(u,R*(E+A),N),j=null;var B=i._topclips.selectAll("#"+D).data(j?[0]:[]);B.enter().append("clipPath").attr("id",D).append("path"),B.exit().remove(),B.select("path").attr("d",j),d.setClipUrl(u,j?D:null,n)}t.attr("transform",s(y,b)),e=q(e)})),m.isUnifiedHover(a)){if(p.selectAll("g.hovertext").remove(),void 0!==L&&M.distance<=t.hoverdistance&&(e=q(e)),0===e.length)return;var W={showlegend:!0,legend:{title:{text:L,font:i.hoverlabel.font},font:i.hoverlabel.font,bgcolor:i.hoverlabel.bgcolor,bordercolor:i.hoverlabel.bordercolor,borderwidth:1,tracegroupgap:7,traceorder:i.legend?i.legend.traceorder:void 0,orientation:"v"}},G={};b(W,G,n._fullData);var X=G.legend;X.entries=[];for(var Y=0;Y<e.length;Y++){var Z=R(e[Y],!0,a,i,L),$=Z[0],K=Z[1],Q=e[Y];Q.name=K,Q.text=""!==K?K+" : "+$:$;var J=Q.cd[Q.index];J&&(J.mc&&(Q.mc=J.mc),J.mcc&&(Q.mc=J.mcc),J.mlc&&(Q.mlc=J.mlc),J.mlcc&&(Q.mlc=J.mlcc),J.mlw&&(Q.mlw=J.mlw),J.mrc&&(Q.mrc=J.mrc),J.dir&&(Q.dir=J.dir)),Q._distinct=!0,X.entries.push([Q])}X.entries.sort((function(e,t){return e[0].trace.index-t[0].trace.index})),X.layer=p,x(n,X);var ee=o.mean(e.map((function(e){return(e.y0+e.y1)/2}))),te=o.mean(e.map((function(e){return(e.x0+e.x1)/2}))),ne=p.select("g.legend"),re=ne.node().getBoundingClientRect();te+=T._offset,ee+=S._offset-re.height/2;var ie=re.width+2*E;!(te+ie<=I)&&te-ie>=0?te-=ie:te+=2*E;var ae=re.height+2*E,oe=ee+ae>=N;return ae<=N&&(ee<=z?ee=S._offset+2*E:oe&&(ee=N-ae)),ne.attr("transform",s(te,ee)),ne}var se=p.selectAll("g.hovertext").data(e,(function(e){return O(e)}));return se.enter().append("g").classed("hovertext",!0).each((function(){var e=r.select(this);e.append("rect").call(h.fill,h.addOpacity(f,.8)),e.append("text").classed("name",!0),e.append("path").style("stroke-width","1px"),e.append("text").classed("nums",!0).call(d.font,w,k)})),se.exit().remove(),se.each((function(e){var t=r.select(this).attr("transform",""),o=e.color;Array.isArray(o)&&(o=o[e.eventData[0].pointNumber]);var p=e.bgcolor||o,g=h.combine(h.opacity(p)?p:h.defaultLine,f),v=h.combine(h.opacity(o)?o:h.defaultLine,f),m=e.borderColor||h.contrast(g),y=R(e,D,a,i,L,t),b=y[0],x=y[1],M=t.select("text.nums").call(d.font,e.fontFamily||w,e.fontSize||k,e.fontColor||m).text(b).attr("data-notex",1).call(c.positionText,0,0).call(c.convertToTspans,n),T=t.select("text.name"),S=0,O=0;if(x&&x!==b){T.call(d.font,e.fontFamily||w,e.fontSize||k,v).text(x).attr("data-notex",1).call(c.positionText,0,0).call(c.convertToTspans,n);var C=T.node().getBoundingClientRect();S=C.width+2*E,O=C.height+2*E}else T.remove(),t.select("rect").remove();t.select("path").style({fill:g,stroke:m});var P,j,F=M.node().getBoundingClientRect(),B=e.xa._offset+(e.x0+e.x1)/2,U=e.ya._offset+(e.y0+e.y1)/2,V=Math.abs(e.x1-e.x0),H=Math.abs(e.y1-e.y0),q=F.width+A+E+S;if(e.ty0=z-F.top,e.bx=F.width+2*E,e.by=Math.max(F.height+2*E,O),e.anchor="start",e.txwidth=F.width,e.tx2width=S,e.offset=0,u)e.pos=B,P=U+H/2+q<=N,j=U-H/2-q>=0,"top"!==e.idealAlign&&P||!j?P?(U+=H/2,e.anchor="start"):e.anchor="middle":(U-=H/2,e.anchor="end");else if(e.pos=U,P=B+V/2+q<=I,j=B-V/2-q>=0,"left"!==e.idealAlign&&P||!j)if(P)B+=V/2,e.anchor="start";else{e.anchor="middle";var W=q/2,G=B+W-I,X=B-W;G>0&&(B-=G),X<0&&(B+=-X)}else B-=V/2,e.anchor="end";M.attr("text-anchor",e.anchor),S&&T.attr("text-anchor",e.anchor),t.attr("transform",s(B,U)+(u?l(_):""))})),se}function R(e,t,n,r,i,a){var s="",l="";void 0!==e.nameOverride&&(e.name=e.nameOverride),e.name&&(e.trace._meta&&(e.name=o.templateString(e.name,e.trace._meta)),s=F(e.name,e.nameLength)),void 0!==e.zLabel?(void 0!==e.xLabel&&(l+="x: "+e.xLabel+"<br>"),void 0!==e.yLabel&&(l+="y: "+e.yLabel+"<br>"),"choropleth"!==e.trace.type&&"choroplethmapbox"!==e.trace.type&&(l+=(l?"z: ":"")+e.zLabel)):t&&e[n.charAt(0)+"Label"]===i?l=e[("x"===n.charAt(0)?"y":"x")+"Label"]||"":void 0===e.xLabel?void 0!==e.yLabel&&"scattercarpet"!==e.trace.type&&(l=e.yLabel):l=void 0===e.yLabel?e.xLabel:"("+e.xLabel+", "+e.yLabel+")",!e.text&&0!==e.text||Array.isArray(e.text)||(l+=(l?"<br>":"")+e.text),void 0!==e.extraText&&(l+=(l?"<br>":"")+e.extraText),a&&""===l&&!e.hovertemplate&&(""===s&&a.remove(),l=s);var u=r._d3locale,c=e.hovertemplate||!1,f=e.hovertemplateLabels||e,d=e.eventData[0]||{};return c&&(l=(l=o.hovertemplateString(c,f,u,d,e.trace._meta)).replace(C,(function(t,n){return s=F(n,e.nameLength),""}))),[l,s]}function P(e,t,n){var r,i,a,o,s,l,u,c=0,f=1,d=e.size(),h=new Array(d),p=0;function g(e){var t=e[0],n=e[e.length-1];if(i=t.pmin-t.pos-t.dp+t.size,a=n.pos+n.dp+n.size-t.pmax,i>.01){for(s=e.length-1;s>=0;s--)e[s].dp+=i;r=!1}if(!(a<.01)){if(i<-.01){for(s=e.length-1;s>=0;s--)e[s].dp-=a;r=!1}if(r){var u=0;for(o=0;o<e.length;o++)(l=e[o]).pos+l.dp+l.size>t.pmax&&u++;for(o=e.length-1;o>=0&&!(u<=0);o--)(l=e[o]).pos>t.pmax-1&&(l.del=!0,u--);for(o=0;o<e.length&&!(u<=0);o++)if((l=e[o]).pos<t.pmin+1)for(l.del=!0,u--,a=2*l.size,s=e.length-1;s>=0;s--)e[s].dp-=a;for(o=e.length-1;o>=0&&!(u<=0);o--)(l=e[o]).pos+l.dp+l.size>t.pmax&&(l.del=!0,u--)}}}for(e.each((function(e){var r=e[t],i="x"===r._id.charAt(0),a=r.range;0===p&&a&&a[0]>a[1]!==i&&(f=-1),h[p++]=[{datum:e,traceIndex:e.trace.index,dp:0,pos:e.pos,posref:e.posref,size:e.by*(i?k:1)/2,pmin:0,pmax:i?n.width:n.height}]})),h.sort((function(e,t){return e[0].posref-t[0].posref||f*(t[0].traceIndex-e[0].traceIndex)}));!r&&c<=d;){for(c++,r=!0,o=0;o<h.length-1;){var v=h[o],m=h[o+1],y=v[v.length-1],b=m[0];if((i=y.pos+y.dp+y.size-b.pos-b.dp+b.size)>.01&&y.pmin===b.pmin&&y.pmax===b.pmax){for(s=m.length-1;s>=0;s--)m[s].dp+=i;for(v.push.apply(v,m),h.splice(o+1,1),u=0,s=v.length-1;s>=0;s--)u+=v[s].dp;for(a=u/v.length,s=v.length-1;s>=0;s--)v[s].dp-=a;r=!1}else o++}h.forEach(g)}for(o=h.length-1;o>=0;o--){var x=h[o];for(s=x.length-1;s>=0;s--){var _=x[s],w=_.datum;w.offset=_.dp,w.del=_.del}}}function j(e,t,n,i){var a=function(e){return e*n},o=function(e){return e*i};e.each((function(e){var n=r.select(this);if(e.del)return n.remove();var i=n.select("text.nums"),s=e.anchor,l="end"===s?-1:1,u={start:1,end:-1,middle:0}[s],f=u*(A+E),h=f+u*(e.txwidth+E),p=0,g=e.offset,v="middle"===s;v&&(f-=e.tx2width/2,h+=e.txwidth/2+E),t&&(g*=-T,p=e.offset*M),n.select("path").attr("d",v?"M-"+a(e.bx/2+e.tx2width/2)+","+o(g-e.by/2)+"h"+a(e.bx)+"v"+o(e.by)+"h-"+a(e.bx)+"Z":"M0,0L"+a(l*A+p)+","+o(A+g)+"v"+o(e.by/2-A)+"h"+a(l*e.bx)+"v-"+o(e.by)+"H"+a(l*A+p)+"V"+o(g-A)+"Z");var m=p+f,y=g+e.ty0-e.by/2+E,b=e.textAlign||"auto";"auto"!==b&&("left"===b&&"start"!==s?(i.attr("text-anchor","start"),m=v?-e.bx/2-e.tx2width/2+E:-e.bx-E):"right"===b&&"end"!==s&&(i.attr("text-anchor","end"),m=v?e.bx/2-e.tx2width/2-E:e.bx+E)),i.call(c.positionText,a(m),o(y)),e.tx2width&&(n.select("text.name").call(c.positionText,a(h+u*E+p),o(g+e.ty0-e.by/2+E)),n.select("rect").call(d.setRect,a(h+(u-1)*e.tx2width/2+p),o(g-e.by/2-1),a(e.tx2width),o(e.by+2)))}))}function z(e,t){var n=e.index,r=e.trace||{},a=e.cd[0],s=e.cd[n]||{};function l(e){return e||i(e)&&0===e}var u=Array.isArray(n)?function(e,t){var i=o.castOption(a,n,e);return l(i)?i:o.extractOption({},r,"",t)}:function(e,t){return o.extractOption(s,r,e,t)};function c(t,n,r){var i=u(n,r);l(i)&&(e[t]=i)}if(c("hoverinfo","hi","hoverinfo"),c("bgcolor","hbg","hoverlabel.bgcolor"),c("borderColor","hbc","hoverlabel.bordercolor"),c("fontFamily","htf","hoverlabel.font.family"),c("fontSize","hts","hoverlabel.font.size"),c("fontColor","htc","hoverlabel.font.color"),c("nameLength","hnl","hoverlabel.namelength"),c("textAlign","hta","hoverlabel.align"),e.posref="y"===t||"closest"===t&&"h"===r.orientation?e.xa._offset+(e.x0+e.x1)/2:e.ya._offset+(e.y0+e.y1)/2,e.x0=o.constrain(e.x0,0,e.xa._length),e.x1=o.constrain(e.x1,0,e.xa._length),e.y0=o.constrain(e.y0,0,e.ya._length),e.y1=o.constrain(e.y1,0,e.ya._length),void 0!==e.xLabelVal&&(e.xLabel="xLabel"in e?e.xLabel:g.hoverLabelText(e.xa,e.xLabelVal),e.xVal=e.xa.c2d(e.xLabelVal)),void 0!==e.yLabelVal&&(e.yLabel="yLabel"in e?e.yLabel:g.hoverLabelText(e.ya,e.yLabelVal),e.yVal=e.ya.c2d(e.yLabelVal)),void 0!==e.zLabelVal&&void 0===e.zLabel&&(e.zLabel=String(e.zLabelVal)),!isNaN(e.xerr)&&!("log"===e.xa.type&&e.xerr<=0)){var f=g.tickText(e.xa,e.xa.c2l(e.xerr),"hover").text;void 0!==e.xerrneg?e.xLabel+=" +"+f+" / -"+g.tickText(e.xa,e.xa.c2l(e.xerrneg),"hover").text:e.xLabel+=" \xb1 "+f,"x"===t&&(e.distance+=1)}if(!isNaN(e.yerr)&&!("log"===e.ya.type&&e.yerr<=0)){var d=g.tickText(e.ya,e.ya.c2l(e.yerr),"hover").text;void 0!==e.yerrneg?e.yLabel+=" +"+d+" / -"+g.tickText(e.ya,e.ya.c2l(e.yerrneg),"hover").text:e.yLabel+=" \xb1 "+d,"y"===t&&(e.distance+=1)}var h=e.hoverinfo||e.trace.hoverinfo;return h&&"all"!==h&&(-1===(h=Array.isArray(h)?h:h.split("+")).indexOf("x")&&(e.xLabel=void 0),-1===h.indexOf("y")&&(e.yLabel=void 0),-1===h.indexOf("z")&&(e.zLabel=void 0),-1===h.indexOf("text")&&(e.text=void 0),-1===h.indexOf("name")&&(e.name=void 0)),e}function I(e,t,n){var r,i,o=n.container,s=n.fullLayout,l=s._size,u=n.event,c=!!t.hLinePoint,f=!!t.vLinePoint;if(o.selectAll(".spikeline").remove(),f||c){var p=h.combine(s.plot_bgcolor,s.paper_bgcolor);if(c){var v,m,y=t.hLinePoint;r=y&&y.xa,"cursor"===(i=y&&y.ya).spikesnap?(v=u.pointerX,m=u.pointerY):(v=r._offset+y.x,m=i._offset+y.y);var b,x,_=a.readability(y.color,p)<1.5?h.contrast(p):y.color,w=i.spikemode,k=i.spikethickness,M=i.spikecolor||_,T=g.getPxPosition(e,i);if(-1!==w.indexOf("toaxis")||-1!==w.indexOf("across")){if(-1!==w.indexOf("toaxis")&&(b=T,x=v),-1!==w.indexOf("across")){var A=i._counterDomainMin,E=i._counterDomainMax;"free"===i.anchor&&(A=Math.min(A,i.position),E=Math.max(E,i.position)),b=l.l+A*l.w,x=l.l+E*l.w}o.insert("line",":first-child").attr({x1:b,x2:x,y1:m,y2:m,"stroke-width":k,stroke:M,"stroke-dasharray":d.dashStyle(i.spikedash,k)}).classed("spikeline",!0).classed("crisp",!0),o.insert("line",":first-child").attr({x1:b,x2:x,y1:m,y2:m,"stroke-width":k+2,stroke:p}).classed("spikeline",!0).classed("crisp",!0)}-1!==w.indexOf("marker")&&o.insert("circle",":first-child").attr({cx:T+("right"!==i.side?k:-k),cy:m,r:k,fill:M}).classed("spikeline",!0)}if(f){var S,O,C=t.vLinePoint;r=C&&C.xa,i=C&&C.ya,"cursor"===r.spikesnap?(S=u.pointerX,O=u.pointerY):(S=r._offset+C.x,O=i._offset+C.y);var L,R,P=a.readability(C.color,p)<1.5?h.contrast(p):C.color,j=r.spikemode,z=r.spikethickness,I=r.spikecolor||P,N=g.getPxPosition(e,r);if(-1!==j.indexOf("toaxis")||-1!==j.indexOf("across")){if(-1!==j.indexOf("toaxis")&&(L=N,R=O),-1!==j.indexOf("across")){var D=r._counterDomainMin,F=r._counterDomainMax;"free"===r.anchor&&(D=Math.min(D,r.position),F=Math.max(F,r.position)),L=l.t+(1-F)*l.h,R=l.t+(1-D)*l.h}o.insert("line",":first-child").attr({x1:S,x2:S,y1:L,y2:R,"stroke-width":z,stroke:I,"stroke-dasharray":d.dashStyle(r.spikedash,z)}).classed("spikeline",!0).classed("crisp",!0),o.insert("line",":first-child").attr({x1:S,x2:S,y1:L,y2:R,"stroke-width":z+2,stroke:p}).classed("spikeline",!0).classed("crisp",!0)}-1!==j.indexOf("marker")&&o.insert("circle",":first-child").attr({cx:S,cy:N-("top"!==r.side?z:-z),r:z,fill:I}).classed("spikeline",!0)}}}function N(e,t,n){if(!n||n.length!==e._hoverdata.length)return!0;for(var r=n.length-1;r>=0;r--){var i=n[r],a=e._hoverdata[r];if(i.curveNumber!==a.curveNumber||String(i.pointNumber)!==String(a.pointNumber)||String(i.pointNumbers)!==String(a.pointNumbers))return!0}return!1}function D(e,t){return!t||t.vLinePoint!==e._spikepoints.vLinePoint||t.hLinePoint!==e._spikepoints.hLinePoint}function F(e,t){return c.plainText(e||"",{len:t,allowedTags:["br","sub","sup","b","i","em"]})}},{"../../lib":524,"../../lib/events":516,"../../lib/override_cursor":535,"../../lib/svg_text_utils":548,"../../plots/cartesian/axes":572,"../../registry":626,"../color":394,"../dragelement":413,"../drawing":416,"../legend/defaults":446,"../legend/draw":447,"./constants":428,"./helpers":430,d3:82,"fast-isnumeric":91,tinycolor2:360}],432:[function(e,t,n){"use strict";var r=e("../../lib"),i=e("../color"),a=e("./helpers").isUnifiedHover;t.exports=function(e,t,n,o){function s(e){o.font[e]||(o.font[e]=t.legend?t.legend.font[e]:t.font[e])}o=o||{},t&&a(t.hovermode)&&(o.font||(o.font={}),s("size"),s("family"),s("color"),t.legend?(o.bgcolor||(o.bgcolor=i.combine(t.legend.bgcolor,t.paper_bgcolor)),o.bordercolor||(o.bordercolor=t.legend.bordercolor)):o.bgcolor||(o.bgcolor=t.paper_bgcolor)),n("hoverlabel.bgcolor",o.bgcolor),n("hoverlabel.bordercolor",o.bordercolor),n("hoverlabel.namelength",o.namelength),r.coerceFont(n,"hoverlabel.font",o.font),n("hoverlabel.align",o.align)}},{"../../lib":524,"../color":394,"./helpers":430}],433:[function(e,t,n){"use strict";var r=e("../../lib"),i=e("./layout_attributes");function a(e,t){for(var n=t._scatterStackOpts||{},r=0;r<e.length;r++){var i=e[r],a=(n[i.xaxis+i.yaxis]||{})[i.stackgroup]||{};if("h"!==i.orientation&&"h"!==a.orientation)return!1}return!0}t.exports=function(e,t,n){function o(n,a){return void 0!==t[n]?t[n]:r.coerce(e,t,i,n,a)}var s,l=o("clickmode");return t._has("cartesian")?l.indexOf("select")>-1?s="closest":(t._isHoriz=a(n,t),s=t._isHoriz?"y":"x"):s="closest",o("hovermode",s)}},{"../../lib":524,"./layout_attributes":435}],434:[function(e,t,n){"use strict";var r=e("d3"),i=e("../../lib"),a=e("../dragelement"),o=e("./helpers"),s=e("./layout_attributes"),l=e("./hover");function u(e){var t=i.isD3Selection(e)?e:r.select(e);t.selectAll("g.hovertext").remove(),t.selectAll(".spikeline").remove()}function c(e,t,n){return i.castOption(e,t,"hoverlabel."+n)}function f(e,t,n){function r(n){return i.coerceHoverinfo({hoverinfo:n},{_module:e._module},t)}return i.castOption(e,n,"hoverinfo",r)}t.exports={moduleType:"component",name:"fx",constants:e("./constants"),schema:{layout:s},attributes:e("./attributes"),layoutAttributes:s,supplyLayoutGlobalDefaults:e("./layout_global_defaults"),supplyDefaults:e("./defaults"),supplyLayoutDefaults:e("./layout_defaults"),calc:e("./calc"),getDistanceFunction:o.getDistanceFunction,getClosest:o.getClosest,inbox:o.inbox,quadrature:o.quadrature,appendArrayPointValue:o.appendArrayPointValue,castHoverOption:c,castHoverinfo:f,hover:l.hover,unhover:a.unhover,loneHover:l.loneHover,loneUnhover:u,click:e("./click")}},{"../../lib":524,"../dragelement":413,"./attributes":425,"./calc":426,"./click":427,"./constants":428,"./defaults":429,"./helpers":430,"./hover":431,"./layout_attributes":435,"./layout_defaults":436,"./layout_global_defaults":437,d3:82}],435:[function(e,t,n){"use strict";var r=e("./constants"),i=e("../../plots/font_attributes")({editType:"none"});i.family.dflt=r.HOVERFONT,i.size.dflt=r.HOVERFONTSIZE,t.exports={clickmode:{valType:"flaglist",flags:["event","select"],dflt:"event",editType:"plot",extras:["none"]},dragmode:{valType:"enumerated",values:["zoom","pan","select","lasso","drawclosedpath","drawopenpath","drawline","drawrect","drawcircle","orbit","turntable",!1],dflt:"zoom",editType:"modebar"},hovermode:{valType:"enumerated",values:["x","y","closest",!1,"x unified","y unified"],editType:"modebar"},hoverdistance:{valType:"integer",min:-1,dflt:20,editType:"none"},spikedistance:{valType:"integer",min:-1,dflt:20,editType:"none"},hoverlabel:{bgcolor:{valType:"color",editType:"none"},bordercolor:{valType:"color",editType:"none"},font:i,align:{valType:"enumerated",values:["left","right","auto"],dflt:"auto",editType:"none"},namelength:{valType:"integer",min:-1,dflt:15,editType:"none"},editType:"none"},selectdirection:{valType:"enumerated",values:["h","v","d","any"],dflt:"any",editType:"none"}}},{"../../plots/font_attributes":600,"./constants":428}],436:[function(e,t,n){"use strict";var r=e("../../lib"),i=e("./helpers").isUnifiedHover,a=e("./layout_attributes"),o=e("./hovermode_defaults"),s=e("./hoverlabel_defaults");t.exports=function(e,t,n){function l(n,i){return r.coerce(e,t,a,n,i)}var u=o(e,t,n);u&&(l("hoverdistance"),l("spikedistance",i(u)?-1:void 0)),"select"===l("dragmode")&&l("selectdirection");var c=t._has("mapbox"),f=t._has("geo"),d=t._basePlotModules.length;"zoom"===t.dragmode&&((c||f)&&1===d||c&&f&&2===d)&&(t.dragmode="pan"),s(e,t,l)}},{"../../lib":524,"./helpers":430,"./hoverlabel_defaults":432,"./hovermode_defaults":433,"./layout_attributes":435}],437:[function(e,t,n){"use strict";var r=e("../../lib"),i=e("./hoverlabel_defaults"),a=e("./layout_attributes");t.exports=function(e,t){function n(n,i){return r.coerce(e,t,a,n,i)}i(e,t,n)}},{"../../lib":524,"./hoverlabel_defaults":432,"./layout_attributes":435}],438:[function(e,t,n){"use strict";var r=e("../../lib"),i=e("../../lib/regex").counter,a=e("../../plots/domain").attributes,o=e("../../plots/cartesian/constants").idRegex,s=e("../../plot_api/plot_template"),l={rows:{valType:"integer",min:1,editType:"plot"},roworder:{valType:"enumerated",values:["top to bottom","bottom to top"],dflt:"top to bottom",editType:"plot"},columns:{valType:"integer",min:1,editType:"plot"},subplots:{valType:"info_array",freeLength:!0,dimensions:2,items:{valType:"enumerated",values:[i("xy").toString(),""],editType:"plot"},editType:"plot"},xaxes:{valType:"info_array",freeLength:!0,items:{valType:"enumerated",values:[o.x.toString(),""],editType:"plot"},editType:"plot"},yaxes:{valType:"info_array",freeLength:!0,items:{valType:"enumerated",values:[o.y.toString(),""],editType:"plot"},editType:"plot"},pattern:{valType:"enumerated",values:["independent","coupled"],dflt:"coupled",editType:"plot"},xgap:{valType:"number",min:0,max:1,editType:"plot"},ygap:{valType:"number",min:0,max:1,editType:"plot"},domain:a({name:"grid",editType:"plot",noGridCell:!0},{}),xside:{valType:"enumerated",values:["bottom","bottom plot","top plot","top"],dflt:"bottom plot",editType:"plot"},yside:{valType:"enumerated",values:["left","left plot","right plot","right"],dflt:"left plot",editType:"plot"},editType:"plot"};function u(e,t,n){var r=t[n+"axes"],i=Object.keys((e._splomAxes||{})[n]||{});return Array.isArray(r)?r:i.length?i:void 0}function c(e,t){var n=e.grid||{},i=u(t,n,"x"),a=u(t,n,"y");if(e.grid||i||a){var o,c,d=Array.isArray(n.subplots)&&Array.isArray(n.subplots[0]),h=Array.isArray(i),p=Array.isArray(a),g=h&&i!==n.xaxes&&p&&a!==n.yaxes;d?(o=n.subplots.length,c=n.subplots[0].length):(p&&(o=a.length),h&&(c=i.length));var v=s.newContainer(t,"grid"),m=M("rows",o),y=M("columns",c);if(m*y>1){d||h||p||"independent"===M("pattern")&&(d=!0),v._hasSubplotGrid=d;var b,x,_="top to bottom"===M("roworder"),w=d?.2:.1,k=d?.3:.1;g&&t._splomGridDflt&&(b=t._splomGridDflt.xside,x=t._splomGridDflt.yside),v._domains={x:f("x",M,w,b,y),y:f("y",M,k,x,m,_)}}else delete t.grid}function M(e,t){return r.coerce(n,v,l,e,t)}}function f(e,t,n,r,i,a){var o=t(e+"gap",n),s=t("domain."+e);t(e+"side",r);for(var l=new Array(i),u=s[0],c=(s[1]-u)/(i-o),f=c*(1-o),d=0;d<i;d++){var h=u+c*d;l[a?i-1-d:d]=[h,h+f]}return l}function d(e,t){var n=t.grid;if(n&&n._domains){var r,i,a,o,s,l,c,f=e.grid||{},d=t._subplots,p=n._hasSubplotGrid,g=n.rows,v=n.columns,m="independent"===n.pattern,y=n._axisMap={};if(p){var b=f.subplots||[];l=n.subplots=new Array(g);var x=1;for(r=0;r<g;r++){var _=l[r]=new Array(v),w=b[r]||[];for(i=0;i<v;i++)if(m?(s=1===x?"xy":"x"+x+"y"+x,x++):s=w[i],_[i]="",-1!==d.cartesian.indexOf(s)){if(c=s.indexOf("y"),a=s.slice(0,c),o=s.slice(c),void 0!==y[a]&&y[a]!==i||void 0!==y[o]&&y[o]!==r)continue;_[i]=s,y[a]=i,y[o]=r}}}else{var k=u(t,f,"x"),M=u(t,f,"y");n.xaxes=h(k,d.xaxis,v,y,"x"),n.yaxes=h(M,d.yaxis,g,y,"y")}var T=n._anchors={},A="top to bottom"===n.roworder;for(var E in y){var S,O,C,L=E.charAt(0),R=n[L+"side"];if(R.length<8)T[E]="free";else if("x"===L){if("t"===R.charAt(0)===A?(S=0,O=1,C=g):(S=g-1,O=-1,C=-1),p){var P=y[E];for(r=S;r!==C;r+=O)if((s=l[r][P])&&(c=s.indexOf("y"),s.slice(0,c)===E)){T[E]=s.slice(c);break}}else for(r=S;r!==C;r+=O)if(o=n.yaxes[r],-1!==d.cartesian.indexOf(E+o)){T[E]=o;break}}else if("l"===R.charAt(0)?(S=0,O=1,C=v):(S=v-1,O=-1,C=-1),p){var j=y[E];for(r=S;r!==C;r+=O)if((s=l[j][r])&&(c=s.indexOf("y"),s.slice(c)===E)){T[E]=s.slice(0,c);break}}else for(r=S;r!==C;r+=O)if(a=n.xaxes[r],-1!==d.cartesian.indexOf(a+E)){T[E]=a;break}}}}function h(e,t,n,r,i){var a,o=new Array(n);function s(e,n){-1!==t.indexOf(n)&&void 0===r[n]?(o[e]=n,r[n]=e):o[e]=""}if(Array.isArray(e))for(a=0;a<n;a++)s(a,e[a]);else for(s(0,i),a=1;a<n;a++)s(a,i+(a+1));return o}t.exports={moduleType:"component",name:"grid",schema:{layout:{grid:l}},layoutAttributes:l,sizeDefaults:c,contentDefaults:d}},{"../../lib":524,"../../lib/regex":540,"../../plot_api/plot_template":561,"../../plots/cartesian/constants":578,"../../plots/domain":599}],439:[function(e,t,n){"use strict";var r=e("../../plots/cartesian/constants"),i=e("../../plot_api/plot_template").templatedArray;e("../../constants/axis_placeable_objects"),t.exports=i("image",{visible:{valType:"boolean",dflt:!0,editType:"arraydraw"},source:{valType:"string",editType:"arraydraw"},layer:{valType:"enumerated",values:["below","above"],dflt:"above",editType:"arraydraw"},sizex:{valType:"number",dflt:0,editType:"arraydraw"},sizey:{valType:"number",dflt:0,editType:"arraydraw"},sizing:{valType:"enumerated",values:["fill","contain","stretch"],dflt:"contain",editType:"arraydraw"},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"arraydraw"},x:{valType:"any",dflt:0,editType:"arraydraw"},y:{valType:"any",dflt:0,editType:"arraydraw"},xanchor:{valType:"enumerated",values:["left","center","right"],dflt:"left",editType:"arraydraw"},yanchor:{valType:"enumerated",values:["top","middle","bottom"],dflt:"top",editType:"arraydraw"},xref:{valType:"enumerated",values:["paper",r.idRegex.x.toString()],dflt:"paper",editType:"arraydraw"},yref:{valType:"enumerated",values:["paper",r.idRegex.y.toString()],dflt:"paper",editType:"arraydraw"},editType:"arraydraw"})},{"../../constants/axis_placeable_objects":497,"../../plot_api/plot_template":561,"../../plots/cartesian/constants":578}],440:[function(e,t,n){"use strict";var r=e("fast-isnumeric"),i=e("../../lib/to_log_range");t.exports=function(e,t,n,a){t=t||{};var o="log"===n&&"linear"===t.type,s="linear"===n&&"log"===t.type;if(o||s)for(var l,u,c=e._fullLayout.images,f=t._id.charAt(0),d=0;d<c.length;d++)if(u="images["+d+"].",(l=c[d])[f+"ref"]===t._id){var h=l[f],p=l["size"+f],g=null,v=null;if(o){g=i(h,t.range);var m=p/Math.pow(10,g)/2;v=2*Math.log(m+Math.sqrt(1+m*m))/Math.LN10}else v=(g=Math.pow(10,h))*(Math.pow(10,p/2)-Math.pow(10,-p/2));r(g)?r(v)||(v=null):(g=null,v=null),a(u+f,g),a(u+"size"+f,v)}}},{"../../lib/to_log_range":550,"fast-isnumeric":91}],441:[function(e,t,n){"use strict";var r=e("../../lib"),i=e("../../plots/cartesian/axes"),a=e("../../plots/array_container_defaults"),o=e("./attributes"),s="images";function l(e,t,n){function a(n,i){return r.coerce(e,t,o,n,i)}var s=a("source");if(!a("visible",!!s))return t;a("layer"),a("xanchor"),a("yanchor"),a("sizex"),a("sizey"),a("sizing"),a("opacity");for(var l={_fullLayout:n},u=["x","y"],c=0;c<2;c++){var f=u[c],d=i.coerceRef(e,t,l,f,"paper",void 0);"paper"!==d&&i.getFromId(l,d)._imgIndices.push(t._index),i.coercePosition(t,l,a,d,f,0)}return t}t.exports=function(e,t){a(e,t,{name:s,handleItemDefaults:l})}},{"../../lib":524,"../../plots/array_container_defaults":567,"../../plots/cartesian/axes":572,"./attributes":439}],442:[function(e,t,n){"use strict";var r=e("d3"),i=e("../drawing"),a=e("../../plots/cartesian/axes"),o=e("../../plots/cartesian/axis_ids"),s=e("../../constants/xmlns_namespaces");t.exports=function(e){var t,n,l=e._fullLayout,u=[],c={},f=[];for(n=0;n<l.images.length;n++){var d=l.images[n];if(d.visible)if("below"===d.layer&&"paper"!==d.xref&&"paper"!==d.yref){t=o.ref2id(d.xref)+o.ref2id(d.yref);var h=l._plots[t];if(!h){f.push(d);continue}h.mainplot&&(t=h.mainplot.id),c[t]||(c[t]=[]),c[t].push(d)}else"above"===d.layer?u.push(d):f.push(d)}var p={x:{left:{sizing:"xMin",offset:0},center:{sizing:"xMid",offset:-.5},right:{sizing:"xMax",offset:-1}},y:{top:{sizing:"YMin",offset:0},middle:{sizing:"YMid",offset:-.5},bottom:{sizing:"YMax",offset:-1}}};function g(t){var n=r.select(this);if(this._imgSrc!==t.source)if(n.attr("xmlns",s.svg),t.source&&"data:"===t.source.slice(0,5))n.attr("xlink:href",t.source),this._imgSrc=t.source;else{var i=new Promise(function(e){var r=new Image;function i(){n.remove(),e()}this.img=r,r.setAttribute("crossOrigin","anonymous"),r.onerror=i,r.onload=function(){var t=document.createElement("canvas");t.width=this.width,t.height=this.height,t.getContext("2d").drawImage(this,0,0);var r=t.toDataURL("image/png");n.attr("xlink:href",r),e()},n.on("error",i),r.src=t.source,this._imgSrc=t.source}.bind(this));e._promises.push(i)}}function v(t){var n,o,s=r.select(this),u=a.getFromId(e,t.xref),c=a.getFromId(e,t.yref),f="domain"===a.getRefType(t.xref),d="domain"===a.getRefType(t.yref),h=l._size;n=void 0!==u?"string"===typeof t.xref&&f?u._length*t.sizex:Math.abs(u.l2p(t.sizex)-u.l2p(0)):t.sizex*h.w,o=void 0!==c?"string"===typeof t.yref&&d?c._length*t.sizey:Math.abs(c.l2p(t.sizey)-c.l2p(0)):t.sizey*h.h;var g,v,m=n*p.x[t.xanchor].offset,y=o*p.y[t.yanchor].offset,b=p.x[t.xanchor].sizing+p.y[t.yanchor].sizing;switch(g=void 0!==u?"string"===typeof t.xref&&f?u._length*t.x+u._offset:u.r2p(t.x)+u._offset:t.x*h.w+h.l,g+=m,v=void 0!==c?"string"===typeof t.yref&&d?c._length*(1-t.y)+c._offset:c.r2p(t.y)+c._offset:h.h-t.y*h.h+h.t,v+=y,t.sizing){case"fill":b+=" slice";break;case"stretch":b="none"}s.attr({x:g,y:v,width:n,height:o,preserveAspectRatio:b,opacity:t.opacity});var x=(u&&"domain"!==a.getRefType(t.xref)?u._id:"")+(c&&"domain"!==a.getRefType(t.yref)?c._id:"");i.setClipUrl(s,x?"clip"+l._uid+x:null,e)}var m=l._imageLowerLayer.selectAll("image").data(f),y=l._imageUpperLayer.selectAll("image").data(u);m.enter().append("image"),y.enter().append("image"),m.exit().remove(),y.exit().remove(),m.each((function(e){g.bind(this)(e),v.bind(this)(e)})),y.each((function(e){g.bind(this)(e),v.bind(this)(e)}));var b=Object.keys(l._plots);for(n=0;n<b.length;n++){t=b[n];var x=l._plots[t];if(x.imagelayer){var _=x.imagelayer.selectAll("image").data(c[t]||[]);_.enter().append("image"),_.exit().remove(),_.each((function(e){g.bind(this)(e),v.bind(this)(e)}))}}}},{"../../constants/xmlns_namespaces":503,"../../plots/cartesian/axes":572,"../../plots/cartesian/axis_ids":575,"../drawing":416,d3:82}],443:[function(e,t,n){"use strict";t.exports={moduleType:"component",name:"images",layoutAttributes:e("./attributes"),supplyLayoutDefaults:e("./defaults"),includeBasePlot:e("../../plots/cartesian/include_components")("images"),draw:e("./draw"),convertCoords:e("./convert_coords")}},{"../../plots/cartesian/include_components":584,"./attributes":439,"./convert_coords":440,"./defaults":441,"./draw":442}],444:[function(e,t,n){"use strict";var r=e("../../plots/font_attributes"),i=e("../color/attributes");t.exports={bgcolor:{valType:"color",editType:"legend"},bordercolor:{valType:"color",dflt:i.defaultLine,editType:"legend"},borderwidth:{valType:"number",min:0,dflt:0,editType:"legend"},font:r({editType:"legend"}),orientation:{valType:"enumerated",values:["v","h"],dflt:"v",editType:"legend"},traceorder:{valType:"flaglist",flags:["reversed","grouped"],extras:["normal"],editType:"legend"},tracegroupgap:{valType:"number",min:0,dflt:10,editType:"legend"},itemsizing:{valType:"enumerated",values:["trace","constant"],dflt:"trace",editType:"legend"},itemwidth:{valType:"number",min:30,dflt:30,editType:"legend"},itemclick:{valType:"enumerated",values:["toggle","toggleothers",!1],dflt:"toggle",editType:"legend"},itemdoubleclick:{valType:"enumerated",values:["toggle","toggleothers",!1],dflt:"toggleothers",editType:"legend"},x:{valType:"number",min:-2,max:3,editType:"legend"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"left",editType:"legend"},y:{valType:"number",min:-2,max:3,editType:"legend"},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],editType:"legend"},uirevision:{valType:"any",editType:"none"},valign:{valType:"enumerated",values:["top","middle","bottom"],dflt:"middle",editType:"legend"},title:{text:{valType:"string",dflt:"",editType:"legend"},font:r({editType:"legend"}),side:{valType:"enumerated",values:["top","left","top left"],editType:"legend"},editType:"legend"},editType:"legend"}},{"../../plots/font_attributes":600,"../color/attributes":393}],445:[function(e,t,n){"use strict";t.exports={scrollBarWidth:6,scrollBarMinHeight:20,scrollBarColor:"#808BA4",scrollBarMargin:4,scrollBarEnterAttrs:{rx:20,ry:3,width:0,height:0},titlePad:2,itemGap:5}},{}],446:[function(e,t,n){"use strict";var r=e("../../registry"),i=e("../../lib"),a=e("../../plot_api/plot_template"),o=e("./attributes"),s=e("../../plots/layout_attributes"),l=e("./helpers");t.exports=function(e,t,n){for(var u=e.legend||{},c=0,f=!1,d="normal",h=0;h<n.length;h++){var p=n[h];p.visible&&((p.showlegend||p._dfltShowLegend&&!(p._module&&p._module.attributes&&p._module.attributes.showlegend&&!1===p._module.attributes.showlegend.dflt))&&(c++,p.showlegend&&(f=!0,(r.traceIs(p,"pie-like")||!0===p._input.showlegend)&&c++)),(r.traceIs(p,"bar")&&"stack"===t.barmode||-1!==["tonextx","tonexty"].indexOf(p.fill))&&(d=l.isGrouped({traceorder:d})?"grouped+reversed":"reversed"),void 0!==p.legendgroup&&""!==p.legendgroup&&(d=l.isReversed({traceorder:d})?"reversed+grouped":"grouped"))}var g=i.coerce(e,t,s,"showlegend",f&&c>1);if(!1!==g||u.uirevision){var v=a.newContainer(t,"legend");if(_("uirevision",t.uirevision),!1!==g){_("bgcolor",t.paper_bgcolor),_("bordercolor"),_("borderwidth"),i.coerceFont(_,"font",t.font);var m,y,b,x=_("orientation");"h"===x?(m=0,r.getComponentMethod("rangeslider","isVisible")(e.xaxis)?(y=1.1,b="bottom"):(y=-.1,b="top")):(m=1.02,y=1,b="auto"),_("traceorder",d),l.isGrouped(t.legend)&&_("tracegroupgap"),_("itemsizing"),_("itemwidth"),_("itemclick"),_("itemdoubleclick"),_("x",m),_("xanchor"),_("y",y),_("yanchor",b),_("valign"),i.noneOrAll(u,v,["x","y"]),_("title.text")&&(_("title.side","h"===x?"left":"top"),i.coerceFont(_,"title.font",t.font))}}function _(e,t){return i.coerce(u,v,o,e,t)}}},{"../../lib":524,"../../plot_api/plot_template":561,"../../plots/layout_attributes":615,"../../registry":626,"./attributes":444,"./helpers":450}],447:[function(e,t,n){"use strict";var r=e("d3"),i=e("../../lib"),a=e("../../plots/plots"),o=e("../../registry"),s=e("../../lib/events"),l=e("../dragelement"),u=e("../drawing"),c=e("../color"),f=e("../../lib/svg_text_utils"),d=e("./handle_click"),h=e("./constants"),p=e("../../constants/alignment"),g=p.LINE_SPACING,v=p.FROM_TL,m=p.FROM_BR,y=e("./get_legend_data"),b=e("./style"),x=e("./helpers");function _(e,t,n,r,i){var a=n.data()[0][0].trace,l={event:i,node:n.node(),curveNumber:a.index,expandedIndex:a._expandedIndex,data:e.data,layout:e.layout,frames:e._transitionData._frames,config:e._context,fullData:e._fullData,fullLayout:e._fullLayout};a._group&&(l.group=a._group),o.traceIs(a,"pie-like")&&(l.label=n.datum()[0].label),!1!==s.triggerHandler(e,"plotly_legendclick",l)&&(1===r?t._clickTimeout=setTimeout((function(){d(n,e,r)}),e._context.doubleClickDelay):2===r&&(t._clickTimeout&&clearTimeout(t._clickTimeout),e._legendMouseDownTime=0,!1!==s.triggerHandler(e,"plotly_legenddoubleclick",l)&&d(n,e,r)))}function w(e,t,n){var r,a=e.data()[0][0],s=a.trace,l=o.traceIs(s,"pie-like"),c=s.index,d=n._main&&t._context.edits.legendText&&!l,p=n._maxNameLength;n.entries?r=a.text:(r=l?a.label:s.name,s._meta&&(r=i.templateString(r,s._meta)));var g=i.ensureSingle(e,"text","legendtext");g.attr("text-anchor","start").call(u.font,n.font).text(d?k(r,p):r);var v=n.itemwidth+2*h.itemGap;f.positionText(g,v,0),d?g.call(f.makeEditable,{gd:t,text:r}).call(T,e,t,n).on("edit",(function(r){this.text(k(r,p)).call(T,e,t,n);var s=a.trace._fullInput||{},l={};if(o.hasTransform(s,"groupby")){var u=o.getTransformIndices(s,"groupby"),f=u[u.length-1],d=i.keyedContainer(s,"transforms["+f+"].styles","target","value.name");d.set(a.trace._group,r),l=d.constructUpdate()}else l.name=r;return o.call("_guiRestyle",t,l,c)})):T(g,e,t,n)}function k(e,t){var n=Math.max(4,t);if(e&&e.trim().length>=n/2)return e;for(var r=n-(e=e||"").length;r>0;r--)e+=" ";return e}function M(e,t){var n,a=t._context.doubleClickDelay,o=1,s=i.ensureSingle(e,"rect","legendtoggle",(function(e){t._context.staticPlot||e.style("cursor","pointer").attr("pointer-events","all"),e.call(c.fill,"rgba(0,0,0,0)")}));t._context.staticPlot||(s.on("mousedown",(function(){(n=(new Date).getTime())-t._legendMouseDownTime<a?o+=1:(o=1,t._legendMouseDownTime=n)})),s.on("mouseup",(function(){if(!t._dragged&&!t._editing){var n=t._fullLayout.legend;(new Date).getTime()-t._legendMouseDownTime>a&&(o=Math.max(o-1,1)),_(t,n,e,o,r.event)}})))}function T(e,t,n,r){r._main||e.attr("data-notex",!0),f.convertToTspans(e,n,(function(){A(t,n,r)}))}function A(e,t,n){var r=e.data()[0][0];if(n._main&&r&&!r.trace.showlegend)e.remove();else{var i=e.select("g[class*=math-group]"),a=i.node();n||(n=t._fullLayout.legend);var o,s,l=n.borderwidth,c=(r?n:n.title).font.size*g;if(a){var d=u.bBox(a);o=d.height,s=d.width,r?u.setTranslate(i,0,.25*o):u.setTranslate(i,l,.75*o+l)}else{var p=e.select(r?".legendtext":".legendtitletext"),v=f.lineCount(p),m=p.node();o=c*v,s=m?u.bBox(m).width:0;var y=c*((v-1)/2-.3);if(r){var b=n.itemwidth+2*h.itemGap;f.positionText(p,b,-y)}else f.positionText(p,h.titlePad+l,c+l)}r?(r.lineHeight=c,r.height=Math.max(o,16)+3,r.width=s):(n._titleWidth=s,n._titleHeight=o)}}function E(e){var t=0,n=0,r=e.title.side;return r&&(-1!==r.indexOf("left")&&(t=e._titleWidth),-1!==r.indexOf("top")&&(n=e._titleHeight)),[t,n]}function S(e,t,n,i){var a=e._fullLayout;i||(i=a.legend);var o=a._size,s=x.isVertical(i),l=x.isGrouped(i),c=i.borderwidth,f=2*c,d=h.itemGap,p=i.itemwidth+2*d,g=2*(c+d),v=L(i),m=i.y<0||0===i.y&&"top"===v,y=i.y>1||1===i.y&&"bottom"===v;i._maxHeight=Math.max(m||y?a.height/2:o.h,30);var b=0;i._width=0,i._height=0;var _=E(i);if(s)n.each((function(e){var t=e[0].height;u.setTranslate(this,c+_[0],c+_[1]+i._height+t/2+d),i._height+=t,i._width=Math.max(i._width,e[0].width)})),b=p+i._width,i._width+=d+p+f,i._height+=g,l&&(t.each((function(e,t){u.setTranslate(this,0,t*i.tracegroupgap)})),i._height+=(i._lgroupsLength-1)*i.tracegroupgap);else{var w=C(i),k=i.x<0||0===i.x&&"right"===w,M=i.x>1||1===i.x&&"left"===w,T=y||m,A=a.width/2;i._maxWidth=Math.max(k?T&&"left"===w?o.l+o.w:A:M?T&&"right"===w?o.r+o.w:A:o.w,2*p);var S=0,O=0;n.each((function(e){var t=e[0].width+p;S=Math.max(S,t),O+=t})),b=null;var R=0;if(l){var P=0,j=0,z=0;t.each((function(){var e=0,t=0;r.select(this).selectAll("g.traces").each((function(n){var r=n[0].height;u.setTranslate(this,_[0],_[1]+c+d+r/2+t),t+=r,e=Math.max(e,p+n[0].width)})),P=Math.max(P,t);var n=e+d;n+c+j>i._maxWidth&&(R=Math.max(R,j),j=0,z+=P+i.tracegroupgap,P=t),u.setTranslate(this,j,z),j+=n})),i._width=Math.max(R,j)+c,i._height=z+P+g}else{var I=n.size(),N=O+f+(I-1)*d<i._maxWidth,D=0,F=0,B=0,U=0;n.each((function(e){var t=e[0].height,n=p+e[0].width,r=(N?n:S)+d;r+c+F-d>=i._maxWidth&&(R=Math.max(R,U),F=0,B+=D,i._height+=D,D=0),u.setTranslate(this,_[0]+c+F,_[1]+c+B+t/2+d),U=F+n+d,F+=r,D=Math.max(D,t)})),N?(i._width=F+f,i._height=D+g):(i._width=Math.max(R,U)+f,i._height+=D+g)}}i._width=Math.ceil(Math.max(i._width+_[0],i._titleWidth+2*(c+h.titlePad))),i._height=Math.ceil(Math.max(i._height+_[1],i._titleHeight+2*(c+h.itemGap))),i._effHeight=Math.min(i._height,i._maxHeight);var V=e._context.edits,H=V.legendText||V.legendPosition;n.each((function(e){var t=r.select(this).select(".legendtoggle"),n=e[0].height,i=H?p:b||p+e[0].width;s||(i+=d/2),u.setRect(t,0,-n/2,i,n)}))}function O(e){var t=e._fullLayout.legend,n=C(t),r=L(t);return a.autoMargin(e,"legend",{x:t.x,y:t.y,l:t._width*v[n],r:t._width*m[n],b:t._effHeight*m[r],t:t._effHeight*v[r]})}function C(e){return i.isRightAnchor(e)?"right":i.isCenterAnchor(e)?"center":"left"}function L(e){return i.isBottomAnchor(e)?"bottom":i.isMiddleAnchor(e)?"middle":"top"}t.exports=function(e,t){var n,s=e._fullLayout,f="legend"+s._uid;if(t?(n=t.layer,f+="-hover"):((t=s.legend||{})._main=!0,n=s._infolayer),n){var d;if(e._legendMouseDownTime||(e._legendMouseDownTime=0),t._main){if(!e.calcdata)return;d=s.showlegend&&y(e.calcdata,t)}else{if(!t.entries)return;d=y(t.entries,t)}var p=s.hiddenlabels||[];if(t._main&&(!s.showlegend||!d.length))return n.selectAll(".legend").remove(),s._topdefs.select("#"+f).remove(),a.autoMargin(e,"legend");var g=i.ensureSingle(n,"g","legend",(function(e){t._main&&e.attr("pointer-events","all")})),m=i.ensureSingleById(s._topdefs,"clipPath",f,(function(e){e.append("rect")})),x=i.ensureSingle(g,"rect","bg",(function(e){e.attr("shape-rendering","crispEdges")}));x.call(c.stroke,t.bordercolor).call(c.fill,t.bgcolor).style("stroke-width",t.borderwidth+"px");var k=i.ensureSingle(g,"g","scrollbox"),A=t.title;if(t._titleWidth=0,t._titleHeight=0,A.text){var E=i.ensureSingle(k,"text","legendtitletext");E.attr("text-anchor","start").call(u.font,A.font).text(A.text),T(E,k,e,t)}else k.selectAll(".legendtitletext").remove();var R=i.ensureSingle(g,"rect","scrollbar",(function(e){e.attr(h.scrollBarEnterAttrs).call(c.fill,h.scrollBarColor)})),P=k.selectAll("g.groups").data(d);P.enter().append("g").attr("class","groups"),P.exit().remove();var j=P.selectAll("g.traces").data(i.identity);j.enter().append("g").attr("class","traces"),j.exit().remove(),j.style("opacity",(function(e){var t=e[0].trace;return o.traceIs(t,"pie-like")?-1!==p.indexOf(e[0].label)?.5:1:"legendonly"===t.visible?.5:1})).each((function(){r.select(this).call(w,e,t)})).call(b,e,t).each((function(){t._main&&r.select(this).call(M,e)})),i.syncOrAsync([a.previousPromises,function(){return S(e,P,j,t)},function(){if(!t._main||!O(e)){var a,c,d,p,y=s._size,b=t.borderwidth,w=y.l+y.w*t.x-v[C(t)]*t._width,M=y.t+y.h*(1-t.y)-v[L(t)]*t._effHeight;if(t._main&&s.margin.autoexpand){var T=w,A=M;w=i.constrain(w,0,s.width-t._width),M=i.constrain(M,0,s.height-t._effHeight),w!==T&&i.log("Constrain legend.x to make legend fit inside graph"),M!==A&&i.log("Constrain legend.y to make legend fit inside graph")}if(t._main&&u.setTranslate(g,w,M),R.on(".drag",null),g.on("wheel",null),!t._main||t._height<=t._maxHeight||e._context.staticPlot){var E=t._effHeight;t._main||(E=t._height),x.attr({width:t._width-b,height:E-b,x:b/2,y:b/2}),u.setTranslate(k,0,0),m.select("rect").attr({width:t._width-2*b,height:E-2*b,x:b,y:b}),u.setClipUrl(k,f,e),u.setRect(R,0,0,0,0),delete t._scrollY}else{var S,P,j,z=Math.max(h.scrollBarMinHeight,t._effHeight*t._effHeight/t._height),I=t._effHeight-z-2*h.scrollBarMargin,N=t._height-t._effHeight,D=I/N,F=Math.min(t._scrollY||0,N);x.attr({width:t._width-2*b+h.scrollBarWidth+h.scrollBarMargin,height:t._effHeight-b,x:b/2,y:b/2}),m.select("rect").attr({width:t._width-2*b+h.scrollBarWidth+h.scrollBarMargin,height:t._effHeight-2*b,x:b,y:b+F}),u.setClipUrl(k,f,e),q(F,z,D),g.on("wheel",(function(){q(F=i.constrain(t._scrollY+r.event.deltaY/I*N,0,N),z,D),0!==F&&F!==N&&r.event.preventDefault()}));var B=function(e,t,n){var r=(n-t)/D+e;return i.constrain(r,0,N)},U=function(e,t,n){var r=(t-n)/D+e;return i.constrain(r,0,N)},V=r.behavior.drag().on("dragstart",(function(){var e=r.event.sourceEvent;S="touchstart"===e.type?e.changedTouches[0].clientY:e.clientY,j=F})).on("drag",(function(){var e=r.event.sourceEvent;2===e.buttons||e.ctrlKey||(P="touchmove"===e.type?e.changedTouches[0].clientY:e.clientY,q(F=B(j,S,P),z,D))}));R.call(V);var H=r.behavior.drag().on("dragstart",(function(){var e=r.event.sourceEvent;"touchstart"===e.type&&(S=e.changedTouches[0].clientY,j=F)})).on("drag",(function(){var e=r.event.sourceEvent;"touchmove"===e.type&&(P=e.changedTouches[0].clientY,q(F=U(j,S,P),z,D))}));k.call(H)}e._context.edits.legendPosition&&(g.classed("cursor-move",!0),l.init({element:g.node(),gd:e,prepFn:function(){var e=u.getTranslate(g);d=e.x,p=e.y},moveFn:function(e,n){var r=d+e,i=p+n;u.setTranslate(g,r,i),a=l.align(r,0,y.l,y.l+y.w,t.xanchor),c=l.align(i,0,y.t+y.h,y.t,t.yanchor)},doneFn:function(){void 0!==a&&void 0!==c&&o.call("_guiRelayout",e,{"legend.x":a,"legend.y":c})},clickFn:function(t,r){var i=n.selectAll("g.traces").filter((function(){var e=this.getBoundingClientRect();return r.clientX>=e.left&&r.clientX<=e.right&&r.clientY>=e.top&&r.clientY<=e.bottom}));i.size()>0&&_(e,g,i,t,r)}}))}function q(n,r,i){t._scrollY=e._fullLayout.legend._scrollY=n,u.setTranslate(k,0,-n),u.setRect(R,t._width,h.scrollBarMargin+n*i,h.scrollBarWidth,r),m.select("rect").attr("y",b+n)}}],e)}}},{"../../constants/alignment":496,"../../lib":524,"../../lib/events":516,"../../lib/svg_text_utils":548,"../../plots/plots":617,"../../registry":626,"../color":394,"../dragelement":413,"../drawing":416,"./constants":445,"./get_legend_data":448,"./handle_click":449,"./helpers":450,"./style":452,d3:82}],448:[function(e,t,n){"use strict";var r=e("../../registry"),i=e("./helpers");t.exports=function(e,t){var n,a,o={},s=[],l=!1,u={},c=0,f=0,d=t._main;function h(e,n){if(""!==e&&i.isGrouped(t))-1===s.indexOf(e)?(s.push(e),l=!0,o[e]=[[n]]):o[e].push([n]);else{var r="~~i"+c;s.push(r),o[r]=[[n]],c++}}for(n=0;n<e.length;n++){var p=e[n],g=p[0],v=g.trace,m=v.legendgroup;if(!d||v.visible&&v.showlegend)if(r.traceIs(v,"pie-like"))for(u[m]||(u[m]={}),a=0;a<p.length;a++){var y=p[a].label;u[m][y]||(h(m,{label:y,color:p[a].color,i:p[a].i,trace:v,pts:p[a].pts}),u[m][y]=!0,f=Math.max(f,(y||"").length))}else h(m,g),f=Math.max(f,(v.name||"").length)}if(!s.length)return[];var b,x,_=s.length;if(l&&i.isGrouped(t))for(x=new Array(_),n=0;n<_;n++)b=o[s[n]],x[n]=i.isReversed(t)?b.reverse():b;else{for(x=[new Array(_)],n=0;n<_;n++)b=o[s[n]][0],x[0][i.isReversed(t)?_-n-1:n]=b;_=1}return t._lgroupsLength=_,t._maxNameLength=f,x}},{"../../registry":626,"./helpers":450}],449:[function(e,t,n){"use strict";var r=e("../../lib"),i=e("../../registry"),a=!0;t.exports=function(e,t,n){var o=t._fullLayout;if(!t._dragged&&!t._editing){var s,l=o.legend.itemclick,u=o.legend.itemdoubleclick;if(1===n&&"toggle"===l&&"toggleothers"===u&&a&&t.data&&t._context.showTips?(r.notifier(r._(t,"Double-click on legend to isolate one trace"),"long"),a=!1):a=!1,1===n?s=l:2===n&&(s=u),s){var c,f,d,h,p,g=o.hiddenlabels?o.hiddenlabels.slice():[],v=e.data()[0][0],m=t._fullData,y=v.trace,b=y.legendgroup,x={},_=[],w=[],k=[];if(i.traceIs(y,"pie-like")){var M=v.label,T=g.indexOf(M);"toggle"===s?-1===T?g.push(M):g.splice(T,1):"toggleothers"===s&&(g=[],t.calcdata[0].forEach((function(e){M!==e.label&&g.push(e.label)})),t._fullLayout.hiddenlabels&&t._fullLayout.hiddenlabels.length===g.length&&-1===T&&(g=[])),i.call("_guiRelayout",t,"hiddenlabels",g)}else{var A,E=b&&b.length,S=[];if(E)for(c=0;c<m.length;c++)(A=m[c]).visible&&A.legendgroup===b&&S.push(c);if("toggle"===s){var O;switch(y.visible){case!0:O="legendonly";break;case!1:O=!1;break;case"legendonly":O=!0}if(E)for(c=0;c<m.length;c++)!1!==m[c].visible&&m[c].legendgroup===b&&D(m[c],O);else D(y,O)}else if("toggleothers"===s){var C,L,R,P,j=!0;for(c=0;c<m.length;c++)if(C=m[c]===y,R=!0!==m[c].showlegend,!C&&!R&&!(L=E&&m[c].legendgroup===b)&&!0===m[c].visible&&!i.traceIs(m[c],"notLegendIsolatable")){j=!1;break}for(c=0;c<m.length;c++)if(!1!==m[c].visible&&!i.traceIs(m[c],"notLegendIsolatable"))switch(y.visible){case"legendonly":D(m[c],!0);break;case!0:P=!!j||"legendonly",C=m[c]===y,R=!0!==m[c].showlegend&&!m[c].legendgroup,L=C||E&&m[c].legendgroup===b,D(m[c],!(!L&&!R)||P)}}for(c=0;c<w.length;c++)if(d=w[c]){var z=d.constructUpdate(),I=Object.keys(z);for(f=0;f<I.length;f++)h=I[f],(x[h]=x[h]||[])[k[c]]=z[h]}for(p=Object.keys(x),c=0;c<p.length;c++)for(h=p[c],f=0;f<_.length;f++)x[h].hasOwnProperty(f)||(x[h][f]=void 0);i.call("_guiRestyle",t,x,_)}}}function N(e,t,n){var r=_.indexOf(e),i=x[t];return i||(i=x[t]=[]),-1===_.indexOf(e)&&(_.push(e),r=_.length-1),i[r]=n,r}function D(e,t){var n=e._fullInput;if(i.hasTransform(n,"groupby")){var a=w[n.index];if(!a){var o=i.getTransformIndices(n,"groupby"),s=o[o.length-1];a=r.keyedContainer(n,"transforms["+s+"].styles","target","value.visible"),w[n.index]=a}var l=a.get(e._group);void 0===l&&(l=!0),!1!==l&&a.set(e._group,t),k[n.index]=N(n.index,"visible",!1!==n.visible)}else{var u=!1!==n.visible&&t;N(n.index,"visible",u)}}}},{"../../lib":524,"../../registry":626}],450:[function(e,t,n){"use strict";n.isGrouped=function(e){return-1!==(e.traceorder||"").indexOf("grouped")},n.isVertical=function(e){return"h"!==e.orientation},n.isReversed=function(e){return-1!==(e.traceorder||"").indexOf("reversed")}},{}],451:[function(e,t,n){"use strict";t.exports={moduleType:"component",name:"legend",layoutAttributes:e("./attributes"),supplyLayoutDefaults:e("./defaults"),draw:e("./draw"),style:e("./style")}},{"./attributes":444,"./defaults":446,"./draw":447,"./style":452}],452:[function(e,t,n){"use strict";var r=e("d3"),i=e("../../registry"),a=e("../../lib"),o=a.strTranslate,s=e("../drawing"),l=e("../color"),u=e("../colorscale/helpers").extractOpts,c=e("../../traces/scatter/subtypes"),f=e("../../traces/pie/style_one"),d=e("../../traces/pie/helpers").castOption,h=e("./constants"),p=12,g=5,v=2,m=10,y=5;function b(e,t){return(t?"radial":"horizontal")+(e?"":"reversed")}t.exports=function(e,t,n){var x=t._fullLayout;n||(n=x.legend);var _="constant"===n.itemsizing,w=n.itemwidth,k=(w+2*h.itemGap)/2,M=o(k,0),T=function(e,t,n,r){var i;if(e+1)i=e;else{if(!(t&&t.width>0))return 0;i=t.width}return _?r:Math.min(i,n)};function A(e){var n,i,o=e[0],l=o.trace,f=l.visible&&l.fill&&"none"!==l.fill,d=c.hasLines(l),h=l.contours,p=!1,v=!1,y=u(l),x=y.colorscale,_=y.reversescale,k=function(e){if(e.size()){var n="legendfill-"+l.uid;s.gradient(e,t,n,b(_),x,"fill")}},M=function(e){if(e.size()){var n="legendline-"+l.uid;s.lineGroupStyle(e),s.gradient(e,t,n,b(_),x,"stroke")}};if(h){var A=h.coloring;"lines"===A?p=!0:d="none"===A||"heatmap"===A||h.showlines,"constraint"===h.type?f="="!==h._operation:"fill"!==A&&"heatmap"!==A||(v=!0)}var E=c.hasMarkers(l)||c.hasText(l)||!f&&!v?"M5,0":d||p?"M5,-2":"M5,-3",S=r.select(this),O=S.select(".legendfill").selectAll("path").data(f||v?[e]:[]);if(O.enter().append("path").classed("js-fill",!0),O.exit().remove(),O.attr("d",E+"h"+w+"v6h-"+w+"z").call(f?s.fillGroupStyle:k),d||p){var C=T(void 0,l.line,m,g);i=a.minExtend(l,{line:{width:C}}),n=[a.minExtend(o,{trace:i})]}var L=S.select(".legendlines").selectAll("path").data(d||p?[n]:[]);L.enter().append("path").classed("js-line",!0),L.exit().remove(),L.attr("d",E+(p?"l"+w+",0.0001":"h"+w)).call(d?s.lineGroupStyle:M)}function E(e){var n,i,o=e[0],l=o.trace,u=c.hasMarkers(l),f=c.hasText(l),d=c.hasLines(l);function h(e,t,n,r){var i=a.nestedProperty(l,e).get(),o=a.isArrayOrTypedArray(i)&&t?t(i):i;if(_&&o&&void 0!==r&&(o=r),n){if(o<n[0])return n[0];if(o>n[1])return n[1]}return o}function m(e){return o._distinct&&o.index&&e[o.index]?e[o.index]:e[0]}if(u||f||d){var y={},b={};if(u){y.mc=h("marker.color",m),y.mx=h("marker.symbol",m),y.mo=h("marker.opacity",a.mean,[.2,1]),y.mlc=h("marker.line.color",m),y.mlw=h("marker.line.width",a.mean,[0,5],v),b.marker={sizeref:1,sizemin:1,sizemode:"diameter"};var x=h("marker.size",a.mean,[2,16],p);y.ms=x,b.marker.size=x}d&&(b.line={width:h("line.width",m,[0,10],g)}),f&&(y.tx="Aa",y.tp=h("textposition",m),y.ts=10,y.tc=h("textfont.color",m),y.tf=h("textfont.family",m)),n=[a.minExtend(o,y)],(i=a.minExtend(l,b)).selectedpoints=null,i.texttemplate=null}var w=r.select(this).select("g.legendpoints"),k=w.selectAll("path.scatterpts").data(u?n:[]);k.enter().insert("path",":first-child").classed("scatterpts",!0).attr("transform",M),k.exit().remove(),k.call(s.pointStyle,i,t),u&&(n[0].mrc=3);var T=w.selectAll("g.pointtext").data(f?n:[]);T.enter().append("g").classed("pointtext",!0).append("text").attr("transform",M),T.exit().remove(),T.selectAll("text").call(s.textPointStyle,i,t)}function S(e){var t=e[0].trace,n="waterfall"===t.type;if(e[0]._distinct&&n){var i=e[0].trace[e[0].dir].marker;return e[0].mc=i.color,e[0].mlw=i.line.width,e[0].mlc=i.line.color,L(e,this,"waterfall")}var a=[];t.visible&&n&&(a=e[0].hasTotals?[["increasing","M-6,-6V6H0Z"],["totals","M6,6H0L-6,-6H-0Z"],["decreasing","M6,6V-6H0Z"]]:[["increasing","M-6,-6V6H6Z"],["decreasing","M6,6V-6H-6Z"]]);var o=r.select(this).select("g.legendpoints").selectAll("path.legendwaterfall").data(a);o.enter().append("path").classed("legendwaterfall",!0).attr("transform",M).style("stroke-miterlimit",1),o.exit().remove(),o.each((function(e){var n=r.select(this),i=t[e[0]].marker,a=T(void 0,i.line,y,v);n.attr("d",e[1]).style("stroke-width",a+"px").call(l.fill,i.color),a&&n.call(l.stroke,i.line.color)}))}function O(e){L(e,this)}function C(e){L(e,this,"funnel")}function L(e,t,n){var a=e[0].trace,o=a.marker||{},s=o.line||{},u=n?a.visible&&a.type===n:i.traceIs(a,"bar"),c=r.select(t).select("g.legendpoints").selectAll("path.legend"+n).data(u?[e]:[]);c.enter().append("path").classed("legend"+n,!0).attr("d","M6,6H-6V-6H6Z").attr("transform",M),c.exit().remove(),c.each((function(e){var t=r.select(this),n=e[0],i=T(n.mlw,o.line,y,v);t.style("stroke-width",i+"px").call(l.fill,n.mc||o.color),i&&l.stroke(t,n.mlc||s.color)}))}function R(e){var n=e[0].trace,o=r.select(this).select("g.legendpoints").selectAll("path.legendbox").data(n.visible&&i.traceIs(n,"box-violin")?[e]:[]);o.enter().append("path").classed("legendbox",!0).attr("d","M6,6H-6V-6H6Z").attr("transform",M),o.exit().remove(),o.each((function(){var e=r.select(this);if("all"!==n.boxpoints&&"all"!==n.points||0!==l.opacity(n.fillcolor)||0!==l.opacity((n.line||{}).color)){var i=T(void 0,n.line,y,v);e.style("stroke-width",i+"px").call(l.fill,n.fillcolor),i&&l.stroke(e,n.line.color)}else{var u=a.minExtend(n,{marker:{size:_?p:a.constrain(n.marker.size,2,16),sizeref:1,sizemin:1,sizemode:"diameter"}});o.call(s.pointStyle,u,t)}}))}function P(e){var t=e[0].trace,n=r.select(this).select("g.legendpoints").selectAll("path.legendcandle").data(t.visible&&"candlestick"===t.type?[e,e]:[]);n.enter().append("path").classed("legendcandle",!0).attr("d",(function(e,t){return t?"M-15,0H-8M-8,6V-6H8Z":"M15,0H8M8,-6V6H-8Z"})).attr("transform",M).style("stroke-miterlimit",1),n.exit().remove(),n.each((function(e,n){var i=r.select(this),a=t[n?"increasing":"decreasing"],o=T(void 0,a.line,y,v);i.style("stroke-width",o+"px").call(l.fill,a.fillcolor),o&&l.stroke(i,a.line.color)}))}function j(e){var t=e[0].trace,n=r.select(this).select("g.legendpoints").selectAll("path.legendohlc").data(t.visible&&"ohlc"===t.type?[e,e]:[]);n.enter().append("path").classed("legendohlc",!0).attr("d",(function(e,t){return t?"M-15,0H0M-8,-6V0":"M15,0H0M8,6V0"})).attr("transform",M).style("stroke-miterlimit",1),n.exit().remove(),n.each((function(e,n){var i=r.select(this),a=t[n?"increasing":"decreasing"],o=T(void 0,a.line,y,v);i.style("fill","none").call(s.dashLine,a.line.dash,o),o&&l.stroke(i,a.line.color)}))}function z(e){N(e,this,"pie")}function I(e){N(e,this,"funnelarea")}function N(e,t,n){var o=e[0],s=o.trace,l=n?s.visible&&s.type===n:i.traceIs(s,n),u=r.select(t).select("g.legendpoints").selectAll("path.legend"+n).data(l?[e]:[]);if(u.enter().append("path").classed("legend"+n,!0).attr("d","M6,6H-6V-6H6Z").attr("transform",M),u.exit().remove(),u.size()){var c=(s.marker||{}).line,h=T(d(c.width,o.pts),c,y,v),p=a.minExtend(s,{marker:{line:{width:h}}});p.marker.line.color=c.color;var g=a.minExtend(o,{trace:p});f(u,g,p)}}function D(e){var n,i=e[0].trace,o=[];if(i.visible)switch(i.type){case"histogram2d":case"heatmap":o=[["M-15,-2V4H15V-2Z"]],n=!0;break;case"choropleth":case"choroplethmapbox":o=[["M-6,-6V6H6V-6Z"]],n=!0;break;case"densitymapbox":o=[["M-6,0 a6,6 0 1,0 12,0 a 6,6 0 1,0 -12,0"]],n="radial";break;case"cone":o=[["M-6,2 A2,2 0 0,0 -6,6 V6L6,4Z"],["M-6,-6 A2,2 0 0,0 -6,-2 L6,-4Z"],["M-6,-2 A2,2 0 0,0 -6,2 L6,0Z"]],n=!1;break;case"streamtube":o=[["M-6,2 A2,2 0 0,0 -6,6 H6 A2,2 0 0,1 6,2 Z"],["M-6,-6 A2,2 0 0,0 -6,-2 H6 A2,2 0 0,1 6,-6 Z"],["M-6,-2 A2,2 0 0,0 -6,2 H6 A2,2 0 0,1 6,-2 Z"]],n=!1;break;case"surface":o=[["M-6,-6 A2,3 0 0,0 -6,0 H6 A2,3 0 0,1 6,-6 Z"],["M-6,1 A2,3 0 0,1 -6,6 H6 A2,3 0 0,0 6,0 Z"]],n=!0;break;case"mesh3d":o=[["M-6,6H0L-6,-6Z"],["M6,6H0L6,-6Z"],["M-6,-6H6L0,6Z"]],n=!1;break;case"volume":o=[["M-6,6H0L-6,-6Z"],["M6,6H0L6,-6Z"],["M-6,-6H6L0,6Z"]],n=!0;break;case"isosurface":o=[["M-6,6H0L-6,-6Z"],["M6,6H0L6,-6Z"],["M-6,-6 A12,24 0 0,0 6,-6 L0,6Z"]],n=!1}var c=r.select(this).select("g.legendpoints").selectAll("path.legend3dandfriends").data(o);c.enter().append("path").classed("legend3dandfriends",!0).attr("transform",M).style("stroke-miterlimit",1),c.exit().remove(),c.each((function(e,o){var c,f=r.select(this),d=u(i),h=d.colorscale,p=d.reversescale,g=function(e){if(e.size()){var r="legendfill-"+i.uid;s.gradient(e,t,r,b(p,"radial"===n),h,"fill")}};if(h){if(!n){var v=h.length;c=0===o?h[p?v-1:0][1]:1===o?h[p?0:v-1][1]:h[Math.floor((v-1)/2)][1]}}else{var m=i.vertexcolor||i.facecolor||i.color;c=a.isArrayOrTypedArray(m)?m[o]||m[0]:m}f.attr("d",e[0]),c?f.call(l.fill,c):f.call(g)}))}e.each((function(e){var t=r.select(this),i=a.ensureSingle(t,"g","layers");i.style("opacity",e[0].trace.opacity);var s=n.valign,l=e[0].lineHeight,u=e[0].height;if("middle"!==s&&l&&u){var c={top:1,bottom:-1}[s]*(.5*(l-u+3));i.attr("transform",o(0,c))}else i.attr("transform",null);i.selectAll("g.legendfill").data([e]).enter().append("g").classed("legendfill",!0),i.selectAll("g.legendlines").data([e]).enter().append("g").classed("legendlines",!0);var f=i.selectAll("g.legendsymbols").data([e]);f.enter().append("g").classed("legendsymbols",!0),f.selectAll("g.legendpoints").data([e]).enter().append("g").classed("legendpoints",!0)})).each(D).each(S).each(C).each(O).each(R).each(I).each(z).each(A).each(E).each(P).each(j)}},{"../../lib":524,"../../registry":626,"../../traces/pie/helpers":652,"../../traces/pie/style_one":653,"../../traces/scatter/subtypes":680,"../color":394,"../colorscale/helpers":405,"../drawing":416,"./constants":445,d3:82}],453:[function(e,t,n){"use strict";var r=e("../../registry"),i=e("../../plots/plots"),a=e("../../plots/cartesian/axis_ids"),o=e("../../fonts/ploticon"),s=e("../shapes/draw").eraseActiveShape,l=e("../../lib"),u=l._,c=t.exports={};function f(e,t){var n,i,o=t.currentTarget,s=o.getAttribute("data-attr"),l=o.getAttribute("data-val")||!0,u=e._fullLayout,c={},f=a.list(e,null,!0),d=u._cartesianSpikesEnabled;if("zoom"===s){var h,p="in"===l?.5:2,g=(1+p)/2,v=(1-p)/2;for(i=0;i<f.length;i++)if(!(n=f[i]).fixedrange)if(h=n._name,"auto"===l)c[h+".autorange"]=!0;else if("reset"===l){if(void 0===n._rangeInitial)c[h+".autorange"]=!0;else{var m=n._rangeInitial.slice();c[h+".range[0]"]=m[0],c[h+".range[1]"]=m[1]}void 0!==n._showSpikeInitial&&(c[h+".showspikes"]=n._showSpikeInitial,"on"!==d||n._showSpikeInitial||(d="off"))}else{var y=[n.r2l(n.range[0]),n.r2l(n.range[1])],b=[g*y[0]+v*y[1],g*y[1]+v*y[0]];c[h+".range[0]"]=n.l2r(b[0]),c[h+".range[1]"]=n.l2r(b[1])}}else"hovermode"!==s||"x"!==l&&"y"!==l||(l=u._isHoriz?"y":"x",o.setAttribute("data-val",l)),c[s]=l;u._cartesianSpikesEnabled=d,r.call("_guiRelayout",e,c)}function d(e,t){for(var n=t.currentTarget,i=n.getAttribute("data-attr"),a=n.getAttribute("data-val")||!0,o=e._fullLayout._subplots.gl3d||[],s={},l=i.split("."),u=0;u<o.length;u++)s[o[u]+"."+l[1]]=a;var c="pan"===a?a:"zoom";s.dragmode=c,r.call("_guiRelayout",e,s)}function h(e,t){for(var n=t.currentTarget.getAttribute("data-attr"),i="resetLastSave"===n,a="resetDefault"===n,o=e._fullLayout,s=o._subplots.gl3d||[],l={},u=0;u<s.length;u++){var c,f=s[u],d=f+".camera",h=f+".aspectratio",p=f+".aspectmode",g=o[f]._scene;i?(l[d+".up"]=g.viewInitial.up,l[d+".eye"]=g.viewInitial.eye,l[d+".center"]=g.viewInitial.center,c=!0):a&&(l[d+".up"]=null,l[d+".eye"]=null,l[d+".center"]=null,c=!0),c&&(l[h+".x"]=g.viewInitial.aspectratio.x,l[h+".y"]=g.viewInitial.aspectratio.y,l[h+".z"]=g.viewInitial.aspectratio.z,l[p]=g.viewInitial.aspectmode)}r.call("_guiRelayout",e,l)}function p(e,t){var n=t.currentTarget,r=n._previousVal,i=e._fullLayout,a=i._subplots.gl3d||[],o=["xaxis","yaxis","zaxis"],s={},l={};if(r)l=r,n._previousVal=null;else{for(var u=0;u<a.length;u++){var c=a[u],f=i[c],d=c+".hovermode";s[d]=f.hovermode,l[d]=!1;for(var h=0;h<3;h++){var p=o[h],g=c+"."+p+".showspikes";l[g]=!1,s[g]=f[p].showspikes}}n._previousVal=s}return l}function g(e,t){var n=p(e,t);r.call("_guiRelayout",e,n)}function v(e,t){for(var n=t.currentTarget,i=n.getAttribute("data-attr"),a=n.getAttribute("data-val")||!0,o=e._fullLayout,s=o._subplots.geo||[],l=0;l<s.length;l++){var u=s[l],c=o[u];if("zoom"===i){var f=c.projection.scale,d="in"===a?2*f:.5*f;r.call("_guiRelayout",e,u+".projection.scale",d)}}"reset"===i&&_(e,"geo")}function m(e){var t=e._fullLayout;return!t.hovermode&&(t._has("cartesian")?t._isHoriz?"y":"x":"closest")}function y(e){var t=m(e);r.call("_guiRelayout",e,"hovermode",t)}function b(e){for(var t="on"===e._fullLayout._cartesianSpikesEnabled,n=a.list(e,null,!0),r={},i=0;i<n.length;i++){var o=n[i];r[o._name+".showspikes"]=!!t||o._showSpikeInitial}return r}function x(e,t){for(var n=t.currentTarget.getAttribute("data-val"),i=e._fullLayout,a=i._subplots.mapbox||[],o=1.05,s={},l=0;l<a.length;l++){var u=a[l],c=i[u].zoom,f="in"===n?o*c:c/o;s[u+".zoom"]=f}r.call("_guiRelayout",e,s)}function _(e,t){for(var n=e._fullLayout,i=n._subplots[t]||[],a={},o=0;o<i.length;o++)for(var s=i[o],l=n[s]._subplot.viewInitial,u=Object.keys(l),c=0;c<u.length;c++){var f=u[c];a[s+"."+f]=l[f]}r.call("_guiRelayout",e,a)}c.toImage={name:"toImage",title:function(e){var t=(e._context.toImageButtonOptions||{}).format||"png";return u(e,"png"===t?"Download plot as a png":"Download plot")},icon:o.camera,click:function(e){var t=e._context.toImageButtonOptions,n={format:t.format||"png"};l.notifier(u(e,"Taking snapshot - this may take a few seconds"),"long"),"svg"!==n.format&&l.isIE()&&(l.notifier(u(e,"IE only supports svg.  Changing format to svg."),"long"),n.format="svg"),["filename","width","height","scale"].forEach((function(e){e in t&&(n[e]=t[e])})),r.call("downloadImage",e,n).then((function(t){l.notifier(u(e,"Snapshot succeeded")+" - "+t,"long")})).catch((function(){l.notifier(u(e,"Sorry, there was a problem downloading your snapshot!"),"long")}))}},c.sendDataToCloud={name:"sendDataToCloud",title:function(e){return u(e,"Edit in Chart Studio")},icon:o.disk,click:function(e){i.sendDataToCloud(e)}},c.editInChartStudio={name:"editInChartStudio",title:function(e){return u(e,"Edit in Chart Studio")},icon:o.pencil,click:function(e){i.sendDataToCloud(e)}},c.zoom2d={name:"zoom2d",title:function(e){return u(e,"Zoom")},attr:"dragmode",val:"zoom",icon:o.zoombox,click:f},c.pan2d={name:"pan2d",title:function(e){return u(e,"Pan")},attr:"dragmode",val:"pan",icon:o.pan,click:f},c.select2d={name:"select2d",title:function(e){return u(e,"Box Select")},attr:"dragmode",val:"select",icon:o.selectbox,click:f},c.lasso2d={name:"lasso2d",title:function(e){return u(e,"Lasso Select")},attr:"dragmode",val:"lasso",icon:o.lasso,click:f},c.drawclosedpath={name:"drawclosedpath",title:function(e){return u(e,"Draw closed freeform")},attr:"dragmode",val:"drawclosedpath",icon:o.drawclosedpath,click:f},c.drawopenpath={name:"drawopenpath",title:function(e){return u(e,"Draw open freeform")},attr:"dragmode",val:"drawopenpath",icon:o.drawopenpath,click:f},c.drawline={name:"drawline",title:function(e){return u(e,"Draw line")},attr:"dragmode",val:"drawline",icon:o.drawline,click:f},c.drawrect={name:"drawrect",title:function(e){return u(e,"Draw rectangle")},attr:"dragmode",val:"drawrect",icon:o.drawrect,click:f},c.drawcircle={name:"drawcircle",title:function(e){return u(e,"Draw circle")},attr:"dragmode",val:"drawcircle",icon:o.drawcircle,click:f},c.eraseshape={name:"eraseshape",title:function(e){return u(e,"Erase active shape")},icon:o.eraseshape,click:s},c.zoomIn2d={name:"zoomIn2d",title:function(e){return u(e,"Zoom in")},attr:"zoom",val:"in",icon:o.zoom_plus,click:f},c.zoomOut2d={name:"zoomOut2d",title:function(e){return u(e,"Zoom out")},attr:"zoom",val:"out",icon:o.zoom_minus,click:f},c.autoScale2d={name:"autoScale2d",title:function(e){return u(e,"Autoscale")},attr:"zoom",val:"auto",icon:o.autoscale,click:f},c.resetScale2d={name:"resetScale2d",title:function(e){return u(e,"Reset axes")},attr:"zoom",val:"reset",icon:o.home,click:f},c.hoverClosestCartesian={name:"hoverClosestCartesian",title:function(e){return u(e,"Show closest data on hover")},attr:"hovermode",val:"closest",icon:o.tooltip_basic,gravity:"ne",click:f},c.hoverCompareCartesian={name:"hoverCompareCartesian",title:function(e){return u(e,"Compare data on hover")},attr:"hovermode",val:function(e){return e._fullLayout._isHoriz?"y":"x"},icon:o.tooltip_compare,gravity:"ne",click:f},c.zoom3d={name:"zoom3d",title:function(e){return u(e,"Zoom")},attr:"scene.dragmode",val:"zoom",icon:o.zoombox,click:d},c.pan3d={name:"pan3d",title:function(e){return u(e,"Pan")},attr:"scene.dragmode",val:"pan",icon:o.pan,click:d},c.orbitRotation={name:"orbitRotation",title:function(e){return u(e,"Orbital rotation")},attr:"scene.dragmode",val:"orbit",icon:o["3d_rotate"],click:d},c.tableRotation={name:"tableRotation",title:function(e){return u(e,"Turntable rotation")},attr:"scene.dragmode",val:"turntable",icon:o["z-axis"],click:d},c.resetCameraDefault3d={name:"resetCameraDefault3d",title:function(e){return u(e,"Reset camera to default")},attr:"resetDefault",icon:o.home,click:h},c.resetCameraLastSave3d={name:"resetCameraLastSave3d",title:function(e){return u(e,"Reset camera to last save")},attr:"resetLastSave",icon:o.movie,click:h},c.hoverClosest3d={name:"hoverClosest3d",title:function(e){return u(e,"Toggle show closest data on hover")},attr:"hovermode",val:null,toggle:!0,icon:o.tooltip_basic,gravity:"ne",click:g},c.zoomInGeo={name:"zoomInGeo",title:function(e){return u(e,"Zoom in")},attr:"zoom",val:"in",icon:o.zoom_plus,click:v},c.zoomOutGeo={name:"zoomOutGeo",title:function(e){return u(e,"Zoom out")},attr:"zoom",val:"out",icon:o.zoom_minus,click:v},c.resetGeo={name:"resetGeo",title:function(e){return u(e,"Reset")},attr:"reset",val:null,icon:o.autoscale,click:v},c.hoverClosestGeo={name:"hoverClosestGeo",title:function(e){return u(e,"Toggle show closest data on hover")},attr:"hovermode",val:null,toggle:!0,icon:o.tooltip_basic,gravity:"ne",click:y},c.hoverClosestGl2d={name:"hoverClosestGl2d",title:function(e){return u(e,"Toggle show closest data on hover")},attr:"hovermode",val:null,toggle:!0,icon:o.tooltip_basic,gravity:"ne",click:y},c.hoverClosestPie={name:"hoverClosestPie",title:function(e){return u(e,"Toggle show closest data on hover")},attr:"hovermode",val:"closest",icon:o.tooltip_basic,gravity:"ne",click:y},c.resetViewSankey={name:"resetSankeyGroup",title:function(e){return u(e,"Reset view")},icon:o.home,click:function(e){for(var t={"node.groups":[],"node.x":[],"node.y":[]},n=0;n<e._fullData.length;n++){var i=e._fullData[n]._viewInitial;t["node.groups"].push(i.node.groups.slice()),t["node.x"].push(i.node.x.slice()),t["node.y"].push(i.node.y.slice())}r.call("restyle",e,t)}},c.toggleHover={name:"toggleHover",title:function(e){return u(e,"Toggle show closest data on hover")},attr:"hovermode",val:null,toggle:!0,icon:o.tooltip_basic,gravity:"ne",click:function(e,t){var n=p(e,t);n.hovermode=m(e),r.call("_guiRelayout",e,n)}},c.resetViews={name:"resetViews",title:function(e){return u(e,"Reset views")},icon:o.home,click:function(e,t){var n=t.currentTarget;n.setAttribute("data-attr","zoom"),n.setAttribute("data-val","reset"),f(e,t),n.setAttribute("data-attr","resetLastSave"),h(e,t),_(e,"geo"),_(e,"mapbox")}},c.toggleSpikelines={name:"toggleSpikelines",title:function(e){return u(e,"Toggle Spike Lines")},icon:o.spikeline,attr:"_cartesianSpikesEnabled",val:"on",click:function(e){var t=e._fullLayout,n=t._cartesianSpikesEnabled;t._cartesianSpikesEnabled="on"===n?"off":"on",r.call("_guiRelayout",e,b(e))}},c.resetViewMapbox={name:"resetViewMapbox",title:function(e){return u(e,"Reset view")},attr:"reset",icon:o.home,click:function(e){_(e,"mapbox")}},c.zoomInMapbox={name:"zoomInMapbox",title:function(e){return u(e,"Zoom in")},attr:"zoom",val:"in",icon:o.zoom_plus,click:x},c.zoomOutMapbox={name:"zoomOutMapbox",title:function(e){return u(e,"Zoom out")},attr:"zoom",val:"out",icon:o.zoom_minus,click:x}},{"../../fonts/ploticon":506,"../../lib":524,"../../plots/cartesian/axis_ids":575,"../../plots/plots":617,"../../registry":626,"../shapes/draw":475}],454:[function(e,t,n){"use strict";n.manage=e("./manage")},{"./manage":455}],455:[function(e,t,n){"use strict";var r=e("../../plots/cartesian/axis_ids"),i=e("../../traces/scatter/subtypes"),a=e("../../registry"),o=e("../fx/helpers").isUnifiedHover,s=e("./modebar"),l=e("./buttons");t.exports=function(e){var t=e._fullLayout,n=e._context,r=t._modeBar;if(n.displayModeBar||n.watermark){if(!Array.isArray(n.modeBarButtonsToRemove))throw new Error(["*modeBarButtonsToRemove* configuration options","must be an array."].join(" "));if(!Array.isArray(n.modeBarButtonsToAdd))throw new Error(["*modeBarButtonsToAdd* configuration options","must be an array."].join(" "));var i,a=n.modeBarButtons;i=Array.isArray(a)&&a.length?g(a):!n.displayModeBar&&n.watermark?[]:c(e),r?r.update(e,i):t._modeBar=s(e,i)}else r&&(r.destroy(),delete t._modeBar)};var u=["drawline","drawopenpath","drawclosedpath","drawcircle","drawrect","eraseshape"];function c(e){var t=e._fullLayout,n=e._fullData,r=e._context,i=r.modeBarButtonsToRemove,a=r.modeBarButtonsToAdd,s=t._has("cartesian"),c=t._has("gl3d"),g=t._has("geo"),v=t._has("pie"),m=t._has("funnelarea"),y=t._has("gl2d"),b=t._has("ternary"),x=t._has("mapbox"),_=t._has("polar"),w=t._has("sankey"),k=f(t),M=o(t.hovermode),T=[];function A(e){if(e.length){for(var t=[],n=0;n<e.length;n++){var r=e[n];-1===i.indexOf(r)&&t.push(l[r])}T.push(t)}}var E=["toImage"];r.showEditInChartStudio?E.push("editInChartStudio"):r.showSendToCloud&&E.push("sendDataToCloud"),A(E);var S=[],O=[],C=[],L=[];if((s||y||v||m||b)+g+c+x+_>1?(O=["toggleHover"],C=["resetViews"]):g?(S=["zoomInGeo","zoomOutGeo"],O=["hoverClosestGeo"],C=["resetGeo"]):c?(O=["hoverClosest3d"],C=["resetCameraDefault3d","resetCameraLastSave3d"]):x?(S=["zoomInMapbox","zoomOutMapbox"],O=["toggleHover"],C=["resetViewMapbox"]):y?O=["hoverClosestGl2d"]:v?O=["hoverClosestPie"]:w?(O=["hoverClosestCartesian","hoverCompareCartesian"],C=["resetViewSankey"]):O=["toggleHover"],s&&(O=["toggleSpikelines","hoverClosestCartesian","hoverCompareCartesian"]),(h(n)||M)&&(O=[]),!s&&!y||k||(S=["zoomIn2d","zoomOut2d","autoScale2d"],"resetViews"!==C[0]&&(C=["resetScale2d"])),c?L=["zoom3d","pan3d","orbitRotation","tableRotation"]:(s||y)&&!k||b?L=["zoom2d","pan2d"]:x||g?L=["pan2d"]:_&&(L=["zoom2d"]),d(n)&&L.push("select2d","lasso2d"),Array.isArray(a)){for(var R=[],P=0;P<a.length;P++){var j=a[P];"string"===typeof j?-1!==u.indexOf(j)&&(t._has("mapbox")||t._has("cartesian"))&&L.push(j):R.push(j)}a=R}return A(L),A(S.concat(C)),A(O),p(T,a)}function f(e){for(var t=r.list({_fullLayout:e},null,!0),n=0;n<t.length;n++)if(!t[n].fixedrange)return!1;return!0}function d(e){for(var t=!1,n=0;n<e.length&&!t;n++){var r=e[n];r._module&&r._module.selectPoints&&(a.traceIs(r,"scatter-like")?(i.hasMarkers(r)||i.hasText(r))&&(t=!0):a.traceIs(r,"box-violin")&&"all"!==r.boxpoints&&"all"!==r.points||(t=!0))}return t}function h(e){for(var t=0;t<e.length;t++)if(!a.traceIs(e[t],"noHover"))return!1;return!0}function p(e,t){if(t.length)if(Array.isArray(t[0]))for(var n=0;n<t.length;n++)e.push(t[n]);else e.push(t);return e}function g(e){for(var t=0;t<e.length;t++)for(var n=e[t],r=0;r<n.length;r++){var i=n[r];if("string"===typeof i){if(void 0===l[i])throw new Error(["*modeBarButtons* configuration options","invalid button name"].join(" "));e[t][r]=l[i]}}return e}},{"../../plots/cartesian/axis_ids":575,"../../registry":626,"../../traces/scatter/subtypes":680,"../fx/helpers":430,"./buttons":453,"./modebar":456}],456:[function(e,t,n){"use strict";var r=e("d3"),i=e("fast-isnumeric"),a=e("../../lib"),o=e("../../fonts/ploticon"),s=new DOMParser;function l(e){this.container=e.container,this.element=document.createElement("div"),this.update(e.graphInfo,e.buttons),this.container.appendChild(this.element)}var u=l.prototype;function c(e,t){var n=e._fullLayout,i=new l({graphInfo:e,container:n._modebardiv.node(),buttons:t});return n._privateplot&&r.select(i.element).append("span").classed("badge-private float--left",!0).text("PRIVATE"),i}u.update=function(e,t){this.graphInfo=e;var n=this.graphInfo._context,r=this.graphInfo._fullLayout,i="modebar-"+r._uid;this.element.setAttribute("id",i),this._uid=i,this.element.className="modebar","hover"===n.displayModeBar&&(this.element.className+=" modebar--hover ease-bg"),"v"===r.modebar.orientation&&(this.element.className+=" vertical",t=t.reverse());var o=r.modebar,s="hover"===n.displayModeBar?".js-plotly-plot .plotly:hover ":"";a.deleteRelatedStyleRule(i),a.addRelatedStyleRule(i,s+"#"+i+" .modebar-group","background-color: "+o.bgcolor),a.addRelatedStyleRule(i,"#"+i+" .modebar-btn .icon path","fill: "+o.color),a.addRelatedStyleRule(i,"#"+i+" .modebar-btn:hover .icon path","fill: "+o.activecolor),a.addRelatedStyleRule(i,"#"+i+" .modebar-btn.active .icon path","fill: "+o.activecolor);var l=!this.hasButtons(t),u=this.hasLogo!==n.displaylogo,c=this.locale!==n.locale;if(this.locale=n.locale,(l||u||c)&&(this.removeAllButtons(),this.updateButtons(t),n.watermark||n.displaylogo)){var f=this.getLogo();n.watermark&&(f.className=f.className+" watermark"),"v"===r.modebar.orientation?this.element.insertBefore(f,this.element.childNodes[0]):this.element.appendChild(f),this.hasLogo=!0}this.updateActiveButton()},u.updateButtons=function(e){var t=this;this.buttons=e,this.buttonElements=[],this.buttonsNames=[],this.buttons.forEach((function(e){var n=t.createGroup();e.forEach((function(e){var r=e.name;if(!r)throw new Error("must provide button 'name' in button config");if(-1!==t.buttonsNames.indexOf(r))throw new Error("button name '"+r+"' is taken");t.buttonsNames.push(r);var i=t.createButton(e);t.buttonElements.push(i),n.appendChild(i)})),t.element.appendChild(n)}))},u.createGroup=function(){var e=document.createElement("div");return e.className="modebar-group",e},u.createButton=function(e){var t=this,n=document.createElement("a");n.setAttribute("rel","tooltip"),n.className="modebar-btn";var i=e.title;void 0===i?i=e.name:"function"===typeof i&&(i=i(this.graphInfo)),(i||0===i)&&n.setAttribute("data-title",i),void 0!==e.attr&&n.setAttribute("data-attr",e.attr);var a=e.val;if(void 0!==a&&("function"===typeof a&&(a=a(this.graphInfo)),n.setAttribute("data-val",a)),"function"!==typeof e.click)throw new Error("must provide button 'click' function in button config");n.addEventListener("click",(function(n){e.click(t.graphInfo,n),t.updateActiveButton(n.currentTarget)})),n.setAttribute("data-toggle",e.toggle||!1),e.toggle&&r.select(n).classed("active",!0);var s=e.icon;return"function"===typeof s?n.appendChild(s()):n.appendChild(this.createIcon(s||o.question)),n.setAttribute("data-gravity",e.gravity||"n"),n},u.createIcon=function(e){var t,n=i(e.height)?Number(e.height):e.ascent-e.descent,r="http://www.w3.org/2000/svg";if(e.path){(t=document.createElementNS(r,"svg")).setAttribute("viewBox",[0,0,e.width,n].join(" ")),t.setAttribute("class","icon");var a=document.createElementNS(r,"path");a.setAttribute("d",e.path),e.transform?a.setAttribute("transform",e.transform):void 0!==e.ascent&&a.setAttribute("transform","matrix(1 0 0 -1 0 "+e.ascent+")"),t.appendChild(a)}return e.svg&&(t=s.parseFromString(e.svg,"application/xml").childNodes[0]),t.setAttribute("height","1em"),t.setAttribute("width","1em"),t},u.updateActiveButton=function(e){var t=this.graphInfo._fullLayout,n=void 0!==e?e.getAttribute("data-attr"):null;this.buttonElements.forEach((function(e){var i=e.getAttribute("data-val")||!0,o=e.getAttribute("data-attr"),s="true"===e.getAttribute("data-toggle"),l=r.select(e);if(s)o===n&&l.classed("active",!l.classed("active"));else{var u=null===o?o:a.nestedProperty(t,o).get();l.classed("active",u===i)}}))},u.hasButtons=function(e){var t=this.buttons;if(!t)return!1;if(e.length!==t.length)return!1;for(var n=0;n<e.length;++n){if(e[n].length!==t[n].length)return!1;for(var r=0;r<e[n].length;r++)if(e[n][r].name!==t[n][r].name)return!1}return!0},u.getLogo=function(){var e=this.createGroup(),t=document.createElement("a");return t.href="https://plotly.com/",t.target="_blank",t.setAttribute("data-title",a._(this.graphInfo,"Produced with Plotly")),t.className="modebar-btn plotlyjsicon modebar-btn--logo",t.appendChild(this.createIcon(o.newplotlylogo)),e.appendChild(t),e},u.removeAllButtons=function(){for(;this.element.firstChild;)this.element.removeChild(this.element.firstChild);this.hasLogo=!1},u.destroy=function(){a.removeElement(this.container.querySelector(".modebar")),a.deleteRelatedStyleRule(this._uid)},t.exports=c},{"../../fonts/ploticon":506,"../../lib":524,d3:82,"fast-isnumeric":91}],457:[function(e,t,n){"use strict";var r=e("../../plots/font_attributes"),i=e("../color/attributes"),a=(0,e("../../plot_api/plot_template").templatedArray)("button",{visible:{valType:"boolean",dflt:!0,editType:"plot"},step:{valType:"enumerated",values:["month","year","day","hour","minute","second","all"],dflt:"month",editType:"plot"},stepmode:{valType:"enumerated",values:["backward","todate"],dflt:"backward",editType:"plot"},count:{valType:"number",min:0,dflt:1,editType:"plot"},label:{valType:"string",editType:"plot"},editType:"plot"});t.exports={visible:{valType:"boolean",editType:"plot"},buttons:a,x:{valType:"number",min:-2,max:3,editType:"plot"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"left",editType:"plot"},y:{valType:"number",min:-2,max:3,editType:"plot"},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"bottom",editType:"plot"},font:r({editType:"plot"}),bgcolor:{valType:"color",dflt:i.lightLine,editType:"plot"},activecolor:{valType:"color",editType:"plot"},bordercolor:{valType:"color",dflt:i.defaultLine,editType:"plot"},borderwidth:{valType:"number",min:0,dflt:0,editType:"plot"},editType:"plot"}},{"../../plot_api/plot_template":561,"../../plots/font_attributes":600,"../color/attributes":393}],458:[function(e,t,n){"use strict";t.exports={yPad:.02,minButtonWidth:30,rx:3,ry:3,lightAmount:25,darkAmount:10}},{}],459:[function(e,t,n){"use strict";var r=e("../../lib"),i=e("../color"),a=e("../../plot_api/plot_template"),o=e("../../plots/array_container_defaults"),s=e("./attributes"),l=e("./constants");function u(e,t,n,i){var a=i.calendar;function o(n,i){return r.coerce(e,t,s.buttons,n,i)}if(o("visible")){var l=o("step");"all"!==l&&(!a||"gregorian"===a||"month"!==l&&"year"!==l?o("stepmode"):t.stepmode="backward",o("count")),o("label")}}function c(e,t,n){for(var r=n.filter((function(n){return t[n].anchor===e._id})),i=0,a=0;a<r.length;a++){var o=t[r[a]].domain;o&&(i=Math.max(o[1],i))}return[e.domain[0],i+l.yPad]}t.exports=function(e,t,n,f,d){var h=e.rangeselector||{},p=a.newContainer(t,"rangeselector");function g(e,t){return r.coerce(h,p,s,e,t)}if(g("visible",o(h,p,{name:"buttons",handleItemDefaults:u,calendar:d}).length>0)){var v=c(t,n,f);g("x",v[0]),g("y",v[1]),r.noneOrAll(e,t,["x","y"]),g("xanchor"),g("yanchor"),r.coerceFont(g,"font",n.font);var m=g("bgcolor");g("activecolor",i.contrast(m,l.lightAmount,l.darkAmount)),g("bordercolor"),g("borderwidth")}}},{"../../lib":524,"../../plot_api/plot_template":561,"../../plots/array_container_defaults":567,"../color":394,"./attributes":457,"./constants":458}],460:[function(e,t,n){"use strict";var r=e("d3"),i=e("../../registry"),a=e("../../plots/plots"),o=e("../color"),s=e("../drawing"),l=e("../../lib"),u=l.strTranslate,c=e("../../lib/svg_text_utils"),f=e("../../plots/cartesian/axis_ids"),d=e("../../constants/alignment"),h=d.LINE_SPACING,p=d.FROM_TL,g=d.FROM_BR,v=e("./constants"),m=e("./get_update_object");function y(e){for(var t=f.list(e,"x",!0),n=[],r=0;r<t.length;r++){var i=t[r];i.rangeselector&&i.rangeselector.visible&&n.push(i)}return n}function b(e){return e._id}function x(e,t,n){if("all"===t.step)return!0===e.autorange;var r=Object.keys(n);return e.range[0]===n[r[0]]&&e.range[1]===n[r[1]]}function _(e,t,n){var r=l.ensureSingle(e,"rect","selector-rect",(function(e){e.attr("shape-rendering","crispEdges")}));r.attr({rx:v.rx,ry:v.ry}),r.call(o.stroke,t.bordercolor).call(o.fill,w(t,n)).style("stroke-width",t.borderwidth+"px")}function w(e,t){return t._isActive||t._isHovered?e.activecolor:e.bgcolor}function k(e,t,n,r){function i(e){c.convertToTspans(e,r)}l.ensureSingle(e,"text","selector-text",(function(e){e.attr("text-anchor","middle")})).call(s.font,t.font).text(M(n,r._fullLayout._meta)).call(i)}function M(e,t){return e.label?t?l.templateString(e.label,t):e.label:"all"===e.step?"all":e.count+e.step.charAt(0)}function T(e,t,n,i,o){var f=0,d=0,m=n.borderwidth;t.each((function(){var e=r.select(this).select(".selector-text"),t=n.font.size*h,i=Math.max(t*c.lineCount(e),16)+3;d=Math.max(d,i)})),t.each((function(){var e=r.select(this),t=e.select(".selector-rect"),i=e.select(".selector-text"),a=i.node()&&s.bBox(i.node()).width,o=n.font.size*h,l=c.lineCount(i),p=Math.max(a+10,v.minButtonWidth);e.attr("transform",u(m+f,m)),t.attr({x:0,y:0,width:p,height:d}),c.positionText(i,p/2,d/2-(l-1)*o/2+3),f+=p+5}));var y=e._fullLayout._size,b=y.l+y.w*n.x,x=y.t+y.h*(1-n.y),_="left";l.isRightAnchor(n)&&(b-=f,_="right"),l.isCenterAnchor(n)&&(b-=f/2,_="center");var w="top";l.isBottomAnchor(n)&&(x-=d,w="bottom"),l.isMiddleAnchor(n)&&(x-=d/2,w="middle"),f=Math.ceil(f),d=Math.ceil(d),b=Math.round(b),x=Math.round(x),a.autoMargin(e,i+"-range-selector",{x:n.x,y:n.y,l:f*p[_],r:f*g[_],b:d*g[w],t:d*p[w]}),o.attr("transform",u(b,x))}t.exports=function(e){var t=e._fullLayout._infolayer.selectAll(".rangeselector").data(y(e),b);t.enter().append("g").classed("rangeselector",!0),t.exit().remove(),t.style({cursor:"pointer","pointer-events":"all"}),t.each((function(t){var n=r.select(this),a=t,o=a.rangeselector,s=n.selectAll("g.button").data(l.filterVisible(o.buttons));s.enter().append("g").classed("button",!0),s.exit().remove(),s.each((function(t){var n=r.select(this),s=m(a,t);t._isActive=x(a,t,s),n.call(_,o,t),n.call(k,o,t,e),n.on("click",(function(){e._dragged||i.call("_guiRelayout",e,s)})),n.on("mouseover",(function(){t._isHovered=!0,n.call(_,o,t)})),n.on("mouseout",(function(){t._isHovered=!1,n.call(_,o,t)}))})),T(e,s,o,a._name,n)}))}},{"../../constants/alignment":496,"../../lib":524,"../../lib/svg_text_utils":548,"../../plots/cartesian/axis_ids":575,"../../plots/plots":617,"../../registry":626,"../color":394,"../drawing":416,"./constants":458,"./get_update_object":461,d3:82}],461:[function(e,t,n){"use strict";var r=e("d3");function i(e,t){var n,i=e.range,a=new Date(e.r2l(i[1])),o=t.step,s=t.count;switch(t.stepmode){case"backward":n=e.l2r(+r.time[o].utc.offset(a,-s));break;case"todate":var l=r.time[o].utc.offset(a,-s);n=e.l2r(+r.time[o].utc.ceil(l))}return[n,i[1]]}t.exports=function(e,t){var n=e._name,r={};if("all"===t.step)r[n+".autorange"]=!0;else{var a=i(e,t);r[n+".range[0]"]=a[0],r[n+".range[1]"]=a[1]}return r}},{d3:82}],462:[function(e,t,n){"use strict";t.exports={moduleType:"component",name:"rangeselector",schema:{subplots:{xaxis:{rangeselector:e("./attributes")}}},layoutAttributes:e("./attributes"),handleDefaults:e("./defaults"),draw:e("./draw")}},{"./attributes":457,"./defaults":459,"./draw":460}],463:[function(e,t,n){"use strict";var r=e("../color/attributes");t.exports={bgcolor:{valType:"color",dflt:r.background,editType:"plot"},bordercolor:{valType:"color",dflt:r.defaultLine,editType:"plot"},borderwidth:{valType:"integer",dflt:0,min:0,editType:"plot"},autorange:{valType:"boolean",dflt:!0,editType:"calc",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},range:{valType:"info_array",items:[{valType:"any",editType:"calc",impliedEdits:{"^autorange":!1}},{valType:"any",editType:"calc",impliedEdits:{"^autorange":!1}}],editType:"calc",impliedEdits:{autorange:!1}},thickness:{valType:"number",dflt:.15,min:0,max:1,editType:"plot"},visible:{valType:"boolean",dflt:!0,editType:"calc"},editType:"calc"}},{"../color/attributes":393}],464:[function(e,t,n){"use strict";var r=e("../../plots/cartesian/axis_ids").list,i=e("../../plots/cartesian/autorange").getAutoRange,a=e("./constants");t.exports=function(e){for(var t=r(e,"x",!0),n=0;n<t.length;n++){var o=t[n],s=o[a.name];s&&s.visible&&s.autorange&&(s._input.autorange=!0,s._input.range=s.range=i(e,o))}}},{"../../plots/cartesian/autorange":571,"../../plots/cartesian/axis_ids":575,"./constants":465}],465:[function(e,t,n){"use strict";t.exports={name:"rangeslider",containerClassName:"rangeslider-container",bgClassName:"rangeslider-bg",rangePlotClassName:"rangeslider-rangeplot",maskMinClassName:"rangeslider-mask-min",maskMaxClassName:"rangeslider-mask-max",slideBoxClassName:"rangeslider-slidebox",grabberMinClassName:"rangeslider-grabber-min",grabAreaMinClassName:"rangeslider-grabarea-min",handleMinClassName:"rangeslider-handle-min",grabberMaxClassName:"rangeslider-grabber-max",grabAreaMaxClassName:"rangeslider-grabarea-max",handleMaxClassName:"rangeslider-handle-max",maskMinOppAxisClassName:"rangeslider-mask-min-opp-axis",maskMaxOppAxisClassName:"rangeslider-mask-max-opp-axis",maskColor:"rgba(0,0,0,0.4)",maskOppAxisColor:"rgba(0,0,0,0.2)",slideBoxFill:"transparent",slideBoxCursor:"ew-resize",grabAreaFill:"transparent",grabAreaCursor:"col-resize",grabAreaWidth:10,handleWidth:4,handleRadius:1,handleStrokeWidth:1,extraPad:15}},{}],466:[function(e,t,n){"use strict";var r=e("../../lib"),i=e("../../plot_api/plot_template"),a=e("../../plots/cartesian/axis_ids"),o=e("./attributes"),s=e("./oppaxis_attributes");t.exports=function(e,t,n){var l=e[n],u=t[n];if(l.rangeslider||t._requestRangeslider[u._id]){r.isPlainObject(l.rangeslider)||(l.rangeslider={});var c,f,d=l.rangeslider,h=i.newContainer(u,"rangeslider");if(_("visible")){_("bgcolor",t.plot_bgcolor),_("bordercolor"),_("borderwidth"),_("thickness"),_("autorange",!u.isValidRange(d.range)),_("range");var p=t._subplots;if(p)for(var g=p.cartesian.filter((function(e){return e.substr(0,e.indexOf("y"))===a.name2id(n)})).map((function(e){return e.substr(e.indexOf("y"),e.length)})),v=r.simpleMap(g,a.id2name),m=0;m<v.length;m++){var y=v[m];c=d[y]||{},f=i.newContainer(h,y,"yaxis");var b,x=t[y];c.range&&x.isValidRange(c.range)&&(b="fixed"),"match"!==w("rangemode",b)&&w("range",x.range.slice())}h._input=d}}function _(e,t){return r.coerce(d,h,o,e,t)}function w(e,t){return r.coerce(c,f,s,e,t)}}},{"../../lib":524,"../../plot_api/plot_template":561,"../../plots/cartesian/axis_ids":575,"./attributes":463,"./oppaxis_attributes":470}],467:[function(e,t,n){"use strict";var r=e("d3"),i=e("../../registry"),a=e("../../plots/plots"),o=e("../../lib"),s=o.strTranslate,l=e("../drawing"),u=e("../color"),c=e("../titles"),f=e("../../plots/cartesian"),d=e("../../plots/cartesian/axis_ids"),h=e("../dragelement"),p=e("../../lib/setcursor"),g=e("./constants");function v(e,t,n,i){if(!t._context.staticPlot){var a=e.select("rect."+g.slideBoxClassName).node(),s=e.select("rect."+g.grabAreaMinClassName).node(),l=e.select("rect."+g.grabAreaMaxClassName).node();e.on("mousedown",u),e.on("touchstart",u)}function u(){var u=r.event,c=u.target,f=u.clientX||u.touches[0].clientX,d=f-e.node().getBoundingClientRect().left,g=i.d2p(n._rl[0]),v=i.d2p(n._rl[1]),y=h.coverSlip();function b(o){var u,h,b,x=+(o.clientX||o.touches[0].clientX)-f;switch(c){case a:b="ew-resize",u=g+x,h=v+x;break;case s:b="col-resize",u=g+x,h=v;break;case l:b="col-resize",u=g,h=v+x;break;default:b="ew-resize",u=d,h=d+x}if(h<u){var _=h;h=u,u=_}i._pixelMin=u,i._pixelMax=h,p(r.select(y),b),m(e,t,n,i)}function x(){y.removeEventListener("mousemove",b),y.removeEventListener("mouseup",x),this.removeEventListener("touchmove",b),this.removeEventListener("touchend",x),o.removeElement(y)}this.addEventListener("touchmove",b),this.addEventListener("touchend",x),y.addEventListener("mousemove",b),y.addEventListener("mouseup",x)}}function m(e,t,n,r){function a(e){return n.l2r(o.constrain(e,r._rl[0],r._rl[1]))}var s=a(r.p2d(r._pixelMin)),l=a(r.p2d(r._pixelMax));window.requestAnimationFrame((function(){i.call("_guiRelayout",t,n._name+".range",[s,l])}))}function y(e,t,n,r,i,a){var l=g.handleWidth/2;function u(e){return o.constrain(e,0,r._width)}function c(e){return o.constrain(e,0,r._height)}function f(e){return o.constrain(e,-l,r._width+l)}var d=u(r.d2p(n._rl[0])),h=u(r.d2p(n._rl[1]));if(e.select("rect."+g.slideBoxClassName).attr("x",d).attr("width",h-d),e.select("rect."+g.maskMinClassName).attr("width",d),e.select("rect."+g.maskMaxClassName).attr("x",h).attr("width",r._width-h),"match"!==a.rangemode){var p=r._height-c(r.d2pOppAxis(i._rl[1])),v=r._height-c(r.d2pOppAxis(i._rl[0]));e.select("rect."+g.maskMinOppAxisClassName).attr("x",d).attr("height",p).attr("width",h-d),e.select("rect."+g.maskMaxOppAxisClassName).attr("x",d).attr("y",v).attr("height",r._height-v).attr("width",h-d),e.select("rect."+g.slideBoxClassName).attr("y",p).attr("height",v-p)}var m=.5,y=Math.round(f(d-l))-m,b=Math.round(f(h-l))+m;e.select("g."+g.grabberMinClassName).attr("transform",s(y,m)),e.select("g."+g.grabberMaxClassName).attr("transform",s(b,m))}function b(e,t,n,r){var i=o.ensureSingle(e,"rect",g.bgClassName,(function(e){e.attr({x:0,y:0,"shape-rendering":"crispEdges"})})),a=r.borderwidth%2===0?r.borderwidth:r.borderwidth-1,u=-r._offsetShift,c=l.crispRound(t,r.borderwidth);i.attr({width:r._width+a,height:r._height+a,transform:s(u,u),fill:r.bgcolor,stroke:r.bordercolor,"stroke-width":c})}function x(e,t,n,r){var i=t._fullLayout;o.ensureSingleById(i._topdefs,"clipPath",r._clipId,(function(e){e.append("rect").attr({x:0,y:0})})).select("rect").attr({width:r._width,height:r._height})}function _(e,t,n,i){var s,u=t.calcdata,c=e.selectAll("g."+g.rangePlotClassName).data(n._subplotsWith,o.identity);c.enter().append("g").attr("class",(function(e){return g.rangePlotClassName+" "+e})).call(l.setClipUrl,i._clipId,t),c.order(),c.exit().remove(),c.each((function(e,o){var l=r.select(this),c=0===o,h=d.getFromId(t,e,"y"),p=h._name,g=i[p],v={data:[],layout:{xaxis:{type:n.type,domain:[0,1],range:i.range.slice(),calendar:n.calendar},width:i._width,height:i._height,margin:{t:0,b:0,l:0,r:0}},_context:t._context};n.rangebreaks&&(v.layout.xaxis.rangebreaks=n.rangebreaks),v.layout[p]={type:h.type,domain:[0,1],range:"match"!==g.rangemode?g.range.slice():h.range.slice(),calendar:h.calendar},h.rangebreaks&&(v.layout[p].rangebreaks=h.rangebreaks),a.supplyDefaults(v);var m=v._fullLayout.xaxis,y=v._fullLayout[p];m.clearCalc(),m.setScale(),y.clearCalc(),y.setScale();var b={id:e,plotgroup:l,xaxis:m,yaxis:y,isRangePlot:!0};c?s=b:(b.mainplot="xy",b.mainplotinfo=s),f.rangePlot(t,b,w(u,e))}))}function w(e,t){for(var n=[],r=0;r<e.length;r++){var i=e[r],a=i[0].trace;a.xaxis+a.yaxis===t&&n.push(i)}return n}function k(e,t,n,r,i){o.ensureSingle(e,"rect",g.maskMinClassName,(function(e){e.attr({x:0,y:0,"shape-rendering":"crispEdges"})})).attr("height",r._height).call(u.fill,g.maskColor),o.ensureSingle(e,"rect",g.maskMaxClassName,(function(e){e.attr({y:0,"shape-rendering":"crispEdges"})})).attr("height",r._height).call(u.fill,g.maskColor),"match"!==i.rangemode&&(o.ensureSingle(e,"rect",g.maskMinOppAxisClassName,(function(e){e.attr({y:0,"shape-rendering":"crispEdges"})})).attr("width",r._width).call(u.fill,g.maskOppAxisColor),o.ensureSingle(e,"rect",g.maskMaxOppAxisClassName,(function(e){e.attr({y:0,"shape-rendering":"crispEdges"})})).attr("width",r._width).style("border-top",g.maskOppBorder).call(u.fill,g.maskOppAxisColor))}function M(e,t,n,r){t._context.staticPlot||o.ensureSingle(e,"rect",g.slideBoxClassName,(function(e){e.attr({y:0,cursor:g.slideBoxCursor,"shape-rendering":"crispEdges"})})).attr({height:r._height,fill:g.slideBoxFill})}function T(e,t,n,r){var i=o.ensureSingle(e,"g",g.grabberMinClassName),a=o.ensureSingle(e,"g",g.grabberMaxClassName),s={x:0,width:g.handleWidth,rx:g.handleRadius,fill:u.background,stroke:u.defaultLine,"stroke-width":g.handleStrokeWidth,"shape-rendering":"crispEdges"},l={y:Math.round(r._height/4),height:Math.round(r._height/2)};o.ensureSingle(i,"rect",g.handleMinClassName,(function(e){e.attr(s)})).attr(l),o.ensureSingle(a,"rect",g.handleMaxClassName,(function(e){e.attr(s)})).attr(l);var c={width:g.grabAreaWidth,x:0,y:0,fill:g.grabAreaFill,cursor:t._context.staticPlot?void 0:g.grabAreaCursor};o.ensureSingle(i,"rect",g.grabAreaMinClassName,(function(e){e.attr(c)})).attr("height",r._height),o.ensureSingle(a,"rect",g.grabAreaMaxClassName,(function(e){e.attr(c)})).attr("height",r._height)}t.exports=function(e){for(var t=e._fullLayout,n=t._rangeSliderData,i=0;i<n.length;i++){var a=n[i][g.name];a._clipId=a._id+"-"+t._uid}function l(e){return e._name}var u=t._infolayer.selectAll("g."+g.containerClassName).data(n,l);u.exit().each((function(e){var n=e[g.name];t._topdefs.select("#"+n._clipId).remove()})).remove(),0!==n.length&&(u.enter().append("g").classed(g.containerClassName,!0).attr("pointer-events","all"),u.each((function(n){var i=r.select(this),a=n[g.name],l=t[d.id2name(n.anchor)],u=a[d.id2name(n.anchor)];if(a.range){var f,h=o.simpleMap(a.range,n.r2l),p=o.simpleMap(n.range,n.r2l);f=p[0]<p[1]?[Math.min(h[0],p[0]),Math.max(h[1],p[1])]:[Math.max(h[0],p[0]),Math.min(h[1],p[1])],a.range=a._input.range=o.simpleMap(f,n.l2r)}n.cleanRange("rangeslider.range");var m=t._size,w=n.domain;a._width=m.w*(w[1]-w[0]);var A=Math.round(m.l+m.w*w[0]),E=Math.round(m.t+m.h*(1-n._counterDomainMin)+("bottom"===n.side?n._depth:0)+a._offsetShift+g.extraPad);i.attr("transform",s(A,E)),a._rl=o.simpleMap(a.range,n.r2l);var S=a._rl[0],O=a._rl[1],C=O-S;if(a.p2d=function(e){return e/a._width*C+S},a.d2p=function(e){return(e-S)/C*a._width},n.rangebreaks){var L=n.locateBreaks(S,O);if(L.length){var R,P,j=0;for(R=0;R<L.length;R++)j+=(P=L[R]).max-P.min;var z=a._width/(O-S-j),I=[-z*S];for(R=0;R<L.length;R++)P=L[R],I.push(I[I.length-1]-z*(P.max-P.min));for(a.d2p=function(e){for(var t=I[0],n=0;n<L.length;n++){var r=L[n];if(e>=r.max)t=I[n+1];else if(e<r.min)break}return t+z*e},R=0;R<L.length;R++)(P=L[R]).pmin=a.d2p(P.min),P.pmax=a.d2p(P.max);a.p2d=function(e){for(var t=I[0],n=0;n<L.length;n++){var r=L[n];if(e>=r.pmax)t=I[n+1];else if(e<r.pmin)break}return(e-t)/z}}}if("match"!==u.rangemode){var N=l.r2l(u.range[0]),D=l.r2l(u.range[1])-N;a.d2pOppAxis=function(e){return(e-N)/D*a._height}}i.call(b,e,n,a).call(x,e,n,a).call(_,e,n,a).call(k,e,n,a,u).call(M,e,n,a).call(T,e,n,a),v(i,e,n,a),y(i,e,n,a,l,u),"bottom"===n.side&&c.draw(e,n._id+"title",{propContainer:n,propName:n._name+".title",placeholder:t._dfltTitle.x,attributes:{x:n._offset+n._length/2,y:E+a._height+a._offsetShift+10+1.5*n.title.font.size,"text-anchor":"middle"}})})))}},{"../../lib":524,"../../lib/setcursor":544,"../../plots/cartesian":585,"../../plots/cartesian/axis_ids":575,"../../plots/plots":617,"../../registry":626,"../color":394,"../dragelement":413,"../drawing":416,"../titles":489,"./constants":465,d3:82}],468:[function(e,t,n){"use strict";var r=e("../../plots/cartesian/axis_ids"),i=e("../../lib/svg_text_utils"),a=e("./constants"),o=e("../../constants/alignment").LINE_SPACING,s=a.name;function l(e){var t=e&&e[s];return t&&t.visible}n.isVisible=l,n.makeData=function(e){var t=r.list({_fullLayout:e},"x",!0),n=e.margin,i=[];if(!e._has("gl2d"))for(var a=0;a<t.length;a++){var o=t[a];if(l(o)){i.push(o);var u=o[s];u._id=s+o._id,u._height=(e.height-n.b-n.t)*u.thickness,u._offsetShift=Math.floor(u.borderwidth/2)}}e._rangeSliderData=i},n.autoMarginOpts=function(e,t){var n=e._fullLayout,r=t[s],l=t._id.charAt(0),u=0,c=0;return"bottom"===t.side&&(u=t._depth,t.title.text!==n._dfltTitle[l]&&(c=1.5*t.title.font.size+10+r._offsetShift,c+=(t.title.text.match(i.BR_TAG_ALL)||[]).length*t.title.font.size*o)),{x:0,y:t._counterDomainMin,l:0,r:0,t:0,b:r._height+u+Math.max(n.margin.b,c),pad:a.extraPad+2*r._offsetShift}}},{"../../constants/alignment":496,"../../lib/svg_text_utils":548,"../../plots/cartesian/axis_ids":575,"./constants":465}],469:[function(e,t,n){"use strict";var r=e("../../lib"),i=e("./attributes"),a=e("./oppaxis_attributes"),o=e("./helpers");t.exports={moduleType:"component",name:"rangeslider",schema:{subplots:{xaxis:{rangeslider:r.extendFlat({},i,{yaxis:a})}}},layoutAttributes:e("./attributes"),handleDefaults:e("./defaults"),calcAutorange:e("./calc_autorange"),draw:e("./draw"),isVisible:o.isVisible,makeData:o.makeData,autoMarginOpts:o.autoMarginOpts}},{"../../lib":524,"./attributes":463,"./calc_autorange":464,"./defaults":466,"./draw":467,"./helpers":468,"./oppaxis_attributes":470}],470:[function(e,t,n){"use strict";t.exports={_isSubplotObj:!0,rangemode:{valType:"enumerated",values:["auto","fixed","match"],dflt:"match",editType:"calc"},range:{valType:"info_array",items:[{valType:"any",editType:"plot"},{valType:"any",editType:"plot"}],editType:"plot"},editType:"calc"}},{}],471:[function(e,t,n){"use strict";var r=e("../annotations/attributes"),i=e("../../traces/scatter/attributes").line,a=e("../drawing/attributes").dash,o=e("../../lib/extend").extendFlat,s=e("../../plot_api/plot_template").templatedArray;e("../../constants/axis_placeable_objects"),t.exports=s("shape",{visible:{valType:"boolean",dflt:!0,editType:"calc+arraydraw"},type:{valType:"enumerated",values:["circle","rect","path","line"],editType:"calc+arraydraw"},layer:{valType:"enumerated",values:["below","above"],dflt:"above",editType:"arraydraw"},xref:o({},r.xref,{}),xsizemode:{valType:"enumerated",values:["scaled","pixel"],dflt:"scaled",editType:"calc+arraydraw"},xanchor:{valType:"any",editType:"calc+arraydraw"},x0:{valType:"any",editType:"calc+arraydraw"},x1:{valType:"any",editType:"calc+arraydraw"},yref:o({},r.yref,{}),ysizemode:{valType:"enumerated",values:["scaled","pixel"],dflt:"scaled",editType:"calc+arraydraw"},yanchor:{valType:"any",editType:"calc+arraydraw"},y0:{valType:"any",editType:"calc+arraydraw"},y1:{valType:"any",editType:"calc+arraydraw"},path:{valType:"string",editType:"calc+arraydraw"},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"arraydraw"},line:{color:o({},i.color,{editType:"arraydraw"}),width:o({},i.width,{editType:"calc+arraydraw"}),dash:o({},a,{editType:"arraydraw"}),editType:"calc+arraydraw"},fillcolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"arraydraw"},fillrule:{valType:"enumerated",values:["evenodd","nonzero"],dflt:"evenodd",editType:"arraydraw"},editable:{valType:"boolean",dflt:!1,editType:"calc+arraydraw"},editType:"arraydraw"})},{"../../constants/axis_placeable_objects":497,"../../lib/extend":517,"../../plot_api/plot_template":561,"../../traces/scatter/attributes":655,"../annotations/attributes":379,"../drawing/attributes":415}],472:[function(e,t,n){"use strict";var r=e("../../lib"),i=e("../../plots/cartesian/axes"),a=e("./constants"),o=e("./helpers");function s(e){return u(e.line.width,e.xsizemode,e.x0,e.x1,e.path,!1)}function l(e){return u(e.line.width,e.ysizemode,e.y0,e.y1,e.path,!0)}function u(e,t,n,i,s,l){var u=e/2,c=l;if("pixel"===t){var f=s?o.extractPathCoords(s,l?a.paramIsY:a.paramIsX):[n,i],d=r.aggNums(Math.max,null,f),h=r.aggNums(Math.min,null,f),p=h<0?Math.abs(h)+u:u,g=d>0?d+u:u;return{ppad:u,ppadplus:c?p:g,ppadminus:c?g:p}}return{ppad:u}}function c(e,t,n,r,i){var s="category"===e.type||"multicategory"===e.type?e.r2c:e.d2c;if(void 0!==t)return[s(t),s(n)];if(r){var l,u,c,f,d=1/0,h=-1/0,p=r.match(a.segmentRE);for("date"===e.type&&(s=o.decodeDate(s)),l=0;l<p.length;l++)void 0!==(u=i[p[l].charAt(0)].drawn)&&(!(c=p[l].substr(1).match(a.paramRE))||c.length<u||((f=s(c[u]))<d&&(d=f),f>h&&(h=f)));return h>=d?[d,h]:void 0}}t.exports=function(e){var t=e._fullLayout,n=r.filterVisible(t.shapes);if(n.length&&e._fullData.length)for(var o=0;o<n.length;o++){var u,f,d=n[o];d._extremes={};var h=i.getRefType(d.xref),p=i.getRefType(d.yref);if("paper"!==d.xref&&"domain"!==h){var g="pixel"===d.xsizemode?d.xanchor:d.x0,v="pixel"===d.xsizemode?d.xanchor:d.x1;(f=c(u=i.getFromId(e,d.xref),g,v,d.path,a.paramIsX))&&(d._extremes[u._id]=i.findExtremes(u,f,s(d)))}if("paper"!==d.yref&&"domain"!==p){var m="pixel"===d.ysizemode?d.yanchor:d.y0,y="pixel"===d.ysizemode?d.yanchor:d.y1;(f=c(u=i.getFromId(e,d.yref),m,y,d.path,a.paramIsY))&&(d._extremes[u._id]=i.findExtremes(u,f,l(d)))}}}},{"../../lib":524,"../../plots/cartesian/axes":572,"./constants":473,"./helpers":482}],473:[function(e,t,n){"use strict";t.exports={segmentRE:/[MLHVQCTSZ][^MLHVQCTSZ]*/g,paramRE:/[^\s,]+/g,paramIsX:{M:{0:!0,drawn:0},L:{0:!0,drawn:0},H:{0:!0,drawn:0},V:{},Q:{0:!0,2:!0,drawn:2},C:{0:!0,2:!0,4:!0,drawn:4},T:{0:!0,drawn:0},S:{0:!0,2:!0,drawn:2},Z:{}},paramIsY:{M:{1:!0,drawn:1},L:{1:!0,drawn:1},H:{},V:{0:!0,drawn:0},Q:{1:!0,3:!0,drawn:3},C:{1:!0,3:!0,5:!0,drawn:5},T:{1:!0,drawn:1},S:{1:!0,3:!0,drawn:5},Z:{}},numParams:{M:2,L:2,H:1,V:1,Q:4,C:6,T:2,S:4,Z:0}}},{}],474:[function(e,t,n){"use strict";var r=e("../../lib"),i=e("../../plots/cartesian/axes"),a=e("../../plots/array_container_defaults"),o=e("./attributes"),s=e("./helpers");function l(e,t,n){function a(n,i){return r.coerce(e,t,o,n,i)}if(a("visible")){var l=a("path"),u=a("type",l?"path":"rect");"path"!==t.type&&delete t.path,a("editable"),a("layer"),a("opacity"),a("fillcolor"),a("fillrule"),a("line.width")&&(a("line.color"),a("line.dash"));for(var c=a("xsizemode"),f=a("ysizemode"),d=["x","y"],h=0;h<2;h++){var p,g,v,m=d[h],y=m+"anchor",b="x"===m?c:f,x={_fullLayout:n},_=i.coerceRef(e,t,x,m,void 0,"paper");if("range"===i.getRefType(_)?((p=i.getFromId(x,_))._shapeIndices.push(t._index),v=s.rangeToShapePosition(p),g=s.shapePositionToRange(p)):g=v=r.identity,"path"!==u){var w=.25,k=.75,M=m+"0",T=m+"1",A=e[M],E=e[T];e[M]=g(e[M],!0),e[T]=g(e[T],!0),"pixel"===b?(a(M,0),a(T,10)):(i.coercePosition(t,x,a,_,M,w),i.coercePosition(t,x,a,_,T,k)),t[M]=v(t[M]),t[T]=v(t[T]),e[M]=A,e[T]=E}if("pixel"===b){var S=e[y];e[y]=g(e[y],!0),i.coercePosition(t,x,a,_,y,.25),t[y]=v(t[y]),e[y]=S}}"path"===u?a("path"):r.noneOrAll(e,t,["x0","x1","y0","y1"])}}t.exports=function(e,t){a(e,t,{name:"shapes",handleItemDefaults:l})}},{"../../lib":524,"../../plots/array_container_defaults":567,"../../plots/cartesian/axes":572,"./attributes":471,"./helpers":482}],475:[function(e,t,n){"use strict";var r=e("../../registry"),i=e("../../lib"),a=e("../../plots/cartesian/axes"),o=e("./draw_newshape/helpers").readPaths,s=e("./draw_newshape/display_outlines"),l=e("../../plots/cartesian/handle_outline").clearOutlineControllers,u=e("../color"),c=e("../drawing"),f=e("../../plot_api/plot_template").arrayEditor,d=e("../dragelement"),h=e("../../lib/setcursor"),p=e("./constants"),g=e("./helpers");function v(e){var t=e._fullLayout;for(var n in t._shapeUpperLayer.selectAll("path").remove(),t._shapeLowerLayer.selectAll("path").remove(),t._plots){var r=t._plots[n].shapelayer;r&&r.selectAll("path").remove()}for(var i=0;i<t.shapes.length;i++)t.shapes[i].visible&&b(e,i)}function m(e){return!!e._fullLayout._drawing}function y(e){return!e._context.edits.shapePosition}function b(e,t){e._fullLayout._paperdiv.selectAll('.shapelayer [data-index="'+t+'"]').remove();var n=g.makeOptionsAndPlotinfo(e,t),r=n.options,i=n.plotinfo;function a(n){var a=w(e,r),l={"data-index":t,"fill-rule":r.fillrule,d:a},d=r.opacity,h=r.fillcolor,p=r.line.width?r.line.color:"rgba(0,0,0,0)",g=r.line.width,v=r.line.dash;g||!0!==r.editable||(g=5,v="solid");var m="Z"!==a[a.length-1],b=y(e)&&r.editable&&e._fullLayout._activeShapeIndex===t;b&&(h=m?"rgba(0,0,0,0)":e._fullLayout.activeshape.fillcolor,d=e._fullLayout.activeshape.opacity);var k,M=n.append("path").attr(l).style("opacity",d).call(u.stroke,p).call(u.fill,h).call(c.dashLine,v,g);if(x(M,e,r),(b||e._context.edits.shapePosition)&&(k=f(e.layout,"shapes",r)),b){M.style({cursor:"move"});var A={element:M.node(),plotinfo:i,gd:e,editHelpers:k,isActiveShape:!0},E=o(a,e);s(E,M,A)}else e._context.edits.shapePosition?_(e,M,r,t,n,k):!0===r.editable&&M.style("pointer-events",m||u.opacity(h)*d<=.5?"stroke":"all");M.node().addEventListener("click",(function(){return T(e,M)}))}r._input&&!1!==r.visible&&("below"!==r.layer?a(e._fullLayout._shapeUpperLayer):"paper"===r.xref||"paper"===r.yref?a(e._fullLayout._shapeLowerLayer):i._hadPlotinfo?a((i.mainplotinfo||i).shapelayer):a(e._fullLayout._shapeLowerLayer))}function x(e,t,n){var r=(n.xref+n.yref).replace(/paper/g,"").replace(/[xyz][1-9]* *domain/g,"");c.setClipUrl(e,r?"clip"+t._fullLayout._uid+r:null,t)}function _(e,t,n,o,s,l){var u,f,v,y,b,_,k,T,A,E,S,O,C,L,R,P,j=10,z=10,I="pixel"===n.xsizemode,N="pixel"===n.ysizemode,D="line"===n.type,F="path"===n.type,B=l.modifyItem,U=a.getFromId(e,n.xref),V=a.getRefType(n.xref),H=a.getFromId(e,n.yref),q=a.getRefType(n.yref),W=g.getDataToPixel(e,U,!1,V),G=g.getDataToPixel(e,H,!0,q),X=g.getPixelToData(e,U,!1,V),Y=g.getPixelToData(e,H,!0,q),Z=K(),$={element:Z.node(),gd:e,prepFn:ee,doneFn:te,clickFn:ne};function K(){return D?Q():t}function Q(){var e=10,r=Math.max(n.line.width,e),i=s.append("g").attr("data-index",o);i.append("path").attr("d",t.attr("d")).style({cursor:"move","stroke-width":r,"stroke-opacity":"0"});var a={"fill-opacity":"0"},l=Math.max(r/2,e);return i.append("circle").attr({"data-line-point":"start-point",cx:I?W(n.xanchor)+n.x0:W(n.x0),cy:N?G(n.yanchor)-n.y0:G(n.y0),r:l}).style(a).classed("cursor-grab",!0),i.append("circle").attr({"data-line-point":"end-point",cx:I?W(n.xanchor)+n.x1:W(n.x1),cy:N?G(n.yanchor)-n.y1:G(n.y1),r:l}).style(a).classed("cursor-grab",!0),i}function J(n){if(m(e))P=null;else if(D)P="path"===n.target.tagName?"move":"start-point"===n.target.attributes["data-line-point"].value?"resize-over-start-point":"resize-over-end-point";else{var r=$.element.getBoundingClientRect(),i=r.right-r.left,a=r.bottom-r.top,o=n.clientX-r.left,s=n.clientY-r.top,l=!F&&i>j&&a>z&&!n.shiftKey?d.getCursor(o/i,1-s/a):"move";h(t,l),P=l.split("-")[0]}}function ee(r){m(e)||(I&&(b=W(n.xanchor)),N&&(_=G(n.yanchor)),"path"===n.type?R=n.path:(u=I?n.x0:W(n.x0),f=N?n.y0:G(n.y0),v=I?n.x1:W(n.x1),y=N?n.y1:G(n.y1)),u<v?(A=u,C="x0",E=v,L="x1"):(A=v,C="x1",E=u,L="x0"),!N&&f<y||N&&f>y?(k=f,S="y0",T=y,O="y1"):(k=y,S="y1",T=f,O="y0"),J(r),ae(s,n),se(t,n,e),$.moveFn="move"===P?re:ie,$.altKey=r.altKey)}function te(){m(e)||(h(t),oe(s),x(t,e,n),r.call("_guiRelayout",e,l.getUpdateObj()))}function ne(){m(e)||oe(s)}function re(r,i){if("path"===n.type){var a=function(e){return e},o=a,l=a;I?B("xanchor",n.xanchor=X(b+r)):(o=function(e){return X(W(e)+r)},U&&"date"===U.type&&(o=g.encodeDate(o))),N?B("yanchor",n.yanchor=Y(_+i)):(l=function(e){return Y(G(e)+i)},H&&"date"===H.type&&(l=g.encodeDate(l))),B("path",n.path=M(R,o,l))}else I?B("xanchor",n.xanchor=X(b+r)):(B("x0",n.x0=X(u+r)),B("x1",n.x1=X(v+r))),N?B("yanchor",n.yanchor=Y(_+i)):(B("y0",n.y0=Y(f+i)),B("y1",n.y1=Y(y+i)));t.attr("d",w(e,n)),ae(s,n)}function ie(r,i){if(F){var a=function(e){return e},o=a,l=a;I?B("xanchor",n.xanchor=X(b+r)):(o=function(e){return X(W(e)+r)},U&&"date"===U.type&&(o=g.encodeDate(o))),N?B("yanchor",n.yanchor=Y(_+i)):(l=function(e){return Y(G(e)+i)},H&&"date"===H.type&&(l=g.encodeDate(l))),B("path",n.path=M(R,o,l))}else if(D){if("resize-over-start-point"===P){var c=u+r,d=N?f-i:f+i;B("x0",n.x0=I?c:X(c)),B("y0",n.y0=N?d:Y(d))}else if("resize-over-end-point"===P){var h=v+r,p=N?y-i:y+i;B("x1",n.x1=I?h:X(h)),B("y1",n.y1=N?p:Y(p))}}else{var m=function(e){return-1!==P.indexOf(e)},x=m("n"),V=m("s"),q=m("w"),Z=m("e"),$=x?k+i:k,K=V?T+i:T,Q=q?A+r:A,J=Z?E+r:E;N&&(x&&($=k-i),V&&(K=T-i)),(!N&&K-$>z||N&&$-K>z)&&(B(S,n[S]=N?$:Y($)),B(O,n[O]=N?K:Y(K))),J-Q>j&&(B(C,n[C]=I?Q:X(Q)),B(L,n[L]=I?J:X(J)))}t.attr("d",w(e,n)),ae(s,n)}function ae(e,t){function n(){var n="path"!==t.type,r=e.selectAll(".visual-cue").data([0]),a=1;r.enter().append("path").attr({fill:"#fff","fill-rule":"evenodd",stroke:"#000","stroke-width":a}).classed("visual-cue",!0);var o=W(I?t.xanchor:i.midRange(n?[t.x0,t.x1]:g.extractPathCoords(t.path,p.paramIsX))),s=G(N?t.yanchor:i.midRange(n?[t.y0,t.y1]:g.extractPathCoords(t.path,p.paramIsY)));if(o=g.roundPositionForSharpStrokeRendering(o,a),s=g.roundPositionForSharpStrokeRendering(s,a),I&&N){var l="M"+(o-1-a)+","+(s-1-a)+"h-8v2h8 v8h2v-8 h8v-2h-8 v-8h-2 Z";r.attr("d",l)}else if(I){var u="M"+(o-1-a)+","+(s-9-a)+"v18 h2 v-18 Z";r.attr("d",u)}else{var c="M"+(o-9-a)+","+(s-1-a)+"h18 v2 h-18 Z";r.attr("d",c)}}(I||N)&&n()}function oe(e){e.selectAll(".visual-cue").remove()}function se(e,t,n){var r=t.xref,i=t.yref,o=a.getFromId(n,r),s=a.getFromId(n,i),l="";"paper"===r||o.autorange||(l+=r),"paper"===i||s.autorange||(l+=i),c.setClipUrl(e,l?"clip"+n._fullLayout._uid+l:null,n)}d.init($),Z.node().onmousemove=J}function w(e,t){var n,r,i,o,s,l,u,c,f=t.type,d=a.getRefType(t.xref),h=a.getRefType(t.yref),p=a.getFromId(e,t.xref),v=a.getFromId(e,t.yref),m=e._fullLayout._size;if(p?"domain"===d?r=function(e){return p._offset+p._length*e}:(n=g.shapePositionToRange(p),r=function(e){return p._offset+p.r2p(n(e,!0))}):r=function(e){return m.l+m.w*e},v?"domain"===h?o=function(e){return v._offset+v._length*(1-e)}:(i=g.shapePositionToRange(v),o=function(e){return v._offset+v.r2p(i(e,!0))}):o=function(e){return m.t+m.h*(1-e)},"path"===f)return p&&"date"===p.type&&(r=g.decodeDate(r)),v&&"date"===v.type&&(o=g.decodeDate(o)),k(t,r,o);if("pixel"===t.xsizemode){var y=r(t.xanchor);s=y+t.x0,l=y+t.x1}else s=r(t.x0),l=r(t.x1);if("pixel"===t.ysizemode){var b=o(t.yanchor);u=b-t.y0,c=b-t.y1}else u=o(t.y0),c=o(t.y1);if("line"===f)return"M"+s+","+u+"L"+l+","+c;if("rect"===f)return"M"+s+","+u+"H"+l+"V"+c+"H"+s+"Z";var x=(s+l)/2,_=(u+c)/2,w=Math.abs(x-s),M=Math.abs(_-u),T="A"+w+","+M,A=x+w+","+_;return"M"+A+T+" 0 1,1 "+x+","+(_-M)+T+" 0 0,1 "+A+"Z"}function k(e,t,n){var r=e.path,a=e.xsizemode,o=e.ysizemode,s=e.xanchor,l=e.yanchor;return r.replace(p.segmentRE,(function(e){var r=0,u=e.charAt(0),c=p.paramIsX[u],f=p.paramIsY[u],d=p.numParams[u],h=e.substr(1).replace(p.paramRE,(function(e){return c[r]?e="pixel"===a?t(s)+Number(e):t(e):f[r]&&(e="pixel"===o?n(l)-Number(e):n(e)),++r>d&&(e="X"),e}));return r>d&&(h=h.replace(/[\s,]*X.*/,""),i.log("Ignoring extra params in segment "+e)),u+h}))}function M(e,t,n){return e.replace(p.segmentRE,(function(e){var r=0,i=e.charAt(0),a=p.paramIsX[i],o=p.paramIsY[i],s=p.numParams[i];return i+e.substr(1).replace(p.paramRE,(function(e){return r>=s||(a[r]?e=t(e):o[r]&&(e=n(e)),r++),e}))}))}function T(e,t){if(y(e)){var n=+t.node().getAttribute("data-index");if(n>=0){if(n===e._fullLayout._activeShapeIndex)return void A(e);e._fullLayout._activeShapeIndex=n,e._fullLayout._deactivateShape=A,v(e)}}}function A(e){y(e)&&e._fullLayout._activeShapeIndex>=0&&(l(e),delete e._fullLayout._activeShapeIndex,v(e))}function E(e){if(y(e)){l(e);var t=e._fullLayout._activeShapeIndex,n=(e.layout||{}).shapes||[];if(t<n.length){for(var i=[],a=0;a<n.length;a++)a!==t&&i.push(n[a]);delete e._fullLayout._activeShapeIndex,r.call("_guiRelayout",e,{shapes:i})}}}t.exports={draw:v,drawOne:b,eraseActiveShape:E}},{"../../lib":524,"../../lib/setcursor":544,"../../plot_api/plot_template":561,"../../plots/cartesian/axes":572,"../../plots/cartesian/handle_outline":582,"../../registry":626,"../color":394,"../dragelement":413,"../drawing":416,"./constants":473,"./draw_newshape/display_outlines":479,"./draw_newshape/helpers":480,"./helpers":482}],476:[function(e,t,n){"use strict";var r=e("../../drawing/attributes").dash,i=e("../../../lib/extend").extendFlat;t.exports={newshape:{line:{color:{valType:"color",editType:"none"},width:{valType:"number",min:0,dflt:4,editType:"none"},dash:i({},r,{dflt:"solid",editType:"none"}),editType:"none"},fillcolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"none"},fillrule:{valType:"enumerated",values:["evenodd","nonzero"],dflt:"evenodd",editType:"none"},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"none"},layer:{valType:"enumerated",values:["below","above"],dflt:"above",editType:"none"},drawdirection:{valType:"enumerated",values:["ortho","horizontal","vertical","diagonal"],dflt:"diagonal",editType:"none"},editType:"none"},activeshape:{fillcolor:{valType:"color",dflt:"rgb(255,0,255)",editType:"none"},opacity:{valType:"number",min:0,max:1,dflt:.5,editType:"none"},editType:"none"}}},{"../../../lib/extend":517,"../../drawing/attributes":415}],477:[function(e,t,n){"use strict";var r=32;t.exports={CIRCLE_SIDES:r,i000:0,i090:r/4,i180:r/2,i270:r/4*3,cos45:Math.cos(Math.PI/4),sin45:Math.sin(Math.PI/4),SQRT2:Math.sqrt(2)}},{}],478:[function(e,t,n){"use strict";var r=e("../../color");t.exports=function(e,t,n){if(n("newshape.drawdirection"),n("newshape.layer"),n("newshape.fillcolor"),n("newshape.fillrule"),n("newshape.opacity"),n("newshape.line.width")){var i=(e||{}).plot_bgcolor||"#FFF";n("newshape.line.color",r.contrast(i)),n("newshape.line.dash")}n("activeshape.fillcolor"),n("activeshape.opacity")}},{"../../color":394}],479:[function(e,t,n){"use strict";var r=e("../../dragelement"),i=e("../../dragelement/helpers").drawMode,a=e("../../../registry"),o=e("./constants"),s=o.i000,l=o.i090,u=o.i180,c=o.i270,f=e("../../../plots/cartesian/handle_outline").clearOutlineControllers,d=e("./helpers"),h=d.pointsShapeRectangle,p=d.pointsShapeEllipse,g=d.writePaths,v=e("./newshapes");function m(e,t){for(var n=0;n<t.length;n++){var r=t[n];e[n]=[];for(var i=0;i<r.length;i++){e[n][i]=[];for(var a=0;a<r[i].length;a++)e[n][i][a]=r[i][a]}}return e}t.exports=function e(t,n,o,d){d||(d=0);var y=o.gd;function b(){e(t,n,o,d++),p(t[0])&&x({redrawing:!0})}function x(e){o.isActiveShape=!1;var t=v(n,o);Object.keys(t).length&&a.call((e||{}).redrawing?"relayout":"_guiRelayout",y,t)}var _,w,k,M,T,A=o.isActiveShape,E=y._fullLayout._zoomlayer,S=o.dragmode;function O(e){k=+e.srcElement.getAttribute("data-i"),M=+e.srcElement.getAttribute("data-j"),_[k][M].moveFn=C}function C(e,n){if(t.length){var r=T[k][M][1],i=T[k][M][2],a=t[k],o=a.length;if(h(a)){for(var s=0;s<o;s++)if(s!==M){var l=a[s];l[1]===a[M][1]&&(l[1]=r+e),l[2]===a[M][2]&&(l[2]=i+n)}if(a[M][1]=r+e,a[M][2]=i+n,!h(a))for(var u=0;u<o;u++)for(var c=0;c<a[u].length;c++)a[u][c]=T[k][u][c]}else a[M][1]=r+e,a[M][2]=i+n;b()}}function L(){x()}function R(){if(t.length&&t[k]&&t[k].length){for(var e=[],n=0;n<t[k].length;n++)n!==M&&e.push(t[k][n]);e.length>1&&(2!==e.length||"Z"!==e[1][0])&&(0===M&&(e[0][0]="M"),t[k]=e,b(),x())}}function P(e,n){if(2===e){k=+n.srcElement.getAttribute("data-i"),M=+n.srcElement.getAttribute("data-j");var r=t[k];h(r)||p(r)||R()}}function j(e){_=[];for(var n=0;n<t.length;n++){var i=t[n],a=!h(i)&&p(i);_[n]=[];for(var o=0;o<i.length;o++)if("Z"!==i[o][0]&&(!a||o===s||o===l||o===u||o===c)){var f=i[o][1],d=i[o][2],g=e.append("circle").classed("cursor-grab",!0).attr("data-i",n).attr("data-j",o).attr("cx",f).attr("cy",d).attr("r",4).style({"mix-blend-mode":"luminosity",fill:"black",stroke:"white","stroke-width":1});_[n][o]={element:g.node(),gd:y,prepFn:O,doneFn:L,clickFn:P},r.init(_[n][o])}}}function z(e,n){if(t.length)for(var r=0;r<t.length;r++)for(var i=0;i<t[r].length;i++)for(var a=0;a+2<t[r][i].length;a+=2)t[r][i][a+1]=T[r][i][a+1]+e,t[r][i][a+2]=T[r][i][a+2]+n}function I(e,t){z(e,t),b()}function N(e){(k=+e.srcElement.getAttribute("data-i"))||(k=0),w[k].moveFn=I}function D(){x()}function F(){if(w=[],t.length){var e=0;w[e]={element:n[0][0],gd:y,prepFn:N,doneFn:D},r.init(w[e])}}i(S)?y._fullLayout._drawing=!0:y._fullLayout._activeShapeIndex>=0&&f(y),n.attr("d",g(t)),A&&!d&&(T=m([],t),j(E.append("g").attr("class","outline-controllers")),F())}},{"../../../plots/cartesian/handle_outline":582,"../../../registry":626,"../../dragelement":413,"../../dragelement/helpers":412,"./constants":477,"./helpers":480,"./newshapes":481}],480:[function(e,t,n){"use strict";var r=e("parse-svg-path"),i=e("./constants"),a=i.CIRCLE_SIDES,o=i.SQRT2,s=e("../../../plots/cartesian/helpers"),l=s.p2r,u=s.r2p,c=[0,3,4,5,6,1,2],f=[0,3,4,1,2];function d(e,t){return Math.abs(e-t)<=1e-6}function h(e,t){var n=t[1]-e[1],r=t[2]-e[2];return Math.sqrt(n*n+r*r)}n.writePaths=function(e){var t=e.length;if(!t)return"M0,0Z";for(var n="",r=0;r<t;r++)for(var i=e[r].length,a=0;a<i;a++){var o=e[r][a][0];if("Z"===o)n+="Z";else for(var s=e[r][a].length,l=0;l<s;l++){var u=l;"Q"===o||"S"===o?u=f[l]:"C"===o&&(u=c[l]),n+=e[r][a][u],l>0&&l<s-1&&(n+=",")}}return n},n.readPaths=function(e,t,n,i){var o,s,c,f=r(e),d=[],h=-1,p=function(){h++,d[h]=[]},g=0,v=0,m=function(){s=g,c=v};m();for(var y=0;y<f.length;y++){var b,x,_,w,k=[],M=f[y][0],T=M;switch(M){case"M":p(),g=+f[y][1],v=+f[y][2],k.push([T,g,v]),m();break;case"Q":case"S":b=+f[y][1],_=+f[y][2],g=+f[y][3],v=+f[y][4],k.push([T,g,v,b,_]);break;case"C":b=+f[y][1],_=+f[y][2],x=+f[y][3],w=+f[y][4],g=+f[y][5],v=+f[y][6],k.push([T,g,v,b,_,x,w]);break;case"T":case"L":g=+f[y][1],v=+f[y][2],k.push([T,g,v]);break;case"H":T="L",g=+f[y][1],k.push([T,g,v]);break;case"V":T="L",v=+f[y][1],k.push([T,g,v]);break;case"A":T="L";var A=+f[y][1],E=+f[y][2];+f[y][4]||(A=-A,E=-E);var S=g-A,O=v;for(o=1;o<=a/2;o++){var C=2*Math.PI*o/a;k.push([T,S+A*Math.cos(C),O+E*Math.sin(C)])}break;case"Z":g===s&&v===c||(g=s,v=c,k.push([T,g,v]))}for(var L=(n||{}).domain,R=t._fullLayout._size,P=n&&"pixel"===n.xsizemode,j=n&&"pixel"===n.ysizemode,z=!1===i,I=0;I<k.length;I++){for(o=0;o+2<7;o+=2){var N=k[I][o+1],D=k[I][o+2];void 0!==N&&void 0!==D&&(g=N,v=D,n&&(n.xaxis&&n.xaxis.p2r?(z&&(N-=n.xaxis._offset),N=P?u(n.xaxis,n.xanchor)+N:l(n.xaxis,N)):(z&&(N-=R.l),L?N=L.x[0]+N/R.w:N/=R.w),n.yaxis&&n.yaxis.p2r?(z&&(D-=n.yaxis._offset),D=j?u(n.yaxis,n.yanchor)-D:l(n.yaxis,D)):(z&&(D-=R.t),D=L?L.y[1]-D/R.h:1-D/R.h)),k[I][o+1]=N,k[I][o+2]=D)}d[h].push(k[I].slice())}}return d},n.pointsShapeRectangle=function(e){if(5!==e.length)return!1;for(var t=1;t<3;t++){if(!d(e[0][t]-e[1][t],e[3][t]-e[2][t]))return!1;if(!d(e[0][t]-e[3][t],e[1][t]-e[2][t]))return!1}return!(!d(e[0][1],e[1][1])&&!d(e[0][1],e[3][1]))&&!!(h(e[0],e[1])*h(e[0],e[3]))},n.pointsShapeEllipse=function(e){var t=e.length;if(t!==a+1)return!1;t=a;for(var n=0;n<t;n++){var r=(2*t-n)%t,i=(t/2+r)%t,o=(t/2+n)%t;if(!d(h(e[n],e[o]),h(e[r],e[i])))return!1}return!0},n.handleEllipse=function(e,t,r){if(!e)return[t,r];var i=n.ellipseOver({x0:t[0],y0:t[1],x1:r[0],y1:r[1]}),s=(i.x1+i.x0)/2,l=(i.y1+i.y0)/2,u=(i.x1-i.x0)/2,c=(i.y1-i.y0)/2;u||(u=c/=o),c||(c=u/=o);for(var f=[],d=0;d<a;d++){var h=2*d*Math.PI/a;f.push([s+u*Math.cos(h),l+c*Math.sin(h)])}return f},n.ellipseOver=function(e){var t=e.x0,n=e.y0,r=e.x1,i=e.y1,a=r-t,s=i-n,l=((t-=a)+r)/2,u=((n-=s)+i)/2;return{x0:l-(a*=o),y0:u-(s*=o),x1:l+a,y1:u+s}}},{"../../../plots/cartesian/helpers":583,"./constants":477,"parse-svg-path":307}],481:[function(e,t,n){"use strict";var r=e("../../dragelement/helpers"),i=r.drawMode,a=r.openMode,o=e("./constants"),s=o.i000,l=o.i090,u=o.i180,c=o.i270,f=o.cos45,d=o.sin45,h=e("../../../plots/cartesian/helpers"),p=h.p2r,g=h.r2p,v=e("../../../plots/cartesian/handle_outline").clearSelect,m=e("./helpers"),y=m.readPaths,b=m.writePaths,x=m.ellipseOver;function _(e,t,n){var r="date"===t.type,i="date"===n.type;if(!r&&!i)return e;for(var a=0;a<e.length;a++)for(var o=0;o<e[a].length;o++)for(var s=0;s+2<e[a][o].length;s+=2)r&&(e[a][o][s+1]=e[a][o][s+1].replace(" ","_")),i&&(e[a][o][s+2]=e[a][o][s+2].replace(" ","_"));return e}t.exports=function(e,t){if(e.length){var n=e[0][0];if(n){var r=n.getAttribute("d"),o=t.gd,h=o._fullLayout.newshape,m=t.plotinfo,w=m.xaxis,k=m.yaxis,M=!!m.domain||!m.xaxis,T=!!m.domain||!m.yaxis,A=t.isActiveShape,E=t.dragmode,S=(o.layout||{}).shapes||[];if(!i(E)&&void 0!==A){var O=o._fullLayout._activeShapeIndex;if(O<S.length)switch(o._fullLayout.shapes[O].type){case"rect":E="drawrect";break;case"circle":E="drawcircle";break;case"line":E="drawline";break;case"path":var C=S[O].path||"";E="Z"===C[C.length-1]?"drawclosedpath":"drawopenpath"}}var L,R=a(E),P=y(r,o,m,A),j={editable:!0,xref:M?"paper":w._id,yref:T?"paper":k._id,layer:h.layer,opacity:h.opacity,line:{color:h.line.color,width:h.line.width,dash:h.line.dash}};if(R||(j.fillcolor=h.fillcolor,j.fillrule=h.fillrule),1===P.length&&(L=P[0]),L&&"drawrect"===E)j.type="rect",j.x0=L[0][1],j.y0=L[0][2],j.x1=L[2][1],j.y1=L[2][2];else if(L&&"drawline"===E)j.type="line",j.x0=L[0][1],j.y0=L[0][2],j.x1=L[1][1],j.y1=L[1][2];else if(L&&"drawcircle"===E){j.type="circle";var z=L[s][1],I=L[l][1],N=L[u][1],D=L[c][1],F=L[s][2],B=L[l][2],U=L[u][2],V=L[c][2],H=m.xaxis&&("date"===m.xaxis.type||"log"===m.xaxis.type),q=m.yaxis&&("date"===m.yaxis.type||"log"===m.yaxis.type);H&&(z=g(m.xaxis,z),I=g(m.xaxis,I),N=g(m.xaxis,N),D=g(m.xaxis,D)),q&&(F=g(m.yaxis,F),B=g(m.yaxis,B),U=g(m.yaxis,U),V=g(m.yaxis,V));var W=(I+D)/2,G=(F+U)/2,X=x({x0:W,y0:G,x1:W+(D-I+N-z)/2*f,y1:G+(V-B+U-F)/2*d});H&&(X.x0=p(m.xaxis,X.x0),X.x1=p(m.xaxis,X.x1)),q&&(X.y0=p(m.yaxis,X.y0),X.y1=p(m.yaxis,X.y1)),j.x0=X.x0,j.y0=X.y0,j.x1=X.x1,j.y1=X.y1}else j.type="path",w&&k&&_(P,w,k),j.path=b(P),L=null;v(o);for(var Y=t.editHelpers,Z=(Y||{}).modifyItem,$=[],K=0;K<S.length;K++){var Q=o._fullLayout.shapes[K];if($[K]=Q._input,void 0!==A&&K===o._fullLayout._activeShapeIndex){var J=j;switch(Q.type){case"line":case"rect":case"circle":Z("x0",J.x0),Z("x1",J.x1),Z("y0",J.y0),Z("y1",J.y1);break;case"path":Z("path",J.path)}}}return void 0===A?($.push(j),$):Y?Y.getUpdateObj():{}}}}},{"../../../plots/cartesian/handle_outline":582,"../../../plots/cartesian/helpers":583,"../../dragelement/helpers":412,"./constants":477,"./helpers":480}],482:[function(e,t,n){"use strict";var r=e("./constants"),i=e("../../lib");n.rangeToShapePosition=function(e){return"log"===e.type?e.r2d:function(e){return e}},n.shapePositionToRange=function(e){return"log"===e.type?e.d2r:function(e){return e}},n.decodeDate=function(e){return function(t){return t.replace&&(t=t.replace("_"," ")),e(t)}},n.encodeDate=function(e){return function(t){return e(t).replace(" ","_")}},n.extractPathCoords=function(e,t){var n=[];return e.match(r.segmentRE).forEach((function(e){var a=t[e.charAt(0)].drawn;if(void 0!==a){var o=e.substr(1).match(r.paramRE);!o||o.length<a||n.push(i.cleanNumber(o[a]))}})),n},n.getDataToPixel=function(e,t,r,i){var a,o=e._fullLayout._size;if(t)if("domain"===i)a=function(e){return t._length*(r?1-e:e)+t._offset};else{var s=n.shapePositionToRange(t);a=function(e){return t._offset+t.r2p(s(e,!0))},"date"===t.type&&(a=n.decodeDate(a))}else a=r?function(e){return o.t+o.h*(1-e)}:function(e){return o.l+o.w*e};return a},n.getPixelToData=function(e,t,r,i){var a,o=e._fullLayout._size;if(t)if("domain"===i)a=function(e){var n=(e-t._offset)/t._length;return r?1-n:n};else{var s=n.rangeToShapePosition(t);a=function(e){return s(t.p2r(e-t._offset))}}else a=r?function(e){return 1-(e-o.t)/o.h}:function(e){return(e-o.l)/o.w};return a},n.roundPositionForSharpStrokeRendering=function(e,t){var n=1===Math.round(t%2),r=Math.round(e);return n?r+.5:r},n.makeOptionsAndPlotinfo=function(e,t){var n=e._fullLayout.shapes[t]||{},r=e._fullLayout._plots[n.xref+n.yref];return r?r._hadPlotinfo=!0:(r={},n.xref&&"paper"!==n.xref&&(r.xaxis=e._fullLayout[n.xref+"axis"]),n.yref&&"paper"!==n.yref&&(r.yaxis=e._fullLayout[n.yref+"axis"])),r.xsizemode=n.xsizemode,r.ysizemode=n.ysizemode,r.xanchor=n.xanchor,r.yanchor=n.yanchor,{options:n,plotinfo:r}}},{"../../lib":524,"./constants":473}],483:[function(e,t,n){"use strict";var r=e("./draw");t.exports={moduleType:"component",name:"shapes",layoutAttributes:e("./attributes"),supplyLayoutDefaults:e("./defaults"),supplyDrawNewShapeDefaults:e("./draw_newshape/defaults"),includeBasePlot:e("../../plots/cartesian/include_components")("shapes"),calcAutorange:e("./calc_autorange"),draw:r.draw,drawOne:r.drawOne}},{"../../plots/cartesian/include_components":584,"./attributes":471,"./calc_autorange":472,"./defaults":474,"./draw":475,"./draw_newshape/defaults":478}],484:[function(e,t,n){"use strict";var r=e("../../plots/font_attributes"),i=e("../../plots/pad_attributes"),a=e("../../lib/extend").extendDeepAll,o=e("../../plot_api/edit_types").overrideAll,s=e("../../plots/animation_attributes"),l=e("../../plot_api/plot_template").templatedArray,u=e("./constants"),c=l("step",{visible:{valType:"boolean",dflt:!0},method:{valType:"enumerated",values:["restyle","relayout","animate","update","skip"],dflt:"restyle"},args:{valType:"info_array",freeLength:!0,items:[{valType:"any"},{valType:"any"},{valType:"any"}]},label:{valType:"string"},value:{valType:"string"},execute:{valType:"boolean",dflt:!0}});t.exports=o(l("slider",{visible:{valType:"boolean",dflt:!0},active:{valType:"number",min:0,dflt:0},steps:c,lenmode:{valType:"enumerated",values:["fraction","pixels"],dflt:"fraction"},len:{valType:"number",min:0,dflt:1},x:{valType:"number",min:-2,max:3,dflt:0},pad:a(i({editType:"arraydraw"}),{},{t:{dflt:20}}),xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"left"},y:{valType:"number",min:-2,max:3,dflt:0},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"top"},transition:{duration:{valType:"number",min:0,dflt:150},easing:{valType:"enumerated",values:s.transition.easing.values,dflt:"cubic-in-out"}},currentvalue:{visible:{valType:"boolean",dflt:!0},xanchor:{valType:"enumerated",values:["left","center","right"],dflt:"left"},offset:{valType:"number",dflt:10},prefix:{valType:"string"},suffix:{valType:"string"},font:r({})},font:r({}),activebgcolor:{valType:"color",dflt:u.gripBgActiveColor},bgcolor:{valType:"color",dflt:u.railBgColor},bordercolor:{valType:"color",dflt:u.railBorderColor},borderwidth:{valType:"number",min:0,dflt:u.railBorderWidth},ticklen:{valType:"number",min:0,dflt:u.tickLength},tickcolor:{valType:"color",dflt:u.tickColor},tickwidth:{valType:"number",min:0,dflt:1},minorticklen:{valType:"number",min:0,dflt:u.minorTickLength}}),"arraydraw","from-root")},{"../../lib/extend":517,"../../plot_api/edit_types":554,"../../plot_api/plot_template":561,"../../plots/animation_attributes":566,"../../plots/font_attributes":600,"../../plots/pad_attributes":616,"./constants":485}],485:[function(e,t,n){"use strict";t.exports={name:"sliders",containerClassName:"slider-container",groupClassName:"slider-group",inputAreaClass:"slider-input-area",railRectClass:"slider-rail-rect",railTouchRectClass:"slider-rail-touch-rect",gripRectClass:"slider-grip-rect",tickRectClass:"slider-tick-rect",inputProxyClass:"slider-input-proxy",labelsClass:"slider-labels",labelGroupClass:"slider-label-group",labelClass:"slider-label",currentValueClass:"slider-current-value",railHeight:5,menuIndexAttrName:"slider-active-index",autoMarginIdRoot:"slider-",minWidth:30,minHeight:30,textPadX:40,arrowOffsetX:4,railRadius:2,railWidth:5,railBorder:4,railBorderWidth:1,railBorderColor:"#bec8d9",railBgColor:"#f8fafc",railInset:8,stepInset:10,gripRadius:10,gripWidth:20,gripHeight:20,gripBorder:20,gripBorderWidth:1,gripBorderColor:"#bec8d9",gripBgColor:"#f6f8fa",gripBgActiveColor:"#dbdde0",labelPadding:8,labelOffset:0,tickWidth:1,tickColor:"#333",tickOffset:25,tickLength:7,minorTickOffset:25,minorTickColor:"#333",minorTickLength:4,currentValuePadding:8,currentValueInset:0}},{}],486:[function(e,t,n){"use strict";var r=e("../../lib"),i=e("../../plots/array_container_defaults"),a=e("./attributes"),o=e("./constants").name,s=a.steps;function l(e,t,n){function o(n,i){return r.coerce(e,t,a,n,i)}for(var s=i(e,t,{name:"steps",handleItemDefaults:u}),l=0,c=0;c<s.length;c++)s[c].visible&&l++;if(l<2?t.visible=!1:o("visible")){t._stepCount=l;var f=t._visibleSteps=r.filterVisible(s);(s[o("active")]||{}).visible||(t.active=f[0]._index),o("x"),o("y"),r.noneOrAll(e,t,["x","y"]),o("xanchor"),o("yanchor"),o("len"),o("lenmode"),o("pad.t"),o("pad.r"),o("pad.b"),o("pad.l"),r.coerceFont(o,"font",n.font),o("currentvalue.visible")&&(o("currentvalue.xanchor"),o("currentvalue.prefix"),o("currentvalue.suffix"),o("currentvalue.offset"),r.coerceFont(o,"currentvalue.font",t.font)),o("transition.duration"),o("transition.easing"),o("bgcolor"),o("activebgcolor"),o("bordercolor"),o("borderwidth"),o("ticklen"),o("tickwidth"),o("tickcolor"),o("minorticklen")}}function u(e,t){function n(n,i){return r.coerce(e,t,s,n,i)}if("skip"===e.method||Array.isArray(e.args)?n("visible"):t.visible=!1){n("method"),n("args");var i=n("label","step-"+t._index);n("value",i),n("execute")}}t.exports=function(e,t){i(e,t,{name:o,handleItemDefaults:l})}},{"../../lib":524,"../../plots/array_container_defaults":567,"./attributes":484,"./constants":485}],487:[function(e,t,n){"use strict";var r=e("d3"),i=e("../../plots/plots"),a=e("../color"),o=e("../drawing"),s=e("../../lib"),l=s.strTranslate,u=e("../../lib/svg_text_utils"),c=e("../../plot_api/plot_template").arrayEditor,f=e("./constants"),d=e("../../constants/alignment"),h=d.LINE_SPACING,p=d.FROM_TL,g=d.FROM_BR;function v(e){return f.autoMarginIdRoot+e._index}function m(e,t){for(var n=e[f.name],r=[],i=0;i<n.length;i++){var a=n[i];a.visible&&(a._gd=t,r.push(a))}return r}function y(e){return e._index}function b(e,t){var n=o.tester.selectAll("g."+f.labelGroupClass).data(t._visibleSteps);n.enter().append("g").classed(f.labelGroupClass,!0);var a=0,l=0;n.each((function(e){var n=k(r.select(this),{step:e},t).node();if(n){var i=o.bBox(n);l=Math.max(l,i.height),a=Math.max(a,i.width)}})),n.remove();var c=t._dims={};c.inputAreaWidth=Math.max(f.railWidth,f.gripHeight);var d=e._fullLayout._size;c.lx=d.l+d.w*t.x,c.ly=d.t+d.h*(1-t.y),"fraction"===t.lenmode?c.outerLength=Math.round(d.w*t.len):c.outerLength=t.len,c.inputAreaStart=0,c.inputAreaLength=Math.round(c.outerLength-t.pad.l-t.pad.r);var h=(c.inputAreaLength-2*f.stepInset)/(t._stepCount-1),m=a+f.labelPadding;if(c.labelStride=Math.max(1,Math.ceil(m/h)),c.labelHeight=l,c.currentValueMaxWidth=0,c.currentValueHeight=0,c.currentValueTotalHeight=0,c.currentValueMaxLines=1,t.currentvalue.visible){var y=o.tester.append("g");n.each((function(e){var n=_(y,t,e.label),r=n.node()&&o.bBox(n.node())||{width:0,height:0},i=u.lineCount(n);c.currentValueMaxWidth=Math.max(c.currentValueMaxWidth,Math.ceil(r.width)),c.currentValueHeight=Math.max(c.currentValueHeight,Math.ceil(r.height)),c.currentValueMaxLines=Math.max(c.currentValueMaxLines,i)})),c.currentValueTotalHeight=c.currentValueHeight+t.currentvalue.offset,y.remove()}c.height=c.currentValueTotalHeight+f.tickOffset+t.ticklen+f.labelOffset+c.labelHeight+t.pad.t+t.pad.b;var b="left";s.isRightAnchor(t)&&(c.lx-=c.outerLength,b="right"),s.isCenterAnchor(t)&&(c.lx-=c.outerLength/2,b="center");var x="top";s.isBottomAnchor(t)&&(c.ly-=c.height,x="bottom"),s.isMiddleAnchor(t)&&(c.ly-=c.height/2,x="middle"),c.outerLength=Math.ceil(c.outerLength),c.height=Math.ceil(c.height),c.lx=Math.round(c.lx),c.ly=Math.round(c.ly);var w={y:t.y,b:c.height*g[x],t:c.height*p[x]};"fraction"===t.lenmode?(w.l=0,w.xl=t.x-t.len*p[b],w.r=0,w.xr=t.x+t.len*g[b]):(w.x=t.x,w.l=c.outerLength*p[b],w.r=c.outerLength*g[b]),i.autoMargin(e,v(t),w)}function x(e,t,n){(n.steps[n.active]||{}).visible||(n.active=n._visibleSteps[0]._index),t.call(_,n).call(j,n).call(M,n).call(S,n).call(P,e,n).call(w,e,n);var r=n._dims;o.setTranslate(t,r.lx+n.pad.l,r.ly+n.pad.t),t.call(C,n,!1),t.call(_,n)}function _(e,t,n){if(t.currentvalue.visible){var r,i,a=t._dims;switch(t.currentvalue.xanchor){case"right":r=a.inputAreaLength-f.currentValueInset-a.currentValueMaxWidth,i="left";break;case"center":r=.5*a.inputAreaLength,i="middle";break;default:r=f.currentValueInset,i="left"}var l=s.ensureSingle(e,"text",f.labelClass,(function(e){e.attr({"text-anchor":i,"data-notex":1})})),c=t.currentvalue.prefix?t.currentvalue.prefix:"";if("string"===typeof n)c+=n;else{var d=t.steps[t.active].label,p=t._gd._fullLayout._meta;p&&(d=s.templateString(d,p)),c+=d}t.currentvalue.suffix&&(c+=t.currentvalue.suffix),l.call(o.font,t.currentvalue.font).text(c).call(u.convertToTspans,t._gd);var g=u.lineCount(l),v=(a.currentValueMaxLines+1-g)*t.currentvalue.font.size*h;return u.positionText(l,r,v),l}}function w(e,t,n){s.ensureSingle(e,"rect",f.gripRectClass,(function(r){r.call(E,t,e,n).style("pointer-events","all")})).attr({width:f.gripWidth,height:f.gripHeight,rx:f.gripRadius,ry:f.gripRadius}).call(a.stroke,n.bordercolor).call(a.fill,n.bgcolor).style("stroke-width",n.borderwidth+"px")}function k(e,t,n){var r=s.ensureSingle(e,"text",f.labelClass,(function(e){e.attr({"text-anchor":"middle","data-notex":1})})),i=t.step.label,a=n._gd._fullLayout._meta;return a&&(i=s.templateString(i,a)),r.call(o.font,n.font).text(i).call(u.convertToTspans,n._gd),r}function M(e,t){var n=s.ensureSingle(e,"g",f.labelsClass),i=t._dims,a=n.selectAll("g."+f.labelGroupClass).data(i.labelSteps);a.enter().append("g").classed(f.labelGroupClass,!0),a.exit().remove(),a.each((function(e){var n=r.select(this);n.call(k,e,t),o.setTranslate(n,L(t,e.fraction),f.tickOffset+t.ticklen+t.font.size*h+f.labelOffset+i.currentValueTotalHeight)}))}function T(e,t,n,r,i){var a=Math.round(r*(n._stepCount-1)),o=n._visibleSteps[a]._index;o!==n.active&&A(e,t,n,o,!0,i)}function A(e,t,n,r,a,o){var s=n.active;n.active=r,c(e.layout,f.name,n).applyUpdate("active",r);var l=n.steps[n.active];t.call(C,n,o),t.call(_,n),e.emit("plotly_sliderchange",{slider:n,step:n.steps[n.active],interaction:a,previousActive:s}),l&&l.method&&a&&(t._nextMethod?(t._nextMethod.step=l,t._nextMethod.doCallback=a,t._nextMethod.doTransition=o):(t._nextMethod={step:l,doCallback:a,doTransition:o},t._nextMethodRaf=window.requestAnimationFrame((function(){var n=t._nextMethod.step;n.method&&(n.execute&&i.executeAPICommand(e,n.method,n.args),t._nextMethod=null,t._nextMethodRaf=null)}))))}function E(e,t,n){var i=n.node(),o=r.select(t);function s(){return n.data()[0]}e.on("mousedown",(function(){var e=s();t.emit("plotly_sliderstart",{slider:e});var l=n.select("."+f.gripRectClass);r.event.stopPropagation(),r.event.preventDefault(),l.call(a.fill,e.activebgcolor);var u=R(e,r.mouse(i)[0]);T(t,n,e,u,!0),e._dragging=!0,o.on("mousemove",(function(){var e=s(),a=R(e,r.mouse(i)[0]);T(t,n,e,a,!1)})),o.on("mouseup",(function(){var e=s();e._dragging=!1,l.call(a.fill,e.bgcolor),o.on("mouseup",null),o.on("mousemove",null),t.emit("plotly_sliderend",{slider:e,step:e.steps[e.active]})}))}))}function S(e,t){var n=e.selectAll("rect."+f.tickRectClass).data(t._visibleSteps),i=t._dims;n.enter().append("rect").classed(f.tickRectClass,!0),n.exit().remove(),n.attr({width:t.tickwidth+"px","shape-rendering":"crispEdges"}),n.each((function(e,n){var s=n%i.labelStride===0,l=r.select(this);l.attr({height:s?t.ticklen:t.minorticklen}).call(a.fill,t.tickcolor),o.setTranslate(l,L(t,n/(t._stepCount-1))-.5*t.tickwidth,(s?f.tickOffset:f.minorTickOffset)+i.currentValueTotalHeight)}))}function O(e){var t=e._dims;t.labelSteps=[];for(var n=e._stepCount,r=0;r<n;r+=t.labelStride)t.labelSteps.push({fraction:r/(n-1),step:e._visibleSteps[r]})}function C(e,t,n){for(var r=e.select("rect."+f.gripRectClass),i=0,a=0;a<t._stepCount;a++)if(t._visibleSteps[a]._index===t.active){i=a;break}var o=L(t,i/(t._stepCount-1));if(!t._invokingCommand){var s=r;n&&t.transition.duration>0&&(s=s.transition().duration(t.transition.duration).ease(t.transition.easing)),s.attr("transform",l(o-.5*f.gripWidth,t._dims.currentValueTotalHeight))}}function L(e,t){var n=e._dims;return n.inputAreaStart+f.stepInset+(n.inputAreaLength-2*f.stepInset)*Math.min(1,Math.max(0,t))}function R(e,t){var n=e._dims;return Math.min(1,Math.max(0,(t-f.stepInset-n.inputAreaStart)/(n.inputAreaLength-2*f.stepInset-2*n.inputAreaStart)))}function P(e,t,n){var r=n._dims,i=s.ensureSingle(e,"rect",f.railTouchRectClass,(function(r){r.call(E,t,e,n).style("pointer-events","all")}));i.attr({width:r.inputAreaLength,height:Math.max(r.inputAreaWidth,f.tickOffset+n.ticklen+r.labelHeight)}).call(a.fill,n.bgcolor).attr("opacity",0),o.setTranslate(i,0,r.currentValueTotalHeight)}function j(e,t){var n=t._dims,r=n.inputAreaLength-2*f.railInset,i=s.ensureSingle(e,"rect",f.railRectClass);i.attr({width:r,height:f.railWidth,rx:f.railRadius,ry:f.railRadius,"shape-rendering":"crispEdges"}).call(a.stroke,t.bordercolor).call(a.fill,t.bgcolor).style("stroke-width",t.borderwidth+"px"),o.setTranslate(i,f.railInset,.5*(n.inputAreaWidth-f.railWidth)+n.currentValueTotalHeight)}t.exports=function(e){var t=e._fullLayout,n=m(t,e),a=t._infolayer.selectAll("g."+f.containerClassName).data(n.length>0?[0]:[]);function o(t){t._commandObserver&&(t._commandObserver.remove(),delete t._commandObserver),i.autoMargin(e,v(t))}if(a.enter().append("g").classed(f.containerClassName,!0).style("cursor","ew-resize"),a.exit().each((function(){r.select(this).selectAll("g."+f.groupClassName).each(o)})).remove(),0!==n.length){var s=a.selectAll("g."+f.groupClassName).data(n,y);s.enter().append("g").classed(f.groupClassName,!0),s.exit().each(o).remove();for(var l=0;l<n.length;l++){var u=n[l];b(e,u)}s.each((function(t){var n=r.select(this);O(t),i.manageCommandObserver(e,t,t._visibleSteps,(function(t){var r=n.data()[0];r.active!==t.index&&(r._dragging||A(e,n,r,t.index,!1,!0))})),x(e,r.select(this),t)}))}}},{"../../constants/alignment":496,"../../lib":524,"../../lib/svg_text_utils":548,"../../plot_api/plot_template":561,"../../plots/plots":617,"../color":394,"../drawing":416,"./constants":485,d3:82}],488:[function(e,t,n){"use strict";var r=e("./constants");t.exports={moduleType:"component",name:r.name,layoutAttributes:e("./attributes"),supplyLayoutDefaults:e("./defaults"),draw:e("./draw")}},{"./attributes":484,"./constants":485,"./defaults":486,"./draw":487}],489:[function(e,t,n){"use strict";var r=e("d3"),i=e("fast-isnumeric"),a=e("../../plots/plots"),o=e("../../registry"),s=e("../../lib"),l=s.strTranslate,u=e("../drawing"),c=e("../color"),f=e("../../lib/svg_text_utils"),d=e("../../constants/interactions"),h=e("../../constants/alignment").OPPOSITE_SIDE,p=/ [XY][0-9]* /;function g(e,t,n){var g,v=n.propContainer,m=n.propName,y=n.placeholder,b=n.traceIndex,x=n.avoid||{},_=n.attributes,w=n.transform,k=n.containerGroup,M=e._fullLayout,T=1,A=!1,E=v.title,S=(E&&E.text?E.text:"").trim(),O=E&&E.font?E.font:{},C=O.family,L=O.size,R=O.color;"title.text"===m?g="titleText":-1!==m.indexOf("axis")?g="axisTitleText":m.indexOf(!0)&&(g="colorbarTitleText");var P=e._context.edits[g];""===S?T=0:S.replace(p," % ")===y.replace(p," % ")&&(T=.2,A=!0,P||(S="")),n._meta?S=s.templateString(S,n._meta):M._meta&&(S=s.templateString(S,M._meta));var j=S||P;k||(k=s.ensureSingle(M._infolayer,"g","g-"+t));var z=k.selectAll("text").data(j?[0]:[]);if(z.enter().append("text"),z.text(S).attr("class",t),z.exit().remove(),!j)return k;function I(e){s.syncOrAsync([N,D],e)}function N(t){var n;return w?(n="",w.rotate&&(n+="rotate("+[w.rotate,_.x,_.y]+")"),w.offset&&(n+=l(0,w.offset))):n=null,t.attr("transform",n),t.style({"font-family":C,"font-size":r.round(L,2)+"px",fill:c.rgb(R),opacity:T*c.opacity(R),"font-weight":a.fontWeight}).attr(_).call(f.convertToTspans,e),a.previousPromises(e)}function D(e){var t=r.select(e.node().parentNode);if(x&&x.selection&&x.side&&S){t.attr("transform",null);var n=h[x.side],a="left"===x.side||"top"===x.side?-1:1,o=i(x.pad)?x.pad:2,c=u.bBox(t.node()),f={left:0,top:0,right:M.width,bottom:M.height},d=x.maxShift||a*(f[x.side]-c[x.side]),p=0;if(d<0)p=d;else{var g=x.offsetLeft||0,v=x.offsetTop||0;c.left-=g,c.right-=g,c.top-=v,c.bottom-=v,x.selection.each((function(){var e=u.bBox(this);s.bBoxIntersect(c,e,o)&&(p=Math.max(p,a*(e[x.side]-c[n])+o))})),p=Math.min(d,p)}if(p>0||d<0){var m={left:[-p,0],right:[p,0],top:[0,-p],bottom:[0,p]}[x.side];t.attr("transform",l(m[0],m[1]))}}}function F(){T=0,A=!0,z.text(y).on("mouseover.opacity",(function(){r.select(this).transition().duration(d.SHOW_PLACEHOLDER).style("opacity",1)})).on("mouseout.opacity",(function(){r.select(this).transition().duration(d.HIDE_PLACEHOLDER).style("opacity",0)}))}return z.call(I),P&&(S?z.on(".opacity",null):F(),z.call(f.makeEditable,{gd:e}).on("edit",(function(t){void 0!==b?o.call("_guiRestyle",e,m,t,b):o.call("_guiRelayout",e,m,t)})).on("cancel",(function(){this.text(this.attr("data-unformatted")).call(I)})).on("input",(function(e){this.text(e||" ").call(f.positionText,_.x,_.y)}))),z.classed("js-placeholder",A),k}t.exports={draw:g}},{"../../constants/alignment":496,"../../constants/interactions":501,"../../lib":524,"../../lib/svg_text_utils":548,"../../plots/plots":617,"../../registry":626,"../color":394,"../drawing":416,d3:82,"fast-isnumeric":91}],490:[function(e,t,n){"use strict";var r=e("../../plots/font_attributes"),i=e("../color/attributes"),a=e("../../lib/extend").extendFlat,o=e("../../plot_api/edit_types").overrideAll,s=e("../../plots/pad_attributes"),l=e("../../plot_api/plot_template").templatedArray,u=l("button",{visible:{valType:"boolean"},method:{valType:"enumerated",values:["restyle","relayout","animate","update","skip"],dflt:"restyle"},args:{valType:"info_array",freeLength:!0,items:[{valType:"any"},{valType:"any"},{valType:"any"}]},args2:{valType:"info_array",freeLength:!0,items:[{valType:"any"},{valType:"any"},{valType:"any"}]},label:{valType:"string",dflt:""},execute:{valType:"boolean",dflt:!0}});t.exports=o(l("updatemenu",{_arrayAttrRegexps:[/^updatemenus\[(0|[1-9][0-9]+)\]\.buttons/],visible:{valType:"boolean"},type:{valType:"enumerated",values:["dropdown","buttons"],dflt:"dropdown"},direction:{valType:"enumerated",values:["left","right","up","down"],dflt:"down"},active:{valType:"integer",min:-1,dflt:0},showactive:{valType:"boolean",dflt:!0},buttons:u,x:{valType:"number",min:-2,max:3,dflt:-.05},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"right"},y:{valType:"number",min:-2,max:3,dflt:1},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"top"},pad:a(s({editType:"arraydraw"}),{}),font:r({}),bgcolor:{valType:"color"},bordercolor:{valType:"color",dflt:i.borderLine},borderwidth:{valType:"number",min:0,dflt:1,editType:"arraydraw"}}),"arraydraw","from-root")},{"../../lib/extend":517,"../../plot_api/edit_types":554,"../../plot_api/plot_template":561,"../../plots/font_attributes":600,"../../plots/pad_attributes":616,"../color/attributes":393}],491:[function(e,t,n){"use strict";t.exports={name:"updatemenus",containerClassName:"updatemenu-container",headerGroupClassName:"updatemenu-header-group",headerClassName:"updatemenu-header",headerArrowClassName:"updatemenu-header-arrow",dropdownButtonGroupClassName:"updatemenu-dropdown-button-group",dropdownButtonClassName:"updatemenu-dropdown-button",buttonClassName:"updatemenu-button",itemRectClassName:"updatemenu-item-rect",itemTextClassName:"updatemenu-item-text",menuIndexAttrName:"updatemenu-active-index",autoMarginIdRoot:"updatemenu-",blankHeaderOpts:{label:"  "},minWidth:30,minHeight:30,textPadX:24,arrowPadX:16,rx:2,ry:2,textOffsetX:12,textOffsetY:3,arrowOffsetX:4,gapButtonHeader:5,gapButton:2,activeColor:"#F4FAFF",hoverColor:"#F4FAFF",arrowSymbol:{left:"\u25c4",right:"\u25ba",up:"\u25b2",down:"\u25bc"}}},{}],492:[function(e,t,n){"use strict";var r=e("../../lib"),i=e("../../plots/array_container_defaults"),a=e("./attributes"),o=e("./constants").name,s=a.buttons;function l(e,t,n){function o(n,i){return r.coerce(e,t,a,n,i)}o("visible",i(e,t,{name:"buttons",handleItemDefaults:u}).length>0)&&(o("active"),o("direction"),o("type"),o("showactive"),o("x"),o("y"),r.noneOrAll(e,t,["x","y"]),o("xanchor"),o("yanchor"),o("pad.t"),o("pad.r"),o("pad.b"),o("pad.l"),r.coerceFont(o,"font",n.font),o("bgcolor",n.paper_bgcolor),o("bordercolor"),o("borderwidth"))}function u(e,t){function n(n,i){return r.coerce(e,t,s,n,i)}n("visible","skip"===e.method||Array.isArray(e.args))&&(n("method"),n("args"),n("args2"),n("label"),n("execute"))}t.exports=function(e,t){i(e,t,{name:o,handleItemDefaults:l})}},{"../../lib":524,"../../plots/array_container_defaults":567,"./attributes":490,"./constants":491}],493:[function(e,t,n){"use strict";var r=e("d3"),i=e("../../plots/plots"),a=e("../color"),o=e("../drawing"),s=e("../../lib"),l=e("../../lib/svg_text_utils"),u=e("../../plot_api/plot_template").arrayEditor,c=e("../../constants/alignment").LINE_SPACING,f=e("./constants"),d=e("./scrollbox");function h(e){return e._index}function p(e){return-1===+e.attr(f.menuIndexAttrName)}function g(e,t){return+e.attr(f.menuIndexAttrName)===t._index}function v(e,t,n,r,i,a,o,s){t.active=o,u(e.layout,f.name,t).applyUpdate("active",o),"buttons"===t.type?y(e,r,null,null,t):"dropdown"===t.type&&(i.attr(f.menuIndexAttrName,"-1"),m(e,r,i,a,t),s||y(e,r,i,a,t))}function m(e,t,n,r,i){var a=s.ensureSingle(t,"g",f.headerClassName,(function(e){e.style("pointer-events","all")})),l=i._dims,u=i.active,c=i.buttons[u]||f.blankHeaderOpts,d={y:i.pad.t,yPad:0,x:i.pad.l,xPad:0,index:0},h={width:l.headerWidth,height:l.headerHeight};a.call(_,i,c,e).call(O,i,d,h),s.ensureSingle(t,"text",f.headerArrowClassName,(function(e){e.attr("text-anchor","end").call(o.font,i.font).text(f.arrowSymbol[i.direction])})).attr({x:l.headerWidth-f.arrowOffsetX+i.pad.l,y:l.headerHeight/2+f.textOffsetY+i.pad.t}),a.on("click",(function(){n.call(C,String(g(n,i)?-1:i._index)),y(e,t,n,r,i)})),a.on("mouseover",(function(){a.call(T)})),a.on("mouseout",(function(){a.call(A,i)})),o.setTranslate(t,l.lx,l.ly)}function y(e,t,n,a,o){n||(n=t).attr("pointer-events","all");var l=p(n)&&"buttons"!==o.type?[]:o.buttons,u="dropdown"===o.type?f.dropdownButtonClassName:f.buttonClassName,c=n.selectAll("g."+u).data(s.filterVisible(l)),d=c.enter().append("g").classed(u,!0),h=c.exit();"dropdown"===o.type?(d.attr("opacity","0").transition().attr("opacity","1"),h.transition().attr("opacity","0").remove()):h.remove();var g=0,m=0,y=o._dims,w=-1!==["up","down"].indexOf(o.direction);"dropdown"===o.type&&(w?m=y.headerHeight+f.gapButtonHeader:g=y.headerWidth+f.gapButtonHeader),"dropdown"===o.type&&"up"===o.direction&&(m=-f.gapButtonHeader+f.gapButton-y.openHeight),"dropdown"===o.type&&"left"===o.direction&&(g=-f.gapButtonHeader+f.gapButton-y.openWidth);var k={x:y.lx+g+o.pad.l,y:y.ly+m+o.pad.t,yPad:f.gapButton,xPad:f.gapButton,index:0},E={l:k.x+o.borderwidth,t:k.y+o.borderwidth};c.each((function(s,l){var u=r.select(this);u.call(_,o,s,e).call(O,o,k),u.on("click",(function(){r.event.defaultPrevented||(s.execute&&(s.args2&&o.active===l?(v(e,o,s,t,n,a,-1),i.executeAPICommand(e,s.method,s.args2)):(v(e,o,s,t,n,a,l),i.executeAPICommand(e,s.method,s.args))),e.emit("plotly_buttonclicked",{menu:o,button:s,active:o.active}))})),u.on("mouseover",(function(){u.call(T)})),u.on("mouseout",(function(){u.call(A,o),c.call(M,o)}))})),c.call(M,o),w?(E.w=Math.max(y.openWidth,y.headerWidth),E.h=k.y-E.t):(E.w=k.x-E.l,E.h=Math.max(y.openHeight,y.headerHeight)),E.direction=o.direction,a&&(c.size()?b(e,t,n,a,o,E):x(a))}function b(e,t,n,r,i,a){var o,s,l,u=i.direction,c="up"===u||"down"===u,d=i._dims,h=i.active;if(c)for(s=0,l=0;l<h;l++)s+=d.heights[l]+f.gapButton;else for(o=0,l=0;l<h;l++)o+=d.widths[l]+f.gapButton;r.enable(a,o,s),r.hbar&&r.hbar.attr("opacity","0").transition().attr("opacity","1"),r.vbar&&r.vbar.attr("opacity","0").transition().attr("opacity","1")}function x(e){var t=!!e.hbar,n=!!e.vbar;t&&e.hbar.transition().attr("opacity","0").each("end",(function(){t=!1,n||e.disable()})),n&&e.vbar.transition().attr("opacity","0").each("end",(function(){n=!1,t||e.disable()}))}function _(e,t,n,r){e.call(w,t).call(k,t,n,r)}function w(e,t){s.ensureSingle(e,"rect",f.itemRectClassName,(function(e){e.attr({rx:f.rx,ry:f.ry,"shape-rendering":"crispEdges"})})).call(a.stroke,t.bordercolor).call(a.fill,t.bgcolor).style("stroke-width",t.borderwidth+"px")}function k(e,t,n,r){var i=s.ensureSingle(e,"text",f.itemTextClassName,(function(e){e.attr({"text-anchor":"start","data-notex":1})})),a=n.label,u=r._fullLayout._meta;u&&(a=s.templateString(a,u)),i.call(o.font,t.font).text(a).call(l.convertToTspans,r)}function M(e,t){var n=t.active;e.each((function(e,i){var o=r.select(this);i===n&&t.showactive&&o.select("rect."+f.itemRectClassName).call(a.fill,f.activeColor)}))}function T(e){e.select("rect."+f.itemRectClassName).call(a.fill,f.hoverColor)}function A(e,t){e.select("rect."+f.itemRectClassName).call(a.fill,t.bgcolor)}function E(e,t){var n=t._dims={width1:0,height1:0,heights:[],widths:[],totalWidth:0,totalHeight:0,openWidth:0,openHeight:0,lx:0,ly:0},a=o.tester.selectAll("g."+f.dropdownButtonClassName).data(s.filterVisible(t.buttons));a.enter().append("g").classed(f.dropdownButtonClassName,!0);var u=-1!==["up","down"].indexOf(t.direction);a.each((function(i,a){var s=r.select(this);s.call(_,t,i,e);var d=s.select("."+f.itemTextClassName),h=d.node()&&o.bBox(d.node()).width,p=Math.max(h+f.textPadX,f.minWidth),g=t.font.size*c,v=l.lineCount(d),m=Math.max(g*v,f.minHeight)+f.textOffsetY;m=Math.ceil(m),p=Math.ceil(p),n.widths[a]=p,n.heights[a]=m,n.height1=Math.max(n.height1,m),n.width1=Math.max(n.width1,p),u?(n.totalWidth=Math.max(n.totalWidth,p),n.openWidth=n.totalWidth,n.totalHeight+=m+f.gapButton,n.openHeight+=m+f.gapButton):(n.totalWidth+=p+f.gapButton,n.openWidth+=p+f.gapButton,n.totalHeight=Math.max(n.totalHeight,m),n.openHeight=n.totalHeight)})),u?n.totalHeight-=f.gapButton:n.totalWidth-=f.gapButton,n.headerWidth=n.width1+f.arrowPadX,n.headerHeight=n.height1,"dropdown"===t.type&&(u?(n.width1+=f.arrowPadX,n.totalHeight=n.height1):n.totalWidth=n.width1,n.totalWidth+=f.arrowPadX),a.remove();var d=n.totalWidth+t.pad.l+t.pad.r,h=n.totalHeight+t.pad.t+t.pad.b,p=e._fullLayout._size;n.lx=p.l+p.w*t.x,n.ly=p.t+p.h*(1-t.y);var g="left";s.isRightAnchor(t)&&(n.lx-=d,g="right"),s.isCenterAnchor(t)&&(n.lx-=d/2,g="center");var v="top";s.isBottomAnchor(t)&&(n.ly-=h,v="bottom"),s.isMiddleAnchor(t)&&(n.ly-=h/2,v="middle"),n.totalWidth=Math.ceil(n.totalWidth),n.totalHeight=Math.ceil(n.totalHeight),n.lx=Math.round(n.lx),n.ly=Math.round(n.ly),i.autoMargin(e,S(t),{x:t.x,y:t.y,l:d*({right:1,center:.5}[g]||0),r:d*({left:1,center:.5}[g]||0),b:h*({top:1,middle:.5}[v]||0),t:h*({bottom:1,middle:.5}[v]||0)})}function S(e){return f.autoMarginIdRoot+e._index}function O(e,t,n,r){r=r||{};var i=e.select("."+f.itemRectClassName),a=e.select("."+f.itemTextClassName),s=t.borderwidth,u=n.index,d=t._dims;o.setTranslate(e,s+n.x,s+n.y);var h=-1!==["up","down"].indexOf(t.direction),p=r.height||(h?d.heights[u]:d.height1);i.attr({x:0,y:0,width:r.width||(h?d.width1:d.widths[u]),height:p});var g=t.font.size*c,v=(l.lineCount(a)-1)*g/2;l.positionText(a,f.textOffsetX,p/2-v+f.textOffsetY),h?n.y+=d.heights[u]+n.yPad:n.x+=d.widths[u]+n.xPad,n.index++}function C(e,t){e.attr(f.menuIndexAttrName,t||"-1").selectAll("g."+f.dropdownButtonClassName).remove()}t.exports=function(e){var t=e._fullLayout,n=s.filterVisible(t[f.name]);function a(t){i.autoMargin(e,S(t))}var o=t._menulayer.selectAll("g."+f.containerClassName).data(n.length>0?[0]:[]);if(o.enter().append("g").classed(f.containerClassName,!0).style("cursor","pointer"),o.exit().each((function(){r.select(this).selectAll("g."+f.headerGroupClassName).each(a)})).remove(),0!==n.length){var l=o.selectAll("g."+f.headerGroupClassName).data(n,h);l.enter().append("g").classed(f.headerGroupClassName,!0);for(var u=s.ensureSingle(o,"g",f.dropdownButtonGroupClassName,(function(e){e.style("pointer-events","all")})),c=0;c<n.length;c++){var p=n[c];E(e,p)}var b="updatemenus"+t._uid,x=new d(e,u,b);l.enter().size()&&(u.node().parentNode.appendChild(u.node()),u.call(C)),l.exit().each((function(e){u.call(C),a(e)})).remove(),l.each((function(t){var n=r.select(this),a="dropdown"===t.type?u:null;i.manageCommandObserver(e,t,t.buttons,(function(r){v(e,t,t.buttons[r.index],n,a,x,r.index,!0)})),"dropdown"===t.type?(m(e,n,u,x,t),g(u,t)&&y(e,n,u,x,t)):y(e,n,null,null,t)}))}}},{"../../constants/alignment":496,"../../lib":524,"../../lib/svg_text_utils":548,"../../plot_api/plot_template":561,"../../plots/plots":617,"../color":394,"../drawing":416,"./constants":491,"./scrollbox":495,d3:82}],494:[function(e,t,n){arguments[4][488][0].apply(n,arguments)},{"./attributes":490,"./constants":491,"./defaults":492,"./draw":493,dup:488}],495:[function(e,t,n){"use strict";t.exports=s;var r=e("d3"),i=e("../color"),a=e("../drawing"),o=e("../../lib");function s(e,t,n){this.gd=e,this.container=t,this.id=n,this.position=null,this.translateX=null,this.translateY=null,this.hbar=null,this.vbar=null,this.bg=this.container.selectAll("rect.scrollbox-bg").data([0]),this.bg.exit().on(".drag",null).on("wheel",null).remove(),this.bg.enter().append("rect").classed("scrollbox-bg",!0).style("pointer-events","all").attr({opacity:0,x:0,y:0,width:0,height:0})}s.barWidth=2,s.barLength=20,s.barRadius=2,s.barPad=1,s.barColor="#808BA4",s.prototype.enable=function(e,t,n){var o=this.gd._fullLayout,l=o.width,u=o.height;this.position=e;var c,f,d,h,p=this.position.l,g=this.position.w,v=this.position.t,m=this.position.h,y=this.position.direction,b="down"===y,x="left"===y,_="up"===y,w=g,k=m;b||x||"right"===y||_||(this.position.direction="down",b=!0),b||_?(f=(c=p)+w,b?(d=v,k=(h=Math.min(d+k,u))-d):k=(h=v+k)-(d=Math.max(h-k,0))):(h=(d=v)+k,x?w=(f=p+w)-(c=Math.max(f-w,0)):(c=p,w=(f=Math.min(c+w,l))-c)),this._box={l:c,t:d,w:w,h:k};var M=g>w,T=s.barLength+2*s.barPad,A=s.barWidth+2*s.barPad,E=p,S=v+m;S+A>u&&(S=u-A);var O=this.container.selectAll("rect.scrollbar-horizontal").data(M?[0]:[]);O.exit().on(".drag",null).remove(),O.enter().append("rect").classed("scrollbar-horizontal",!0).call(i.fill,s.barColor),M?(this.hbar=O.attr({rx:s.barRadius,ry:s.barRadius,x:E,y:S,width:T,height:A}),this._hbarXMin=E+T/2,this._hbarTranslateMax=w-T):(delete this.hbar,delete this._hbarXMin,delete this._hbarTranslateMax);var C=m>k,L=s.barWidth+2*s.barPad,R=s.barLength+2*s.barPad,P=p+g,j=v;P+L>l&&(P=l-L);var z=this.container.selectAll("rect.scrollbar-vertical").data(C?[0]:[]);z.exit().on(".drag",null).remove(),z.enter().append("rect").classed("scrollbar-vertical",!0).call(i.fill,s.barColor),C?(this.vbar=z.attr({rx:s.barRadius,ry:s.barRadius,x:P,y:j,width:L,height:R}),this._vbarYMin=j+R/2,this._vbarTranslateMax=k-R):(delete this.vbar,delete this._vbarYMin,delete this._vbarTranslateMax);var I=this.id,N=c-.5,D=C?f+L+.5:f+.5,F=d-.5,B=M?h+A+.5:h+.5,U=o._topdefs.selectAll("#"+I).data(M||C?[0]:[]);if(U.exit().remove(),U.enter().append("clipPath").attr("id",I).append("rect"),M||C?(this._clipRect=U.select("rect").attr({x:Math.floor(N),y:Math.floor(F),width:Math.ceil(D)-Math.floor(N),height:Math.ceil(B)-Math.floor(F)}),this.container.call(a.setClipUrl,I,this.gd),this.bg.attr({x:p,y:v,width:g,height:m})):(this.bg.attr({width:0,height:0}),this.container.on("wheel",null).on(".drag",null).call(a.setClipUrl,null),delete this._clipRect),M||C){var V=r.behavior.drag().on("dragstart",(function(){r.event.sourceEvent.preventDefault()})).on("drag",this._onBoxDrag.bind(this));this.container.on("wheel",null).on("wheel",this._onBoxWheel.bind(this)).on(".drag",null).call(V);var H=r.behavior.drag().on("dragstart",(function(){r.event.sourceEvent.preventDefault(),r.event.sourceEvent.stopPropagation()})).on("drag",this._onBarDrag.bind(this));M&&this.hbar.on(".drag",null).call(H),C&&this.vbar.on(".drag",null).call(H)}this.setTranslate(t,n)},s.prototype.disable=function(){(this.hbar||this.vbar)&&(this.bg.attr({width:0,height:0}),this.container.on("wheel",null).on(".drag",null).call(a.setClipUrl,null),delete this._clipRect),this.hbar&&(this.hbar.on(".drag",null),this.hbar.remove(),delete this.hbar,delete this._hbarXMin,delete this._hbarTranslateMax),this.vbar&&(this.vbar.on(".drag",null),this.vbar.remove(),delete this.vbar,delete this._vbarYMin,delete this._vbarTranslateMax)},s.prototype._onBoxDrag=function(){var e=this.translateX,t=this.translateY;this.hbar&&(e-=r.event.dx),this.vbar&&(t-=r.event.dy),this.setTranslate(e,t)},s.prototype._onBoxWheel=function(){var e=this.translateX,t=this.translateY;this.hbar&&(e+=r.event.deltaY),this.vbar&&(t+=r.event.deltaY),this.setTranslate(e,t)},s.prototype._onBarDrag=function(){var e=this.translateX,t=this.translateY;if(this.hbar){var n=e+this._hbarXMin,i=n+this._hbarTranslateMax;e=(o.constrain(r.event.x,n,i)-n)/(i-n)*(this.position.w-this._box.w)}if(this.vbar){var a=t+this._vbarYMin,s=a+this._vbarTranslateMax;t=(o.constrain(r.event.y,a,s)-a)/(s-a)*(this.position.h-this._box.h)}this.setTranslate(e,t)},s.prototype.setTranslate=function(e,t){var n=this.position.w-this._box.w,r=this.position.h-this._box.h;if(e=o.constrain(e||0,0,n),t=o.constrain(t||0,0,r),this.translateX=e,this.translateY=t,this.container.call(a.setTranslate,this._box.l-this.position.l-e,this._box.t-this.position.t-t),this._clipRect&&this._clipRect.attr({x:Math.floor(this.position.l+e-.5),y:Math.floor(this.position.t+t-.5)}),this.hbar){var i=e/n;this.hbar.call(a.setTranslate,e+i*this._hbarTranslateMax,t)}if(this.vbar){var s=t/r;this.vbar.call(a.setTranslate,e,t+s*this._vbarTranslateMax)}}},{"../../lib":524,"../color":394,"../drawing":416,d3:82}],496:[function(e,t,n){"use strict";t.exports={FROM_BL:{left:0,center:.5,right:1,bottom:0,middle:.5,top:1},FROM_TL:{left:0,center:.5,right:1,bottom:1,middle:.5,top:0},FROM_BR:{left:1,center:.5,right:0,bottom:0,middle:.5,top:1},LINE_SPACING:1.3,CAP_SHIFT:.7,MID_SHIFT:.35,OPPOSITE_SIDE:{left:"right",right:"left",top:"bottom",bottom:"top"}}},{}],497:[function(e,t,n){"use strict";t.exports={axisRefDescription:function(e,t,n){return["If set to a",e,"axis id (e.g. *"+e+"* or","*"+e+"2*), the `"+e+"` position refers to a",e,"coordinate. If set to *paper*, the `"+e+"`","position refers to the distance from the",t,"of the plotting","area in normalized coordinates where *0* (*1*) corresponds to the",t,"("+n+"). If set to a",e,"axis ID followed by","*domain* (separated by a space), the position behaves like for","*paper*, but refers to the distance in fractions of the domain","length from the",t,"of the domain of that axis: e.g.,","*"+e+"2 domain* refers to the domain of the second",e," axis and a",e,"position of 0.5 refers to the","point between the",t,"and the",n,"of the domain of the","second",e,"axis."].join(" ")}}},{}],498:[function(e,t,n){"use strict";t.exports={FORMAT_LINK:"https://github.com/d3/d3-3.x-api-reference/blob/master/Formatting.md#d3_format",DATE_FORMAT_LINK:"https://github.com/d3/d3-time-format#locale_format"}},{}],499:[function(e,t,n){"use strict";t.exports={solid:[[],0],dot:[[.5,1],200],dash:[[.5,1],50],longdash:[[.5,1],10],dashdot:[[.5,.625,.875,1],50],longdashdot:[[.5,.7,.8,1],10]}},{}],500:[function(e,t,n){"use strict";t.exports={circle:"\u25cf","circle-open":"\u25cb",square:"\u25a0","square-open":"\u25a1",diamond:"\u25c6","diamond-open":"\u25c7",cross:"+",x:"\u274c"}},{}],501:[function(e,t,n){"use strict";t.exports={SHOW_PLACEHOLDER:100,HIDE_PLACEHOLDER:1e3,DESELECTDIM:.2}},{}],502:[function(e,t,n){"use strict";t.exports={BADNUM:void 0,FP_SAFE:Number.MAX_VALUE/1e4,ONEMAXYEAR:316224e5,ONEAVGYEAR:315576e5,ONEMINYEAR:31536e6,ONEMAXQUARTER:79488e5,ONEAVGQUARTER:78894e5,ONEMINQUARTER:76896e5,ONEMAXMONTH:26784e5,ONEAVGMONTH:26298e5,ONEMINMONTH:24192e5,ONEWEEK:6048e5,ONEDAY:864e5,ONEHOUR:36e5,ONEMIN:6e4,ONESEC:1e3,EPOCHJD:2440587.5,ALMOST_EQUAL:.999999,LOG_CLIP:10,MINUS_SIGN:"\u2212"}},{}],503:[function(e,t,n){"use strict";n.xmlns="http://www.w3.org/2000/xmlns/",n.svg="http://www.w3.org/2000/svg",n.xlink="http://www.w3.org/1999/xlink",n.svgAttrs={xmlns:n.svg,"xmlns:xlink":n.xlink}},{}],504:[function(e,t,n){"use strict";n.version=e("./version").version,e("es6-promise").polyfill(),e("../build/plotcss"),e("./fonts/mathjax_config")();for(var r=e("./registry"),i=n.register=r.register,a=e("./plot_api"),o=Object.keys(a),s=0;s<o.length;s++){var l=o[s];"_"!==l.charAt(0)&&(n[l]=a[l]),i({moduleType:"apiMethod",name:l,fn:a[l]})}i(e("./traces/scatter")),i([e("./components/legend"),e("./components/fx"),e("./components/annotations"),e("./components/annotations3d"),e("./components/shapes"),e("./components/images"),e("./components/updatemenus"),e("./components/sliders"),e("./components/rangeslider"),e("./components/rangeselector"),e("./components/grid"),e("./components/errorbars"),e("./components/colorscale"),e("./components/colorbar")]),i([e("./locale-en"),e("./locale-en-us")]),window.PlotlyLocales&&Array.isArray(window.PlotlyLocales)&&(i(window.PlotlyLocales),delete window.PlotlyLocales),n.Icons=e("./fonts/ploticon"),n.Plots=e("./plots/plots"),n.Fx=e("./components/fx"),n.Snapshot=e("./snapshot"),n.PlotSchema=e("./plot_api/plot_schema"),n.Queue=e("./lib/queue"),n.d3=e("d3")},{"../build/plotcss":1,"./components/annotations":387,"./components/annotations3d":392,"./components/colorbar":400,"./components/colorscale":406,"./components/errorbars":422,"./components/fx":434,"./components/grid":438,"./components/images":443,"./components/legend":451,"./components/rangeselector":462,"./components/rangeslider":469,"./components/shapes":483,"./components/sliders":488,"./components/updatemenus":494,"./fonts/mathjax_config":505,"./fonts/ploticon":506,"./lib/queue":539,"./locale-en":552,"./locale-en-us":551,"./plot_api":556,"./plot_api/plot_schema":560,"./plots/plots":617,"./registry":626,"./snapshot":631,"./traces/scatter":667,"./version":703,d3:82,"es6-promise":89}],505:[function(e,t,n){"use strict";t.exports=function(){"undefined"!==typeof MathJax&&"local"!==(window.PlotlyConfig||{}).MathJaxConfig&&(MathJax.Hub.Config({messageStyle:"none",skipStartupTypeset:!0,displayAlign:"left",tex2jax:{inlineMath:[["$","$"],["\\(","\\)"]]}}),MathJax.Hub.Configured())}},{}],506:[function(e,t,n){"use strict";t.exports={undo:{width:857.1,height:1e3,path:"m857 350q0-87-34-166t-91-137-137-92-166-34q-96 0-183 41t-147 114q-4 6-4 13t5 11l76 77q6 5 14 5 9-1 13-7 41-53 100-82t126-29q58 0 110 23t92 61 61 91 22 111-22 111-61 91-92 61-110 23q-55 0-105-20t-90-57l77-77q17-16 8-38-10-23-33-23h-250q-15 0-25 11t-11 25v250q0 24 22 33 22 10 39-8l72-72q60 57 137 88t159 31q87 0 166-34t137-92 91-137 34-166z",transform:"matrix(1 0 0 -1 0 850)"},home:{width:928.6,height:1e3,path:"m786 296v-267q0-15-11-26t-25-10h-214v214h-143v-214h-214q-15 0-25 10t-11 26v267q0 1 0 2t0 2l321 264 321-264q1-1 1-4z m124 39l-34-41q-5-5-12-6h-2q-7 0-12 3l-386 322-386-322q-7-4-13-4-7 2-12 7l-35 41q-4 5-3 13t6 12l401 334q18 15 42 15t43-15l136-114v109q0 8 5 13t13 5h107q8 0 13-5t5-13v-227l122-102q5-5 6-12t-4-13z",transform:"matrix(1 0 0 -1 0 850)"},"camera-retro":{width:1e3,height:1e3,path:"m518 386q0 8-5 13t-13 5q-37 0-63-27t-26-63q0-8 5-13t13-5 12 5 5 13q0 23 16 38t38 16q8 0 13 5t5 13z m125-73q0-59-42-101t-101-42-101 42-42 101 42 101 101 42 101-42 42-101z m-572-320h858v71h-858v-71z m643 320q0 89-62 152t-152 62-151-62-63-152 63-151 151-63 152 63 62 151z m-571 358h214v72h-214v-72z m-72-107h858v143h-462l-36-71h-360v-72z m929 143v-714q0-30-21-51t-50-21h-858q-29 0-50 21t-21 51v714q0 30 21 51t50 21h858q29 0 50-21t21-51z",transform:"matrix(1 0 0 -1 0 850)"},zoombox:{width:1e3,height:1e3,path:"m1000-25l-250 251c40 63 63 138 63 218 0 224-182 406-407 406-224 0-406-182-406-406s183-406 407-406c80 0 155 22 218 62l250-250 125 125z m-812 250l0 438 437 0 0-438-437 0z m62 375l313 0 0-312-313 0 0 312z",transform:"matrix(1 0 0 -1 0 850)"},pan:{width:1e3,height:1e3,path:"m1000 350l-187 188 0-125-250 0 0 250 125 0-188 187-187-187 125 0 0-250-250 0 0 125-188-188 186-187 0 125 252 0 0-250-125 0 187-188 188 188-125 0 0 250 250 0 0-126 187 188z",transform:"matrix(1 0 0 -1 0 850)"},zoom_plus:{width:875,height:1e3,path:"m1 787l0-875 875 0 0 875-875 0z m687-500l-187 0 0-187-125 0 0 187-188 0 0 125 188 0 0 187 125 0 0-187 187 0 0-125z",transform:"matrix(1 0 0 -1 0 850)"},zoom_minus:{width:875,height:1e3,path:"m0 788l0-876 875 0 0 876-875 0z m688-500l-500 0 0 125 500 0 0-125z",transform:"matrix(1 0 0 -1 0 850)"},autoscale:{width:1e3,height:1e3,path:"m250 850l-187 0-63 0 0-62 0-188 63 0 0 188 187 0 0 62z m688 0l-188 0 0-62 188 0 0-188 62 0 0 188 0 62-62 0z m-875-938l0 188-63 0 0-188 0-62 63 0 187 0 0 62-187 0z m875 188l0-188-188 0 0-62 188 0 62 0 0 62 0 188-62 0z m-125 188l-1 0-93-94-156 156 156 156 92-93 2 0 0 250-250 0 0-2 93-92-156-156-156 156 94 92 0 2-250 0 0-250 0 0 93 93 157-156-157-156-93 94 0 0 0-250 250 0 0 0-94 93 156 157 156-157-93-93 0 0 250 0 0 250z",transform:"matrix(1 0 0 -1 0 850)"},tooltip_basic:{width:1500,height:1e3,path:"m375 725l0 0-375-375 375-374 0-1 1125 0 0 750-1125 0z",transform:"matrix(1 0 0 -1 0 850)"},tooltip_compare:{width:1125,height:1e3,path:"m187 786l0 2-187-188 188-187 0 0 937 0 0 373-938 0z m0-499l0 1-187-188 188-188 0 0 937 0 0 376-938-1z",transform:"matrix(1 0 0 -1 0 850)"},plotlylogo:{width:1542,height:1e3,path:"m0-10h182v-140h-182v140z m228 146h183v-286h-183v286z m225 714h182v-1000h-182v1000z m225-285h182v-715h-182v715z m225 142h183v-857h-183v857z m231-428h182v-429h-182v429z m225-291h183v-138h-183v138z",transform:"matrix(1 0 0 -1 0 850)"},"z-axis":{width:1e3,height:1e3,path:"m833 5l-17 108v41l-130-65 130-66c0 0 0 38 0 39 0-1 36-14 39-25 4-15-6-22-16-30-15-12-39-16-56-20-90-22-187-23-279-23-261 0-341 34-353 59 3 60 228 110 228 110-140-8-351-35-351-116 0-120 293-142 474-142 155 0 477 22 477 142 0 50-74 79-163 96z m-374 94c-58-5-99-21-99-40 0-24 65-43 144-43 79 0 143 19 143 43 0 19-42 34-98 40v216h87l-132 135-133-135h88v-216z m167 515h-136v1c16 16 31 34 46 52l84 109v54h-230v-71h124v-1c-16-17-28-32-44-51l-89-114v-51h245v72z",transform:"matrix(1 0 0 -1 0 850)"},"3d_rotate":{width:1e3,height:1e3,path:"m922 660c-5 4-9 7-14 11-359 263-580-31-580-31l-102 28 58-400c0 1 1 1 2 2 118 108 351 249 351 249s-62 27-100 42c88 83 222 183 347 122 16-8 30-17 44-27-2 1-4 2-6 4z m36-329c0 0 64 229-88 296-62 27-124 14-175-11 157-78 225-208 249-266 8-19 11-31 11-31 2 5 6 15 11 32-5-13-8-20-8-20z m-775-239c70-31 117-50 198-32-121 80-199 346-199 346l-96-15-58-12c0 0 55-226 155-287z m603 133l-317-139c0 0 4-4 19-14 7-5 24-15 24-15s-177-147-389 4c235-287 536-112 536-112l31-22 100 299-4-1z m-298-153c6-4 14-9 24-15 0 0-17 10-24 15z",transform:"matrix(1 0 0 -1 0 850)"},camera:{width:1e3,height:1e3,path:"m500 450c-83 0-150-67-150-150 0-83 67-150 150-150 83 0 150 67 150 150 0 83-67 150-150 150z m400 150h-120c-16 0-34 13-39 29l-31 93c-6 15-23 28-40 28h-340c-16 0-34-13-39-28l-31-94c-6-15-23-28-40-28h-120c-55 0-100-45-100-100v-450c0-55 45-100 100-100h800c55 0 100 45 100 100v450c0 55-45 100-100 100z m-400-550c-138 0-250 112-250 250 0 138 112 250 250 250 138 0 250-112 250-250 0-138-112-250-250-250z m365 380c-19 0-35 16-35 35 0 19 16 35 35 35 19 0 35-16 35-35 0-19-16-35-35-35z",transform:"matrix(1 0 0 -1 0 850)"},movie:{width:1e3,height:1e3,path:"m938 413l-188-125c0 37-17 71-44 94 64 38 107 107 107 187 0 121-98 219-219 219-121 0-219-98-219-219 0-61 25-117 66-156h-115c30 33 49 76 49 125 0 103-84 187-187 187s-188-84-188-187c0-57 26-107 65-141-38-22-65-62-65-109v-250c0-70 56-126 125-126h500c69 0 125 56 125 126l188-126c34 0 62 28 62 63v375c0 35-28 63-62 63z m-750 0c-69 0-125 56-125 125s56 125 125 125 125-56 125-125-56-125-125-125z m406-1c-87 0-157 70-157 157 0 86 70 156 157 156s156-70 156-156-70-157-156-157z",transform:"matrix(1 0 0 -1 0 850)"},question:{width:857.1,height:1e3,path:"m500 82v107q0 8-5 13t-13 5h-107q-8 0-13-5t-5-13v-107q0-8 5-13t13-5h107q8 0 13 5t5 13z m143 375q0 49-31 91t-77 65-95 23q-136 0-207-119-9-14 4-24l74-55q4-4 10-4 9 0 14 7 30 38 48 51 19 14 48 14 27 0 48-15t21-33q0-21-11-34t-38-25q-35-16-65-48t-29-70v-20q0-8 5-13t13-5h107q8 0 13 5t5 13q0 10 12 27t30 28q18 10 28 16t25 19 25 27 16 34 7 45z m214-107q0-117-57-215t-156-156-215-58-216 58-155 156-58 215 58 215 155 156 216 58 215-58 156-156 57-215z",transform:"matrix(1 0 0 -1 0 850)"},disk:{width:857.1,height:1e3,path:"m214-7h429v214h-429v-214z m500 0h72v500q0 8-6 21t-11 20l-157 156q-5 6-19 12t-22 5v-232q0-22-15-38t-38-16h-322q-22 0-37 16t-16 38v232h-72v-714h72v232q0 22 16 38t37 16h465q22 0 38-16t15-38v-232z m-214 518v178q0 8-5 13t-13 5h-107q-7 0-13-5t-5-13v-178q0-8 5-13t13-5h107q7 0 13 5t5 13z m357-18v-518q0-22-15-38t-38-16h-750q-23 0-38 16t-16 38v750q0 22 16 38t38 16h517q23 0 50-12t42-26l156-157q16-15 27-42t11-49z",transform:"matrix(1 0 0 -1 0 850)"},drawopenpath:{width:70,height:70,path:"M33.21,85.65a7.31,7.31,0,0,1-2.59-.48c-8.16-3.11-9.27-19.8-9.88-41.3-.1-3.58-.19-6.68-.35-9-.15-2.1-.67-3.48-1.43-3.79-2.13-.88-7.91,2.32-12,5.86L3,32.38c1.87-1.64,11.55-9.66,18.27-6.9,2.13.87,4.75,3.14,5.17,9,.17,2.43.26,5.59.36,9.25a224.17,224.17,0,0,0,1.5,23.4c1.54,10.76,4,12.22,4.48,12.4.84.32,2.79-.46,5.76-3.59L43,80.07C41.53,81.57,37.68,85.64,33.21,85.65ZM74.81,69a11.34,11.34,0,0,0,6.09-6.72L87.26,44.5,74.72,32,56.9,38.35c-2.37.86-5.57,3.42-6.61,6L38.65,72.14l8.42,8.43ZM55,46.27a7.91,7.91,0,0,1,3.64-3.17l14.8-5.3,8,8L76.11,60.6l-.06.19a6.37,6.37,0,0,1-3,3.43L48.25,74.59,44.62,71Zm16.57,7.82A6.9,6.9,0,1,0,64.64,61,6.91,6.91,0,0,0,71.54,54.09Zm-4.05,0a2.85,2.85,0,1,1-2.85-2.85A2.86,2.86,0,0,1,67.49,54.09Zm-4.13,5.22L60.5,56.45,44.26,72.7l2.86,2.86ZM97.83,35.67,84.14,22l-8.57,8.57L89.26,44.24Zm-13.69-8,8,8-2.85,2.85-8-8Z",transform:"matrix(1 0 0 1 -15 -15)"},drawclosedpath:{width:90,height:90,path:"M88.41,21.12a26.56,26.56,0,0,0-36.18,0l-2.07,2-2.07-2a26.57,26.57,0,0,0-36.18,0,23.74,23.74,0,0,0,0,34.8L48,90.12a3.22,3.22,0,0,0,4.42,0l36-34.21a23.73,23.73,0,0,0,0-34.79ZM84,51.24,50.16,83.35,16.35,51.25a17.28,17.28,0,0,1,0-25.47,20,20,0,0,1,27.3,0l4.29,4.07a3.23,3.23,0,0,0,4.44,0l4.29-4.07a20,20,0,0,1,27.3,0,17.27,17.27,0,0,1,0,25.46ZM66.76,47.68h-33v6.91h33ZM53.35,35H46.44V68h6.91Z",transform:"matrix(1 0 0 1 -5 -5)"},lasso:{width:1031,height:1e3,path:"m1018 538c-36 207-290 336-568 286-277-48-473-256-436-463 10-57 36-108 76-151-13-66 11-137 68-183 34-28 75-41 114-42l-55-70 0 0c-2-1-3-2-4-3-10-14-8-34 5-45 14-11 34-8 45 4 1 1 2 3 2 5l0 0 113 140c16 11 31 24 45 40 4 3 6 7 8 11 48-3 100 0 151 9 278 48 473 255 436 462z m-624-379c-80 14-149 48-197 96 42 42 109 47 156 9 33-26 47-66 41-105z m-187-74c-19 16-33 37-39 60 50-32 109-55 174-68-42-25-95-24-135 8z m360 75c-34-7-69-9-102-8 8 62-16 128-68 170-73 59-175 54-244-5-9 20-16 40-20 61-28 159 121 317 333 354s407-60 434-217c28-159-121-318-333-355z",transform:"matrix(1 0 0 -1 0 850)"},selectbox:{width:1e3,height:1e3,path:"m0 850l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z m285 0l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z m-857-286l0-143 143 0 0 143-143 0z m857 0l0-143 143 0 0 143-143 0z m-857-285l0-143 143 0 0 143-143 0z m857 0l0-143 143 0 0 143-143 0z m-857-286l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z m285 0l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z",transform:"matrix(1 0 0 -1 0 850)"},drawline:{width:70,height:70,path:"M60.64,62.3a11.29,11.29,0,0,0,6.09-6.72l6.35-17.72L60.54,25.31l-17.82,6.4c-2.36.86-5.57,3.41-6.6,6L24.48,65.5l8.42,8.42ZM40.79,39.63a7.89,7.89,0,0,1,3.65-3.17l14.79-5.31,8,8L61.94,54l-.06.19a6.44,6.44,0,0,1-3,3.43L34.07,68l-3.62-3.63Zm16.57,7.81a6.9,6.9,0,1,0-6.89,6.9A6.9,6.9,0,0,0,57.36,47.44Zm-4,0a2.86,2.86,0,1,1-2.85-2.85A2.86,2.86,0,0,1,53.32,47.44Zm-4.13,5.22L46.33,49.8,30.08,66.05l2.86,2.86ZM83.65,29,70,15.34,61.4,23.9,75.09,37.59ZM70,21.06l8,8-2.84,2.85-8-8ZM87,80.49H10.67V87H87Z",transform:"matrix(1 0 0 1 -15 -15)"},drawrect:{width:80,height:80,path:"M78,22V79H21V22H78m9-9H12V88H87V13ZM68,46.22H31V54H68ZM53,32H45.22V69H53Z",transform:"matrix(1 0 0 1 -10 -10)"},drawcircle:{width:80,height:80,path:"M50,84.72C26.84,84.72,8,69.28,8,50.3S26.84,15.87,50,15.87,92,31.31,92,50.3,73.16,84.72,50,84.72Zm0-60.59c-18.6,0-33.74,11.74-33.74,26.17S31.4,76.46,50,76.46,83.74,64.72,83.74,50.3,68.6,24.13,50,24.13Zm17.15,22h-34v7.11h34Zm-13.8-13H46.24v34h7.11Z",transform:"matrix(1 0 0 1 -10 -10)"},eraseshape:{width:80,height:80,path:"M82.77,78H31.85L6,49.57,31.85,21.14H82.77a8.72,8.72,0,0,1,8.65,8.77V69.24A8.72,8.72,0,0,1,82.77,78ZM35.46,69.84H82.77a.57.57,0,0,0,.49-.6V29.91a.57.57,0,0,0-.49-.61H35.46L17,49.57Zm32.68-34.7-24,24,5,5,24-24Zm-19,.53-5,5,24,24,5-5Z",transform:"matrix(1 0 0 1 -10 -10)"},spikeline:{width:1e3,height:1e3,path:"M512 409c0-57-46-104-103-104-57 0-104 47-104 104 0 57 47 103 104 103 57 0 103-46 103-103z m-327-39l92 0 0 92-92 0z m-185 0l92 0 0 92-92 0z m370-186l92 0 0 93-92 0z m0-184l92 0 0 92-92 0z",transform:"matrix(1.5 0 0 -1.5 0 850)"},pencil:{width:1792,height:1792,path:"M491 1536l91-91-235-235-91 91v107h128v128h107zm523-928q0-22-22-22-10 0-17 7l-542 542q-7 7-7 17 0 22 22 22 10 0 17-7l542-542q7-7 7-17zm-54-192l416 416-832 832h-416v-416zm683 96q0 53-37 90l-166 166-416-416 166-165q36-38 90-38 53 0 91 38l235 234q37 39 37 91z",transform:"matrix(1 0 0 1 0 1)"},newplotlylogo:{name:"newplotlylogo",svg:"<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 132 132'><defs><style>.cls-1 {fill: #3f4f75;} .cls-2 {fill: #80cfbe;} .cls-3 {fill: #fff;}</style></defs><title>plotly-logomark</title><g id='symbol'><rect class='cls-1' width='132' height='132' rx='6' ry='6'/><circle class='cls-2' cx='78' cy='54' r='6'/><circle class='cls-2' cx='102' cy='30' r='6'/><circle class='cls-2' cx='78' cy='30' r='6'/><circle class='cls-2' cx='54' cy='30' r='6'/><circle class='cls-2' cx='30' cy='30' r='6'/><circle class='cls-2' cx='30' cy='54' r='6'/><path class='cls-3' d='M30,72a6,6,0,0,0-6,6v24a6,6,0,0,0,12,0V78A6,6,0,0,0,30,72Z'/><path class='cls-3' d='M78,72a6,6,0,0,0-6,6v24a6,6,0,0,0,12,0V78A6,6,0,0,0,78,72Z'/><path class='cls-3' d='M54,48a6,6,0,0,0-6,6v48a6,6,0,0,0,12,0V54A6,6,0,0,0,54,48Z'/><path class='cls-3' d='M102,48a6,6,0,0,0-6,6v48a6,6,0,0,0,12,0V54A6,6,0,0,0,102,48Z'/></g></svg>"}}},{}],507:[function(e,t,n){"use strict";n.isLeftAnchor=function(e){return"left"===e.xanchor||"auto"===e.xanchor&&e.x<=1/3},n.isCenterAnchor=function(e){return"center"===e.xanchor||"auto"===e.xanchor&&e.x>1/3&&e.x<2/3},n.isRightAnchor=function(e){return"right"===e.xanchor||"auto"===e.xanchor&&e.x>=2/3},n.isTopAnchor=function(e){return"top"===e.yanchor||"auto"===e.yanchor&&e.y>=2/3},n.isMiddleAnchor=function(e){return"middle"===e.yanchor||"auto"===e.yanchor&&e.y>1/3&&e.y<2/3},n.isBottomAnchor=function(e){return"bottom"===e.yanchor||"auto"===e.yanchor&&e.y<=1/3}},{}],508:[function(e,t,n){"use strict";var r=e("./mod"),i=r.mod,a=r.modHalf,o=Math.PI,s=2*o;function l(e){return e/180*o}function u(e){return e/o*180}function c(e){return Math.abs(e[1]-e[0])>s-1e-14}function f(e,t){return a(t-e,s)}function d(e,t){return Math.abs(f(e,t))}function h(e,t){if(c(t))return!0;var n,r;t[0]<t[1]?(n=t[0],r=t[1]):(n=t[1],r=t[0]),(n=i(n,s))>(r=i(r,s))&&(r+=s);var a=i(e,s),o=a+s;return a>=n&&a<=r||o>=n&&o<=r}function p(e,t,n,r){return!!h(t,r)&&(n[0]<n[1]?(i=n[0],a=n[1]):(i=n[1],a=n[0]),e>=i&&e<=a);var i,a}function g(e,t,n,r,i,a,l){i=i||0,a=a||0;var u,f,d,h,p,g=c([n,r]);function v(e,t){return[e*Math.cos(t)+i,a-e*Math.sin(t)]}g?(u=0,f=o,d=s):n<r?(u=n,d=r):(u=r,d=n),e<t?(h=e,p=t):(h=t,p=e);var m,y=Math.abs(d-u)<=o?0:1;function b(e,t,n){return"A"+[e,e]+" "+[0,y,n]+" "+v(e,t)}return g?m=null===h?"M"+v(p,u)+b(p,f,0)+b(p,d,0)+"Z":"M"+v(h,u)+b(h,f,0)+b(h,d,0)+"ZM"+v(p,u)+b(p,f,1)+b(p,d,1)+"Z":null===h?(m="M"+v(p,u)+b(p,d,0),l&&(m+="L0,0Z")):m="M"+v(h,u)+"L"+v(p,u)+b(p,d,0)+"L"+v(h,d)+b(h,u,1)+"Z",m}function v(e,t,n,r,i){return g(null,e,t,n,r,i,0)}function m(e,t,n,r,i){return g(null,e,t,n,r,i,1)}function y(e,t,n,r,i,a){return g(e,t,n,r,i,a,1)}t.exports={deg2rad:l,rad2deg:u,angleDelta:f,angleDist:d,isFullCircle:c,isAngleInsideSector:h,isPtInsideSector:p,pathArc:v,pathSector:m,pathAnnulus:y}},{"./mod":531}],509:[function(e,t,n){"use strict";var r=Array.isArray,i="undefined"!==typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer:{isView:function(){return!1}},a="undefined"===typeof DataView?function(){}:DataView;function o(e){return i.isView(e)&&!(e instanceof a)}function s(e){return r(e)||o(e)}function l(e){return!s(e[0])}function u(e,t,n){if(s(e)){if(s(e[0])){for(var r=n,i=0;i<e.length;i++)r=t(r,e[i].length);return r}return e.length}return 0}n.isTypedArray=o,n.isArrayOrTypedArray=s,n.isArray1D=l,n.ensureArray=function(e,t){return r(e)||(e=[]),e.length=t,e},n.concat=function(){var e,t,n,i,a,o,s,l,u=[],c=!0,f=0;for(n=0;n<arguments.length;n++)(o=(i=arguments[n]).length)&&(t?u.push(i):(t=i,a=o),r(i)?e=!1:(c=!1,f?e!==i.constructor&&(e=!1):e=i.constructor),f+=o);if(!f)return[];if(!u.length)return t;if(c)return t.concat.apply(t,u);if(e){for((s=new e(f)).set(t),n=0;n<u.length;n++)i=u[n],s.set(i,a),a+=i.length;return s}for(s=new Array(f),l=0;l<t.length;l++)s[l]=t[l];for(n=0;n<u.length;n++){for(i=u[n],l=0;l<i.length;l++)s[a+l]=i[l];a+=l}return s},n.maxRowLength=function(e){return u(e,Math.max,0)},n.minRowLength=function(e){return u(e,Math.min,1/0)}},{}],510:[function(e,t,n){"use strict";var r=e("fast-isnumeric"),i=e("../constants/numerical").BADNUM,a=/^['"%,$#\s']+|[, ]|['"%,$#\s']+$/g;t.exports=function(e){return"string"===typeof e&&(e=e.replace(a,"")),r(e)?Number(e):i}},{"../constants/numerical":502,"fast-isnumeric":91}],511:[function(e,t,n){"use strict";t.exports=function(e){var t=e._fullLayout;t._glcanvas&&t._glcanvas.size()&&t._glcanvas.each((function(e){e.regl&&e.regl.clear({color:!0,depth:!0})}))}},{}],512:[function(e,t,n){"use strict";t.exports=function(e){e._responsiveChartHandler&&(window.removeEventListener("resize",e._responsiveChartHandler),delete e._responsiveChartHandler)}},{}],513:[function(e,t,n){"use strict";var r=e("fast-isnumeric"),i=e("tinycolor2"),a=e("../plots/attributes"),o=e("../components/colorscale/scales"),s=e("../constants/interactions").DESELECTDIM,l=e("./nested_property"),u=e("./regex").counter,c=e("./mod").modHalf,f=e("./array").isArrayOrTypedArray;function d(e,t){var r=n.valObjectMeta[t.valType];if(t.arrayOk&&f(e))return!0;if(r.validateFunction)return r.validateFunction(e,t);var i={},a=i,o={set:function(e){a=e}};return r.coerceFunction(e,o,i,t),a!==i}n.valObjectMeta={data_array:{coerceFunction:function(e,t,n){f(e)?t.set(e):void 0!==n&&t.set(n)}},enumerated:{coerceFunction:function(e,t,n,r){r.coerceNumber&&(e=+e),-1===r.values.indexOf(e)?t.set(n):t.set(e)},validateFunction:function(e,t){t.coerceNumber&&(e=+e);for(var n=t.values,r=0;r<n.length;r++){var i=String(n[r]);if("/"===i.charAt(0)&&"/"===i.charAt(i.length-1)){if(new RegExp(i.substr(1,i.length-2)).test(e))return!0}else if(e===n[r])return!0}return!1}},boolean:{coerceFunction:function(e,t,n){!0===e||!1===e?t.set(e):t.set(n)}},number:{coerceFunction:function(e,t,n,i){!r(e)||void 0!==i.min&&e<i.min||void 0!==i.max&&e>i.max?t.set(n):t.set(+e)}},integer:{coerceFunction:function(e,t,n,i){e%1||!r(e)||void 0!==i.min&&e<i.min||void 0!==i.max&&e>i.max?t.set(n):t.set(+e)}},string:{coerceFunction:function(e,t,n,r){if("string"!==typeof e){var i="number"===typeof e;!0!==r.strict&&i?t.set(String(e)):t.set(n)}else r.noBlank&&!e?t.set(n):t.set(e)}},color:{coerceFunction:function(e,t,n){i(e).isValid()?t.set(e):t.set(n)}},colorlist:{coerceFunction:function(e,t,n){function r(e){return i(e).isValid()}Array.isArray(e)&&e.length&&e.every(r)?t.set(e):t.set(n)}},colorscale:{coerceFunction:function(e,t,n){t.set(o.get(e,n))}},angle:{coerceFunction:function(e,t,n){"auto"===e?t.set("auto"):r(e)?t.set(c(+e,360)):t.set(n)}},subplotid:{coerceFunction:function(e,t,n,r){var i=r.regex||u(n);"string"===typeof e&&i.test(e)?t.set(e):t.set(n)},validateFunction:function(e,t){var n=t.dflt;return e===n||"string"===typeof e&&!!u(n).test(e)}},flaglist:{coerceFunction:function(e,t,n,r){if("string"===typeof e)if(-1===(r.extras||[]).indexOf(e)){for(var i=e.split("+"),a=0;a<i.length;){var o=i[a];-1===r.flags.indexOf(o)||i.indexOf(o)<a?i.splice(a,1):a++}i.length?t.set(i.join("+")):t.set(n)}else t.set(e);else t.set(n)}},any:{coerceFunction:function(e,t,n){void 0===e?t.set(n):t.set(e)}},info_array:{coerceFunction:function(e,t,r,i){function a(e,t,r){var i,a={set:function(e){i=e}};return void 0===r&&(r=t.dflt),n.valObjectMeta[t.valType].coerceFunction(e,a,r,t),i}var o=2===i.dimensions||"1-2"===i.dimensions&&Array.isArray(e)&&Array.isArray(e[0]);if(Array.isArray(e)){var s,l,u,c,f,d,h=i.items,p=[],g=Array.isArray(h),v=g&&o&&Array.isArray(h[0]),m=o&&g&&!v,y=g&&!m?h.length:e.length;if(r=Array.isArray(r)?r:[],o)for(s=0;s<y;s++)for(p[s]=[],u=Array.isArray(e[s])?e[s]:[],f=m?h.length:g?h[s].length:u.length,l=0;l<f;l++)c=m?h[l]:g?h[s][l]:h,void 0!==(d=a(u[l],c,(r[s]||[])[l]))&&(p[s][l]=d);else for(s=0;s<y;s++)void 0!==(d=a(e[s],g?h[s]:h,r[s]))&&(p[s]=d);t.set(p)}else t.set(r)},validateFunction:function(e,t){if(!Array.isArray(e))return!1;var n=t.items,r=Array.isArray(n),i=2===t.dimensions;if(!t.freeLength&&e.length!==n.length)return!1;for(var a=0;a<e.length;a++)if(i){if(!Array.isArray(e[a])||!t.freeLength&&e[a].length!==n[a].length)return!1;for(var o=0;o<e[a].length;o++)if(!d(e[a][o],r?n[a][o]:n))return!1}else if(!d(e[a],r?n[a]:n))return!1;return!0}}},n.coerce=function(e,t,r,i,a){var o=l(r,i).get(),s=l(e,i),u=l(t,i),c=s.get(),h=t._template;if(void 0===c&&h&&(c=l(h,i).get(),h=0),void 0===a&&(a=o.dflt),o.arrayOk&&f(c))return u.set(c),c;var p=n.valObjectMeta[o.valType].coerceFunction;p(c,u,a,o);var g=u.get();return h&&g===a&&!d(c,o)&&(p(c=l(h,i).get(),u,a,o),g=u.get()),g},n.coerce2=function(e,t,r,i,a){var o=l(e,i),s=n.coerce(e,t,r,i,a),u=o.get();return void 0!==u&&null!==u&&s},n.coerceFont=function(e,t,n){var r={};return n=n||{},r.family=e(t+".family",n.family),r.size=e(t+".size",n.size),r.color=e(t+".color",n.color),r},n.coerceHoverinfo=function(e,t,r){var i,o=t._module.attributes,s=o.hoverinfo?o:a,l=s.hoverinfo;if(1===r._dataLength){var u="all"===l.dflt?l.flags.slice():l.dflt.split("+");u.splice(u.indexOf("name"),1),i=u.join("+")}return n.coerce(e,t,s,"hoverinfo",i)},n.coerceSelectionMarkerOpacity=function(e,t){if(e.marker){var n,r,i=e.marker.opacity;void 0!==i&&(f(i)||e.selected||e.unselected||(n=i,r=s*i),t("selected.marker.opacity",n),t("unselected.marker.opacity",r))}},n.validate=d},{"../components/colorscale/scales":409,"../constants/interactions":501,"../plots/attributes":568,"./array":509,"./mod":531,"./nested_property":532,"./regex":540,"fast-isnumeric":91,tinycolor2:360}],514:[function(e,t,n){"use strict";var r,i,a=e("d3-time-format").timeFormat,o=e("fast-isnumeric"),s=e("./loggers"),l=e("./mod").mod,u=e("../constants/numerical"),c=u.BADNUM,f=u.ONEDAY,d=u.ONEHOUR,h=u.ONEMIN,p=u.ONESEC,g=u.EPOCHJD,v=e("../registry"),m=e("d3-time-format").utcFormat,y=/^\s*(-?\d\d\d\d|\d\d)(-(\d?\d)(-(\d?\d)([ Tt]([01]?\d|2[0-3])(:([0-5]\d)(:([0-5]\d(\.\d+)?))?(Z|z|[+\-]\d\d(:?\d\d)?)?)?)?)?)?\s*$/m,b=/^\s*(-?\d\d\d\d|\d\d)(-(\d?\di?)(-(\d?\d)([ Tt]([01]?\d|2[0-3])(:([0-5]\d)(:([0-5]\d(\.\d+)?))?(Z|z|[+\-]\d\d(:?\d\d)?)?)?)?)?)?\s*$/m,x=(new Date).getFullYear()-70;function _(e){return e&&v.componentsRegistry.calendars&&"string"===typeof e&&"gregorian"!==e}function w(e,t){return _(e)?t?v.getComponentMethod("calendars","CANONICAL_SUNDAY")[e]:v.getComponentMethod("calendars","CANONICAL_TICK")[e]:t?"2000-01-02":"2000-01-01"}function k(e,t){return String(e+Math.pow(10,t)).substr(1)}n.dateTick0=function(e,t){var r=w(e,!!t);if(t<2)return r;var i=n.dateTime2ms(r,e);return i+=f*(t-1),n.ms2DateTime(i,0,e)},n.dfltRange=function(e){return _(e)?v.getComponentMethod("calendars","DFLTRANGE")[e]:["2000-01-01","2001-01-01"]},n.isJSDate=function(e){return"object"===typeof e&&null!==e&&"function"===typeof e.getTime},n.dateTime2ms=function(e,t){if(n.isJSDate(e)){var a=e.getTimezoneOffset()*h,o=(e.getUTCMinutes()-e.getMinutes())*h+(e.getUTCSeconds()-e.getSeconds())*p+(e.getUTCMilliseconds()-e.getMilliseconds());if(o){var s=3*h;a=a-s/2+l(o-a+s/2,s)}return(e=Number(e)-a)>=r&&e<=i?e:c}if("string"!==typeof e&&"number"!==typeof e)return c;e=String(e);var u=_(t),m=e.charAt(0);!u||"G"!==m&&"g"!==m||(e=e.substr(1),t="");var w=u&&"chinese"===t.substr(0,7),k=e.match(w?b:y);if(!k)return c;var M=k[1],T=k[3]||"1",A=Number(k[5]||1),E=Number(k[7]||0),S=Number(k[9]||0),O=Number(k[11]||0);if(u){if(2===M.length)return c;var C;M=Number(M);try{var L=v.getComponentMethod("calendars","getCal")(t);if(w){var R="i"===T.charAt(T.length-1);T=parseInt(T,10),C=L.newDate(M,L.toMonthIndex(M,T,R),A)}else C=L.newDate(M,Number(T),A)}catch(j){return c}return C?(C.toJD()-g)*f+E*d+S*h+O*p:c}M=2===M.length?(Number(M)+2e3-x)%100+x:Number(M),T-=1;var P=new Date(Date.UTC(2e3,T,A,E,S));return P.setUTCFullYear(M),P.getUTCMonth()!==T||P.getUTCDate()!==A?c:P.getTime()+O*p},r=n.MIN_MS=n.dateTime2ms("-9999"),i=n.MAX_MS=n.dateTime2ms("9999-12-31 23:59:59.9999"),n.isDateTime=function(e,t){return n.dateTime2ms(e,t)!==c};var M=90*f,T=3*d,A=5*h;function E(e,t,n,r,i){if((t||n||r||i)&&(e+=" "+k(t,2)+":"+k(n,2),(r||i)&&(e+=":"+k(r,2),i))){for(var a=4;i%10===0;)a-=1,i/=10;e+="."+k(i,a)}return e}n.ms2DateTime=function(e,t,n){if("number"!==typeof e||!(e>=r&&e<=i))return c;t||(t=0);var a,o,s,u,y,b,x=Math.floor(10*l(e+.05,1)),w=Math.round(e-x/10);if(_(n)){var k=Math.floor(w/f)+g,S=Math.floor(l(e,f));try{a=v.getComponentMethod("calendars","getCal")(n).fromJD(k).formatDate("yyyy-mm-dd")}catch(O){a=m("G%Y-%m-%d")(new Date(w))}if("-"===a.charAt(0))for(;a.length<11;)a="-0"+a.substr(1);else for(;a.length<10;)a="0"+a;o=t<M?Math.floor(S/d):0,s=t<M?Math.floor(S%d/h):0,u=t<T?Math.floor(S%h/p):0,y=t<A?S%p*10+x:0}else b=new Date(w),a=m("%Y-%m-%d")(b),o=t<M?b.getUTCHours():0,s=t<M?b.getUTCMinutes():0,u=t<T?b.getUTCSeconds():0,y=t<A?10*b.getUTCMilliseconds()+x:0;return E(a,o,s,u,y)},n.ms2DateTimeLocal=function(e){if(!(e>=r+f&&e<=i-f))return c;var t=Math.floor(10*l(e+.05,1)),n=new Date(Math.round(e-t/10));return E(a("%Y-%m-%d")(n),n.getHours(),n.getMinutes(),n.getSeconds(),10*n.getUTCMilliseconds()+t)},n.cleanDate=function(e,t,r){if(e===c)return t;if(n.isJSDate(e)||"number"===typeof e&&isFinite(e)){if(_(r))return s.error("JS Dates and milliseconds are incompatible with world calendars",e),t;if(!(e=n.ms2DateTimeLocal(+e))&&void 0!==t)return t}else if(!n.isDateTime(e,r))return s.error("unrecognized date",e),t;return e};var S=/%\d?f/g;function O(e,t,n,r){e=e.replace(S,(function(e){var n=Math.min(+e.charAt(1)||6,6);return(t/1e3%1+2).toFixed(n).substr(2).replace(/0+$/,"")||"0"}));var i=new Date(Math.floor(t+.05));if(_(r))try{e=v.getComponentMethod("calendars","worldCalFmt")(e,t,r)}catch(a){return"Invalid"}return n(e)(i)}var C=[59,59.9,59.99,59.999,59.9999];function L(e,t){var n=l(e+.05,f),r=k(Math.floor(n/d),2)+":"+k(l(Math.floor(n/h),60),2);if("M"!==t){o(t)||(t=0);var i=(100+Math.min(l(e/p,60),C[t])).toFixed(t).substr(1);t>0&&(i=i.replace(/0+$/,"").replace(/[\.]$/,"")),r+=":"+i}return r}n.formatDate=function(e,t,n,r,i,a){if(i=_(i)&&i,!t)if("y"===n)t=a.year;else if("m"===n)t=a.month;else{if("d"!==n)return L(e,n)+"\n"+O(a.dayMonthYear,e,r,i);t=a.dayMonth+"\n"+a.year}return O(t,e,r,i)};var R=3*f;n.incrementMonth=function(e,t,n){n=_(n)&&n;var r=l(e,f);if(e=Math.round(e-r),n)try{var i=Math.round(e/f)+g,a=v.getComponentMethod("calendars","getCal")(n),o=a.fromJD(i);return t%12?a.add(o,t,"m"):a.add(o,t/12,"y"),(o.toJD()-g)*f+r}catch(c){s.error("invalid ms "+e+" in calendar "+n)}var u=new Date(e+R);return u.setUTCMonth(u.getUTCMonth()+t)+r-R},n.findExactDates=function(e,t){for(var n,r,i=0,a=0,s=0,l=0,u=_(t)&&v.getComponentMethod("calendars","getCal")(t),c=0;c<e.length;c++)if(r=e[c],o(r)){if(!(r%f))if(u)try{1===(n=u.fromJD(r/f+g)).day()?1===n.month()?i++:a++:s++}catch(h){}else 1===(n=new Date(r)).getUTCDate()?0===n.getUTCMonth()?i++:a++:s++}else l++;s+=a+=i;var d=e.length-l;return{exactYears:i/d,exactMonths:a/d,exactDays:s/d}}},{"../constants/numerical":502,"../registry":626,"./loggers":528,"./mod":531,"d3-time-format":80,"fast-isnumeric":91}],515:[function(e,t,n){"use strict";var r=e("d3"),i=e("./loggers"),a=e("./matrix"),o=e("gl-mat4");function s(e){var t;if("string"===typeof e){if(null===(t=document.getElementById(e)))throw new Error("No DOM element with id '"+e+"' exists on the page.");return t}if(null===e||void 0===e)throw new Error("DOM element provided is null or undefined");return e}function l(e){var t=r.select(e);return t.node()instanceof HTMLElement&&t.size()&&t.classed("js-plotly-plot")}function u(e){var t=e&&e.parentNode;t&&t.removeChild(e)}function c(e,t){f("global",e,t)}function f(e,t,n){var r="plotly.js-style-"+e,a=document.getElementById(r);a||((a=document.createElement("style")).setAttribute("id",r),a.appendChild(document.createTextNode("")),document.head.appendChild(a));var o=a.sheet;o.insertRule?o.insertRule(t+"{"+n+"}",0):o.addRule?o.addRule(t,n,0):i.warn("addStyleRule failed")}function d(e){var t="plotly.js-style-"+e,n=document.getElementById(t);n&&u(n)}function h(e){var t=g(e),n=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];return t.forEach((function(e){var t=p(e);if(t){var r=a.convertCssMatrix(t);n=o.multiply(n,n,r)}})),n}function p(e){var t=window.getComputedStyle(e,null),n=t.getPropertyValue("-webkit-transform")||t.getPropertyValue("-moz-transform")||t.getPropertyValue("-ms-transform")||t.getPropertyValue("-o-transform")||t.getPropertyValue("transform");return"none"===n?null:n.replace("matrix","").replace("3d","").slice(1,-1).split(",").map((function(e){return+e}))}function g(e){for(var t=[];v(e);)t.push(e),e=e.parentNode;return t}function v(e){return e&&(e instanceof Element||e instanceof HTMLElement)}function m(e,t){return e&&t&&e.x===t.x&&e.y===t.y&&e.top===t.top&&e.left===t.left&&e.right===t.right&&e.bottom===t.bottom}t.exports={getGraphDiv:s,isPlotDiv:l,removeElement:u,addStyleRule:c,addRelatedStyleRule:f,deleteRelatedStyleRule:d,getFullTransformMatrix:h,getElementTransformMatrix:p,getElementAndAncestors:g,equalDomRects:m}},{"./loggers":528,"./matrix":530,d3:82,"gl-mat4":136}],516:[function(e,t,n){"use strict";var r=e("events").EventEmitter,i={init:function(e){if(e._ev instanceof r)return e;var t=new r,n=new r;return e._ev=t,e._internalEv=n,e.on=t.on.bind(t),e.once=t.once.bind(t),e.removeListener=t.removeListener.bind(t),e.removeAllListeners=t.removeAllListeners.bind(t),e._internalOn=n.on.bind(n),e._internalOnce=n.once.bind(n),e._removeInternalListener=n.removeListener.bind(n),e._removeAllInternalListeners=n.removeAllListeners.bind(n),e.emit=function(r,i){"undefined"!==typeof jQuery&&jQuery(e).trigger(r,i),t.emit(r,i),n.emit(r,i)},e},triggerHandler:function(e,t,n){var r,i;"undefined"!==typeof jQuery&&(r=jQuery(e).triggerHandler(t,n));var a=e._ev;if(!a)return r;var o,s=a._events[t];if(!s)return r;function l(e){return e.listener?(a.removeListener(t,e.listener),e.fired?void 0:(e.fired=!0,e.listener.apply(a,[n]))):e.apply(a,[n])}for(s=Array.isArray(s)?s:[s],o=0;o<s.length-1;o++)l(s[o]);return i=l(s[o]),void 0!==r?r:i},purge:function(e){return delete e._ev,delete e.on,delete e.once,delete e.removeListener,delete e.removeAllListeners,delete e.emit,delete e._ev,delete e._internalEv,delete e._internalOn,delete e._internalOnce,delete e._removeInternalListener,delete e._removeAllInternalListeners,e}};t.exports=i},{events:48}],517:[function(e,t,n){"use strict";var r=e("./is_plain_object.js"),i=Array.isArray;function a(e,t){var n,r;for(n=0;n<e.length;n++){if(null!==(r=e[n])&&"object"===typeof r)return!1;void 0!==r&&(t[n]=r)}return!0}function o(e,t,n,s){var l,u,c,f,d,h,p=e[0],g=e.length;if(2===g&&i(p)&&i(e[1])&&0===p.length){if(a(e[1],p))return p;p.splice(0,p.length)}for(var v=1;v<g;v++)for(u in l=e[v])c=p[u],f=l[u],s&&i(f)?p[u]=f:t&&f&&(r(f)||(d=i(f)))?(d?(d=!1,h=c&&i(c)?c:[]):h=c&&r(c)?c:{},p[u]=o([h,f],t,n,s)):("undefined"!==typeof f||n)&&(p[u]=f);return p}n.extendFlat=function(){return o(arguments,!1,!1,!1)},n.extendDeep=function(){return o(arguments,!0,!1,!1)},n.extendDeepAll=function(){return o(arguments,!0,!0,!1)},n.extendDeepNoArrays=function(){return o(arguments,!0,!1,!0)}},{"./is_plain_object.js":525}],518:[function(e,t,n){"use strict";t.exports=function(e){for(var t={},n=[],r=0,i=0;i<e.length;i++){var a=e[i];1!==t[a]&&(t[a]=1,n[r++]=a)}return n}},{}],519:[function(e,t,n){"use strict";function r(e){return!0===e.visible}function i(e){var t=e[0].trace;return!0===t.visible&&0!==t._length}function a(e){return Array.isArray(e)&&Array.isArray(e[0])&&e[0][0]&&e[0][0].trace}t.exports=function(e){for(var t=a(e)?i:r,n=[],o=0;o<e.length;o++){var s=e[o];t(s)&&n.push(s)}return n}},{}],520:[function(e,t,n){"use strict";var r,i,a,o=e("./mod").mod;function s(e,t,n,r,i,a,o,s){var l=n-e,u=i-e,c=o-i,f=r-t,d=a-t,h=s-a,p=l*h-c*f;if(0===p)return null;var g=(u*h-c*d)/p,v=(u*f-l*d)/p;return v<0||v>1||g<0||g>1?null:{x:e+l*g,y:t+f*g}}function l(e,t,n,r,i){var a=r*e+i*t;if(a<0)return r*r+i*i;if(a>n){var o=r-e,s=i-t;return o*o+s*s}var l=r*t-i*e;return l*l/n}n.segmentsIntersect=s,n.segmentDistance=function(e,t,n,r,i,a,o,u){if(s(e,t,n,r,i,a,o,u))return 0;var c=n-e,f=r-t,d=o-i,h=u-a,p=c*c+f*f,g=d*d+h*h,v=Math.min(l(c,f,p,i-e,a-t),l(c,f,p,o-e,u-t),l(d,h,g,e-i,t-a),l(d,h,g,n-i,r-a));return Math.sqrt(v)},n.getTextLocation=function(e,t,n,s){if(e===i&&s===a||(r={},i=e,a=s),r[n])return r[n];var l=e.getPointAtLength(o(n-s/2,t)),u=e.getPointAtLength(o(n+s/2,t)),c=Math.atan((u.y-l.y)/(u.x-l.x)),f=e.getPointAtLength(o(n,t)),d={x:(4*f.x+l.x+u.x)/6,y:(4*f.y+l.y+u.y)/6,theta:c};return r[n]=d,d},n.clearLocationCache=function(){i=null},n.getVisibleSegment=function(e,t,n){var r,i,a=t.left,o=t.right,s=t.top,l=t.bottom,u=0,c=e.getTotalLength(),f=c;function d(t){var n=e.getPointAtLength(t);0===t?r=n:t===c&&(i=n);var u=n.x<a?a-n.x:n.x>o?n.x-o:0,f=n.y<s?s-n.y:n.y>l?n.y-l:0;return Math.sqrt(u*u+f*f)}for(var h=d(u);h;){if((u+=h+n)>f)return;h=d(u)}for(h=d(f);h;){if(u>(f-=h+n))return;h=d(f)}return{min:u,max:f,len:f-u,total:c,isClosed:0===u&&f===c&&Math.abs(r.x-i.x)<.1&&Math.abs(r.y-i.y)<.1}},n.findPointOnPath=function(e,t,n,r){for(var i,a,o,s=(r=r||{}).pathLength||e.getTotalLength(),l=r.tolerance||.001,u=r.iterationLimit||30,c=e.getPointAtLength(0)[n]>e.getPointAtLength(s)[n]?-1:1,f=0,d=0,h=s;f<u;){if(i=(d+h)/2,o=(a=e.getPointAtLength(i))[n]-t,Math.abs(o)<l)return a;c*o>0?h=i:d=i,f++}return a}},{"./mod":531}],521:[function(e,t,n){"use strict";var r=e("fast-isnumeric"),i=e("tinycolor2"),a=e("color-normalize"),o=e("../components/colorscale"),s=e("../components/color/attributes").defaultLine,l=e("./array").isArrayOrTypedArray,u=a(s),c=1;function f(e,t){var n=e;return n[3]*=t,n}function d(e){if(r(e))return u;var t=a(e);return t.length?t:u}function h(e){return r(e)?e:c}function p(e,t,n){var r,i,s,p,g,v=e.color,m=l(v),y=l(t),b=o.extractOpts(e),x=[];if(r=void 0!==b.colorscale?o.makeColorScaleFuncFromTrace(e):d,i=m?function(e,t){return void 0===e[t]?u:a(r(e[t]))}:d,s=y?function(e,t){return void 0===e[t]?c:h(e[t])}:h,m||y)for(var _=0;_<n;_++)p=i(v,_),g=s(t,_),x[_]=f(p,g);else x=f(a(v),t);return x}function g(e){var t=o.extractOpts(e),n=t.colorscale;return t.reversescale&&(n=o.flipScale(t.colorscale)),n.map((function(e){var t=e[0],n=i(e[1]).toRgb();return{index:t,rgb:[n.r,n.g,n.b,n.a]}}))}t.exports={formatColor:p,parseColorScale:g}},{"../components/color/attributes":393,"../components/colorscale":406,"./array":509,"color-normalize":62,"fast-isnumeric":91,tinycolor2:360}],522:[function(e,t,n){"use strict";t.exports=function(e){return e}},{}],523:[function(e,t,n){"use strict";t.exports=function(e,t){if(!t)return e;var n=1/Math.abs(t),r=n>1?(n*e+n*t)/n:e+t,i=String(r).length;if(i>16){var a=String(t).length;if(i>=String(e).length+a){var o=parseFloat(r).toPrecision(12);-1===o.indexOf("e+")&&(r=+o)}}return r}},{}],524:[function(e,t,n){"use strict";var r=e("d3"),i=e("d3-time-format").utcFormat,a=e("fast-isnumeric"),o=e("../constants/numerical"),s=o.FP_SAFE,l=o.BADNUM,u=t.exports={};u.nestedProperty=e("./nested_property"),u.keyedContainer=e("./keyed_container"),u.relativeAttr=e("./relative_attr"),u.isPlainObject=e("./is_plain_object"),u.toLogRange=e("./to_log_range"),u.relinkPrivateKeys=e("./relink_private");var c=e("./array");u.isTypedArray=c.isTypedArray,u.isArrayOrTypedArray=c.isArrayOrTypedArray,u.isArray1D=c.isArray1D,u.ensureArray=c.ensureArray,u.concat=c.concat,u.maxRowLength=c.maxRowLength,u.minRowLength=c.minRowLength;var f=e("./mod");u.mod=f.mod,u.modHalf=f.modHalf;var d=e("./coerce");u.valObjectMeta=d.valObjectMeta,u.coerce=d.coerce,u.coerce2=d.coerce2,u.coerceFont=d.coerceFont,u.coerceHoverinfo=d.coerceHoverinfo,u.coerceSelectionMarkerOpacity=d.coerceSelectionMarkerOpacity,u.validate=d.validate;var h=e("./dates");u.dateTime2ms=h.dateTime2ms,u.isDateTime=h.isDateTime,u.ms2DateTime=h.ms2DateTime,u.ms2DateTimeLocal=h.ms2DateTimeLocal,u.cleanDate=h.cleanDate,u.isJSDate=h.isJSDate,u.formatDate=h.formatDate,u.incrementMonth=h.incrementMonth,u.dateTick0=h.dateTick0,u.dfltRange=h.dfltRange,u.findExactDates=h.findExactDates,u.MIN_MS=h.MIN_MS,u.MAX_MS=h.MAX_MS;var p=e("./search");u.findBin=p.findBin,u.sorterAsc=p.sorterAsc,u.sorterDes=p.sorterDes,u.distinctVals=p.distinctVals,u.roundUp=p.roundUp,u.sort=p.sort,u.findIndexOfMin=p.findIndexOfMin;var g=e("./stats");u.aggNums=g.aggNums,u.len=g.len,u.mean=g.mean,u.median=g.median,u.midRange=g.midRange,u.variance=g.variance,u.stdev=g.stdev,u.interp=g.interp;var v=e("./matrix");u.init2dArray=v.init2dArray,u.transposeRagged=v.transposeRagged,u.dot=v.dot,u.translationMatrix=v.translationMatrix,u.rotationMatrix=v.rotationMatrix,u.rotationXYMatrix=v.rotationXYMatrix,u.apply3DTransform=v.apply3DTransform,u.apply2DTransform=v.apply2DTransform,u.apply2DTransform2=v.apply2DTransform2,u.convertCssMatrix=v.convertCssMatrix,u.inverseTransformMatrix=v.inverseTransformMatrix;var m=e("./angles");u.deg2rad=m.deg2rad,u.rad2deg=m.rad2deg,u.angleDelta=m.angleDelta,u.angleDist=m.angleDist,u.isFullCircle=m.isFullCircle,u.isAngleInsideSector=m.isAngleInsideSector,u.isPtInsideSector=m.isPtInsideSector,u.pathArc=m.pathArc,u.pathSector=m.pathSector,u.pathAnnulus=m.pathAnnulus;var y=e("./anchor_utils");u.isLeftAnchor=y.isLeftAnchor,u.isCenterAnchor=y.isCenterAnchor,u.isRightAnchor=y.isRightAnchor,u.isTopAnchor=y.isTopAnchor,u.isMiddleAnchor=y.isMiddleAnchor,u.isBottomAnchor=y.isBottomAnchor;var b=e("./geometry2d");u.segmentsIntersect=b.segmentsIntersect,u.segmentDistance=b.segmentDistance,u.getTextLocation=b.getTextLocation,u.clearLocationCache=b.clearLocationCache,u.getVisibleSegment=b.getVisibleSegment,u.findPointOnPath=b.findPointOnPath;var x=e("./extend");u.extendFlat=x.extendFlat,u.extendDeep=x.extendDeep,u.extendDeepAll=x.extendDeepAll,u.extendDeepNoArrays=x.extendDeepNoArrays;var _=e("./loggers");u.log=_.log,u.warn=_.warn,u.error=_.error;var w=e("./regex");u.counterRegex=w.counter;var k=e("./throttle");u.throttle=k.throttle,u.throttleDone=k.done,u.clearThrottle=k.clear;var M=e("./dom");function T(e){var t={};for(var n in e)for(var r=e[n],i=0;i<r.length;i++)t[r[i]]=+n;return t}u.getGraphDiv=M.getGraphDiv,u.isPlotDiv=M.isPlotDiv,u.removeElement=M.removeElement,u.addStyleRule=M.addStyleRule,u.addRelatedStyleRule=M.addRelatedStyleRule,u.deleteRelatedStyleRule=M.deleteRelatedStyleRule,u.getFullTransformMatrix=M.getFullTransformMatrix,u.getElementTransformMatrix=M.getElementTransformMatrix,u.getElementAndAncestors=M.getElementAndAncestors,u.equalDomRects=M.equalDomRects,u.clearResponsive=e("./clear_responsive"),u.preserveDrawingBuffer=e("./preserve_drawing_buffer"),u.makeTraceGroups=e("./make_trace_groups"),u._=e("./localize"),u.notifier=e("./notifier"),u.filterUnique=e("./filter_unique"),u.filterVisible=e("./filter_visible"),u.pushUnique=e("./push_unique"),u.increment=e("./increment"),u.cleanNumber=e("./clean_number"),u.ensureNumber=function(e){return a(e)?(e=Number(e))<-s||e>s?l:a(e)?Number(e):l:l},u.isIndex=function(e,t){return!(void 0!==t&&e>=t)&&a(e)&&e>=0&&e%1===0},u.noop=e("./noop"),u.identity=e("./identity"),u.repeat=function(e,t){for(var n=new Array(t),r=0;r<t;r++)n[r]=e;return n},u.swapAttrs=function(e,t,n,r){n||(n="x"),r||(r="y");for(var i=0;i<t.length;i++){var a=t[i],o=u.nestedProperty(e,a.replace("?",n)),s=u.nestedProperty(e,a.replace("?",r)),l=o.get();o.set(s.get()),s.set(l)}},u.raiseToTop=function(e){e.parentNode.appendChild(e)},u.cancelTransition=function(e){return e.transition().duration(0)},u.constrain=function(e,t,n){return t>n?Math.max(n,Math.min(t,e)):Math.max(t,Math.min(n,e))},u.bBoxIntersect=function(e,t,n){return n=n||0,e.left<=t.right+n&&t.left<=e.right+n&&e.top<=t.bottom+n&&t.top<=e.bottom+n},u.simpleMap=function(e,t,n,r,i){for(var a=e.length,o=new Array(a),s=0;s<a;s++)o[s]=t(e[s],n,r,i);return o},u.randstr=function e(t,n,r,i){if(r||(r=16),void 0===n&&(n=24),n<=0)return"0";var a,o,s=Math.log(Math.pow(2,n))/Math.log(r),l="";for(a=2;s===1/0;a*=2)s=Math.log(Math.pow(2,n/a))/Math.log(r)*a;var c=s-Math.floor(s);for(a=0;a<Math.floor(s);a++)l=Math.floor(Math.random()*r).toString(r)+l;c&&(o=Math.pow(r,c),l=Math.floor(Math.random()*o).toString(r)+l);var f=parseInt(l,r);return t&&t[l]||f!==1/0&&f>=Math.pow(2,n)?i>10?(u.warn("randstr failed uniqueness"),l):e(t,n,r,(i||0)+1):l},u.OptionControl=function(e,t){e||(e={}),t||(t="opt");var n={optionList:[],_newoption:function(r){r[t]=e,n[r.name]=r,n.optionList.push(r)}};return n["_"+t]=e,n},u.smooth=function(e,t){if((t=Math.round(t)||0)<2)return e;var n,r,i,a,o=e.length,s=2*o,l=2*t-1,u=new Array(l),c=new Array(o);for(n=0;n<l;n++)u[n]=(1-Math.cos(Math.PI*(n+1)/t))/(2*t);for(n=0;n<o;n++){for(a=0,r=0;r<l;r++)(i=n+r+1-t)<-o?i-=s*Math.round(i/s):i>=s&&(i-=s*Math.floor(i/s)),i<0?i=-1-i:i>=o&&(i=s-1-i),a+=e[i]*u[r];c[n]=a}return c},u.syncOrAsync=function(e,t,n){var r;function i(){return u.syncOrAsync(e,t,n)}for(;e.length;)if((r=(0,e.splice(0,1)[0])(t))&&r.then)return r.then(i).then(void 0,u.promiseError);return n&&n(t)},u.stripTrailingSlash=function(e){return"/"===e.substr(-1)?e.substr(0,e.length-1):e},u.noneOrAll=function(e,t,n){if(e){var r,i,a=!1,o=!0;for(r=0;r<n.length;r++)void 0!==(i=e[n[r]])&&null!==i?a=!0:o=!1;if(a&&!o)for(r=0;r<n.length;r++)e[n[r]]=t[n[r]]}},u.mergeArray=function(e,t,n,r){var i="function"===typeof r;if(u.isArrayOrTypedArray(e))for(var a=Math.min(e.length,t.length),o=0;o<a;o++){var s=e[o];t[o][n]=i?r(s):s}},u.mergeArrayCastPositive=function(e,t,n){return u.mergeArray(e,t,n,(function(e){var t=+e;return isFinite(t)&&t>0?t:0}))},u.fillArray=function(e,t,n,r){if(r=r||u.identity,u.isArrayOrTypedArray(e))for(var i=0;i<t.length;i++)t[i][n]=r(e[i])},u.castOption=function(e,t,n,r){r=r||u.identity;var i=u.nestedProperty(e,n).get();return u.isArrayOrTypedArray(i)?Array.isArray(t)&&u.isArrayOrTypedArray(i[t[0]])?r(i[t[0]][t[1]]):r(i[t]):i},u.extractOption=function(e,t,n,r){if(n in e)return e[n];var i=u.nestedProperty(t,r).get();return Array.isArray(i)?void 0:i},u.tagSelected=function(e,t,n){var r,i=t.selectedpoints,a=t._indexToPoints;function o(t){return void 0!==t&&t<e.length}a&&(r=T(a));for(var s=0;s<i.length;s++){var l=i[s];if(u.isIndex(l)||u.isArrayOrTypedArray(l)&&u.isIndex(l[0])&&u.isIndex(l[1])){var c=r?r[l]:l,f=n?n[c]:c;o(f)&&(e[f].selected=1)}}},u.selIndices2selPoints=function(e){var t=e.selectedpoints,n=e._indexToPoints;if(n){for(var r=T(n),i=[],a=0;a<t.length;a++){var o=t[a];if(u.isIndex(o)){var s=r[o];u.isIndex(s)&&i.push(s)}}return i}return t},u.getTargetArray=function(e,t){var n=t.target;if("string"===typeof n&&n){var r=u.nestedProperty(e,n).get();return!!Array.isArray(r)&&r}return!!Array.isArray(n)&&n},u.minExtend=function(e,t){var n={};"object"!==typeof t&&(t={});var r,i,a,o=3,s=Object.keys(e);for(r=0;r<s.length;r++)a=e[i=s[r]],"_"!==i.charAt(0)&&"function"!==typeof a&&("module"===i?n[i]=a:Array.isArray(a)?n[i]="colorscale"===i?a.slice():a.slice(0,o):u.isTypedArray(a)?n[i]=a.subarray(0,o):n[i]=a&&"object"===typeof a?u.minExtend(e[i],t[i]):a);for(s=Object.keys(t),r=0;r<s.length;r++)"object"===typeof(a=t[i=s[r]])&&i in n&&"object"===typeof n[i]||(n[i]=a);return n},u.titleCase=function(e){return e.charAt(0).toUpperCase()+e.substr(1)},u.containsAny=function(e,t){for(var n=0;n<t.length;n++)if(-1!==e.indexOf(t[n]))return!0;return!1},u.isIE=function(){return"undefined"!==typeof window.navigator.msSaveBlob};var A=/MSIE [1-9]\./;u.isIE9orBelow=function(){return u.isIE()&&A.test(window.navigator.userAgent)};var E=/Version\/[\d\.]+.*Safari/;u.isSafari=function(){return E.test(window.navigator.userAgent)};var S=/iPad|iPhone|iPod/;u.isIOS=function(){return S.test(window.navigator.userAgent)},u.isD3Selection=function(e){return e&&"function"===typeof e.classed},u.ensureSingle=function(e,t,n,r){var i=e.select(t+(n?"."+n:""));if(i.size())return i;var a=e.append(t);return n&&a.classed(n,!0),r&&a.call(r),a},u.ensureSingleById=function(e,t,n,r){var i=e.select(t+"#"+n);if(i.size())return i;var a=e.append(t).attr("id",n);return r&&a.call(r),a},u.objectFromPath=function(e,t){for(var n,r=e.split("."),i=n={},a=0;a<r.length;a++){var o=r[a],s=null,l=r[a].match(/(.*)\[([0-9]+)\]/);l?(o=l[1],s=l[2],n=n[o]=[],a===r.length-1?n[s]=t:n[s]={},n=n[s]):(a===r.length-1?n[o]=t:n[o]={},n=n[o])}return i};var O=/^([^\[\.]+)\.(.+)?/,C=/^([^\.]+)\[([0-9]+)\](\.)?(.+)?/;u.expandObjectPaths=function(e){var t,n,r,i,a,o,s;if("object"===typeof e&&!Array.isArray(e))for(n in e)e.hasOwnProperty(n)&&((t=n.match(O))?(i=e[n],r=t[1],delete e[n],e[r]=u.extendDeepNoArrays(e[r]||{},u.objectFromPath(n,u.expandObjectPaths(i))[r])):(t=n.match(C))?(i=e[n],r=t[1],a=parseInt(t[2]),delete e[n],e[r]=e[r]||[],"."===t[3]?(s=t[4],o=e[r][a]=e[r][a]||{},u.extendDeepNoArrays(o,u.objectFromPath(s,u.expandObjectPaths(i)))):e[r][a]=u.expandObjectPaths(i)):e[n]=u.expandObjectPaths(e[n]));return e},u.numSeparate=function(e,t,n){if(n||(n=!1),"string"!==typeof t||0===t.length)throw new Error("Separator string required for formatting!");"number"===typeof e&&(e=String(e));var r=/(\d+)(\d{3})/,i=t.charAt(0),a=t.charAt(1),o=e.split("."),s=o[0],l=o.length>1?i+o[1]:"";if(a&&(o.length>1||s.length>4||n))for(;r.test(s);)s=s.replace(r,"$1"+a+"$2");return s+l},u.TEMPLATE_STRING_REGEX=/%{([^\s%{}:]*)([:|\|][^}]*)?}/g;var L=/^\w*$/;u.templateString=function(e,t){var n={};return e.replace(u.TEMPLATE_STRING_REGEX,(function(e,r){var i;return L.test(r)?i=t[r]:(n[r]=n[r]||u.nestedProperty(t,r).get,i=n[r]()),u.isValidTextValue(i)?i:""}))};var R={max:10,count:0,name:"hovertemplate"};u.hovertemplateString=function(){return z.apply(R,arguments)};var P={max:10,count:0,name:"texttemplate"};u.texttemplateString=function(){return z.apply(P,arguments)};var j=/^[:|\|]/;function z(e,t,n){var a=this,o=arguments;t||(t={});var s={};return e.replace(u.TEMPLATE_STRING_REGEX,(function(e,l,c){var f,d,h,p;for(h=3;h<o.length;h++)if(f=o[h]){if(f.hasOwnProperty(l)){d=f[l];break}if(L.test(l)||(d=s[l]||u.nestedProperty(f,l).get())&&(s[l]=d),void 0!==d)break}if(void 0===d&&a)return a.count<a.max&&(u.warn("Variable '"+l+"' in "+a.name+" could not be found!"),d=e),a.count===a.max&&u.warn("Too many "+a.name+" warnings - additional warnings will be suppressed"),a.count++,e;if(c){if(":"===c[0]&&(d=(p=n?n.numberFormat:r.format)(c.replace(j,""))(d)),"|"===c[0]){p=n?n.timeFormat:i;var g=u.dateTime2ms(d);d=u.formatDate(g,c.replace(j,""),!1,p)}}else t.hasOwnProperty(l+"Label")&&(d=t[l+"Label"]);return d}))}var I=48,N=57;u.subplotSort=function(e,t){for(var n=Math.min(e.length,t.length)+1,r=0,i=0,a=0;a<n;a++){var o=e.charCodeAt(a)||0,s=t.charCodeAt(a)||0,l=o>=I&&o<=N,u=s>=I&&s<=N;if(l&&(r=10*r+o-I),u&&(i=10*i+s-I),!l||!u){if(r!==i)return r-i;if(o!==s)return o-s}}return i-r};var D=2e9;u.seedPseudoRandom=function(){D=2e9},u.pseudoRandom=function(){var e=D;return D=(69069*D+1)%4294967296,Math.abs(D-e)<429496729?u.pseudoRandom():D/4294967296},u.fillText=function(e,t,n){var r=Array.isArray(n)?function(e){n.push(e)}:function(e){n.text=e},i=u.extractOption(e,t,"htx","hovertext");if(u.isValidTextValue(i))return r(i);var a=u.extractOption(e,t,"tx","text");return u.isValidTextValue(a)?r(a):void 0},u.isValidTextValue=function(e){return e||0===e},u.formatPercent=function(e,t){t=t||0;for(var n=(Math.round(100*e*Math.pow(10,t))*Math.pow(.1,t)).toFixed(t)+"%",r=0;r<t;r++)-1!==n.indexOf(".")&&(n=(n=n.replace("0%","%")).replace(".%","%"));return n},u.isHidden=function(e){var t=window.getComputedStyle(e).display;return!t||"none"===t},u.strTranslate=function(e,t){return e||t?"translate("+e+","+t+")":""},u.strRotate=function(e){return e?"rotate("+e+")":""},u.strScale=function(e){return 1!==e?"scale("+e+")":""},u.getTextTransform=function(e){var t=e.noCenter,n=e.textX,r=e.textY,i=e.targetX,a=e.targetY,o=e.anchorX||0,s=e.anchorY||0,l=e.rotate,c=e.scale;return c?c>1&&(c=1):c=0,u.strTranslate(i-c*(n+o),a-c*(r+s))+u.strScale(c)+(l?"rotate("+l+(t?"":" "+n+" "+r)+")":"")},u.ensureUniformFontSize=function(e,t){var n=u.extendFlat({},t);return n.size=Math.max(t.size,e._fullLayout.uniformtext.minsize||0),n},u.join2=function(e,t,n){var r=e.length;return r>1?e.slice(0,-1).join(t)+n+e[r-1]:e.join(t)}},{"../constants/numerical":502,"./anchor_utils":507,"./angles":508,"./array":509,"./clean_number":510,"./clear_responsive":512,"./coerce":513,"./dates":514,"./dom":515,"./extend":517,"./filter_unique":518,"./filter_visible":519,"./geometry2d":520,"./identity":522,"./increment":523,"./is_plain_object":525,"./keyed_container":526,"./localize":527,"./loggers":528,"./make_trace_groups":529,"./matrix":530,"./mod":531,"./nested_property":532,"./noop":533,"./notifier":534,"./preserve_drawing_buffer":537,"./push_unique":538,"./regex":540,"./relative_attr":541,"./relink_private":542,"./search":543,"./stats":546,"./throttle":549,"./to_log_range":550,d3:82,"d3-time-format":80,"fast-isnumeric":91}],525:[function(e,t,n){"use strict";t.exports=function(e){return window&&window.process&&window.process.versions?"[object Object]"===Object.prototype.toString.call(e):"[object Object]"===Object.prototype.toString.call(e)&&Object.getPrototypeOf(e)===Object.prototype}},{}],526:[function(e,t,n){"use strict";var r=e("./nested_property"),i=/^\w*$/,a=0,o=1,s=2,l=3,u=4;t.exports=function(e,t,n,c){var f,d,h;n=n||"name",c=c||"value";var p={};t&&t.length?(h=r(e,t),d=h.get()):d=e,t=t||"";var g={};if(d)for(f=0;f<d.length;f++)g[d[f][n]]=f;var v=i.test(c),m={set:function(e,t){var i=null===t?u:a;if(!d){if(!h||i===u)return;d=[],h.set(d)}var o=g[e];if(void 0===o){if(i===u)return;i|=l,o=d.length,g[e]=o}else t!==(v?d[o][c]:r(d[o],c).get())&&(i|=s);var f=d[o]=d[o]||{};return f[n]=e,v?f[c]=t:r(f,c).set(t),null!==t&&(i&=~u),p[o]=p[o]|i,m},get:function(e){if(d){var t=g[e];return void 0===t?void 0:v?d[t][c]:r(d[t],c).get()}},rename:function(e,t){var r=g[e];return void 0===r||(p[r]=p[r]|o,g[t]=r,delete g[e],d[r][n]=t),m},remove:function(e){var t=g[e];if(void 0===t)return m;var i=d[t];if(Object.keys(i).length>2)return p[t]=p[t]|s,m.set(e,null);if(v){for(f=t;f<d.length;f++)p[f]=p[f]|l;for(f=t;f<d.length;f++)g[d[f][n]]--;d.splice(t,1),delete g[e]}else r(i,c).set(null),p[t]=p[t]|s|u;return m},constructUpdate:function(){for(var e,i,a={},l=Object.keys(p),f=0;f<l.length;f++)i=l[f],e=t+"["+i+"]",d[i]?(p[i]&o&&(a[e+"."+n]=d[i][n]),p[i]&s&&(a[e+"."+c]=v?p[i]&u?null:d[i][c]:p[i]&u?null:r(d[i],c).get())):a[e]=null;return a}};return m}},{"./nested_property":532}],527:[function(e,t,n){"use strict";var r=e("../registry");t.exports=function(e,t){for(var n=e._context.locale,i=0;i<2;i++){for(var a=e._context.locales,o=0;o<2;o++){var s=(a[n]||{}).dictionary;if(s){var l=s[t];if(l)return l}a=r.localeRegistry}var u=n.split("-")[0];if(u===n)break;n=u}return t}},{"../registry":626}],528:[function(e,t,n){"use strict";var r=e("../plot_api/plot_config").dfltConfig,i=e("./notifier"),a=t.exports={};function o(e,t){if(e&&e.apply)try{return void e.apply(console,t)}catch(r){}for(var n=0;n<t.length;n++)try{e(t[n])}catch(r){console.log(t[n])}}a.log=function(){var e;if(r.logging>1){var t=["LOG:"];for(e=0;e<arguments.length;e++)t.push(arguments[e]);o(console.trace||console.log,t)}if(r.notifyOnLogging>1){var n=[];for(e=0;e<arguments.length;e++)n.push(arguments[e]);i(n.join("<br>"),"long")}},a.warn=function(){var e;if(r.logging>0){var t=["WARN:"];for(e=0;e<arguments.length;e++)t.push(arguments[e]);o(console.trace||console.log,t)}if(r.notifyOnLogging>0){var n=[];for(e=0;e<arguments.length;e++)n.push(arguments[e]);i(n.join("<br>"),"stick")}},a.error=function(){var e;if(r.logging>0){var t=["ERROR:"];for(e=0;e<arguments.length;e++)t.push(arguments[e]);o(console.error,t)}if(r.notifyOnLogging>0){var n=[];for(e=0;e<arguments.length;e++)n.push(arguments[e]);i(n.join("<br>"),"stick")}}},{"../plot_api/plot_config":559,"./notifier":534}],529:[function(e,t,n){"use strict";var r=e("d3");t.exports=function(e,t,n){var i=e.selectAll("g."+n.replace(/\s/g,".")).data(t,(function(e){return e[0].trace.uid}));i.exit().remove(),i.enter().append("g").attr("class",n),i.order();var a=e.classed("rangeplot")?"nodeRangePlot3":"node3";return i.each((function(e){e[0][a]=r.select(this)})),i}},{d3:82}],530:[function(e,t,n){"use strict";var r=e("gl-mat4");n.init2dArray=function(e,t){for(var n=new Array(e),r=0;r<e;r++)n[r]=new Array(t);return n},n.transposeRagged=function(e){var t,n,r=0,i=e.length;for(t=0;t<i;t++)r=Math.max(r,e[t].length);var a=new Array(r);for(t=0;t<r;t++)for(a[t]=new Array(i),n=0;n<i;n++)a[t][n]=e[n][t];return a},n.dot=function(e,t){if(!e.length||!t.length||e.length!==t.length)return null;var r,i,a=e.length;if(e[0].length)for(r=new Array(a),i=0;i<a;i++)r[i]=n.dot(e[i],t);else if(t[0].length){var o=n.transposeRagged(t);for(r=new Array(o.length),i=0;i<o.length;i++)r[i]=n.dot(e,o[i])}else for(r=0,i=0;i<a;i++)r+=e[i]*t[i];return r},n.translationMatrix=function(e,t){return[[1,0,e],[0,1,t],[0,0,1]]},n.rotationMatrix=function(e){var t=e*Math.PI/180;return[[Math.cos(t),-Math.sin(t),0],[Math.sin(t),Math.cos(t),0],[0,0,1]]},n.rotationXYMatrix=function(e,t,r){return n.dot(n.dot(n.translationMatrix(t,r),n.rotationMatrix(e)),n.translationMatrix(-t,-r))},n.apply3DTransform=function(e){return function(){var t=arguments,r=1===arguments.length?t[0]:[t[0],t[1],t[2]||0];return n.dot(e,[r[0],r[1],r[2],1]).slice(0,3)}},n.apply2DTransform=function(e){return function(){var t=arguments;3===t.length&&(t=t[0]);var r=1===arguments.length?t[0]:[t[0],t[1]];return n.dot(e,[r[0],r[1],1]).slice(0,2)}},n.apply2DTransform2=function(e){var t=n.apply2DTransform(e);return function(e){return t(e.slice(0,2)).concat(t(e.slice(2,4)))}},n.convertCssMatrix=function(e){if(e){var t=e.length;if(16===t)return e;if(6===t)return[e[0],e[1],0,0,e[2],e[3],0,0,0,0,1,0,e[4],e[5],0,1]}return[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]},n.inverseTransformMatrix=function(e){var t=[];return r.invert(t,e),[[t[0],t[1],t[2],t[3]],[t[4],t[5],t[6],t[7]],[t[8],t[9],t[10],t[11]],[t[12],t[13],t[14],t[15]]]}},{"gl-mat4":136}],531:[function(e,t,n){"use strict";function r(e,t){var n=e%t;return n<0?n+t:n}function i(e,t){return Math.abs(e)>t/2?e-Math.round(e/t)*t:e}t.exports={mod:r,modHalf:i}},{}],532:[function(e,t,n){"use strict";var r=e("fast-isnumeric"),i=e("./array").isArrayOrTypedArray;function a(e,t){return function(){var n,r,o,s,l,u=e;for(s=0;s<t.length-1;s++){if(-1===(n=t[s])){for(r=!0,o=[],l=0;l<u.length;l++)o[l]=a(u[l],t.slice(s+1))(),o[l]!==o[0]&&(r=!1);return r?o[0]:o}if("number"===typeof n&&!i(u))return;if("object"!==typeof(u=u[n])||null===u)return}if("object"===typeof u&&null!==u&&null!==(o=u[t[s]]))return o}}t.exports=function(e,t){if(r(t))t=String(t);else if("string"!==typeof t||"[-1]"===t.substr(t.length-4))throw"bad property string";for(var n,i,o,s=0,u=t.split(".");s<u.length;){if(n=String(u[s]).match(/^([^\[\]]*)((\[\-?[0-9]*\])+)$/)){if(n[1])u[s]=n[1];else{if(0!==s)throw"bad property string";u.splice(0,1)}for(i=n[2].substr(1,n[2].length-2).split("]["),o=0;o<i.length;o++)s++,u.splice(s,0,Number(i[o]))}s++}return"object"!==typeof e?d(e,t,u):{set:l(e,u,t),get:a(e,u),astr:t,parts:u,obj:e}};var o=/(^|\.)args\[/;function s(e,t){return void 0===e||null===e&&!t.match(o)}function l(e,t,n){return function(r){var a,o,l=e,d="",h=[[e,d]],p=s(r,n);for(o=0;o<t.length-1;o++){if("number"===typeof(a=t[o])&&!i(l))throw"array index but container is not an array";if(-1===a){if(p=!c(l,t.slice(o+1),r,n))break;return}if(!f(l,a,t[o+1],p))break;if("object"!==typeof(l=l[a])||null===l)throw"container is not an object";d=u(d,a),h.push([l,d])}if(p){if(o===t.length-1&&(delete l[t[o]],Array.isArray(l)&&+t[o]===l.length-1))for(;l.length&&void 0===l[l.length-1];)l.pop()}else l[t[o]]=r}}function u(e,t){var n=t;return r(t)?n="["+t+"]":e&&(n="."+t),e+n}function c(e,t,n,r){var a,o=i(n),u=!0,c=n,d=r.replace("-1",0),h=!o&&s(n,d),p=t[0];for(a=0;a<e.length;a++)d=r.replace("-1",a),o&&(h=s(c=n[a%n.length],d)),h&&(u=!1),f(e,a,p,h)&&l(e[a],t,r.replace("-1",a))(c);return u}function f(e,t,n,r){if(void 0===e[t]){if(r)return!1;e[t]="number"===typeof n?[]:{}}return!0}function d(e,t,n){return{set:function(){throw"bad container"},get:function(){},astr:t,parts:n,obj:e}}},{"./array":509,"fast-isnumeric":91}],533:[function(e,t,n){"use strict";t.exports=function(){}},{}],534:[function(e,t,n){"use strict";var r=e("d3"),i=e("fast-isnumeric"),a=[];t.exports=function(e,t){if(-1===a.indexOf(e)){a.push(e);var n=1e3;i(t)?n=t:"long"===t&&(n=3e3);var o=r.select("body").selectAll(".plotly-notifier").data([0]);o.enter().append("div").classed("plotly-notifier",!0),o.selectAll(".notifier-note").data(a).enter().append("div").classed("notifier-note",!0).style("opacity",0).each((function(e){var i=r.select(this);i.append("button").classed("notifier-close",!0).html("&times;").on("click",(function(){i.transition().call(s)}));for(var a=i.append("p"),o=e.split(/<br\s*\/?>/g),l=0;l<o.length;l++)l&&a.append("br"),a.append("span").text(o[l]);"stick"===t?i.transition().duration(350).style("opacity",1):i.transition().duration(700).style("opacity",1).transition().delay(n).call(s)}))}function s(e){e.duration(700).style("opacity",0).each("end",(function(e){var t=a.indexOf(e);-1!==t&&a.splice(t,1),r.select(this).remove()}))}}},{d3:82,"fast-isnumeric":91}],535:[function(e,t,n){"use strict";var r=e("./setcursor"),i="data-savedcursor",a="!!";t.exports=function(e,t){var n=e.attr(i);if(t){if(!n){for(var o=(e.attr("class")||"").split(" "),s=0;s<o.length;s++){var l=o[s];0===l.indexOf("cursor-")&&e.attr(i,l.substr(7)).classed(l,!1)}e.attr(i)||e.attr(i,a)}r(e,t)}else n&&(e.attr(i,null),n===a?r(e):r(e,n))}},{"./setcursor":544}],536:[function(e,t,n){"use strict";var r=e("./matrix").dot,i=e("../constants/numerical").BADNUM,a=t.exports={};a.tester=function(e){var t,n=e.slice(),r=n[0][0],a=r,o=n[0][1],s=o;for(n.push(n[0]),t=1;t<n.length;t++)r=Math.min(r,n[t][0]),a=Math.max(a,n[t][0]),o=Math.min(o,n[t][1]),s=Math.max(s,n[t][1]);var l,u=!1;function c(e,t){var n=e[0],u=e[1];return!(n===i||n<r||n>a||u===i||u<o||u>s)&&(!t||!l(e))}function f(e,t){var l=e[0],u=e[1];if(l===i||l<r||l>a||u===i||u<o||u>s)return!1;var c,f,d,h,p,g=n.length,v=n[0][0],m=n[0][1],y=0;for(c=1;c<g;c++)if(f=v,d=m,v=n[c][0],m=n[c][1],!(l<(h=Math.min(f,v))||l>Math.max(f,v)||u>Math.max(d,m)))if(u<Math.min(d,m))l!==h&&y++;else{if(u===(p=v===f?u:d+(l-f)*(m-d)/(v-f)))return 1!==c||!t;u<=p&&l!==h&&y++}return y%2===1}5===n.length&&(n[0][0]===n[1][0]?n[2][0]===n[3][0]&&n[0][1]===n[3][1]&&n[1][1]===n[2][1]&&(u=!0,l=function(e){return e[0]===n[0][0]}):n[0][1]===n[1][1]&&n[2][1]===n[3][1]&&n[0][0]===n[3][0]&&n[1][0]===n[2][0]&&(u=!0,l=function(e){return e[1]===n[0][1]}));var d=!0,h=n[0];for(t=1;t<n.length;t++)if(h[0]!==n[t][0]||h[1]!==n[t][1]){d=!1;break}return{xmin:r,xmax:a,ymin:o,ymax:s,pts:n,contains:u?c:f,isRect:u,degenerate:d}},a.isSegmentBent=function(e,t,n,i){var a,o,s,l=e[t],u=[e[n][0]-l[0],e[n][1]-l[1]],c=r(u,u),f=Math.sqrt(c),d=[-u[1]/f,u[0]/f];for(a=t+1;a<n;a++)if(o=[e[a][0]-l[0],e[a][1]-l[1]],(s=r(o,u))<0||s>c||Math.abs(r(o,d))>i)return!0;return!1},a.filter=function(e,t){var n=[e[0]],r=0,i=0;function o(o){e.push(o);var s=n.length,l=r;n.splice(i+1);for(var u=l+1;u<e.length;u++)(u===e.length-1||a.isSegmentBent(e,l,u+1,t))&&(n.push(e[u]),n.length<s-2&&(r=u,i=n.length-1),l=u)}return e.length>1&&o(e.pop()),{addPt:o,raw:e,filtered:n}}},{"../constants/numerical":502,"./matrix":530}],537:[function(e,t,n){"use strict";var r=e("fast-isnumeric"),i=e("is-mobile");function a(){var e;return"undefined"!==typeof navigator&&(e=navigator.userAgent),e&&e.headers&&"string"===typeof e.headers["user-agent"]&&(e=e.headers["user-agent"]),e}t.exports=function(e){var t;if("string"!==typeof(t=e&&e.hasOwnProperty("userAgent")?e.userAgent:a()))return!0;var n=i({ua:{headers:{"user-agent":t}},tablet:!0,featureDetect:!1});if(!n)for(var o=t.split(" "),s=1;s<o.length;s++)if(-1!==o[s].indexOf("Safari"))for(var l=s-1;l>-1;l--){var u=o[l];if("Version/"===u.substr(0,8)){var c=u.substr(8).split(".")[0];if(r(c)&&(c=+c),c>=13)return!0}}return n}},{"fast-isnumeric":91,"is-mobile":277}],538:[function(e,t,n){"use strict";t.exports=function(e,t){if(t instanceof RegExp){for(var n=t.toString(),r=0;r<e.length;r++)if(e[r]instanceof RegExp&&e[r].toString()===n)return e;e.push(t)}else!t&&0!==t||-1!==e.indexOf(t)||e.push(t);return e}},{}],539:[function(e,t,n){"use strict";var r=e("../lib"),i=e("../plot_api/plot_config").dfltConfig;function a(e,t){for(var n,i=[],a=0;a<t.length;a++)n=t[a],i[a]=n===e?n:"object"===typeof n?Array.isArray(n)?r.extendDeep([],n):r.extendDeepAll({},n):n;return i}var o={add:function(e,t,n,r,a){var o,s;e.undoQueue=e.undoQueue||{index:0,queue:[],sequence:!1},s=e.undoQueue.index,e.autoplay?e.undoQueue.inSequence||(e.autoplay=!1):(!e.undoQueue.sequence||e.undoQueue.beginSequence?(o={undo:{calls:[],args:[]},redo:{calls:[],args:[]}},e.undoQueue.queue.splice(s,e.undoQueue.queue.length-s,o),e.undoQueue.index+=1):o=e.undoQueue.queue[s-1],e.undoQueue.beginSequence=!1,o&&(o.undo.calls.unshift(t),o.undo.args.unshift(n),o.redo.calls.push(r),o.redo.args.push(a)),e.undoQueue.queue.length>i.queueLength&&(e.undoQueue.queue.shift(),e.undoQueue.index--))},startSequence:function(e){e.undoQueue=e.undoQueue||{index:0,queue:[],sequence:!1},e.undoQueue.sequence=!0,e.undoQueue.beginSequence=!0},stopSequence:function(e){e.undoQueue=e.undoQueue||{index:0,queue:[],sequence:!1},e.undoQueue.sequence=!1,e.undoQueue.beginSequence=!1},undo:function(e){var t,n;if(e.framework&&e.framework.isPolar)e.framework.undo();else if(!(void 0===e.undoQueue||isNaN(e.undoQueue.index)||e.undoQueue.index<=0)){for(e.undoQueue.index--,t=e.undoQueue.queue[e.undoQueue.index],e.undoQueue.inSequence=!0,n=0;n<t.undo.calls.length;n++)o.plotDo(e,t.undo.calls[n],t.undo.args[n]);e.undoQueue.inSequence=!1,e.autoplay=!1}},redo:function(e){var t,n;if(e.framework&&e.framework.isPolar)e.framework.redo();else if(!(void 0===e.undoQueue||isNaN(e.undoQueue.index)||e.undoQueue.index>=e.undoQueue.queue.length)){for(t=e.undoQueue.queue[e.undoQueue.index],e.undoQueue.inSequence=!0,n=0;n<t.redo.calls.length;n++)o.plotDo(e,t.redo.calls[n],t.redo.args[n]);e.undoQueue.inSequence=!1,e.autoplay=!1,e.undoQueue.index++}},plotDo:function(e,t,n){e.autoplay=!0,n=a(e,n),t.apply(null,n)}};t.exports=o},{"../lib":524,"../plot_api/plot_config":559}],540:[function(e,t,n){"use strict";n.counter=function(e,t,n,r){var i=(t||"")+(n?"":"$"),a=!1===r?"":"^";return"xy"===e?new RegExp(a+"x([2-9]|[1-9][0-9]+)?y([2-9]|[1-9][0-9]+)?"+i):new RegExp(a+e+"([2-9]|[1-9][0-9]+)?"+i)}},{}],541:[function(e,t,n){"use strict";var r=/^(.*)(\.[^\.\[\]]+|\[\d\])$/,i=/^[^\.\[\]]+$/;t.exports=function(e,t){for(;t;){var n=e.match(r);if(n)e=n[1];else{if(!e.match(i))throw new Error("bad relativeAttr call:"+[e,t]);e=""}if("^"!==t.charAt(0))break;t=t.slice(1)}return e&&"["!==t.charAt(0)?e+"."+t:e+t}},{}],542:[function(e,t,n){"use strict";var r=e("./array").isArrayOrTypedArray,i=e("./is_plain_object");t.exports=function e(t,n){for(var a in n){var o=n[a],s=t[a];if(s!==o)if("_"===a.charAt(0)||"function"===typeof o){if(a in t)continue;t[a]=o}else if(r(o)&&r(s)&&i(o[0])){if("customdata"===a||"ids"===a)continue;for(var l=Math.min(o.length,s.length),u=0;u<l;u++)s[u]!==o[u]&&i(o[u])&&i(s[u])&&e(s[u],o[u])}else i(o)&&i(s)&&(e(s,o),Object.keys(s).length||delete t[a])}}},{"./array":509,"./is_plain_object":525}],543:[function(e,t,n){"use strict";var r=e("fast-isnumeric"),i=e("./loggers"),a=e("./identity"),o=e("../constants/numerical").BADNUM,s=1e-9;function l(e,t){return e<t}function u(e,t){return e<=t}function c(e,t){return e>t}function f(e,t){return e>=t}n.findBin=function(e,t,n){if(r(t.start))return n?Math.ceil((e-t.start)/t.size-s)-1:Math.floor((e-t.start)/t.size+s);var a,o,d=0,h=t.length,p=0,g=h>1?(t[h-1]-t[0])/(h-1):1;for(o=g>=0?n?l:u:n?f:c,e+=g*s*(n?-1:1)*(g>=0?1:-1);d<h&&p++<100;)o(t[a=Math.floor((d+h)/2)],e)?d=a+1:h=a;return p>90&&i.log("Long binary search..."),d-1},n.sorterAsc=function(e,t){return e-t},n.sorterDes=function(e,t){return t-e},n.distinctVals=function(e,t){var r,i=(t||{}).unitMinDiff,a=e.slice();for(a.sort(n.sorterAsc),r=a.length-1;r>-1&&a[r]===o;r--);var s=1;i||(s=a[r]-a[0]||1);for(var l,u=s/(r||1)/1e4,c=[],f=0;f<=r;f++){var d=a[f],h=d-l;void 0===l?(c.push(d),l=d):h>u&&(s=Math.min(s,h),c.push(d),l=d)}return{vals:c,minDiff:s}},n.roundUp=function(e,t,n){for(var r,i=0,a=t.length-1,o=0,s=n?0:1,l=n?1:0,u=n?Math.ceil:Math.floor;i<a&&o++<100;)t[r=u((i+a)/2)]<=e?i=r+s:a=r-l;return t[i]},n.sort=function(e,t){for(var n=0,r=0,i=1;i<e.length;i++){var a=t(e[i],e[i-1]);if(a<0?n=1:a>0&&(r=1),n&&r)return e.sort(t)}return r?e:e.reverse()},n.findIndexOfMin=function(e,t){t=t||a;for(var n,r=1/0,i=0;i<e.length;i++){var o=t(e[i]);o<r&&(r=o,n=i)}return n}},{"../constants/numerical":502,"./identity":522,"./loggers":528,"fast-isnumeric":91}],544:[function(e,t,n){"use strict";t.exports=function(e,t){(e.attr("class")||"").split(" ").forEach((function(t){0===t.indexOf("cursor-")&&e.classed(t,!1)})),t&&e.classed("cursor-"+t,!0)}},{}],545:[function(e,t,n){"use strict";var r=e("../components/color"),i=function(){};t.exports=function(e){for(var t in e)"function"===typeof e[t]&&(e[t]=i);e.destroy=function(){e.container.parentNode.removeChild(e.container)};var n=document.createElement("div");n.className="no-webgl",n.style.cursor="pointer",n.style.fontSize="24px",n.style.color=r.defaults[0],n.style.position="absolute",n.style.left=n.style.top="0px",n.style.width=n.style.height="100%",n.style["background-color"]=r.lightLine,n.style["z-index"]=30;var a=document.createElement("p");return a.textContent="WebGL is not supported by your browser - visit https://get.webgl.org for more info",a.style.position="relative",a.style.top="50%",a.style.left="50%",a.style.height="30%",a.style.width="50%",a.style.margin="-15% 0 0 -25%",n.appendChild(a),e.container.appendChild(n),e.container.style.background="#FFFFFF",e.container.onclick=function(){window.open("https://get.webgl.org")},!1}},{"../components/color":394}],546:[function(e,t,n){"use strict";var r=e("fast-isnumeric"),i=e("./array").isArrayOrTypedArray;n.aggNums=function(e,t,a,o){var s,l;if((!o||o>a.length)&&(o=a.length),r(t)||(t=!1),i(a[0])){for(l=new Array(o),s=0;s<o;s++)l[s]=n.aggNums(e,t,a[s]);a=l}for(s=0;s<o;s++)r(t)?r(a[s])&&(t=e(+t,+a[s])):t=a[s];return t},n.len=function(e){return n.aggNums((function(e){return e+1}),0,e)},n.mean=function(e,t){return t||(t=n.len(e)),n.aggNums((function(e,t){return e+t}),0,e)/t},n.midRange=function(e){if(void 0!==e&&0!==e.length)return(n.aggNums(Math.max,null,e)+n.aggNums(Math.min,null,e))/2},n.variance=function(e,t,i){return t||(t=n.len(e)),r(i)||(i=n.mean(e,t)),n.aggNums((function(e,t){return e+Math.pow(t-i,2)}),0,e)/t},n.stdev=function(e,t,r){return Math.sqrt(n.variance(e,t,r))},n.median=function(e){var t=e.slice().sort();return n.interp(t,.5)},n.interp=function(e,t){if(!r(t))throw"n should be a finite number";if((t=t*e.length-.5)<0)return e[0];if(t>e.length-1)return e[e.length-1];var n=t%1;return n*e[Math.ceil(t)]+(1-n)*e[Math.floor(t)]}},{"./array":509,"fast-isnumeric":91}],547:[function(e,t,n){"use strict";var r=e("color-normalize");function i(e){return e?r(e):[0,0,0,1]}t.exports=i},{"color-normalize":62}],548:[function(e,t,n){"use strict";var r=e("d3"),i=e("../lib"),a=i.strTranslate,o=e("../constants/xmlns_namespaces"),s=e("../constants/alignment").LINE_SPACING;function l(e,t){return e.node().getBoundingClientRect()[t]}var u=/([^$]*)([$]+[^$]*[$]+)([^$]*)/;n.convertToTspans=function(e,t,i){var o=e.text(),s=!e.attr("data-notex")&&"undefined"!==typeof MathJax&&o.match(u),c=r.select(e.node().parentNode);if(!c.empty()){var f=e.attr("class")?e.attr("class").split(" ")[0]:"text";return f+="-math",c.selectAll("svg."+f).remove(),c.selectAll("g."+f+"-group").remove(),e.style("display",null).attr({"data-unformatted":o,"data-math":"N"}),s?(t&&t._promises||[]).push(new Promise((function(t){e.style("display","none");var n=parseInt(e.node().style.fontSize,10),r={fontSize:n};h(s[2],r,(function(r,s,u){c.selectAll("svg."+f).remove(),c.selectAll("g."+f+"-group").remove();var h=r&&r.select("svg");if(!h||!h.node())return d(),void t();var p=c.append("g").classed(f+"-group",!0).attr({"pointer-events":"none","data-unformatted":o,"data-math":"Y"});p.node().appendChild(h.node()),s&&s.node()&&h.node().insertBefore(s.node().cloneNode(!0),h.node().firstChild),h.attr({class:f,height:u.height,preserveAspectRatio:"xMinYMin meet"}).style({overflow:"visible","pointer-events":"none"});var g=e.node().style.fill||"black",v=h.select("g");v.attr({fill:g,stroke:g});var m=l(v,"width"),y=l(v,"height"),b=+e.attr("x")-m*{start:0,middle:.5,end:1}[e.attr("text-anchor")||"start"],x=-(n||l(e,"height"))/4;"y"===f[0]?(p.attr({transform:"rotate("+[-90,+e.attr("x"),+e.attr("y")]+")"+a(-m/2,x-y/2)}),h.attr({x:+e.attr("x"),y:+e.attr("y")})):"l"===f[0]?h.attr({x:e.attr("x"),y:x-y/2}):"a"===f[0]&&0!==f.indexOf("atitle")?h.attr({x:0,y:x}):h.attr({x:b,y:+e.attr("y")+x-y/2}),i&&i.call(e,p),t(p)}))}))):d(),e}function d(){c.empty()||(f=e.attr("class")+"-math",c.select("svg."+f).remove()),e.text("").style("white-space","pre"),P(e.node(),o)&&e.style("pointer-events","all"),n.positionText(e),i&&i.call(e)}};var c=/(<|&lt;|&#60;)/g,f=/(>|&gt;|&#62;)/g;function d(e){return e.replace(c,"\\lt ").replace(f,"\\gt ")}function h(e,t,n){var a,o,s,l;MathJax.Hub.Queue((function(){return o=i.extendDeepAll({},MathJax.Hub.config),s=MathJax.Hub.processSectionDelay,void 0!==MathJax.Hub.processSectionDelay&&(MathJax.Hub.processSectionDelay=0),MathJax.Hub.Config({messageStyle:"none",tex2jax:{inlineMath:[["$","$"],["\\(","\\)"]]},displayAlign:"left"})}),(function(){if("SVG"!==(a=MathJax.Hub.config.menuSettings.renderer))return MathJax.Hub.setRenderer("SVG")}),(function(){var n="math-output-"+i.randstr({},64);return l=r.select("body").append("div").attr({id:n}).style({visibility:"hidden",position:"absolute"}).style({"font-size":t.fontSize+"px"}).text(d(e)),MathJax.Hub.Typeset(l.node())}),(function(){var t=r.select("body").select("#MathJax_SVG_glyphs");if(l.select(".MathJax_SVG").empty()||!l.select("svg").node())i.log("There was an error in the tex syntax.",e),n();else{var o=l.select("svg").node().getBoundingClientRect();n(l.select(".MathJax_SVG"),t,o)}if(l.remove(),"SVG"!==a)return MathJax.Hub.setRenderer(a)}),(function(){return void 0!==s&&(MathJax.Hub.processSectionDelay=s),MathJax.Hub.Config(o)}))}var p={sup:"font-size:70%",sub:"font-size:70%",b:"font-weight:bold",i:"font-style:italic",a:"cursor:pointer",span:"",em:"font-style:italic;font-weight:bold"},g={sub:"0.3em",sup:"-0.6em"},v={sub:"-0.21em",sup:"0.42em"},m="\u200b",y=["http:","https:","mailto:","",void 0,":"],b=n.NEWLINES=/(\r\n?|\n)/g,x=/(<[^<>]*>)/,_=/<(\/?)([^ >]*)(\s+(.*))?>/i,w=/<br(\s+.*)?>/i;n.BR_TAG_ALL=/<br(\s+.*)?>/gi;var k=/(^|[\s"'])style\s*=\s*("([^"]*);?"|'([^']*);?')/i,M=/(^|[\s"'])href\s*=\s*("([^"]*)"|'([^']*)')/i,T=/(^|[\s"'])target\s*=\s*("([^"\s]*)"|'([^'\s]*)')/i,A=/(^|[\s"'])popup\s*=\s*("([\w=,]*)"|'([\w=,]*)')/i;function E(e,t){if(!e)return null;var n=e.match(t),r=n&&(n[3]||n[4]);return r&&L(r)}var S=/(^|;)\s*color:/;n.plainText=function(e,t){for(var n=void 0!==(t=t||{}).len&&-1!==t.len?t.len:1/0,r=void 0!==t.allowedTags?t.allowedTags:["br"],i="...",a=i.length,o=e.split(x),s=[],l="",u=0,c=0;c<o.length;c++){var f=o[c],d=f.match(_),h=d&&d[2].toLowerCase();if(h)-1!==r.indexOf(h)&&(s.push(f),l=h);else{var p=f.length;if(u+p<n)s.push(f),u+=p;else if(u<n){var g=n-u;l&&("br"!==l||g<=a||p<=a)&&s.pop(),n>a?s.push(f.substr(0,g-a)+i):s.push(f.substr(0,g));break}l=""}}return s.join("")};var O={mu:"\u03bc",amp:"&",lt:"<",gt:">",nbsp:"\xa0",times:"\xd7",plusmn:"\xb1",deg:"\xb0"},C=/&(#\d+|#x[\da-fA-F]+|[a-z]+);/g;function L(e){return e.replace(C,(function(e,t){return("#"===t.charAt(0)?R("x"===t.charAt(1)?parseInt(t.substr(2),16):parseInt(t.substr(1),10)):O[t])||e}))}function R(e){if(!(e>1114111)){var t=String.fromCodePoint;if(t)return t(e);var n=String.fromCharCode;return e<=65535?n(e):n(55232+(e>>10),e%1024+56320)}}function P(e,t){t=t.replace(b," ");var n,a=!1,l=[],u=-1;function c(){u++;var t=document.createElementNS(o.svg,"tspan");r.select(t).attr({class:"line",dy:u*s+"em"}),e.appendChild(t),n=t;var i=l;if(l=[{node:t}],i.length>1)for(var a=1;a<i.length;a++)f(i[a])}function f(e){var t,i=e.type,a={};if("a"===i){t="a";var s=e.target,u=e.href,c=e.popup;u&&(a={"xlink:xlink:show":"_blank"===s||"_"!==s.charAt(0)?"new":"replace",target:s,"xlink:xlink:href":u},c&&(a.onclick='window.open(this.href.baseVal,this.target.baseVal,"'+c+'");return false;'))}else t="tspan";e.style&&(a.style=e.style);var f=document.createElementNS(o.svg,t);if("sup"===i||"sub"===i){d(n,m),n.appendChild(f);var h=document.createElementNS(o.svg,"tspan");d(h,m),r.select(h).attr("dy",v[i]),a.dy=g[i],n.appendChild(f),n.appendChild(h)}else n.appendChild(f);r.select(f).attr(a),n=e.node=f,l.push(e)}function d(e,t){e.appendChild(document.createTextNode(t))}function h(e){if(1!==l.length){var r=l.pop();e!==r.type&&i.log("Start tag <"+r.type+"> doesnt match end tag <"+e+">. Pretending it did match.",t),n=l[l.length-1].node}else i.log("Ignoring unexpected end tag </"+e+">.",t)}w.test(t)?c():(n=e,l=[{node:e}]);for(var O=t.split(x),C=0;C<O.length;C++){var R=O[C],P=R.match(_),j=P&&P[2].toLowerCase(),z=p[j];if("br"===j)c();else if(void 0===z)d(n,L(R));else if(P[1])h(j);else{var I=P[4],N={type:j},D=E(I,k);if(D?(D=D.replace(S,"$1 fill:"),z&&(D+=";"+z)):z&&(D=z),D&&(N.style=D),"a"===j){a=!0;var F=E(I,M);if(F){var B=document.createElement("a");B.href=F,-1!==y.indexOf(B.protocol)&&(N.href=encodeURI(decodeURI(F)),N.target=E(I,T)||"_blank",N.popup=E(I,A))}}f(N)}}return a}function j(e,t,n){var r,a,o,s=n.horizontalAlign,l=n.verticalAlign||"top",u=e.node().getBoundingClientRect(),c=t.node().getBoundingClientRect();return a="bottom"===l?function(){return u.bottom-r.height}:"middle"===l?function(){return u.top+(u.height-r.height)/2}:function(){return u.top},o="right"===s?function(){return u.right-r.width}:"center"===s?function(){return u.left+(u.width-r.width)/2}:function(){return u.left},function(){r=this.node().getBoundingClientRect();var e=o()-c.left,t=a()-c.top,s=n.gd||{};if(n.gd){s._fullLayout._calcInverseTransform(s);var l=i.apply3DTransform(s._fullLayout._invTransform)(e,t);e=l[0],t=l[1]}return this.style({top:t+"px",left:e+"px","z-index":1e3}),this}}n.convertEntities=L,n.sanitizeHTML=function(e){e=e.replace(b," ");for(var t=document.createElement("p"),n=t,i=[],a=e.split(x),o=0;o<a.length;o++){var s=a[o],l=s.match(_),u=l&&l[2].toLowerCase();if(u in p)if(l[1])i.length&&(n=i.pop());else{var c=l[4],f=E(c,k),d=f?{style:f}:{};if("a"===u){var h=E(c,M);if(h){var g=document.createElement("a");if(g.href=h,-1!==y.indexOf(g.protocol)){d.href=encodeURI(decodeURI(h));var v=E(c,T);v&&(d.target=v)}}}var m=document.createElement(u);n.appendChild(m),r.select(m).attr(d),n=m,i.push(m)}else n.appendChild(document.createTextNode(L(s)))}return t.innerHTML},n.lineCount=function(e){return e.selectAll("tspan.line").size()||1},n.positionText=function(e,t,n){return e.each((function(){var e=r.select(this);function i(t,n){return void 0===n?null===(n=e.attr(t))&&(e.attr(t,0),n=0):e.attr(t,n),n}var a=i("x",t),o=i("y",n);"text"===this.nodeName&&e.selectAll("tspan.line").attr({x:a,y:o})}))},n.makeEditable=function(e,t){var n=t.gd,i=t.delegate,a=r.dispatch("edit","input","cancel"),o=i||e;if(e.style({"pointer-events":i?"none":"all"}),1!==e.size())throw new Error("boo");function s(){u(),e.style({opacity:0});var t,n=o.attr("class");(t=n?"."+n.split(" ")[0]+"-math-group":"[class*=-math-group]")&&r.select(e.node().parentNode).select(t).style({opacity:0})}function l(e){var t=e.node(),n=document.createRange();n.selectNodeContents(t);var r=window.getSelection();r.removeAllRanges(),r.addRange(n),t.focus()}function u(){var i=r.select(n).select(".svg-container"),o=i.append("div"),s=e.node().style,u=parseFloat(s.fontSize||12),c=t.text;void 0===c&&(c=e.attr("data-unformatted")),o.classed("plugin-editable editable",!0).style({position:"absolute","font-family":s.fontFamily||"Arial","font-size":u,color:t.fill||s.fill||"black",opacity:1,"background-color":t.background||"transparent",outline:"#ffffff33 1px solid",margin:[-u/8+1,0,0,-1].join("px ")+"px",padding:"0","box-sizing":"border-box"}).attr({contenteditable:!0}).text(c).call(j(e,i,t)).on("blur",(function(){n._editing=!1,e.text(this.textContent).style({opacity:1});var t,i=r.select(this).attr("class");(t=i?"."+i.split(" ")[0]+"-math-group":"[class*=-math-group]")&&r.select(e.node().parentNode).select(t).style({opacity:0});var o=this.textContent;r.select(this).transition().duration(0).remove(),r.select(document).on("mouseup",null),a.edit.call(e,o)})).on("focus",(function(){var e=this;n._editing=!0,r.select(document).on("mouseup",(function(){if(r.event.target===e)return!1;document.activeElement===o.node()&&o.node().blur()}))})).on("keyup",(function(){27===r.event.which?(n._editing=!1,e.style({opacity:1}),r.select(this).style({opacity:0}).on("blur",(function(){return!1})).transition().remove(),a.cancel.call(e,this.textContent)):(a.input.call(e,this.textContent),r.select(this).call(j(e,i,t)))})).on("keydown",(function(){13===r.event.which&&this.blur()})).call(l)}return t.immediate?s():o.on("click",s),r.rebind(e,a,"on")}},{"../constants/alignment":496,"../constants/xmlns_namespaces":503,"../lib":524,d3:82}],549:[function(e,t,n){"use strict";var r={};function i(e){e&&null!==e.timer&&(clearTimeout(e.timer),e.timer=null)}n.throttle=function(e,t,n){var a=r[e],o=Date.now();if(!a){for(var s in r)r[s].ts<o-6e4&&delete r[s];a=r[e]={ts:0,timer:null}}function l(){n(),a.ts=Date.now(),a.onDone&&(a.onDone(),a.onDone=null)}i(a),o>a.ts+t?l():a.timer=setTimeout((function(){l(),a.timer=null}),t)},n.done=function(e){var t=r[e];return t&&t.timer?new Promise((function(e){var n=t.onDone;t.onDone=function(){n&&n(),e(),t.onDone=null}})):Promise.resolve()},n.clear=function(e){if(e)i(r[e]),delete r[e];else for(var t in r)n.clear(t)}},{}],550:[function(e,t,n){"use strict";var r=e("fast-isnumeric");t.exports=function(e,t){if(e>0)return Math.log(e)/Math.LN10;var n=Math.log(Math.min(t[0],t[1]))/Math.LN10;return r(n)||(n=Math.log(Math.max(t[0],t[1]))/Math.LN10-6),n}},{"fast-isnumeric":91}],551:[function(e,t,n){"use strict";t.exports={moduleType:"locale",name:"en-US",dictionary:{"Click to enter Colorscale title":"Click to enter Colorscale title"},format:{date:"%m/%d/%Y"}}},{}],552:[function(e,t,n){"use strict";t.exports={moduleType:"locale",name:"en",dictionary:{"Click to enter Colorscale title":"Click to enter Colourscale title"},format:{days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],periods:["AM","PM"],dateTime:"%a %b %e %X %Y",date:"%d/%m/%Y",time:"%H:%M:%S",decimal:".",thousands:",",grouping:[3],currency:["$",""],year:"%Y",month:"%b %Y",dayMonth:"%b %-d",dayMonthYear:"%b %-d, %Y"}}},{}],553:[function(e,t,n){"use strict";var r=e("../registry");t.exports=function(e){for(var t,n,i=r.layoutArrayContainers,a=r.layoutArrayRegexes,o=e.split("[")[0],s=0;s<a.length;s++)if((n=e.match(a[s]))&&0===n.index){t=n[0];break}if(t||(t=i[i.indexOf(o)]),!t)return!1;var l=e.substr(t.length);return l?!!(n=l.match(/^\[(0|[1-9][0-9]*)\](\.(.+))?$/))&&{array:t,index:Number(n[1]),property:n[3]||""}:{array:t,index:"",property:""}}},{"../registry":626}],554:[function(e,t,n){"use strict";var r=e("../lib"),i=r.extendFlat,a=r.isPlainObject,o={valType:"flaglist",extras:["none"],flags:["calc","clearAxisTypes","plot","style","markerSize","colorbars"]},s={valType:"flaglist",extras:["none"],flags:["calc","plot","legend","ticks","axrange","layoutstyle","modebar","camera","arraydraw","colorbars"]},l=o.flags.slice().concat(["fullReplot"]),u=s.flags.slice().concat("layoutReplot");function c(e){for(var t={},n=0;n<e.length;n++)t[e[n]]=!1;return t}function f(e,t,n){var r=i({},e);for(var o in r){var s=r[o];a(s)&&(r[o]=d(s,t,n,o))}return"from-root"===n&&(r.editType=t),r}function d(e,t,n,r){if(e.valType){var a=i({},e);if(a.editType=t,Array.isArray(e.items)){a.items=new Array(e.items.length);for(var o=0;o<e.items.length;o++)a.items[o]=d(e.items[o],t,"from-root")}return a}return f(e,t,"_"===r.charAt(0)?"nested":"from-root")}t.exports={traces:o,layout:s,traceFlags:function(){return c(l)},layoutFlags:function(){return c(u)},update:function(e,t){var n=t.editType;if(n&&"none"!==n)for(var r=n.split("+"),i=0;i<r.length;i++)e[r[i]]=!0},overrideAll:f}},{"../lib":524}],555:[function(e,t,n){"use strict";var r=e("fast-isnumeric"),i=e("gl-mat4/fromQuat"),a=e("../registry"),o=e("../lib"),s=e("../plots/plots"),l=e("../plots/cartesian/axis_ids"),u=e("../components/color"),c=l.cleanId,f=l.getFromTrace,d=a.traceIs;function h(e,t){var n=e[t],r=t.charAt(0);n&&"paper"!==n&&(e[t]=c(n,r,!0))}function p(e){function t(t,n){var r=e[t],i=e.title&&e.title[n];r&&!i&&(e.title||(e.title={}),e.title[n]=e[t],delete e[t])}e&&("string"!==typeof e.title&&"number"!==typeof e.title||(e.title={text:e.title}),t("titlefont","font"),t("titleposition","position"),t("titleside","side"),t("titleoffset","offset"))}function g(e){if(!o.isPlainObject(e))return!1;var t=e.name;return delete e.name,delete e.showlegend,("string"===typeof t||"number"===typeof t)&&String(t)}function v(e,t,n,r){if(n&&!r)return e;if(r&&!n)return t;if(!e.trim())return t;if(!t.trim())return e;var i,a=Math.min(e.length,t.length);for(i=0;i<a&&e.charAt(i)===t.charAt(i);i++);return e.substr(0,i).trim()}function m(e){var t="middle",n="center";return"string"===typeof e&&(-1!==e.indexOf("top")?t="top":-1!==e.indexOf("bottom")&&(t="bottom"),-1!==e.indexOf("left")?n="left":-1!==e.indexOf("right")&&(n="right")),t+" "+n}function y(e,t){return t in e&&"object"===typeof e[t]&&0===Object.keys(e[t]).length}n.clearPromiseQueue=function(e){Array.isArray(e._promises)&&e._promises.length>0&&o.log("Clearing previous rejected promises from queue."),e._promises=[]},n.cleanLayout=function(e){var t,r;e||(e={}),e.xaxis1&&(e.xaxis||(e.xaxis=e.xaxis1),delete e.xaxis1),e.yaxis1&&(e.yaxis||(e.yaxis=e.yaxis1),delete e.yaxis1),e.scene1&&(e.scene||(e.scene=e.scene1),delete e.scene1);var a=(s.subplotsRegistry.cartesian||{}).attrRegex,l=(s.subplotsRegistry.polar||{}).attrRegex,f=(s.subplotsRegistry.ternary||{}).attrRegex,d=(s.subplotsRegistry.gl3d||{}).attrRegex,g=Object.keys(e);for(t=0;t<g.length;t++){var v=g[t];if(a&&a.test(v)){var m=e[v];m.anchor&&"free"!==m.anchor&&(m.anchor=c(m.anchor)),m.overlaying&&(m.overlaying=c(m.overlaying)),m.type||(m.isdate?m.type="date":m.islog?m.type="log":!1===m.isdate&&!1===m.islog&&(m.type="linear")),"withzero"!==m.autorange&&"tozero"!==m.autorange||(m.autorange=!0,m.rangemode="tozero"),delete m.islog,delete m.isdate,delete m.categories,y(m,"domain")&&delete m.domain,void 0!==m.autotick&&(void 0===m.tickmode&&(m.tickmode=m.autotick?"auto":"linear"),delete m.autotick),p(m)}else if(l&&l.test(v))p(e[v].radialaxis);else if(f&&f.test(v)){var b=e[v];p(b.aaxis),p(b.baxis),p(b.caxis)}else if(d&&d.test(v)){var x=e[v],_=x.cameraposition;if(Array.isArray(_)&&4===_[0].length){var w=_[0],k=_[1],M=_[2],T=i([],w),A=[];for(r=0;r<3;++r)A[r]=k[r]+M*T[2+4*r];x.camera={eye:{x:A[0],y:A[1],z:A[2]},center:{x:k[0],y:k[1],z:k[2]},up:{x:0,y:0,z:1}},delete x.cameraposition}p(x.xaxis),p(x.yaxis),p(x.zaxis)}}var E=Array.isArray(e.annotations)?e.annotations.length:0;for(t=0;t<E;t++){var S=e.annotations[t];o.isPlainObject(S)&&(S.ref&&("paper"===S.ref?(S.xref="paper",S.yref="paper"):"data"===S.ref&&(S.xref="x",S.yref="y"),delete S.ref),h(S,"xref"),h(S,"yref"))}var O=Array.isArray(e.shapes)?e.shapes.length:0;for(t=0;t<O;t++){var C=e.shapes[t];o.isPlainObject(C)&&(h(C,"xref"),h(C,"yref"))}var L=Array.isArray(e.images)?e.images.length:0;for(t=0;t<L;t++){var R=e.images[t];o.isPlainObject(R)&&(h(R,"xref"),h(R,"yref"))}var P=e.legend;return P&&(P.x>3?(P.x=1.02,P.xanchor="left"):P.x<-2&&(P.x=-.02,P.xanchor="right"),P.y>3?(P.y=1.02,P.yanchor="bottom"):P.y<-2&&(P.y=-.02,P.yanchor="top")),p(e),"rotate"===e.dragmode&&(e.dragmode="orbit"),u.clean(e),e.template&&e.template.layout&&n.cleanLayout(e.template.layout),e},n.cleanData=function(e){for(var t=0;t<e.length;t++){var r,i=e[t];if("histogramy"===i.type&&"xbins"in i&&!("ybins"in i)&&(i.ybins=i.xbins,delete i.xbins),i.error_y&&"opacity"in i.error_y){var l=u.defaults,f=i.error_y.color||(d(i,"bar")?u.defaultLine:l[t%l.length]);i.error_y.color=u.addOpacity(u.rgb(f),u.opacity(f)*i.error_y.opacity),delete i.error_y.opacity}if("bardir"in i&&("h"!==i.bardir||!d(i,"bar")&&"histogram"!==i.type.substr(0,9)||(i.orientation="h",n.swapXYData(i)),delete i.bardir),"histogramy"===i.type&&n.swapXYData(i),"histogramx"!==i.type&&"histogramy"!==i.type||(i.type="histogram"),"scl"in i&&!("colorscale"in i)&&(i.colorscale=i.scl,delete i.scl),"reversescl"in i&&!("reversescale"in i)&&(i.reversescale=i.reversescl,delete i.reversescl),i.xaxis&&(i.xaxis=c(i.xaxis,"x")),i.yaxis&&(i.yaxis=c(i.yaxis,"y")),d(i,"gl3d")&&i.scene&&(i.scene=s.subplotsRegistry.gl3d.cleanId(i.scene)),!d(i,"pie-like")&&!d(i,"bar-like"))if(Array.isArray(i.textposition))for(r=0;r<i.textposition.length;r++)i.textposition[r]=m(i.textposition[r]);else i.textposition&&(i.textposition=m(i.textposition));var h=a.getModule(i);if(h&&h.colorbar){var b=h.colorbar.container,x=b?i[b]:i;x&&x.colorscale&&("YIGnBu"===x.colorscale&&(x.colorscale="YlGnBu"),"YIOrRd"===x.colorscale&&(x.colorscale="YlOrRd"))}if("surface"===i.type&&o.isPlainObject(i.contours)){var _=["x","y","z"];for(r=0;r<_.length;r++){var w=i.contours[_[r]];o.isPlainObject(w)&&(w.highlightColor&&(w.highlightcolor=w.highlightColor,delete w.highlightColor),w.highlightWidth&&(w.highlightwidth=w.highlightWidth,delete w.highlightWidth))}}if("candlestick"===i.type||"ohlc"===i.type){var k=!1!==(i.increasing||{}).showlegend,M=!1!==(i.decreasing||{}).showlegend,T=g(i.increasing),A=g(i.decreasing);if(!1!==T&&!1!==A){var E=v(T,A,k,M);E&&(i.name=E)}else!T&&!A||i.name||(i.name=T||A)}if(Array.isArray(i.transforms)){var S=i.transforms;for(r=0;r<S.length;r++){var O=S[r];if(o.isPlainObject(O))switch(O.type){case"filter":O.filtersrc&&(O.target=O.filtersrc,delete O.filtersrc),O.calendar&&(O.valuecalendar||(O.valuecalendar=O.calendar),delete O.calendar);break;case"groupby":if(O.styles=O.styles||O.style,O.styles&&!Array.isArray(O.styles)){var C=O.styles,L=Object.keys(C);O.styles=[];for(var R=0;R<L.length;R++)O.styles.push({target:L[R],value:C[L[R]]})}}}}y(i,"line")&&delete i.line,"marker"in i&&(y(i.marker,"line")&&delete i.marker.line,y(i,"marker")&&delete i.marker),u.clean(i),i.autobinx&&(delete i.autobinx,delete i.xbins),i.autobiny&&(delete i.autobiny,delete i.ybins),p(i),i.colorbar&&p(i.colorbar),i.marker&&i.marker.colorbar&&p(i.marker.colorbar),i.line&&i.line.colorbar&&p(i.line.colorbar),i.aaxis&&p(i.aaxis),i.baxis&&p(i.baxis)}},n.swapXYData=function(e){var t;if(o.swapAttrs(e,["?","?0","d?","?bins","nbins?","autobin?","?src","error_?"]),Array.isArray(e.z)&&Array.isArray(e.z[0])&&(e.transpose?delete e.transpose:e.transpose=!0),e.error_x&&e.error_y){var n=e.error_y,r="copy_ystyle"in n?n.copy_ystyle:!(n.color||n.thickness||n.width);o.swapAttrs(e,["error_?.copy_ystyle"]),r&&o.swapAttrs(e,["error_?.color","error_?.thickness","error_?.width"])}if("string"===typeof e.hoverinfo){var i=e.hoverinfo.split("+");for(t=0;t<i.length;t++)"x"===i[t]?i[t]="y":"y"===i[t]&&(i[t]="x");e.hoverinfo=i.join("+")}},n.coerceTraceIndices=function(e,t){if(r(t))return[t];if(!Array.isArray(t)||!t.length)return e.data.map((function(e,t){return t}));if(Array.isArray(t)){for(var n=[],i=0;i<t.length;i++)o.isIndex(t[i],e.data.length)?n.push(t[i]):o.warn("trace index (",t[i],") is not a number or is out of bounds");return n}return t},n.manageArrayContainers=function(e,t,n){var i=e.obj,a=e.parts,s=a.length,l=a[s-1],u=r(l);if(u&&null===t){var c=a.slice(0,s-1).join(".");o.nestedProperty(i,c).get().splice(l,1)}else u&&void 0===e.get()?(void 0===e.get()&&(n[e.astr]=null),e.set(t)):e.set(t)};var b=/(\.[^\[\]\.]+|\[[^\[\]\.]+\])$/;function x(e){var t=e.search(b);if(t>0)return e.substr(0,t)}n.hasParent=function(e,t){for(var n=x(t);n;){if(n in e)return!0;n=x(n)}return!1};var _=["x","y","z"];n.clearAxisTypes=function(e,t,n){for(var r=0;r<t.length;r++)for(var i=e._fullData[r],a=0;a<3;a++){var s=f(e,i,_[a]);if(s&&"log"!==s.type){var l=s._name,u=s._id.substr(1);if("scene"===u.substr(0,5)){if(void 0!==n[u])continue;l=u+"."+l}var c=l+".type";void 0===n[l]&&void 0===n[c]&&o.nestedProperty(e.layout,c).set(null)}}}},{"../components/color":394,"../lib":524,"../plots/cartesian/axis_ids":575,"../plots/plots":617,"../registry":626,"fast-isnumeric":91,"gl-mat4/fromQuat":126}],556:[function(e,t,n){"use strict";var r=e("./plot_api");n.plot=r.plot,n.newPlot=r.newPlot,n.restyle=r.restyle,n.relayout=r.relayout,n.redraw=r.redraw,n.update=r.update,n._guiRestyle=r._guiRestyle,n._guiRelayout=r._guiRelayout,n._guiUpdate=r._guiUpdate,n._storeDirectGUIEdit=r._storeDirectGUIEdit,n.react=r.react,n.extendTraces=r.extendTraces,n.prependTraces=r.prependTraces,n.addTraces=r.addTraces,n.deleteTraces=r.deleteTraces,n.moveTraces=r.moveTraces,n.purge=r.purge,n.addFrames=r.addFrames,n.deleteFrames=r.deleteFrames,n.animate=r.animate,n.setPlotConfig=r.setPlotConfig,n.toImage=e("./to_image"),n.validate=e("./validate"),n.downloadImage=e("../snapshot/download");var i=e("./template_api");n.makeTemplate=i.makeTemplate,n.validateTemplate=i.validateTemplate},{"../snapshot/download":628,"./plot_api":558,"./template_api":563,"./to_image":564,"./validate":565}],557:[function(e,t,n){"use strict";var r=e("../lib/is_plain_object"),i=e("../lib/noop"),a=e("../lib/loggers"),o=e("../lib/search").sorterAsc,s=e("../registry");n.containerArrayMatch=e("./container_array_match");var l=n.isAddVal=function(e){return"add"===e||r(e)},u=n.isRemoveVal=function(e){return null===e||"remove"===e};n.applyContainerArrayChanges=function(e,t,n,r,c){var f=t.astr,d=s.getComponentMethod(f,"supplyLayoutDefaults"),h=s.getComponentMethod(f,"draw"),p=s.getComponentMethod(f,"drawOne"),g=r.replot||r.recalc||d===i||h===i,v=e.layout,m=e._fullLayout;if(n[""]){Object.keys(n).length>1&&a.warn("Full array edits are incompatible with other edits",f);var y=n[""][""];if(u(y))t.set(null);else{if(!Array.isArray(y))return a.warn("Unrecognized full array edit value",f,y),!0;t.set(y)}return!g&&(d(v,m),h(e),!0)}var b,x,_,w,k,M,T,A,E=Object.keys(n).map(Number).sort(o),S=t.get(),O=S||[],C=c(m,f).get(),L=[],R=-1,P=O.length;for(b=0;b<E.length;b++)if(w=n[_=E[b]],k=Object.keys(w),M=w[""],T=l(M),_<0||_>O.length-(T?0:1))a.warn("index out of range",f,_);else if(void 0!==M)k.length>1&&a.warn("Insertion & removal are incompatible with edits to the same index.",f,_),u(M)?L.push(_):T?("add"===M&&(M={}),O.splice(_,0,M),C&&C.splice(_,0,{})):a.warn("Unrecognized full object edit value",f,_,M),-1===R&&(R=_);else for(x=0;x<k.length;x++)A=f+"["+_+"].",c(O[_],k[x],A).set(w[k[x]]);for(b=L.length-1;b>=0;b--)O.splice(L[b],1),C&&C.splice(L[b],1);if(O.length?S||t.set(O):t.set(null),g)return!1;if(d(v,m),p!==i){var j;if(-1===R)j=E;else{for(P=Math.max(O.length,P),j=[],b=0;b<E.length&&!((_=E[b])>=R);b++)j.push(_);for(b=R;b<P;b++)j.push(b)}for(b=0;b<j.length;b++)p(e,j[b])}else h(e);return!0}},{"../lib/is_plain_object":525,"../lib/loggers":528,"../lib/noop":533,"../lib/search":543,"../registry":626,"./container_array_match":553}],558:[function(e,t,n){"use strict";var r=e("d3"),i=e("fast-isnumeric"),a=e("has-hover"),o=e("../lib"),s=o.nestedProperty,l=e("../lib/events"),u=e("../lib/queue"),c=e("../registry"),f=e("./plot_schema"),d=e("../plots/plots"),h=e("../plots/polar/legacy"),p=e("../plots/cartesian/axes"),g=e("../components/drawing"),v=e("../components/color"),m=e("../plots/cartesian/graph_interact").initInteractions,y=e("../constants/xmlns_namespaces"),b=e("../lib/svg_text_utils"),x=e("../plots/cartesian/select").clearSelect,_=e("./plot_config").dfltConfig,w=e("./manage_arrays"),k=e("./helpers"),M=e("./subroutines"),T=e("./edit_types"),A=e("../plots/cartesian/constants").AX_NAME_PATTERN,E=0,S=5;function O(e,t,i,a){var s;if(e=o.getGraphDiv(e),l.init(e),o.isPlainObject(t)){var u=t;t=u.data,i=u.layout,a=u.config,s=u.frames}if(!1===l.triggerHandler(e,"plotly_beforeplot",[t,i,a]))return Promise.reject();function f(){if(s)return n.addFrames(e,s)}t||i||o.isPlotDiv(e)||o.warn("Calling Plotly.plot as if redrawing but this container doesn't yet have a plot.",e),j(e,a),i||(i={}),r.select(e).classed("js-plotly-plot",!0),g.makeTester(),Array.isArray(e._promises)||(e._promises=[]);var h=0===(e.data||[]).length&&Array.isArray(t);Array.isArray(t)&&(k.cleanData(t),h?e.data=t:e.data.push.apply(e.data,t),e.empty=!1),e.layout&&!h||(e.layout=k.cleanLayout(i)),d.supplyDefaults(e);var v=e._fullLayout,y=v._has("cartesian");if(!v._has("polar")&&t&&t[0]&&t[0].r)return o.log("Legacy polar charts are deprecated!"),z(e,t,i);v._replotting=!0,(h||v._shouldCreateBgLayer)&&(Re(e),v._shouldCreateBgLayer&&delete v._shouldCreateBgLayer),e.framework!==Re&&(e.framework=Re,Re(e)),g.initGradients(e),h&&p.saveShowSpikeInitial(e);var b=!e.calcdata||e.calcdata.length!==(e._fullData||[]).length;b&&d.doCalcdata(e);for(var x=0;x<e.calcdata.length;x++)e.calcdata[x][0].trace=e._fullData[x];e._context.responsive?e._responsiveChartHandler||(e._responsiveChartHandler=function(){o.isHidden(e)||d.resize(e)},window.addEventListener("resize",e._responsiveChartHandler)):o.clearResponsive(e);var _=o.extendFlat({},v._size),w=0;function T(){for(var t=v._basePlotModules,n=0;n<t.length;n++)t[n].drawFramework&&t[n].drawFramework(e);if(!v._glcanvas&&v._has("gl")&&(v._glcanvas=v._glcontainer.selectAll(".gl-canvas").data([{key:"contextLayer",context:!0,pick:!1},{key:"focusLayer",context:!1,pick:!1},{key:"pickLayer",context:!1,pick:!0}],(function(e){return e.key})),v._glcanvas.enter().append("canvas").attr("class",(function(e){return"gl-canvas gl-canvas-"+e.key.replace("Layer","")})).style({position:"absolute",top:0,left:0,overflow:"visible","pointer-events":"none"})),v._glcanvas){v._glcanvas.attr("width",v.width).attr("height",v.height);var r=v._glcanvas.data()[0].regl;if(r&&(Math.floor(v.width)!==r._gl.drawingBufferWidth||Math.floor(v.height)!==r._gl.drawingBufferHeight)){var i="WebGL context buffer and canvas dimensions do not match due to browser/WebGL bug.";if(!w)return o.log(i+" Clearing graph and plotting again."),d.cleanPlot([],{},e._fullData,v),d.supplyDefaults(e),v=e._fullLayout,d.doCalcdata(e),w++,T();o.error(i)}}return"h"===v.modebar.orientation?v._modebardiv.style("height",null).style("width","100%"):v._modebardiv.style("width",null).style("height",v.height+"px"),d.previousPromises(e)}function A(){if(d.clearAutoMarginIds(e),M.drawMarginPushers(e),p.allowAutoMargin(e),v._has("pie"))for(var t=e._fullData,n=0;n<t.length;n++){var r=t[n];"pie"===r.type&&r.automargin&&d.allowAutoMargin(e,"pie."+r.uid+".automargin")}return d.doAutoMargin(e),d.previousPromises(e)}function E(){if(d.didMarginChange(_,v._size))return o.syncOrAsync([A,M.layoutStyles],e)}function S(){if(b)return o.syncOrAsync([c.getComponentMethod("shapes","calcAutorange"),c.getComponentMethod("annotations","calcAutorange"),O],e);O()}function O(){e._transitioning||(M.doAutoRangeAndConstraints(e),h&&p.saveRangeInitial(e),c.getComponentMethod("rangeslider","calcAutorange")(e))}function L(){return p.draw(e,h?"":"redraw")}var R=[d.previousPromises,f,T,A,E];function P(e){e._fullLayout._insideTickLabelsAutorange&&h&&p.saveRangeInitial(e,!0)}y&&R.push(S),R.push(M.layoutStyles),y&&R.push(L,(function(e){e._fullLayout._insideTickLabelsAutorange&&ie(e,e._fullLayout._insideTickLabelsAutorange).then((function(){e._fullLayout._insideTickLabelsAutorange=void 0}))})),R.push(M.drawData,M.finalDraw,m,d.addLinks,d.rehover,d.redrag,d.doAutoMargin,P,d.previousPromises);var I=o.syncOrAsync(R,e);return I&&I.then||(I=Promise.resolve()),I.then((function(){return C(e),e}))}function C(e){var t=e._fullLayout;t._redrawFromAutoMarginCount?t._redrawFromAutoMarginCount--:e.emit("plotly_afterplot")}function L(e){return o.extendFlat(_,e)}function R(e,t){try{e._fullLayout._paper.style("background",t)}catch(n){o.error(n)}}function P(e,t){R(e,v.combine(t,"white"))}function j(e,t){if(!e._context){e._context=o.extendDeep({},_);var n=r.select("base");e._context._baseUrl=n.size()&&n.attr("href")?window.location.href.split("#")[0]:""}var i,s,l,u=e._context;if(t){for(s=Object.keys(t),i=0;i<s.length;i++)"editable"!==(l=s[i])&&"edits"!==l&&l in u&&("setBackground"===l&&"opaque"===t[l]?u[l]=P:u[l]=t[l]);t.plot3dPixelRatio&&!u.plotGlPixelRatio&&(u.plotGlPixelRatio=u.plot3dPixelRatio);var c=t.editable;if(void 0!==c)for(u.editable=c,s=Object.keys(u.edits),i=0;i<s.length;i++)u.edits[s[i]]=c;if(t.edits)for(s=Object.keys(t.edits),i=0;i<s.length;i++)(l=s[i])in u.edits&&(u.edits[l]=t.edits[l]);u._exportedPlot=t._exportedPlot}u.staticPlot&&(u.editable=!1,u.edits={},u.autosizable=!1,u.scrollZoom=!1,u.doubleClick=!1,u.showTips=!1,u.showLink=!1,u.displayModeBar=!1),"hover"!==u.displayModeBar||a||(u.displayModeBar=!0),"transparent"!==u.setBackground&&"function"===typeof u.setBackground||(u.setBackground=R),u._hasZeroHeight=u._hasZeroHeight||0===e.clientHeight,u._hasZeroWidth=u._hasZeroWidth||0===e.clientWidth;var f=u.scrollZoom,d=u._scrollZoom={};if(!0===f)d.cartesian=1,d.gl3d=1,d.geo=1,d.mapbox=1;else if("string"===typeof f){var h=f.split("+");for(i=0;i<h.length;i++)d[h[i]]=1}else!1!==f&&(d.gl3d=1,d.geo=1,d.mapbox=1)}function z(e,t,n){var i=r.select(e).selectAll(".plot-container").data([0]);i.enter().insert("div",":first-child").classed("plot-container plotly",!0);var a=i.selectAll(".svg-container").data([0]);a.enter().append("div").classed("svg-container",!0).style("position","relative"),a.html(""),t&&(e.data=t),n&&(e.layout=n),h.manager.fillLayout(e),a.style({width:e._fullLayout.width+"px",height:e._fullLayout.height+"px"}),e.framework=h.manager.framework(e),e.framework({data:e.data,layout:e.layout},a.node()),e.framework.setUndoPoint();var s=e.framework.svg(),l=1,u=e._fullLayout.title?e._fullLayout.title.text:"";""!==u&&u||(l=0);var c=function(){this.call(b.convertToTspans,e)},f=s.select(".title-group text").call(c);if(e._context.edits.titleText){var p=o._(e,"Click to enter Plot title");u&&u!==p||(l=.2,f.attr({"data-unformatted":p}).text(p).style({opacity:l}).on("mouseover.opacity",(function(){r.select(this).transition().duration(100).style("opacity",1)})).on("mouseout.opacity",(function(){r.select(this).transition().duration(1e3).style("opacity",0)})));var g=function t(){this.call(b.makeEditable,{gd:e}).on("edit",(function(n){e.framework({layout:{title:{text:n}}}),this.text(n).call(c),this.call(t)})).on("cancel",(function(){var e=this.attr("data-unformatted");this.text(e).call(c)}))};f.call(g)}return e._context.setBackground(e,e._fullLayout.paper_bgcolor),d.addLinks(e),Promise.resolve()}function I(e){if(e=o.getGraphDiv(e),!o.isPlotDiv(e))throw new Error("This element is not a Plotly plot: "+e);return k.cleanData(e.data),k.cleanLayout(e.layout),e.calcdata=void 0,n.plot(e).then((function(){return e.emit("plotly_redraw"),e}))}function N(e,t,r,i){return e=o.getGraphDiv(e),d.cleanPlot([],{},e._fullData||[],e._fullLayout||{}),d.purge(e),n.plot(e,t,r,i)}function D(e,t){var n,r,i=t+1,a=[];for(n=0;n<e.length;n++)(r=e[n])<0?a.push(i+r):a.push(r);return a}function F(e,t,n){var r,i;for(r=0;r<t.length;r++){if((i=t[r])!==parseInt(i,10))throw new Error("all values in "+n+" must be integers");if(i>=e.data.length||i<-e.data.length)throw new Error(n+" must be valid indices for gd.data.");if(t.indexOf(i,r+1)>-1||i>=0&&t.indexOf(-e.data.length+i)>-1||i<0&&t.indexOf(e.data.length+i)>-1)throw new Error("each index in "+n+" must be unique.")}}function B(e,t,n){if(!Array.isArray(e.data))throw new Error("gd.data must be an array.");if("undefined"===typeof t)throw new Error("currentIndices is a required argument.");if(Array.isArray(t)||(t=[t]),F(e,t,"currentIndices"),"undefined"===typeof n||Array.isArray(n)||(n=[n]),"undefined"!==typeof n&&F(e,n,"newIndices"),"undefined"!==typeof n&&t.length!==n.length)throw new Error("current and new indices must be of equal length.")}function U(e,t,n){var r,i;if(!Array.isArray(e.data))throw new Error("gd.data must be an array.");if("undefined"===typeof t)throw new Error("traces must be defined.");for(Array.isArray(t)||(t=[t]),r=0;r<t.length;r++)if("object"!==typeof(i=t[r])||Array.isArray(i)||null===i)throw new Error("all values in traces array must be non-array objects");if("undefined"===typeof n||Array.isArray(n)||(n=[n]),"undefined"!==typeof n&&n.length!==t.length)throw new Error("if indices is specified, traces.length must equal indices.length")}function V(e,t,n,r){var i=o.isPlainObject(r);if(!Array.isArray(e.data))throw new Error("gd.data must be an array");if(!o.isPlainObject(t))throw new Error("update must be a key:value object");if("undefined"===typeof n)throw new Error("indices must be an integer or array of integers");for(var a in F(e,n,"indices"),t){if(!Array.isArray(t[a])||t[a].length!==n.length)throw new Error("attribute "+a+" must be an array of length equal to indices array length");if(i&&(!(a in r)||!Array.isArray(r[a])||r[a].length!==t[a].length))throw new Error("when maxPoints is set as a key:value object it must contain a 1:1 corrispondence with the keys and number of traces in the update object")}}function H(e,t,n,r){var a,l,u,c,f,d=o.isPlainObject(r),h=[];for(var p in Array.isArray(n)||(n=[n]),n=D(n,e.data.length-1),t)for(var g=0;g<n.length;g++){if(a=e.data[n[g]],l=(u=s(a,p)).get(),c=t[p][g],!o.isArrayOrTypedArray(c))throw new Error("attribute: "+p+" index: "+g+" must be an array");if(!o.isArrayOrTypedArray(l))throw new Error("cannot extend missing or non-array attribute: "+p);if(l.constructor!==c.constructor)throw new Error("cannot extend array with an array of a different type: "+p);f=d?r[p][g]:r,i(f)||(f=-1),h.push({prop:u,target:l,insert:c,maxp:Math.floor(f)})}return h}function q(e,t,n,r,i){V(e,t,n,r);for(var a=H(e,t,n,r),o={},s={},l=0;l<a.length;l++){var u=a[l].prop,c=a[l].maxp,f=i(a[l].target,a[l].insert,c);u.set(f[0]),Array.isArray(o[u.astr])||(o[u.astr]=[]),o[u.astr].push(f[1]),Array.isArray(s[u.astr])||(s[u.astr]=[]),s[u.astr].push(a[l].target.length)}return{update:o,maxPoints:s}}function W(e,t){var n=new e.constructor(e.length+t.length);return n.set(e),n.set(t,e.length),n}function G(e,t,r,i){function a(e,t,n){var r,i;if(o.isTypedArray(e))if(n<0){var a=new e.constructor(0),s=W(e,t);n<0?(r=s,i=a):(r=a,i=s)}else if(r=new e.constructor(n),i=new e.constructor(e.length+t.length-n),n===t.length)r.set(t),i.set(e);else if(n<t.length){var l=t.length-n;r.set(t.subarray(l)),i.set(e),i.set(t.subarray(0,l),e.length)}else{var u=n-t.length,c=e.length-u;r.set(e.subarray(c)),r.set(t,u),i.set(e.subarray(0,c))}else r=e.concat(t),i=n>=0&&n<r.length?r.splice(0,r.length-n):[];return[r,i]}var s=q(e=o.getGraphDiv(e),t,r,i,a),l=n.redraw(e),c=[e,s.update,r,s.maxPoints];return u.add(e,n.prependTraces,c,G,arguments),l}function X(e,t,r,i){function a(e,t,n){var r,i;if(o.isTypedArray(e))if(n<=0){var a=new e.constructor(0),s=W(t,e);n<0?(r=s,i=a):(r=a,i=s)}else if(r=new e.constructor(n),i=new e.constructor(e.length+t.length-n),n===t.length)r.set(t),i.set(e);else if(n<t.length){var l=t.length-n;r.set(t.subarray(0,l)),i.set(t.subarray(l)),i.set(e,l)}else{var u=n-t.length;r.set(t),r.set(e.subarray(0,u),t.length),i.set(e.subarray(u))}else r=t.concat(e),i=n>=0&&n<r.length?r.splice(n,r.length):[];return[r,i]}var s=q(e=o.getGraphDiv(e),t,r,i,a),l=n.redraw(e),c=[e,s.update,r,s.maxPoints];return u.add(e,n.extendTraces,c,X,arguments),l}function Y(e,t,r){e=o.getGraphDiv(e);var i,a,s=[],l=n.deleteTraces,c=Y,f=[e,s],d=[e,t];for(U(e,t,r),Array.isArray(t)||(t=[t]),t=t.map((function(e){return o.extendFlat({},e)})),k.cleanData(t),i=0;i<t.length;i++)e.data.push(t[i]);for(i=0;i<t.length;i++)s.push(-t.length+i);if("undefined"===typeof r)return a=n.redraw(e),u.add(e,l,f,c,d),a;Array.isArray(r)||(r=[r]);try{B(e,s,r)}catch(h){throw e.data.splice(e.data.length-t.length,t.length),h}return u.startSequence(e),u.add(e,l,f,c,d),a=n.moveTraces(e,s,r),u.stopSequence(e),a}function Z(e,t){e=o.getGraphDiv(e);var r,i,a=[],s=n.addTraces,l=Z,c=[e,a,t],f=[e,t];if("undefined"===typeof t)throw new Error("indices must be an integer or array of integers.");for(Array.isArray(t)||(t=[t]),F(e,t,"indices"),(t=D(t,e.data.length-1)).sort(o.sorterDes),r=0;r<t.length;r+=1)i=e.data.splice(t[r],1)[0],a.push(i);var d=n.redraw(e);return u.add(e,s,c,l,f),d}function $(e,t,r){var i,a=[],s=[],l=$,c=$,f=[e=o.getGraphDiv(e),r,t],d=[e,t,r];if(B(e,t,r),t=Array.isArray(t)?t:[t],"undefined"===typeof r)for(r=[],i=0;i<t.length;i++)r.push(-t.length+i);for(r=Array.isArray(r)?r:[r],t=D(t,e.data.length-1),r=D(r,e.data.length-1),i=0;i<e.data.length;i++)-1===t.indexOf(i)&&a.push(e.data[i]);for(i=0;i<t.length;i++)s.push({newIndex:r[i],trace:e.data[t[i]]});for(s.sort((function(e,t){return e.newIndex-t.newIndex})),i=0;i<s.length;i+=1)a.splice(s[i].newIndex,0,s[i].trace);e.data=a;var h=n.redraw(e);return u.add(e,l,f,c,d),h}function K(e,t,r,i){e=o.getGraphDiv(e),k.clearPromiseQueue(e);var a={};if("string"===typeof t)a[t]=r;else{if(!o.isPlainObject(t))return o.warn("Restyle fail.",t,r,i),Promise.reject();a=o.extendFlat({},t),void 0===i&&(i=r)}Object.keys(a).length&&(e.changed=!0);var s=k.coerceTraceIndices(e,i),l=ne(e,a,s),c=l.flags;c.calc&&(e.calcdata=void 0),c.clearAxisTypes&&k.clearAxisTypes(e,s,{});var f=[];c.fullReplot?f.push(n.plot):(f.push(d.previousPromises),d.supplyDefaults(e),c.markerSize&&(d.doCalcdata(e),oe(f)),c.style&&f.push(M.doTraceStyle),c.colorbars&&f.push(M.doColorBars),f.push(C)),f.push(d.rehover,d.redrag),u.add(e,K,[e,l.undoit,l.traces],K,[e,l.redoit,l.traces]);var h=o.syncOrAsync(f,e);return h&&h.then||(h=Promise.resolve()),h.then((function(){return e.emit("plotly_restyle",l.eventData),e}))}function Q(e){return void 0===e?null:e}function J(e,t){return t?function(t,n,r){var i=s(t,n),a=i.set;return i.set=function(t){ee((r||"")+n,i.get(),t,e),a(t)},i}:s}function ee(e,t,n,r){if(Array.isArray(t)||Array.isArray(n))for(var i=Array.isArray(t)?t:[],a=Array.isArray(n)?n:[],s=Math.max(i.length,a.length),l=0;l<s;l++)ee(e+"["+l+"]",i[l],a[l],r);else if(o.isPlainObject(t)||o.isPlainObject(n)){var u=o.isPlainObject(t)?t:{},c=o.isPlainObject(n)?n:{},f=o.extendFlat({},u,c);for(var d in f)ee(e+"."+d,u[d],c[d],r)}else void 0===r[e]&&(r[e]=Q(t))}function te(e,t,n){for(var r in n)ee(r,s(e,r).get(),n[r],t)}function ne(e,t,n){var r,i=e._fullLayout,a=e._fullData,l=e.data,u=i._guiEditing,h=J(i._preGUI,u),g=o.extendDeepAll({},t);re(t);var v,m=T.traceFlags(),y={},b={};function x(){return n.map((function(){}))}function _(e){var t=p.id2name(e);-1===v.indexOf(t)&&v.push(t)}function w(e){return"LAYOUT"+e+".autorange"}function M(e){return"LAYOUT"+e+".range"}function A(e){for(var t=e;t<a.length;t++)if(a[t]._input===l[e])return a[t]}function E(r,a,o){if(Array.isArray(r))r.forEach((function(e){E(e,a,o)}));else if(!(r in t)&&!k.hasParent(t,r)){var s;if("LAYOUT"===r.substr(0,6))s=h(e.layout,r.replace("LAYOUT",""));else{var c=n[o];s=J(i._tracePreGUI[A(c)._fullInput.uid],u)(l[c],r)}r in b||(b[r]=x()),void 0===b[r][o]&&(b[r][o]=Q(s.get())),void 0!==a&&s.set(a)}}function S(e){return function(t){return a[t][e]}}function O(e){return function(t,r){return!1===t?a[n[r]][e]:null}}for(var C in t){if(k.hasParent(t,C))throw new Error("cannot set "+C+" and a parent attribute simultaneously");var L,R,P,j,z,I,N=t[C];if("autobinx"!==C&&"autobiny"!==C||(C=C.charAt(C.length-1)+"bins",N=Array.isArray(N)?N.map(O(C)):!1===N?n.map(S(C)):null),y[C]=N,"LAYOUT"!==C.substr(0,6)){for(b[C]=x(),r=0;r<n.length;r++)if(L=l[n[r]],R=A(n[r]),j=(P=J(i._tracePreGUI[R._fullInput.uid],u)(L,C)).get(),void 0!==(z=Array.isArray(N)?N[r%N.length]:N)){var D=P.parts[P.parts.length-1],F=C.substr(0,C.length-D.length-1),B=F?F+".":"",U=F?s(R,F).get():R;if((I=f.getTraceValObject(R,P.parts))&&I.impliedEdits&&null!==z)for(var V in I.impliedEdits)E(o.relativeAttr(C,V),I.impliedEdits[V],r);else if("thicknessmode"!==D&&"lenmode"!==D||j===z||"fraction"!==z&&"pixels"!==z||!U){if("type"===C&&("pie"===z!==("pie"===j)||"funnelarea"===z!==("funnelarea"===j))){var H="x",q="y";"bar"!==z&&"bar"!==j||"h"!==L.orientation||(H="y",q="x"),o.swapAttrs(L,["?","?src"],"labels",H),o.swapAttrs(L,["d?","?0"],"label",H),o.swapAttrs(L,["?","?src"],"values",q),"pie"===j||"funnelarea"===j?(s(L,"marker.color").set(s(L,"marker.colors").get()),i._pielayer.selectAll("g.trace").remove()):c.traceIs(L,"cartesian")&&s(L,"marker.colors").set(s(L,"marker.color").get())}}else{var W=i._size,G=U.orient,X="top"===G||"bottom"===G;if("thicknessmode"===D){var Y=X?W.h:W.w;E(B+"thickness",U.thickness*("fraction"===z?1/Y:Y),r)}else{var Z=X?W.w:W.h;E(B+"len",U.len*("fraction"===z?1/Z:Z),r)}}if(b[C][r]=Q(j),-1!==["swapxy","swapxyaxes","orientation","orientationaxes"].indexOf(C)){if("orientation"===C){P.set(z);var $=L.x&&!L.y?"h":"v";if((P.get()||$)===R.orientation)continue}else"orientationaxes"===C&&(L.orientation={v:"h",h:"v"}[R.orientation]);k.swapXYData(L),m.calc=m.clearAxisTypes=!0}else-1!==d.dataArrayContainers.indexOf(P.parts[0])?(k.manageArrayContainers(P,z,b),m.calc=!0):(I?I.arrayOk&&!c.traceIs(R,"regl")&&(o.isArrayOrTypedArray(z)||o.isArrayOrTypedArray(j))?m.calc=!0:T.update(m,I):m.calc=!0,P.set(z))}if(-1!==["swapxyaxes","orientationaxes"].indexOf(C)&&p.swap(e,n),"orientationaxes"===C){var K=s(e.layout,"hovermode"),ee=K.get();"x"===ee?K.set("y"):"y"===ee?K.set("x"):"x unified"===ee?K.set("y unified"):"y unified"===ee&&K.set("x unified")}if(-1!==["orientation","type"].indexOf(C)){for(v=[],r=0;r<n.length;r++){var te=l[n[r]];c.traceIs(te,"cartesian")&&(_(te.xaxis||"x"),_(te.yaxis||"y"))}E(v.map(w),!0,0),E(v.map(M),[0,1],0)}}else P=h(e.layout,C.replace("LAYOUT","")),b[C]=[Q(P.get())],P.set(Array.isArray(N)?N[0]:N),m.calc=!0}return(m.calc||m.plot)&&(m.fullReplot=!0),{flags:m,undoit:b,redoit:y,traces:n,eventData:o.extendDeepNoArrays([],[g,n])}}function re(e){var t,n,r,i=o.counterRegex("axis",".title",!1,!1),a=/colorbar\.title$/,s=Object.keys(e);for(t=0;t<s.length;t++)n=s[t],r=e[n],"title"!==n&&!i.test(n)&&!a.test(n)||"string"!==typeof r&&"number"!==typeof r?n.indexOf("titlefont")>-1?l(n,n.replace("titlefont","title.font")):n.indexOf("titleposition")>-1?l(n,n.replace("titleposition","title.position")):n.indexOf("titleside")>-1?l(n,n.replace("titleside","title.side")):n.indexOf("titleoffset")>-1&&l(n,n.replace("titleoffset","title.offset")):l(n,n.replace("title","title.text"));function l(t,n){e[n]=e[t],delete e[t]}}function ie(e,t,n){if(e=o.getGraphDiv(e),k.clearPromiseQueue(e),e.framework&&e.framework.isPolar)return Promise.resolve(e);var r={};if("string"===typeof t)r[t]=n;else{if(!o.isPlainObject(t))return o.warn("Relayout fail.",t,n),Promise.reject();r=o.extendFlat({},t)}Object.keys(r).length&&(e.changed=!0);var i=ce(e,r),a=i.flags;a.calc&&(e.calcdata=void 0);var s=[d.previousPromises];a.layoutReplot?s.push(M.layoutReplot):Object.keys(r).length&&(ae(e,a,i)||d.supplyDefaults(e),a.legend&&s.push(M.doLegend),a.layoutstyle&&s.push(M.layoutStyles),a.axrange&&oe(s,i.rangesAltered),a.ticks&&s.push(M.doTicksRelayout),a.modebar&&s.push(M.doModeBar),a.camera&&s.push(M.doCamera),a.colorbars&&s.push(M.doColorBars),s.push(C)),s.push(d.rehover,d.redrag),u.add(e,ie,[e,i.undoit],ie,[e,i.redoit]);var l=o.syncOrAsync(s,e);return l&&l.then||(l=Promise.resolve(e)),l.then((function(){return e.emit("plotly_relayout",i.eventData),e}))}function ae(e,t,n){var r=e._fullLayout;if(!t.axrange)return!1;for(var i in t)if("axrange"!==i&&t[i])return!1;for(var a in n.rangesAltered){var o=p.id2name(a),s=e.layout[o],l=r[o];if(l.autorange=s.autorange,s.range&&(l.range=s.range.slice()),l.cleanRange(),l._matchGroup)for(var u in l._matchGroup)if(u!==a){var c=r[p.id2name(u)];c.autorange=l.autorange,c.range=l.range.slice(),c._input.range=l.range.slice()}}return!0}function oe(e,t){var n=t?function(e){var n=[],r=!0;for(var i in t){var a=p.getFromId(e,i);if(n.push(i),-1!==(a.ticklabelposition||"").indexOf("inside")&&a._anchorAxis&&n.push(a._anchorAxis._id),a._matchGroup)for(var o in a._matchGroup)t[o]||n.push(o);a.automargin&&(r=!1)}return p.draw(e,n,{skipTitle:r})}:function(e){return p.draw(e,"redraw")};e.push(x,M.doAutoRangeAndConstraints,n,M.drawData,M.finalDraw)}var se=/^[xyz]axis[0-9]*\.range(\[[0|1]\])?$/,le=/^[xyz]axis[0-9]*\.autorange$/,ue=/^[xyz]axis[0-9]*\.domain(\[[0|1]\])?$/;function ce(e,t){var n,r,i,a=e.layout,l=e._fullLayout,u=l._guiEditing,d=J(l._preGUI,u),h=Object.keys(t),g=p.list(e),v=o.extendDeepAll({},t),m={};for(re(t),h=Object.keys(t),r=0;r<h.length;r++)if(0===h[r].indexOf("allaxes")){for(i=0;i<g.length;i++){var y=g[i]._id.substr(1),b=-1!==y.indexOf("scene")?y+".":"",x=h[r].replace("allaxes",b+g[i]._name);t[x]||(t[x]=t[h[r]])}delete t[h[r]]}var _=T.layoutFlags(),M={},E={};function S(e,n){if(Array.isArray(e))e.forEach((function(e){S(e,n)}));else if(!(e in t)&&!k.hasParent(t,e)){var r=d(a,e);e in E||(E[e]=Q(r.get())),void 0!==n&&r.set(n)}}var O,C={};function L(e){var t=p.name2id(e.split(".")[0]);return C[t]=1,t}for(var R in t){if(k.hasParent(t,R))throw new Error("cannot set "+R+" and a parent attribute simultaneously");for(var P=d(a,R),j=t[R],z=P.parts.length-1;z>0&&"string"!==typeof P.parts[z];)z--;var I=P.parts[z],N=P.parts[z-1]+"."+I,D=P.parts.slice(0,z).join("."),F=s(e.layout,D).get(),B=s(l,D).get(),U=P.get();if(void 0!==j){M[R]=j,E[R]="reverse"===I?j:Q(U);var V=f.getLayoutValObject(l,P.parts);if(V&&V.impliedEdits&&null!==j)for(var H in V.impliedEdits)S(o.relativeAttr(R,H),V.impliedEdits[H]);if(-1!==["width","height"].indexOf(R))if(j){S("autosize",null);var q="height"===R?"width":"height";S(q,l[q])}else l[R]=e._initialAutoSize[R];else if("autosize"===R)S("width",j?null:l.width),S("height",j?null:l.height);else if(N.match(se))L(N),s(l,D+"._inputRange").set(null);else if(N.match(le)){L(N),s(l,D+"._inputRange").set(null);var W=s(l,D).get();W._inputDomain&&(W._input.domain=W._inputDomain.slice())}else N.match(ue)&&s(l,D+"._inputDomain").set(null);if("type"===I){O=F;var G="linear"===B.type&&"log"===j,X="log"===B.type&&"linear"===j;if(G||X){if(O&&O.range)if(B.autorange)G&&(O.range=O.range[1]>O.range[0]?[1,2]:[2,1]);else{var Y=O.range[0],Z=O.range[1];G?(Y<=0&&Z<=0&&S(D+".autorange",!0),Y<=0?Y=Z/1e6:Z<=0&&(Z=Y/1e6),S(D+".range[0]",Math.log(Y)/Math.LN10),S(D+".range[1]",Math.log(Z)/Math.LN10)):(S(D+".range[0]",Math.pow(10,Y)),S(D+".range[1]",Math.pow(10,Z)))}else S(D+".autorange",!0);Array.isArray(l._subplots.polar)&&l._subplots.polar.length&&l[P.parts[0]]&&"radialaxis"===P.parts[1]&&delete l[P.parts[0]]._subplot.viewInitial["radialaxis.range"],c.getComponentMethod("annotations","convertCoords")(e,B,j,S),c.getComponentMethod("images","convertCoords")(e,B,j,S)}else S(D+".autorange",!0),S(D+".range",null);s(l,D+"._inputRange").set(null)}else if(I.match(A)){var $=s(l,R).get(),K=(j||{}).type;K&&"-"!==K||(K="linear"),c.getComponentMethod("annotations","convertCoords")(e,$,K,S),c.getComponentMethod("images","convertCoords")(e,$,K,S)}var ee=w.containerArrayMatch(R);if(ee){n=ee.array,r=ee.index;var te=ee.property,ne=V||{editType:"calc"};""!==r&&""===te&&(w.isAddVal(j)?E[R]=null:w.isRemoveVal(j)?E[R]=(s(a,n).get()||[])[r]:o.warn("unrecognized full object value",t)),T.update(_,ne),m[n]||(m[n]={});var ie=m[n][r];ie||(ie=m[n][r]={}),ie[te]=j,delete t[R]}else"reverse"===I?(F.range?F.range.reverse():(S(D+".autorange",!0),F.range=[1,0]),B.autorange?_.calc=!0:_.plot=!0):(l._has("scatter-like")&&l._has("regl")&&"dragmode"===R&&("lasso"===j||"select"===j)&&"lasso"!==U&&"select"!==U||l._has("gl2d")?_.plot=!0:V?T.update(_,V):_.calc=!0,P.set(j))}}for(n in m)w.applyContainerArrayChanges(e,d(a,n),m[n],_,d)||(_.plot=!0);for(var ae in C){var oe=(O=p.getFromId(e,ae))&&O._constraintGroup;if(oe)for(var ce in _.calc=!0,oe)C[ce]||(p.getFromId(e,ce)._constraintShrinkable=!0)}return(fe(e)||t.height||t.width)&&(_.plot=!0),(_.plot||_.calc)&&(_.layoutReplot=!0),{flags:_,rangesAltered:C,undoit:E,redoit:M,eventData:v}}function fe(e){var t=e._fullLayout,n=t.width,r=t.height;return e.layout.autosize&&d.plotAutoSize(e,e.layout,t),t.width!==n||t.height!==r}function de(e,t,r,i){if(e=o.getGraphDiv(e),k.clearPromiseQueue(e),e.framework&&e.framework.isPolar)return Promise.resolve(e);o.isPlainObject(t)||(t={}),o.isPlainObject(r)||(r={}),Object.keys(t).length&&(e.changed=!0),Object.keys(r).length&&(e.changed=!0);var a=k.coerceTraceIndices(e,i),s=ne(e,o.extendFlat({},t),a),l=s.flags,c=ce(e,o.extendFlat({},r)),f=c.flags;(l.calc||f.calc)&&(e.calcdata=void 0),l.clearAxisTypes&&k.clearAxisTypes(e,a,r);var h=[];f.layoutReplot?h.push(M.layoutReplot):l.fullReplot?h.push(n.plot):(h.push(d.previousPromises),ae(e,f,c)||d.supplyDefaults(e),l.style&&h.push(M.doTraceStyle),(l.colorbars||f.colorbars)&&h.push(M.doColorBars),f.legend&&h.push(M.doLegend),f.layoutstyle&&h.push(M.layoutStyles),f.axrange&&oe(h,c.rangesAltered),f.ticks&&h.push(M.doTicksRelayout),f.modebar&&h.push(M.doModeBar),f.camera&&h.push(M.doCamera),h.push(C)),h.push(d.rehover,d.redrag),u.add(e,de,[e,s.undoit,c.undoit,s.traces],de,[e,s.redoit,c.redoit,s.traces]);var p=o.syncOrAsync(h,e);return p&&p.then||(p=Promise.resolve(e)),p.then((function(){return e.emit("plotly_update",{data:s.eventData,layout:c.eventData}),e}))}function he(e){return function(t){t._fullLayout._guiEditing=!0;var n=e.apply(null,arguments);return t._fullLayout._guiEditing=!1,n}}var pe=[{pattern:/^hiddenlabels/,attr:"legend.uirevision"},{pattern:/^((x|y)axis\d*)\.((auto)?range|title\.text)/},{pattern:/axis\d*\.showspikes$/,attr:"modebar.uirevision"},{pattern:/(hover|drag)mode$/,attr:"modebar.uirevision"},{pattern:/^(scene\d*)\.camera/},{pattern:/^(geo\d*)\.(projection|center|fitbounds)/},{pattern:/^(ternary\d*\.[abc]axis)\.(min|title\.text)$/},{pattern:/^(polar\d*\.radialaxis)\.((auto)?range|angle|title\.text)/},{pattern:/^(polar\d*\.angularaxis)\.rotation/},{pattern:/^(mapbox\d*)\.(center|zoom|bearing|pitch)/},{pattern:/^legend\.(x|y)$/,attr:"editrevision"},{pattern:/^(shapes|annotations)/,attr:"editrevision"},{pattern:/^title\.text$/,attr:"editrevision"}],ge=[{pattern:/^selectedpoints$/,attr:"selectionrevision"},{pattern:/(^|value\.)visible$/,attr:"legend.uirevision"},{pattern:/^dimensions\[\d+\]\.constraintrange/},{pattern:/^node\.(x|y|groups)/},{pattern:/^level$/},{pattern:/(^|value\.)name$/},{pattern:/colorbar\.title\.text$/},{pattern:/colorbar\.(x|y)$/,attr:"editrevision"}];function ve(e,t){for(var n=0;n<t.length;n++){var r=t[n],i=e.match(r.pattern);if(i)return{head:i[1],attr:r.attr}}}function me(e,t){var n=s(t,e).get();if(void 0!==n)return n;var r=e.split(".");for(r.pop();r.length>1;)if(r.pop(),void 0!==(n=s(t,r.join(".")+".uirevision").get()))return n;return t.uirevision}function ye(e,t){for(var n=0;n<t.length;n++)if(t[n]._fullInput.uid===e)return n;return-1}function be(e,t,n){for(var r=0;r<t.length;r++)if(t[r].uid===e)return r;return!t[n]||t[n].uid?-1:n}function xe(e,t){var n=o.isPlainObject(e),r=Array.isArray(e);return n||r?(n&&o.isPlainObject(t)||r&&Array.isArray(t))&&JSON.stringify(e)===JSON.stringify(t):e===t}function _e(e,t,n,r){var i,a,l,u,c,f,d,h,p=r._preGUI,g=[],v={};for(i in p){if(c=ve(i,pe)){if(a=c.attr||c.head+".uirevision",(u=(l=s(r,a).get())&&me(a,t))&&u===l&&(null===(f=p[i])&&(f=void 0),xe(h=(d=s(t,i)).get(),f))){void 0===h&&"autorange"===i.substr(i.length-9)&&g.push(i.substr(0,i.length-10)),d.set(Q(s(r,i).get()));continue}}else o.warn("unrecognized GUI edit: "+i);delete p[i],"range["===i.substr(i.length-8,6)&&(v[i.substr(0,i.length-9)]=1)}for(var m=0;m<g.length;m++){var y=g[m];if(v[y]){var b=s(t,y).get();b&&delete b.autorange}}var x=r._tracePreGUI;for(var _ in x){var w,k=x[_],M=null;for(i in k){if(!M){var T=ye(_,n);if(T<0){delete x[_];break}var A=be(_,e,(w=n[T]._fullInput).index);if(A<0){delete x[_];break}M=e[A]}if(c=ve(i,ge)){if(c.attr?u=(l=s(r,c.attr).get())&&me(c.attr,t):(l=w.uirevision,void 0===(u=M.uirevision)&&(u=t.uirevision)),u&&u===l&&(null===(f=k[i])&&(f=void 0),xe(h=(d=s(M,i)).get(),f))){d.set(Q(s(w,i).get()));continue}}else o.warn("unrecognized GUI edit: "+i+" in trace uid "+_);delete k[i]}}}function we(e,t,r,i){var a,s;function l(){return n.addFrames(e,a)}e=o.getGraphDiv(e),k.clearPromiseQueue(e);var u=e._fullData,f=e._fullLayout;if(o.isPlotDiv(e)&&u&&f){if(o.isPlainObject(t)){var h=t;t=h.data,r=h.layout,i=h.config,a=h.frames}var p=!1;if(i){var g=o.extendDeep({},e._context);e._context=void 0,j(e,i),p=Ae(g,e._context)}e.data=t||[],k.cleanData(e.data),e.layout=r||{},k.cleanLayout(e.layout),_e(e.data,e.layout,u,f),d.supplyDefaults(e,{skipUpdateCalc:!0});var v=e._fullData,m=e._fullLayout,y=void 0===m.datarevision,b=m.transition,x=Me(e,f,m,y,b),_=x.newDataRevision,w=ke(e,u,v,y,b,_);if(fe(e)&&(x.layoutReplot=!0),w.calc||x.calc){e.calcdata=void 0;for(var T=Object.getOwnPropertyNames(m),A=0;A<T.length;A++){var E=T[A],S=E.substring(0,5);if("xaxis"===S||"yaxis"===S){var O=m[E]._emptyCategories;O&&O()}}}else d.supplyDefaultsUpdateCalc(e.calcdata,v);var L=[];if(a&&(e._transitionData={},d.createTransitionData(e),L.push(l)),m.transition&&!p&&(w.anim||x.anim))x.ticks&&L.push(M.doTicksRelayout),d.doCalcdata(e),M.doAutoRangeAndConstraints(e),L.push((function(){return d.transitionFromReact(e,w,x,f)}));else if(w.fullReplot||x.layoutReplot||p)e._fullLayout._skipDefaults=!0,L.push(n.plot);else{for(var R in x.arrays){var P=x.arrays[R];if(P.length){var z=c.getComponentMethod(R,"drawOne");if(z!==o.noop)for(var I=0;I<P.length;I++)z(e,P[I]);else{var N=c.getComponentMethod(R,"draw");if(N===o.noop)throw new Error("cannot draw components: "+R);N(e)}}}L.push(d.previousPromises),w.style&&L.push(M.doTraceStyle),(w.colorbars||x.colorbars)&&L.push(M.doColorBars),x.legend&&L.push(M.doLegend),x.layoutstyle&&L.push(M.layoutStyles),x.axrange&&oe(L),x.ticks&&L.push(M.doTicksRelayout),x.modebar&&L.push(M.doModeBar),x.camera&&L.push(M.doCamera),L.push(C)}L.push(d.rehover,d.redrag),(s=o.syncOrAsync(L,e))&&s.then||(s=Promise.resolve(e))}else s=n.newPlot(e,t,r,i);return s.then((function(){return e.emit("plotly_react",{data:t,layout:r}),e}))}function ke(e,t,n,r,i,a){var o=t.length===n.length;if(!i&&!o)return{fullReplot:!0,calc:!0};var s,l,u=T.traceFlags();function c(e){var t=f.getTraceValObject(l,e);return!l._module.animatable&&t.anim&&(t.anim=!1),t}u.arrays={},u.nChanges=0,u.nChangesAnim=0;var h={getValObject:c,flags:u,immutable:r,transition:i,newDataRevision:a,gd:e},p={};for(s=0;s<t.length;s++)if(n[s]){if(l=n[s]._fullInput,d.hasMakesDataTransform(l)&&(l=n[s]),p[l.uid])continue;p[l.uid]=1,Te(t[s]._fullInput,l,[],h)}return(u.calc||u.plot)&&(u.fullReplot=!0),i&&u.nChanges&&u.nChangesAnim&&(u.anim=u.nChanges===u.nChangesAnim&&o?"all":"some"),u}function Me(e,t,n,r,i){var a=T.layoutFlags();function o(e){return f.getLayoutValObject(n,e)}return a.arrays={},a.rangesAltered={},a.nChanges=0,a.nChangesAnim=0,Te(t,n,[],{getValObject:o,flags:a,immutable:r,transition:i,gd:e}),(a.plot||a.calc)&&(a.layoutReplot=!0),i&&a.nChanges&&a.nChangesAnim&&(a.anim=a.nChanges===a.nChangesAnim?"all":"some"),a}function Te(e,t,n,r){var i,a,l,u=r.getValObject,c=r.flags,f=r.immutable,d=r.inArray,h=r.arrayIndex;function p(){var e=i.editType;d&&-1!==e.indexOf("arraydraw")?o.pushUnique(c.arrays[d],h):(T.update(c,i),"none"!==e&&c.nChanges++,r.transition&&i.anim&&c.nChangesAnim++,(se.test(l)||le.test(l))&&(c.rangesAltered[n[0]]=1),ue.test(l)&&s(t,"_inputDomain").set(null),"datarevision"===a&&(c.newDataRevision=1))}function g(e){return"data_array"===e.valType||e.arrayOk}for(a in e){if(c.calc&&!r.transition)return;var v=e[a],m=t[a],y=n.concat(a);if(l=y.join("."),"_"!==a.charAt(0)&&"function"!==typeof v&&v!==m){if(("tick0"===a||"dtick"===a)&&"geo"!==n[0]){var b=t.tickmode;if("auto"===b||"array"===b||!b)continue}if(("range"!==a||!t.autorange)&&("zmin"!==a&&"zmax"!==a||"contourcarpet"!==t.type)&&(i=u(y))&&(!i._compareAsJSON||JSON.stringify(v)!==JSON.stringify(m))){var x,_=i.valType,w=g(i),k=Array.isArray(v),M=Array.isArray(m);if(k&&M){var A="_input_"+a,E=e[A],S=t[A];if(Array.isArray(E)&&E===S)continue}if(void 0===m)w&&k?c.calc=!0:p();else if(i._isLinkedToArray){var O=[],C=!1;d||(c.arrays[a]=O);var L=Math.min(v.length,m.length),R=Math.max(v.length,m.length);if(L!==R){if("arraydraw"!==i.editType){p();continue}C=!0}for(x=0;x<L;x++)Te(v[x],m[x],y.concat(x),o.extendFlat({inArray:a,arrayIndex:x},r));if(C)for(x=L;x<R;x++)O.push(x)}else!_&&o.isPlainObject(v)?Te(v,m,y,r):w?k&&M?(f&&(c.calc=!0),(f||r.newDataRevision)&&p()):k!==M?c.calc=!0:p():k&&M&&v.length===m.length&&String(v)===String(m)||p()}}}for(a in t)if(!(a in e)&&"_"!==a.charAt(0)&&"function"!==typeof t[a]){if(g(i=u(n.concat(a)))&&Array.isArray(t[a]))return void(c.calc=!0);p()}}function Ae(e,t){var n;for(n in e)if("_"!==n.charAt(0)){var r=e[n],i=t[n];if(r!==i)if(o.isPlainObject(r)&&o.isPlainObject(i)){if(Ae(r,i))return!0}else{if(!Array.isArray(r)||!Array.isArray(i))return!0;if(r.length!==i.length)return!0;for(var a=0;a<r.length;a++)if(r[a]!==i[a]){if(!o.isPlainObject(r[a])||!o.isPlainObject(i[a]))return!0;if(Ae(r[a],i[a]))return!0}}}}function Ee(e,t,n){if(e=o.getGraphDiv(e),!o.isPlotDiv(e))throw new Error("This element is not a Plotly plot: "+e+". It's likely that you've failed to create a plot before animating it. For more details, see https://plotly.com/javascript/animations/");var r=e._transitionData;r._frameQueue||(r._frameQueue=[]);var i=(n=d.supplyAnimationDefaults(n)).transition,a=n.frame;function s(e){return Array.isArray(i)?e>=i.length?i[0]:i[e]:i}function l(e){return Array.isArray(a)?e>=a.length?a[0]:a[e]:a}function u(e,t){var n=0;return function(){if(e&&++n===t)return e()}}return void 0===r._frameWaitingCnt&&(r._frameWaitingCnt=0),new Promise((function(a,c){function f(){if(0!==r._frameQueue.length){for(;r._frameQueue.length;){var t=r._frameQueue.pop();t.onInterrupt&&t.onInterrupt()}e.emit("plotly_animationinterrupted",[])}}function h(t){if(0!==t.length){for(var i=0;i<t.length;i++){var o;o="byname"===t[i].type?d.computeFrame(e,t[i].name):t[i].data;var f=l(i),h=s(i);h.duration=Math.min(h.duration,f.duration);var p={frame:o,name:t[i].name,frameOpts:f,transitionOpts:h};i===t.length-1&&(p.onComplete=u(a,2),p.onInterrupt=c),r._frameQueue.push(p)}"immediate"===n.mode&&(r._lastFrameAt=-1/0),r._animationRaf||v()}}function p(){e.emit("plotly_animated"),window.cancelAnimationFrame(r._animationRaf),r._animationRaf=null}function g(){r._currentFrame&&r._currentFrame.onComplete&&r._currentFrame.onComplete();var t=r._currentFrame=r._frameQueue.shift();if(t){var n=t.name?t.name.toString():null;e._fullLayout._currentFrame=n,r._lastFrameAt=Date.now(),r._timeToNext=t.frameOpts.duration,d.transition(e,t.frame.data,t.frame.layout,k.coerceTraceIndices(e,t.frame.traces),t.frameOpts,t.transitionOpts).then((function(){t.onComplete&&t.onComplete()})),e.emit("plotly_animatingframe",{name:n,frame:t.frame,animation:{frame:t.frameOpts,transition:t.transitionOpts}})}else p()}function v(){e.emit("plotly_animating"),r._lastFrameAt=-1/0,r._timeToNext=0,r._runningTransitions=0,r._currentFrame=null,function e(){r._animationRaf=window.requestAnimationFrame(e),Date.now()-r._lastFrameAt>r._timeToNext&&g()}()}var m,y,b=0;function x(e){return Array.isArray(i)?b>=i.length?e.transitionOpts=i[b]:e.transitionOpts=i[0]:e.transitionOpts=i,b++,e}var _=[],w=void 0===t||null===t,M=Array.isArray(t);if(w||M||!o.isPlainObject(t)){if(w||-1!==["string","number"].indexOf(typeof t))for(m=0;m<r._frames.length;m++)(y=r._frames[m])&&(w||String(y.group)===String(t))&&_.push({type:"byname",name:String(y.name),data:x({name:y.name})});else if(M)for(m=0;m<t.length;m++){var T=t[m];-1!==["number","string"].indexOf(typeof T)?(T=String(T),_.push({type:"byname",name:T,data:x({name:T})})):o.isPlainObject(T)&&_.push({type:"object",data:x(o.extendFlat({},T))})}}else _.push({type:"object",data:x(o.extendFlat({},t))});for(m=0;m<_.length;m++)if("byname"===(y=_[m]).type&&!r._frameHash[y.data.name])return o.warn('animate failure: frame not found: "'+y.data.name+'"'),void c();-1!==["next","immediate"].indexOf(n.mode)&&f(),"reverse"===n.direction&&_.reverse();var A=e._fullLayout._currentFrame;if(A&&n.fromcurrent){var E=-1;for(m=0;m<_.length;m++)if("byname"===(y=_[m]).type&&y.name===A){E=m;break}if(E>0&&E<_.length-1){var S=[];for(m=0;m<_.length;m++)y=_[m],("byname"!==_[m].type||m>E)&&S.push(y);_=S}}_.length>0?h(_):(e.emit("plotly_animated"),a())}))}function Se(e,t,n){if(e=o.getGraphDiv(e),null===t||void 0===t)return Promise.resolve();if(!o.isPlotDiv(e))throw new Error("This element is not a Plotly plot: "+e+". It's likely that you've failed to create a plot before adding frames. For more details, see https://plotly.com/javascript/animations/");var r,i,a,s,l=e._transitionData._frames,c=e._transitionData._frameHash;if(!Array.isArray(t))throw new Error("addFrames failure: frameList must be an Array of frame definitions"+t);var f=l.length+2*t.length,h=[],p={};for(r=t.length-1;r>=0;r--)if(o.isPlainObject(t[r])){var g=t[r].name,v=(c[g]||p[g]||{}).name,m=t[r].name,y=c[v]||p[v];v&&m&&"number"===typeof m&&y&&E<S&&(E++,o.warn('addFrames: overwriting frame "'+(c[v]||p[v]).name+'" with a frame whose name of type "number" also equates to "'+v+'". This is valid but may potentially lead to unexpected behavior since all plotly.js frame names are stored internally as strings.'),E===S&&o.warn("addFrames: This API call has yielded too many of these warnings. For the rest of this call, further warnings about numeric frame names will be suppressed.")),p[g]={name:g},h.push({frame:d.supplyFrameDefaults(t[r]),index:n&&void 0!==n[r]&&null!==n[r]?n[r]:f+r})}h.sort((function(e,t){return e.index>t.index?-1:e.index<t.index?1:0}));var b=[],x=[],_=l.length;for(r=h.length-1;r>=0;r--){if("number"===typeof(i=h[r].frame).name&&o.warn("Warning: addFrames accepts frames with numeric names, but the numbers areimplicitly cast to strings"),!i.name)for(;c[i.name="frame "+e._transitionData._counter++];);if(c[i.name]){for(a=0;a<l.length&&(l[a]||{}).name!==i.name;a++);b.push({type:"replace",index:a,value:i}),x.unshift({type:"replace",index:a,value:l[a]})}else s=Math.max(0,Math.min(h[r].index,_)),b.push({type:"insert",index:s,value:i}),x.unshift({type:"delete",index:s}),_++}var w=d.modifyFrames,k=d.modifyFrames,M=[e,x],T=[e,b];return u&&u.add(e,w,M,k,T),d.modifyFrames(e,b)}function Oe(e,t){if(e=o.getGraphDiv(e),!o.isPlotDiv(e))throw new Error("This element is not a Plotly plot: "+e);var n,r,i=e._transitionData._frames,a=[],s=[];if(!t)for(t=[],n=0;n<i.length;n++)t.push(n);for((t=t.slice()).sort(),n=t.length-1;n>=0;n--)r=t[n],a.push({type:"delete",index:r}),s.unshift({type:"insert",index:r,value:i[r]});var l=d.modifyFrames,c=d.modifyFrames,f=[e,s],h=[e,a];return u&&u.add(e,l,f,c,h),d.modifyFrames(e,a)}function Ce(e){var t=(e=o.getGraphDiv(e))._fullLayout||{},n=e._fullData||[];return d.cleanPlot([],{},n,t),d.purge(e),l.purge(e),t._container&&t._container.remove(),delete e._context,e}function Le(e){var t=e._fullLayout,n=e.getBoundingClientRect();if(!o.equalDomRects(n,t._lastBBox)){var r=t._invTransform=o.inverseTransformMatrix(o.getFullTransformMatrix(e));t._invScaleX=Math.sqrt(r[0][0]*r[0][0]+r[0][1]*r[0][1]+r[0][2]*r[0][2]),t._invScaleY=Math.sqrt(r[1][0]*r[1][0]+r[1][1]*r[1][1]+r[1][2]*r[1][2]),t._lastBBox=n}}function Re(e){var t=r.select(e),n=e._fullLayout;if(n._calcInverseTransform=Le,n._calcInverseTransform(e),n._container=t.selectAll(".plot-container").data([0]),n._container.enter().insert("div",":first-child").classed("plot-container",!0).classed("plotly",!0),n._paperdiv=n._container.selectAll(".svg-container").data([0]),n._paperdiv.enter().append("div").classed("user-select-none",!0).classed("svg-container",!0).style("position","relative"),n._glcontainer=n._paperdiv.selectAll(".gl-container").data([{}]),n._glcontainer.enter().append("div").classed("gl-container",!0),n._paperdiv.selectAll(".main-svg").remove(),n._paperdiv.select(".modebar-container").remove(),n._paper=n._paperdiv.insert("svg",":first-child").classed("main-svg",!0),n._toppaper=n._paperdiv.append("svg").classed("main-svg",!0),n._modebardiv=n._paperdiv.append("div"),delete n._modeBar,n._hoverpaper=n._paperdiv.append("svg").classed("main-svg",!0),!n._uid){var i={};r.selectAll("defs").each((function(){this.id&&(i[this.id.split("-")[1]]=1)})),n._uid=o.randstr(i)}n._paperdiv.selectAll(".main-svg").attr(y.svgAttrs),n._defs=n._paper.append("defs").attr("id","defs-"+n._uid),n._clips=n._defs.append("g").classed("clips",!0),n._topdefs=n._toppaper.append("defs").attr("id","topdefs-"+n._uid),n._topclips=n._topdefs.append("g").classed("clips",!0),n._bgLayer=n._paper.append("g").classed("bglayer",!0),n._draggers=n._paper.append("g").classed("draglayer",!0);var a=n._paper.append("g").classed("layer-below",!0);n._imageLowerLayer=a.append("g").classed("imagelayer",!0),n._shapeLowerLayer=a.append("g").classed("shapelayer",!0),n._cartesianlayer=n._paper.append("g").classed("cartesianlayer",!0),n._polarlayer=n._paper.append("g").classed("polarlayer",!0),n._ternarylayer=n._paper.append("g").classed("ternarylayer",!0),n._geolayer=n._paper.append("g").classed("geolayer",!0),n._funnelarealayer=n._paper.append("g").classed("funnelarealayer",!0),n._pielayer=n._paper.append("g").classed("pielayer",!0),n._treemaplayer=n._paper.append("g").classed("treemaplayer",!0),n._sunburstlayer=n._paper.append("g").classed("sunburstlayer",!0),n._indicatorlayer=n._toppaper.append("g").classed("indicatorlayer",!0),n._glimages=n._paper.append("g").classed("glimages",!0);var s=n._toppaper.append("g").classed("layer-above",!0);n._imageUpperLayer=s.append("g").classed("imagelayer",!0),n._shapeUpperLayer=s.append("g").classed("shapelayer",!0),n._infolayer=n._toppaper.append("g").classed("infolayer",!0),n._menulayer=n._toppaper.append("g").classed("menulayer",!0),n._zoomlayer=n._toppaper.append("g").classed("zoomlayer",!0),n._hoverlayer=n._hoverpaper.append("g").classed("hoverlayer",!0),n._modebardiv.classed("modebar-container",!0).style("position","absolute").style("top","0px").style("right","0px"),e.emit("plotly_framework")}n.animate=Ee,n.addFrames=Se,n.deleteFrames=Oe,n.addTraces=Y,n.deleteTraces=Z,n.extendTraces=G,n.moveTraces=$,n.prependTraces=X,n.newPlot=N,n.plot=O,n.purge=Ce,n.react=we,n.redraw=I,n.relayout=ie,n.restyle=K,n.setPlotConfig=L,n.update=de,n._guiRelayout=he(ie),n._guiRestyle=he(K),n._guiUpdate=he(de),n._storeDirectGUIEdit=te},{"../components/color":394,"../components/drawing":416,"../constants/xmlns_namespaces":503,"../lib":524,"../lib/events":516,"../lib/queue":539,"../lib/svg_text_utils":548,"../plots/cartesian/axes":572,"../plots/cartesian/constants":578,"../plots/cartesian/graph_interact":581,"../plots/cartesian/select":591,"../plots/plots":617,"../plots/polar/legacy":620,"../registry":626,"./edit_types":554,"./helpers":555,"./manage_arrays":557,"./plot_config":559,"./plot_schema":560,"./subroutines":562,d3:82,"fast-isnumeric":91,"has-hover":267}],559:[function(e,t,n){"use strict";var r={staticPlot:{valType:"boolean",dflt:!1},plotlyServerURL:{valType:"string",dflt:""},editable:{valType:"boolean",dflt:!1},edits:{annotationPosition:{valType:"boolean",dflt:!1},annotationTail:{valType:"boolean",dflt:!1},annotationText:{valType:"boolean",dflt:!1},axisTitleText:{valType:"boolean",dflt:!1},colorbarPosition:{valType:"boolean",dflt:!1},colorbarTitleText:{valType:"boolean",dflt:!1},legendPosition:{valType:"boolean",dflt:!1},legendText:{valType:"boolean",dflt:!1},shapePosition:{valType:"boolean",dflt:!1},titleText:{valType:"boolean",dflt:!1}},autosizable:{valType:"boolean",dflt:!1},responsive:{valType:"boolean",dflt:!1},fillFrame:{valType:"boolean",dflt:!1},frameMargins:{valType:"number",dflt:0,min:0,max:.5},scrollZoom:{valType:"flaglist",flags:["cartesian","gl3d","geo","mapbox"],extras:[!0,!1],dflt:"gl3d+geo+mapbox"},doubleClick:{valType:"enumerated",values:[!1,"reset","autosize","reset+autosize"],dflt:"reset+autosize"},doubleClickDelay:{valType:"number",dflt:300,min:0},showAxisDragHandles:{valType:"boolean",dflt:!0},showAxisRangeEntryBoxes:{valType:"boolean",dflt:!0},showTips:{valType:"boolean",dflt:!0},showLink:{valType:"boolean",dflt:!1},linkText:{valType:"string",dflt:"Edit chart",noBlank:!0},sendData:{valType:"boolean",dflt:!0},showSources:{valType:"any",dflt:!1},displayModeBar:{valType:"enumerated",values:["hover",!0,!1],dflt:"hover"},showSendToCloud:{valType:"boolean",dflt:!1},showEditInChartStudio:{valType:"boolean",dflt:!1},modeBarButtonsToRemove:{valType:"any",dflt:[]},modeBarButtonsToAdd:{valType:"any",dflt:[]},modeBarButtons:{valType:"any",dflt:!1},toImageButtonOptions:{valType:"any",dflt:{}},displaylogo:{valType:"boolean",dflt:!0},watermark:{valType:"boolean",dflt:!1},plotGlPixelRatio:{valType:"number",dflt:2,min:1,max:4},setBackground:{valType:"any",dflt:"transparent"},topojsonURL:{valType:"string",noBlank:!0,dflt:"https://cdn.plot.ly/"},mapboxAccessToken:{valType:"string",dflt:null},logging:{valType:"integer",min:0,max:2,dflt:1},notifyOnLogging:{valType:"integer",min:0,max:2,dflt:0},queueLength:{valType:"integer",min:0,dflt:0},globalTransforms:{valType:"any",dflt:[]},locale:{valType:"string",dflt:"en-US"},locales:{valType:"any",dflt:{}}},i={};function a(e,t){for(var n in e){var r=e[n];r.valType?t[n]=r.dflt:(t[n]||(t[n]={}),a(r,t[n]))}}a(r,i),t.exports={configAttributes:r,dfltConfig:i}},{}],560:[function(e,t,n){"use strict";var r=e("../registry"),i=e("../lib"),a=e("../plots/attributes"),o=e("../plots/layout_attributes"),s=e("../plots/frame_attributes"),l=e("../plots/animation_attributes"),u=e("./plot_config").configAttributes,c=e("../plots/polar/legacy/area_attributes"),f=e("../plots/polar/legacy/axis_attributes"),d=e("./edit_types"),h=i.extendFlat,p=i.extendDeepAll,g=i.isPlainObject,v=i.isArrayOrTypedArray,m=i.nestedProperty,y=i.valObjectMeta,b="_isSubplotObj",x="_isLinkedToArray",_="_deprecated",w=[b,x,"_arrayAttrRegexps",_];function k(e,t){var n,i,a,s,l=e._basePlotModules;if(l){var u;for(n=0;n<l.length;n++){if((a=l[n]).attrRegex&&a.attrRegex.test(t)){if(a.layoutAttrOverrides)return a.layoutAttrOverrides;!u&&a.layoutAttributes&&(u=a.layoutAttributes)}var c=a.baseLayoutAttrOverrides;if(c&&t in c)return c[t]}if(u)return u}var d=e._modules;if(d)for(n=0;n<d.length;n++)if((s=d[n].layoutAttributes)&&t in s)return s[t];for(i in r.componentsRegistry){if("colorscale"===(a=r.componentsRegistry[i]).name&&0===t.indexOf("coloraxis"))return a.layoutAttributes[t];if(!a.schema&&t===a.name)return a.layoutAttributes}return t in o?o[t]:"radialaxis"===t||"angularaxis"===t?f[t]:f.layout[t]||!1}function M(e,t,n){if(!e)return!1;if(e._isLinkedToArray)if(T(t[n]))n++;else if(n<t.length)return!1;for(;n<t.length;n++){var r=e[t[n]];if(!g(r))break;if(e=r,n===t.length-1)break;if(e._isLinkedToArray){if(!T(t[++n]))return!1}else if("info_array"===e.valType){var i=t[++n];if(!T(i))return!1;var a=e.items;if(Array.isArray(a)){if(i>=a.length)return!1;if(2===e.dimensions){if(n++,t.length===n)return e;var o=t[n];if(!T(o))return!1;e=a[i][o]}else e=a[i]}else e=a}}return e}function T(e){return e===Math.round(e)&&e>=0}function A(e){var t,i;"area"===e?(t={attributes:c},i={}):i=(t=r.modules[e]._module).basePlotModule;var o={type:null},s=p({},a),l=p({},t.attributes);n.crawl(l,(function(e,t,n,r,i){m(s,i).set(void 0),void 0===e&&m(l,i).set(void 0)})),p(o,s),r.traceIs(e,"noOpacity")&&delete o.opacity,r.traceIs(e,"showLegend")||(delete o.showlegend,delete o.legendgroup),r.traceIs(e,"noHover")&&(delete o.hoverinfo,delete o.hoverlabel),t.selectPoints||delete o.selectedpoints,p(o,l),i.attributes&&p(o,i.attributes),o.type=e;var u={meta:t.meta||{},categories:t.categories||{},animatable:Boolean(t.animatable),type:e,attributes:C(o)};if(t.layoutAttributes){var f={};p(f,t.layoutAttributes),u.layoutAttributes=C(f)}return t.animatable||n.crawl(u,(function(e){n.isValObject(e)&&"anim"in e&&delete e.anim})),u}function E(){var e,t,n={};for(e in p(n,o),r.subplotsRegistry)if((t=r.subplotsRegistry[e]).layoutAttributes)if(Array.isArray(t.attr))for(var i=0;i<t.attr.length;i++)z(n,t,t.attr[i]);else z(n,t,"subplot"===t.attr?t.name:t.attr);for(e in n=j(n),r.componentsRegistry){var a=(t=r.componentsRegistry[e]).schema;if(a&&(a.subplots||a.layout)){var s=a.subplots;if(s&&s.xaxis&&!s.yaxis)for(var l in s.xaxis)delete n.yaxis[l]}else"colorscale"===t.name?p(n,t.layoutAttributes):t.layoutAttributes&&I(n,t.layoutAttributes,t.name)}return{layoutAttributes:C(n)}}function S(e){var t=r.transformsRegistry[e],n=p({},t.attributes);return Object.keys(r.componentsRegistry).forEach((function(t){var i=r.componentsRegistry[t];i.schema&&i.schema.transforms&&i.schema.transforms[e]&&Object.keys(i.schema.transforms[e]).forEach((function(t){I(n,i.schema.transforms[e][t],t)}))})),{attributes:C(n)}}function O(){var e={frames:p({},s)};return C(e),e.frames}function C(e){return L(e),R(e),P(e),e}function L(e){function t(e){return{valType:"string",editType:"none"}}function r(e,r,i){n.isValObject(e)?"data_array"===e.valType?(e.role="data",i[r+"src"]=t(r)):!0===e.arrayOk&&(i[r+"src"]=t(r)):g(e)&&(e.role="object")}n.crawl(e,r)}function R(e){function t(e,t,n){if(e){var r=e[x];r&&(delete e[x],n[t]={items:{}},n[t].items[r]=e,n[t].role="object")}}n.crawl(e,t)}function P(e){function t(e){for(var n in e)if(g(e[n]))t(e[n]);else if(Array.isArray(e[n]))for(var r=0;r<e[n].length;r++)t(e[n][r]);else e[n]instanceof RegExp&&(e[n]=e[n].toString())}t(e)}function j(e){return h(e,{radialaxis:f.radialaxis,angularaxis:f.angularaxis}),h(e,f.layout),e}function z(e,t,n){var r=m(e,n),i=p({},t.layoutAttributes);i[b]=!0,r.set(i)}function I(e,t,n){var r=m(e,n);r.set(p(r.get()||{},t))}n.IS_SUBPLOT_OBJ=b,n.IS_LINKED_TO_ARRAY=x,n.DEPRECATED=_,n.UNDERSCORE_ATTRS=w,n.get=function(){var e={};r.allTypes.concat("area").forEach((function(t){e[t]=A(t)}));var t={};return Object.keys(r.transformsRegistry).forEach((function(e){t[e]=S(e)})),{defs:{valObjects:y,metaKeys:w.concat(["description","role","editType","impliedEdits"]),editType:{traces:d.traces,layout:d.layout},impliedEdits:{}},traces:e,layout:E(),transforms:t,frames:O(),animation:C(l),config:C(u)}},n.crawl=function(e,t,r,i){var a=r||0;i=i||"",Object.keys(e).forEach((function(r){var o=e[r];if(-1===w.indexOf(r)){var s=(i?i+".":"")+r;t(o,r,e,a,s),n.isValObject(o)||g(o)&&"impliedEdits"!==r&&n.crawl(o,t,a+1,s)}}))},n.isValObject=function(e){return e&&void 0!==e.valType},n.findArrayAttributes=function(e){var t,r,i=[],o=[],s=[];function l(e,n,r,i){o=o.slice(0,i).concat([n]),s=s.slice(0,i).concat([e&&e._isLinkedToArray]),e&&("data_array"===e.valType||!0===e.arrayOk)&&("colorbar"!==o[i-1]||"ticktext"!==n&&"tickvals"!==n)&&u(t,0,"")}function u(e,t,n){var a=e[o[t]],l=n+o[t];if(t===o.length-1)v(a)&&i.push(r+l);else if(s[t]){if(Array.isArray(a))for(var c=0;c<a.length;c++)g(a[c])&&u(a[c],t+1,l+"["+c+"].")}else g(a)&&u(a,t+1,l+".")}t=e,r="",n.crawl(a,l),e._module&&e._module.attributes&&n.crawl(e._module.attributes,l);var c=e.transforms;if(c)for(var f=0;f<c.length;f++){var d=c[f],h=d._module;h&&(r="transforms["+f+"].",t=d,n.crawl(h.attributes,l))}return i},n.getTraceValObject=function(e,t){var n,i,o=t[0],s=1;if("transforms"===o){if(1===t.length)return a.transforms;var l=e.transforms;if(!Array.isArray(l)||!l.length)return!1;var u=t[1];if(!T(u)||u>=l.length)return!1;i=(n=(r.transformsRegistry[l[u].type]||{}).attributes)&&n[t[2]],s=3}else if("area"===e.type)i=c[o];else{var f=e._module;if(f||(f=(r.modules[e.type||a.type.dflt]||{})._module),!f)return!1;if(!(i=(n=f.attributes)&&n[o])){var d=f.basePlotModule;d&&d.attributes&&(i=d.attributes[o])}i||(i=a[o])}return M(i,t,s)},n.getLayoutValObject=function(e,t){return M(k(e,t[0]),t,1)}},{"../lib":524,"../plots/animation_attributes":566,"../plots/attributes":568,"../plots/frame_attributes":601,"../plots/layout_attributes":615,"../plots/polar/legacy/area_attributes":618,"../plots/polar/legacy/axis_attributes":619,"../registry":626,"./edit_types":554,"./plot_config":559}],561:[function(e,t,n){"use strict";var r=e("../lib"),i=e("../plots/attributes"),a="templateitemname",o={name:{valType:"string",editType:"none"}};function s(e){return e&&"string"===typeof e}function l(e){var t=e.length-1;return"s"!==e.charAt(t)&&r.warn("bad argument to arrayDefaultKey: "+e),e.substr(0,e.length-1)+"defaults"}o[a]={valType:"string",editType:"calc"},n.templatedArray=function(e,t){return t._isLinkedToArray=e,t.name=o.name,t[a]=o[a],t},n.traceTemplater=function(e){var t,n,a={};for(t in e)n=e[t],Array.isArray(n)&&n.length&&(a[t]=0);function o(o){var s={type:t=r.coerce(o,{},i,"type"),_template:null};if(t in a){n=e[t];var l=a[t]%n.length;a[t]++,s._template=n[l]}return s}return{newTrace:o}},n.newContainer=function(e,t,n){var i=e._template,a=i&&(i[t]||n&&i[n]);return r.isPlainObject(a)||(a=null),e[t]={_template:a}},n.arrayTemplater=function(e,t,n){var r=e._template,i=r&&r[l(t)],o=r&&r[t];Array.isArray(o)&&o.length||(o=[]);var u={};function c(e){var t={name:e.name,_input:e},r=t[a]=e[a];if(!s(r))return t._template=i,t;for(var l=0;l<o.length;l++){var c=o[l];if(c.name===r)return u[r]=1,t._template=c,t}return t[n]=e[n]||!1,t._template=!1,t}function f(){for(var e=[],t=0;t<o.length;t++){var n=o[t],r=n.name;if(s(r)&&!u[r]){var i={_template:n,name:r,_input:{_templateitemname:r}};i[a]=n[a],e.push(i),u[r]=1}}return e}return{newItem:c,defaultItems:f}},n.arrayDefaultKey=l,n.arrayEditor=function(e,t,n){var i=(r.nestedProperty(e,t).get()||[]).length,o=n._index,s=o>=i&&(n._input||{})._templateitemname;s&&(o=i);var l,u=t+"["+o+"]";function c(){l={},s&&(l[u]={},l[u][a]=s)}function f(e,t){l[e]=t}function d(e,t){s?r.nestedProperty(l[u],e).set(t):l[u+"."+e]=t}function h(){var e=l;return c(),e}function p(t,n){t&&d(t,n);var i=h();for(var a in i)r.nestedProperty(e,a).set(i[a])}return c(),{modifyBase:f,modifyItem:d,getUpdateObj:h,applyUpdate:p}}},{"../lib":524,"../plots/attributes":568}],562:[function(e,t,n){"use strict";var r=e("d3"),i=e("../registry"),a=e("../plots/plots"),o=e("../lib"),s=e("../lib/clear_gl_canvases"),l=e("../components/color"),u=e("../components/drawing"),c=e("../components/titles"),f=e("../components/modebar"),d=e("../plots/cartesian/axes"),h=e("../constants/alignment"),p=e("../plots/cartesian/constraints"),g=p.enforce,v=p.clean,m=e("../plots/cartesian/autorange").doAutoRange,y="start",b="middle",x="end";function _(e,t,n){for(var r=0;r<n.length;r++){var i=n[r][0],a=n[r][1];if(!(i[0]>=e[1]||i[1]<=e[0])&&a[0]<t[1]&&a[1]>t[0])return!0}return!1}function w(e){var t,i,s,c,p,g,v=e._fullLayout,m=v._size,y=m.p,b=d.list(e,"",!0);if(v._paperdiv.style({width:e._context.responsive&&v.autosize&&!e._context._hasZeroWidth&&!e.layout.width?"100%":v.width+"px",height:e._context.responsive&&v.autosize&&!e._context._hasZeroHeight&&!e.layout.height?"100%":v.height+"px"}).selectAll(".main-svg").call(u.setSize,v.width,v.height),e._context.setBackground(e,v.paper_bgcolor),n.drawMainTitle(e),f.manage(e),!v._has("cartesian"))return a.previousPromises(e);function x(e,t,n){var r=e._lw/2;return"x"===e._id.charAt(0)?t?"top"===n?t._offset-y-r:t._offset+t._length+y+r:m.t+m.h*(1-(e.position||0))+r%1:t?"right"===n?t._offset+t._length+y+r:t._offset-y-r:m.l+m.w*(e.position||0)+r%1}for(t=0;t<b.length;t++){var w=(c=b[t])._anchorAxis;c._linepositions={},c._lw=u.crispRound(e,c.linewidth,1),c._mainLinePosition=x(c,w,c.side),c._mainMirrorPosition=c.mirror&&w?x(c,w,h.OPPOSITE_SIDE[c.side]):null}var M=[],A=[],E=[],S=1===l.opacity(v.paper_bgcolor)&&1===l.opacity(v.plot_bgcolor)&&v.paper_bgcolor===v.plot_bgcolor;for(i in v._plots)if((s=v._plots[i]).mainplot)s.bg&&s.bg.remove(),s.bg=void 0;else{var O=s.xaxis.domain,C=s.yaxis.domain,L=s.plotgroup;if(_(O,C,E)){var R=L.node(),P=s.bg=o.ensureSingle(L,"rect","bg");R.insertBefore(P.node(),R.childNodes[0]),A.push(i)}else L.select("rect.bg").remove(),E.push([O,C]),S||(M.push(i),A.push(i))}var j,z,I,N,D,F,B,U,V,H,q,W,G,X=v._bgLayer.selectAll(".bg").data(M);for(X.enter().append("rect").classed("bg",!0),X.exit().remove(),X.each((function(e){v._plots[e].bg=r.select(this)})),t=0;t<A.length;t++)s=v._plots[A[t]],p=s.xaxis,g=s.yaxis,s.bg&&void 0!==p._offset&&void 0!==g._offset&&s.bg.call(u.setRect,p._offset-y,g._offset-y,p._length+2*y,g._length+2*y).call(l.fill,v.plot_bgcolor).style("stroke-width",0);if(!v._hasOnlyLargeSploms)for(i in v._plots){s=v._plots[i],p=s.xaxis,g=s.yaxis;var Y,Z,$=s.clipId="clip"+v._uid+i+"plot",K=o.ensureSingleById(v._clips,"clipPath",$,(function(e){e.classed("plotclip",!0).append("rect")}));s.clipRect=K.select("rect").attr({width:p._length,height:g._length}),u.setTranslate(s.plot,p._offset,g._offset),s._hasClipOnAxisFalse?(Y=null,Z=$):(Y=$,Z=null),u.setClipUrl(s.plot,Y,e),s.layerClipId=Z}function Q(e){return"M"+j+","+e+"H"+z}function J(e){return"M"+p._offset+","+e+"h"+p._length}function ee(e){return"M"+e+","+U+"V"+B}function te(e){return"M"+e+","+g._offset+"v"+g._length}function ne(e,t,n){if(!e.showline||i!==e._mainSubplot)return"";if(!e._anchorAxis)return n(e._mainLinePosition);var r=t(e._mainLinePosition);return e.mirror&&(r+=t(e._mainMirrorPosition)),r}for(i in v._plots){s=v._plots[i],p=s.xaxis,g=s.yaxis;var re="M0,0";k(p,i)&&(D=T(p,"left",g,b),j=p._offset-(D?y+D:0),F=T(p,"right",g,b),z=p._offset+p._length+(F?y+F:0),I=x(p,g,"bottom"),N=x(p,g,"top"),!(G=!p._anchorAxis||i!==p._mainSubplot)||"allticks"!==p.mirror&&"all"!==p.mirror||(p._linepositions[i]=[I,N]),re=ne(p,Q,J),G&&p.showline&&("all"===p.mirror||"allticks"===p.mirror)&&(re+=Q(I)+Q(N)),s.xlines.style("stroke-width",p._lw+"px").call(l.stroke,p.showline?p.linecolor:"rgba(0,0,0,0)")),s.xlines.attr("d",re);var ie="M0,0";k(g,i)&&(q=T(g,"bottom",p,b),B=g._offset+g._length+(q?y:0),W=T(g,"top",p,b),U=g._offset-(W?y:0),V=x(g,p,"left"),H=x(g,p,"right"),!(G=!g._anchorAxis||i!==g._mainSubplot)||"allticks"!==g.mirror&&"all"!==g.mirror||(g._linepositions[i]=[V,H]),ie=ne(g,ee,te),G&&g.showline&&("all"===g.mirror||"allticks"===g.mirror)&&(ie+=ee(V)+ee(H)),s.ylines.style("stroke-width",g._lw+"px").call(l.stroke,g.showline?g.linecolor:"rgba(0,0,0,0)")),s.ylines.attr("d",ie)}return d.makeClipPaths(e),a.previousPromises(e)}function k(e,t){return(e.ticks||e.showline)&&(t===e._mainSubplot||"all"===e.mirror||"allticks"===e.mirror)}function M(e,t,n){if(!n.showline||!n._lw)return!1;if("all"===n.mirror||"allticks"===n.mirror)return!0;var r=n._anchorAxis;if(!r)return!1;var i=h.FROM_BL[t];return n.side===t?r.domain[i]===e.domain[i]:n.mirror&&r.domain[1-i]===e.domain[1-i]}function T(e,t,n,r){if(M(e,t,n))return n._lw;for(var i=0;i<r.length;i++){var a=r[i];if(a._mainAxis===n._mainAxis&&M(e,t,a))return a._lw}return 0}function A(e,t){var n=e.title,r=e._size,i=0;switch(t===y?i=n.pad.l:t===x&&(i=-n.pad.r),n.xref){case"paper":return r.l+r.w*n.x+i;case"container":default:return e.width*n.x+i}}function E(e,t){var n=e.title,r=e._size,i=0;if("0em"!==t&&t?t===h.CAP_SHIFT+"em"&&(i=n.pad.t):i=-n.pad.b,"auto"===n.y)return r.t/2;switch(n.yref){case"paper":return r.t+r.h-r.h*n.y+i;case"container":default:return e.height-e.height*n.y+i}}function S(e){var t=e.title,n=b;return o.isRightAnchor(t)?n=x:o.isLeftAnchor(t)&&(n=y),n}function O(e){var t=e.title,n="0em";return o.isTopAnchor(t)?n=h.CAP_SHIFT+"em":o.isMiddleAnchor(t)&&(n=h.MID_SHIFT+"em"),n}n.layoutStyles=function(e){return o.syncOrAsync([a.doAutoMargin,w],e)},n.drawMainTitle=function(e){var t=e._fullLayout,n=S(t),r=O(t);c.draw(e,"gtitle",{propContainer:t,propName:"title.text",placeholder:t._dfltTitle.plot,attributes:{x:A(t,n),y:E(t,r),"text-anchor":n,dy:r}})},n.doTraceStyle=function(e){var t,r=e.calcdata,o=[];for(t=0;t<r.length;t++){var l=r[t],u=l[0]||{},c=u.trace||{},f=c._module||{},d=f.arraysToCalcdata;d&&d(l,c);var h=f.editStyle;h&&o.push({fn:h,cd0:u})}if(o.length){for(t=0;t<o.length;t++){var p=o[t];p.fn(e,p.cd0)}s(e),n.redrawReglTraces(e)}return a.style(e),i.getComponentMethod("legend","draw")(e),a.previousPromises(e)},n.doColorBars=function(e){return i.getComponentMethod("colorbar","draw")(e),a.previousPromises(e)},n.layoutReplot=function(e){var t=e.layout;return e.layout=void 0,i.call("plot",e,"",t)},n.doLegend=function(e){return i.getComponentMethod("legend","draw")(e),a.previousPromises(e)},n.doTicksRelayout=function(e){return d.draw(e,"redraw"),e._fullLayout._hasOnlyLargeSploms&&(i.subplotsRegistry.splom.updateGrid(e),s(e),n.redrawReglTraces(e)),n.drawMainTitle(e),a.previousPromises(e)},n.doModeBar=function(e){var t=e._fullLayout;f.manage(e);for(var n=0;n<t._basePlotModules.length;n++){var r=t._basePlotModules[n].updateFx;r&&r(e)}return a.previousPromises(e)},n.doCamera=function(e){for(var t=e._fullLayout,n=t._subplots.gl3d,r=0;r<n.length;r++){var i=t[n[r]];i._scene.setViewport(i)}},n.drawData=function(e){var t=e._fullLayout;s(e);for(var r=t._basePlotModules,o=0;o<r.length;o++)r[o].plot(e);return n.redrawReglTraces(e),a.style(e),i.getComponentMethod("shapes","draw")(e),i.getComponentMethod("annotations","draw")(e),i.getComponentMethod("images","draw")(e),t._replotting=!1,a.previousPromises(e)},n.redrawReglTraces=function(e){var t=e._fullLayout;if(t._has("regl")){var n,r,i=e._fullData,a=[],s=[];for(t._hasOnlyLargeSploms&&t._splomGrid.draw(),n=0;n<i.length;n++){var l=i[n];!0===l.visible&&0!==l._length&&("splom"===l.type?t._splomScenes[l.uid].draw():"scattergl"===l.type?o.pushUnique(a,l.xaxis+l.yaxis):"scatterpolargl"===l.type&&o.pushUnique(s,l.subplot))}for(n=0;n<a.length;n++)(r=t._plots[a[n]])._scene&&r._scene.draw();for(n=0;n<s.length;n++)(r=t[s[n]]._subplot)._scene&&r._scene.draw()}},n.doAutoRangeAndConstraints=function(e){for(var t,n=d.list(e,"",!0),r={},i=0;i<n.length;i++)if(!r[(t=n[i])._id]){r[t._id]=1,v(e,t),m(e,t);var a=t._matchGroup;if(a)for(var o in a){var s=d.getFromId(e,o);m(e,s,t.range),r[o]=1}}g(e)},n.finalDraw=function(e){i.getComponentMethod("rangeslider","draw")(e),i.getComponentMethod("rangeselector","draw")(e)},n.drawMarginPushers=function(e){i.getComponentMethod("legend","draw")(e),i.getComponentMethod("rangeselector","draw")(e),i.getComponentMethod("sliders","draw")(e),i.getComponentMethod("updatemenus","draw")(e),i.getComponentMethod("colorbar","draw")(e)}},{"../components/color":394,"../components/drawing":416,"../components/modebar":454,"../components/titles":489,"../constants/alignment":496,"../lib":524,"../lib/clear_gl_canvases":511,"../plots/cartesian/autorange":571,"../plots/cartesian/axes":572,"../plots/cartesian/constraints":579,"../plots/plots":617,"../registry":626,d3:82}],563:[function(e,t,n){"use strict";var r=e("../lib"),i=r.isPlainObject,a=e("./plot_schema"),o=e("../plots/plots"),s=e("../plots/attributes"),l=e("./plot_template"),u=e("./plot_config").dfltConfig;function c(e,t){e=r.extendDeep({},e);var n,a,o=Object.keys(e).sort();function s(t,n,r){if(i(n)&&i(t))c(t,n);else if(Array.isArray(n)&&Array.isArray(t)){var o=l.arrayTemplater({_template:e},r);for(a=0;a<n.length;a++){var s=n[a],u=o.newItem(s)._template;u&&c(u,s)}var f=o.defaultItems();for(a=0;a<f.length;a++)n.push(f[a]._template);for(a=0;a<n.length;a++)delete n[a].templateitemname}}for(n=0;n<o.length;n++){var u=o[n],d=e[u];if(u in t?s(d,t[u],u):t[u]=d,f(u)===u)for(var h in t){var p=f(h);h===p||p!==u||h in e||s(d,t[h],u)}}}function f(e){return e.replace(/[0-9]+$/,"")}function d(e,t,n,a,o){var s=o&&n(o);for(var u in e){var c=e[u],h=g(e,u,a),p=g(e,u,o),v=n(p);if(!v){var m=f(u);m!==u&&(v=n(p=g(e,m,o)))}if((!s||s!==v)&&!(!v||v._noTemplating||"data_array"===v.valType||v.arrayOk&&Array.isArray(c)))if(!v.valType&&i(c))d(c,t,n,h,p);else if(v._isLinkedToArray&&Array.isArray(c))for(var y=!1,b=0,x={},_=0;_<c.length;_++){var w=c[_];if(i(w)){var k=w.name;if(k)x[k]||(d(w,t,n,g(c,b,h),g(c,b,p)),b++,x[k]=1);else if(!y){var M=g(e,l.arrayDefaultKey(u),a),T=g(c,b,h);d(w,t,n,T,g(c,b,p));var A=r.nestedProperty(t,T);r.nestedProperty(t,M).set(A.get()),A.set(null),y=!0}}}else r.nestedProperty(t,h).set(c)}}function h(e,t){return a.getLayoutValObject(e,r.nestedProperty({},t).parts)}function p(e,t){return a.getTraceValObject(e,r.nestedProperty({},t).parts)}function g(e,t,n){return n?Array.isArray(e)?n+"["+t+"]":n+"."+t:t}function v(e){for(var t=0;t<e.length;t++)if(i(e[t]))return!0}function m(e){var t;switch(e.code){case"data":t="The template has no key data.";break;case"layout":t="The template has no key layout.";break;case"missing":t=e.path?"There are no templates for item "+e.path+" with name "+e.templateitemname:"There are no templates for trace "+e.index+", of type "+e.traceType+".";break;case"unused":t=e.path?"The template item at "+e.path+" was not used in constructing the plot.":e.dataCount?"Some of the templates of type "+e.traceType+" were not used. The template has "+e.templateCount+" traces, the data only has "+e.dataCount+" of this type.":"The template has "+e.templateCount+" traces of type "+e.traceType+" but there are none in the data.";break;case"reused":t="Some of the templates of type "+e.traceType+" were used more than once. The template has "+e.templateCount+" traces, the data has "+e.dataCount+" of this type."}return e.msg=t,e}n.makeTemplate=function(e){e=r.isPlainObject(e)?e:r.getGraphDiv(e),e=r.extendDeep({_context:u},{data:e.data,layout:e.layout}),o.supplyDefaults(e);var t=e.data||[],n=e.layout||{};n._basePlotModules=e._fullLayout._basePlotModules,n._modules=e._fullLayout._modules;var a={data:{},layout:{}};t.forEach((function(e){var t={};d(e,t,p.bind(null,e));var n=r.coerce(e,{},s,"type"),i=a.data[n];i||(i=a.data[n]=[]),i.push(t)})),d(n,a.layout,h.bind(null,n)),delete a.layout.template;var l=n.template;if(i(l)){var f,g,v,m,y,b,x=l.layout;i(x)&&c(x,a.layout);var _=l.data;if(i(_)){for(g in a.data)if(v=_[g],Array.isArray(v)){for(b=(y=a.data[g]).length,m=v.length,f=0;f<b;f++)c(v[f%m],y[f]);for(f=b;f<m;f++)y.push(r.extendDeep({},v[f]))}for(g in _)g in a.data||(a.data[g]=r.extendDeep([],_[g]))}}return a},n.validateTemplate=function(e,t){var n=r.extendDeep({},{_context:u,data:e.data,layout:e.layout}),a=n.layout||{};i(t)||(t=a.template||{});var s=t.layout,l=t.data,c=[];n.layout=a,n.layout.template=t,o.supplyDefaults(n);var d=n._fullLayout,h=n._fullData,p={};function y(e,t){for(var n in e)if("_"!==n.charAt(0)&&i(e[n])){var r,a=f(n),o=[];for(r=0;r<t.length;r++)o.push(g(e,n,t[r])),a!==n&&o.push(g(e,a,t[r]));for(r=0;r<o.length;r++)p[o[r]]=1;y(e[n],o)}}function b(e,t){for(var n in e)if(-1===n.indexOf("defaults")&&i(e[n])){var r=g(e,n,t);p[r]?b(e[n],r):c.push({code:"unused",path:r})}}if(i(s)?(y(d,["layout"]),b(s,"layout")):c.push({code:"layout"}),i(l)){for(var x,_={},w=0;w<h.length;w++){var k=h[w];_[x=k.type]=(_[x]||0)+1,k._fullInput._template||c.push({code:"missing",index:k._fullInput.index,traceType:x})}for(x in l){var M=l[x].length,T=_[x]||0;M>T?c.push({code:"unused",traceType:x,templateCount:M,dataCount:T}):T>M&&c.push({code:"reused",traceType:x,templateCount:M,dataCount:T})}}else c.push({code:"data"});function A(e,t){for(var n in e)if("_"!==n.charAt(0)){var r=e[n],a=g(e,n,t);i(r)?(Array.isArray(e)&&!1===r._template&&r.templateitemname&&c.push({code:"missing",path:a,templateitemname:r.templateitemname}),A(r,a)):Array.isArray(r)&&v(r)&&A(r,a)}}if(A({data:h,layout:d},""),c.length)return c.map(m)}},{"../lib":524,"../plots/attributes":568,"../plots/plots":617,"./plot_config":559,"./plot_schema":560,"./plot_template":561}],564:[function(e,t,n){"use strict";var r=e("fast-isnumeric"),i=e("./plot_api"),a=e("../plots/plots"),o=e("../lib"),s=e("../snapshot/helpers"),l=e("../snapshot/tosvg"),u=e("../snapshot/svgtoimg"),c=e("../version").version,f={format:{valType:"enumerated",values:["png","jpeg","webp","svg","full-json"],dflt:"png"},width:{valType:"number",min:1},height:{valType:"number",min:1},scale:{valType:"number",min:0,dflt:1},setBackground:{valType:"any",dflt:!1},imageDataOnly:{valType:"boolean",dflt:!1}};function d(e,t){var n,d,h,p;function g(e){return!(e in t)||o.validate(t[e],f[e])}if(t=t||{},o.isPlainObject(e)?(n=e.data||[],d=e.layout||{},h=e.config||{},p={}):(e=o.getGraphDiv(e),n=o.extendDeep([],e.data),d=o.extendDeep({},e.layout),h=e._context,p=e._fullLayout||{}),!g("width")&&null!==t.width||!g("height")&&null!==t.height)throw new Error("Height and width should be pixel values.");if(!g("format"))throw new Error("Export format is not "+o.join2(f.format.values,", "," or ")+".");var v={};function m(e,n){return o.coerce(t,v,f,e,n)}var y=m("format"),b=m("width"),x=m("height"),_=m("scale"),w=m("setBackground"),k=m("imageDataOnly"),M=document.createElement("div");M.style.position="absolute",M.style.left="-5000px",document.body.appendChild(M);var T=o.extendFlat({},d);b?T.width=b:null===t.width&&r(p.width)&&(T.width=p.width),x?T.height=x:null===t.height&&r(p.height)&&(T.height=p.height);var A=o.extendFlat({},h,{_exportedPlot:!0,staticPlot:!0,setBackground:w}),E=s.getRedrawFunc(M);function S(){return new Promise((function(e){setTimeout(e,s.getDelay(M._fullLayout))}))}function O(){return new Promise((function(e,t){var n=l(M,y,_),r=M._fullLayout.width,f=M._fullLayout.height;function d(){i.purge(M),document.body.removeChild(M)}if("full-json"===y){var h=a.graphJson(M,!1,"keepdata","object",!0,!0);return h.version=c,h=JSON.stringify(h),d(),e(k?h:s.encodeJSON(h))}if(d(),"svg"===y)return e(k?n:s.encodeSVG(n));var p=document.createElement("canvas");p.id=o.randstr(),u({format:y,width:r,height:f,scale:_,canvas:p,svg:n,promise:!0}).then(e).catch(t)}))}function C(e){return k?e.replace(s.IMAGE_URL_PREFIX,""):e}return new Promise((function(e,t){i.plot(M,n,T,A).then(E).then(S).then(O).then((function(t){e(C(t))})).catch((function(e){t(e)}))}))}t.exports=d},{"../lib":524,"../plots/plots":617,"../snapshot/helpers":630,"../snapshot/svgtoimg":632,"../snapshot/tosvg":634,"../version":703,"./plot_api":558,"fast-isnumeric":91}],565:[function(e,t,n){"use strict";var r=e("../lib"),i=e("../plots/plots"),a=e("./plot_schema"),o=e("./plot_config").dfltConfig,s=r.isPlainObject,l=Array.isArray,u=r.isArrayOrTypedArray;function c(e,t,n,i,a,o){o=o||[];for(var f=Object.keys(e),d=0;d<f.length;d++){var h=f[d];if("transforms"!==h){var m=o.slice();m.push(h);var y=e[h],b=t[h],x=v(n,h),_=(x||{}).valType,w="info_array"===_,k="colorscale"===_,M=(x||{}).items;if(g(n,h))if(s(y)&&s(b)&&"any"!==_)c(y,b,x,i,a,m);else if(w&&l(y)){y.length>b.length&&i.push(p("unused",a,m.concat(b.length)));var T,A,E,S,O,C=b.length,L=Array.isArray(M);if(L&&(C=Math.min(C,M.length)),2===x.dimensions)for(A=0;A<C;A++)if(l(y[A])){y[A].length>b[A].length&&i.push(p("unused",a,m.concat(A,b[A].length)));var R=b[A].length;for(T=0;T<(L?Math.min(R,M[A].length):R);T++)E=L?M[A][T]:M,S=y[A][T],O=b[A][T],r.validate(S,E)?O!==S&&O!==+S&&i.push(p("dynamic",a,m.concat(A,T),S,O)):i.push(p("value",a,m.concat(A,T),S))}else i.push(p("array",a,m.concat(A),y[A]));else for(A=0;A<C;A++)E=L?M[A]:M,S=y[A],O=b[A],r.validate(S,E)?O!==S&&O!==+S&&i.push(p("dynamic",a,m.concat(A),S,O)):i.push(p("value",a,m.concat(A),S))}else if(x.items&&!w&&l(y)){var P,j,z=M[Object.keys(M)[0]],I=[];for(P=0;P<b.length;P++){var N=b[P]._index||P;if((j=m.slice()).push(N),s(y[N])&&s(b[P])){I.push(N);var D=y[N],F=b[P];s(D)&&!1!==D.visible&&!1===F.visible?i.push(p("invisible",a,j)):c(D,F,z,i,a,j)}}for(P=0;P<y.length;P++)(j=m.slice()).push(P),s(y[P])?-1===I.indexOf(P)&&i.push(p("unused",a,j)):i.push(p("object",a,j,y[P]))}else!s(y)&&s(b)?i.push(p("object",a,m,y)):u(y)||!u(b)||w||k?h in t?r.validate(y,x)?"enumerated"===x.valType&&(x.coerceNumber&&y!==+b||y!==b)&&i.push(p("dynamic",a,m,y,b)):i.push(p("value",a,m,y)):i.push(p("unused",a,m,y)):i.push(p("array",a,m,y));else i.push(p("schema",a,m))}}return i}function f(e,t){for(var n=e.layout.layoutAttributes,i=0;i<t.length;i++){var a=t[i],o=e.traces[a.type],s=o.layoutAttributes;s&&(a.subplot?r.extendFlat(n[o.attributes.subplot.dflt],s):r.extendFlat(n,s))}return n}t.exports=function(e,t){void 0===e&&(e=[]),void 0===t&&(t={});var n,u,d=a.get(),h=[],g={_context:r.extendFlat({},o)};l(e)?(g.data=r.extendDeep([],e),n=e):(g.data=[],n=[],h.push(p("array","data"))),s(t)?(g.layout=r.extendDeep({},t),u=t):(g.layout={},u={},arguments.length>1&&h.push(p("object","layout"))),i.supplyDefaults(g);for(var v=g._fullData,m=n.length,y=0;y<m;y++){var b=n[y],x=["data",y];if(s(b)){var _=v[y],w=_.type,k=d.traces[w].attributes;k.type={valType:"enumerated",values:[w]},!1===_.visible&&!1!==b.visible&&h.push(p("invisible",x)),c(b,_,k,h,x);var M=b.transforms,T=_.transforms;if(M){l(M)||h.push(p("array",x,["transforms"])),x.push("transforms");for(var A=0;A<M.length;A++){var E=["transforms",A],S=M[A].type;if(s(M[A])){var O=d.transforms[S]?d.transforms[S].attributes:{};O.type={valType:"enumerated",values:Object.keys(d.transforms)},c(M[A],T[A],O,h,x,E)}else h.push(p("object",x,E))}}}else h.push(p("object",x))}return c(u,g._fullLayout,f(d,v),h,"layout"),0===h.length?void 0:h};var d={object:function(e,t){return("layout"===e&&""===t?"The layout argument":"data"===e[0]&&""===t?"Trace "+e[1]+" in the data argument":h(e)+"key "+t)+" must be linked to an object container"},array:function(e,t){return("data"===e?"The data argument":h(e)+"key "+t)+" must be linked to an array container"},schema:function(e,t){return h(e)+"key "+t+" is not part of the schema"},unused:function(e,t,n){var r=s(n)?"container":"key";return h(e)+r+" "+t+" did not get coerced"},dynamic:function(e,t,n,r){return[h(e)+"key",t,"(set to '"+n+"')","got reset to","'"+r+"'","during defaults."].join(" ")},invisible:function(e,t){return(t?h(e)+"item "+t:"Trace "+e[1])+" got defaulted to be not visible"},value:function(e,t,n){return[h(e)+"key "+t,"is set to an invalid value ("+n+")"].join(" ")}};function h(e){return l(e)?"In data trace "+e[1]+", ":"In "+e+", "}function p(e,t,n,i,a){var o,s;n=n||"",l(t)?(o=t[0],s=t[1]):(o=t,s=null);var u=b(n),c=d[e](t,u,i,a);return r.log(c),{code:e,container:o,trace:s,path:n,astr:u,msg:c}}function g(e,t){var n=y(t),r=n.keyMinusId,i=n.id;return!!(r in e&&e[r]._isSubplotObj&&i)||t in e}function v(e,t){return t in e?e[t]:e[y(t).keyMinusId]}var m=r.counterRegex("([a-z]+)");function y(e){var t=e.match(m);return{keyMinusId:t&&t[1],id:t&&t[2]}}function b(e){if(!l(e))return String(e);for(var t="",n=0;n<e.length;n++){var r=e[n];"number"===typeof r?t=t.substr(0,t.length-1)+"["+r+"]":t+=r,n<e.length-1&&(t+=".")}return t}},{"../lib":524,"../plots/plots":617,"./plot_config":559,"./plot_schema":560}],566:[function(e,t,n){"use strict";t.exports={mode:{valType:"enumerated",dflt:"afterall",values:["immediate","next","afterall"]},direction:{valType:"enumerated",values:["forward","reverse"],dflt:"forward"},fromcurrent:{valType:"boolean",dflt:!1},frame:{duration:{valType:"number",min:0,dflt:500},redraw:{valType:"boolean",dflt:!0}},transition:{duration:{valType:"number",min:0,dflt:500,editType:"none"},easing:{valType:"enumerated",dflt:"cubic-in-out",values:["linear","quad","cubic","sin","exp","circle","elastic","back","bounce","linear-in","quad-in","cubic-in","sin-in","exp-in","circle-in","elastic-in","back-in","bounce-in","linear-out","quad-out","cubic-out","sin-out","exp-out","circle-out","elastic-out","back-out","bounce-out","linear-in-out","quad-in-out","cubic-in-out","sin-in-out","exp-in-out","circle-in-out","elastic-in-out","back-in-out","bounce-in-out"],editType:"none"},ordering:{valType:"enumerated",values:["layout first","traces first"],dflt:"layout first",editType:"none"}}}},{}],567:[function(e,t,n){"use strict";var r=e("../lib"),i=e("../plot_api/plot_template");t.exports=function(e,t,n){var a,o,s=n.name,l=n.inclusionAttr||"visible",u=t[s],c=r.isArrayOrTypedArray(e[s])?e[s]:[],f=t[s]=[],d=i.arrayTemplater(t,s,l);for(a=0;a<c.length;a++){var h=c[a];r.isPlainObject(h)?o=d.newItem(h):(o=d.newItem({}))[l]=!1,o._index=a,!1!==o[l]&&n.handleItemDefaults(h,o,t,n),f.push(o)}var p=d.defaultItems();for(a=0;a<p.length;a++)(o=p[a])._index=f.length,n.handleItemDefaults({},o,t,n,{}),f.push(o);if(r.isArrayOrTypedArray(u)){var g=Math.min(u.length,f.length);for(a=0;a<g;a++)r.relinkPrivateKeys(f[a],u[a])}return f}},{"../lib":524,"../plot_api/plot_template":561}],568:[function(e,t,n){"use strict";var r=e("../components/fx/attributes");t.exports={type:{valType:"enumerated",values:[],dflt:"scatter",editType:"calc+clearAxisTypes",_noTemplating:!0},visible:{valType:"enumerated",values:[!0,!1,"legendonly"],dflt:!0,editType:"calc"},showlegend:{valType:"boolean",dflt:!0,editType:"style"},legendgroup:{valType:"string",dflt:"",editType:"style"},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"style"},name:{valType:"string",editType:"style"},uid:{valType:"string",editType:"plot",anim:!0},ids:{valType:"data_array",editType:"calc",anim:!0},customdata:{valType:"data_array",editType:"calc"},meta:{valType:"any",arrayOk:!0,editType:"plot"},selectedpoints:{valType:"any",editType:"calc"},hoverinfo:{valType:"flaglist",flags:["x","y","z","text","name"],extras:["all","none","skip"],arrayOk:!0,dflt:"all",editType:"none"},hoverlabel:r.hoverlabel,stream:{token:{valType:"string",noBlank:!0,strict:!0,editType:"calc"},maxpoints:{valType:"number",min:0,max:1e4,dflt:500,editType:"calc"},editType:"calc"},transforms:{_isLinkedToArray:"transform",editType:"calc"},uirevision:{valType:"any",editType:"none"}}},{"../components/fx/attributes":425}],569:[function(e,t,n){"use strict";var r=e("fast-isnumeric"),i=e("../../lib"),a=i.dateTime2ms,o=i.incrementMonth,s=e("../../constants/numerical").ONEAVGMONTH;t.exports=function(e,t,n,i){if("date"!==t.type)return i;var l=e[n+"periodalignment"];if(!l)return i;var u,c=e[n+"period"];if(r(c)){if((c=+c)<=0)return i}else if("string"===typeof c&&"M"===c.charAt(0)){var f=+c.substring(1);if(!(f>0&&Math.round(f)===f))return i;u=f}for(var d=t.calendar,h="start"===l,p="end"===l,g=e[n+"period0"],v=a(g,d)||0,m=[],y=i.length,b=0;b<y;b++){var x,_,w,k=i[b];if(u){for(x=Math.round((k-v)/(u*s)),w=o(v,u*x,d);w>k;)w=o(w,-u,d);for(;w<=k;)w=o(w,u,d);_=o(w,-u,d)}else{for(w=v+(x=Math.round((k-v)/c))*c;w>k;)w-=c;for(;w<=k;)w+=c;_=w-c}m[b]=h?_:p?w:(_+w)/2}return m}},{"../../constants/numerical":502,"../../lib":524,"fast-isnumeric":91}],570:[function(e,t,n){"use strict";t.exports={xaxis:{valType:"subplotid",dflt:"x",editType:"calc+clearAxisTypes"},yaxis:{valType:"subplotid",dflt:"y",editType:"calc+clearAxisTypes"}}},{}],571:[function(e,t,n){"use strict";var r=e("fast-isnumeric"),i=e("../../lib"),a=e("../../constants/numerical").FP_SAFE,o=e("../../registry"),s=e("./axis_ids"),l=s.getFromId,u=s.isLinked;function c(e,t){var n,r,a=[],o=e._fullLayout,s=d(o,t,0),l=d(o,t,1),u=g(e,t),c=u.min,h=u.max;if(0===c.length||0===h.length)return i.simpleMap(t.range,t.r2l);var p=c[0].val,v=h[0].val;for(n=1;n<c.length&&p===v;n++)p=Math.min(p,c[n].val);for(n=1;n<h.length&&p===v;n++)v=Math.max(v,h[n].val);var m=!1;if(t.range){var y=i.simpleMap(t.range,t.r2l);m=y[1]<y[0]}"reversed"===t.autorange&&(m=!0,t.autorange=!0);var b,x,_,w,k,M,T=t.rangemode,A="tozero"===T,E="nonnegative"===T,S=t._length,O=S/10,C=0;for(n=0;n<c.length;n++)for(b=c[n],r=0;r<h.length;r++)(M=(x=h[r]).val-b.val-f(t,b.val,x.val))>0&&((k=S-s(b)-l(x))>O?M/k>C&&(_=b,w=x,C=M/k):M/S>C&&(_={val:b.val,nopad:1},w={val:x.val,nopad:1},C=M/S));function L(e,t){return Math.max(e,l(t))}if(p===v){var R=p-1,P=p+1;if(A)if(0===p)a=[0,1];else{var j=(p>0?h:c).reduce(L,0),z=p/(1-Math.min(.5,j/S));a=p>0?[0,z]:[z,0]}else a=E?[Math.max(0,R),Math.max(1,P)]:[R,P]}else A?(_.val>=0&&(_={val:0,nopad:1}),w.val<=0&&(w={val:0,nopad:1})):E&&(_.val-C*s(_)<0&&(_={val:0,nopad:1}),w.val<=0&&(w={val:1,nopad:1})),C=(w.val-_.val-f(t,b.val,x.val))/(S-s(_)-l(w)),a=[_.val-C*s(_),w.val+C*l(w)];return m&&a.reverse(),i.simpleMap(a,t.l2r||Number)}function f(e,t,n){var r=0;if(e.rangebreaks)for(var i=e.locateBreaks(t,n),a=0;a<i.length;a++){var o=i[a];r+=o.max-o.min}return r}function d(e,t,n){var r=.05*t._length,a=t._anchorAxis||{};if(-1!==(t.ticklabelposition||"").indexOf("inside")||-1!==(a.ticklabelposition||"").indexOf("inside")){var o="reversed"===t.autorange;if(!o){var s=i.simpleMap(t.range,t.r2l);o=s[1]<s[0]}o&&(n=!n)}var l=0;return u(e,t._id)||(l=p(t,n)),r=Math.max(l,r),"domain"===t.constrain&&t._inputDomain&&(r*=(t._inputDomain[1]-t._inputDomain[0])/(t.domain[1]-t.domain[0])),function(e){return e.nopad?0:e.pad+(e.extrapad?r:l)}}t.exports={getAutoRange:c,makePadFn:d,doAutoRange:v,findExtremes:m,concatExtremes:g};var h=3;function p(e,t){var n=0,r=e._anchorAxis||{};if(-1!==(r.ticklabelposition||"").indexOf("inside")&&(!t&&("left"===r.side||"bottom"===r.side)||t&&("top"===r.side||"right"===r.side))){var a="x"===e._id.charAt(0);if(r._vals){var o=i.deg2rad(r._tickAngles[r._id+"tick"]||0),s=Math.abs(Math.cos(o)),l=Math.abs(Math.sin(o));r._vals.forEach((function(e){if(e.bb){var t=2*h+e.bb.width,r=2*h+e.bb.height;n=Math.max(n,a?Math.max(t*s,r*l):Math.max(r*s,t*l))}}))}"inside"===r.ticks&&"inside"===r.ticklabelposition&&(n+=r.ticklen||0)}return n}function g(e,t,n){var r,i,a,o=t._id,s=e._fullData,u=e._fullLayout,c=[],f=[];function d(e,t){for(r=0;r<t.length;r++){var n=e[t[r]],s=(n._extremes||{})[o];if(!0===n.visible&&s){for(i=0;i<s.min.length;i++)a=s.min[i],y(c,a.val,a.pad,{extrapad:a.extrapad});for(i=0;i<s.max.length;i++)a=s.max[i],b(f,a.val,a.pad,{extrapad:a.extrapad})}}}if(d(s,t._traceIndices),d(u.annotations||[],t._annIndices||[]),d(u.shapes||[],t._shapeIndices||[]),t._matchGroup&&!n)for(var h in t._matchGroup)if(h!==t._id){var p=l(e,h),v=g(e,p,!0),m=t._length/p._length;for(i=0;i<v.min.length;i++)a=v.min[i],y(c,a.val,a.pad*m,{extrapad:a.extrapad});for(i=0;i<v.max.length;i++)a=v.max[i],b(f,a.val,a.pad*m,{extrapad:a.extrapad})}return{min:c,max:f}}function v(e,t,n){if(t.setScale(),t.autorange){t.range=n?n.slice():c(e,t),t._r=t.range.slice(),t._rl=i.simpleMap(t._r,t.r2l);var r=t._input,a={};a[t._attr+".range"]=t.range,a[t._attr+".autorange"]=t.autorange,o.call("_storeDirectGUIEdit",e.layout,e._fullLayout._preGUI,a),r.range=t.range.slice(),r.autorange=t.autorange}var s=t._anchorAxis;if(s&&s.rangeslider){var l=s.rangeslider[t._name];l&&"auto"===l.rangemode&&(l.range=c(e,t)),s._input.rangeslider[t._name]=i.extendFlat({},l)}}function m(e,t,n){n||(n={}),e._m||e.setScale();var i,o,s,l,u,c,f,d,h,p=[],g=[],v=t.length,m=n.padded||!1,x=n.tozero&&("linear"===e.type||"-"===e.type),w="log"===e.type,k=!1,M=n.vpadLinearized||!1;function T(e){if(Array.isArray(e))return k=!0,function(t){return Math.max(Number(e[t]||0),0)};var t=Math.max(Number(e||0),0);return function(){return t}}var A=T((e._m>0?n.ppadplus:n.ppadminus)||n.ppad||0),E=T((e._m>0?n.ppadminus:n.ppadplus)||n.ppad||0),S=T(n.vpadplus||n.vpad),O=T(n.vpadminus||n.vpad);if(!k){if(d=1/0,h=-1/0,w)for(i=0;i<v;i++)(o=t[i])<d&&o>0&&(d=o),o>h&&o<a&&(h=o);else for(i=0;i<v;i++)(o=t[i])<d&&o>-a&&(d=o),o>h&&o<a&&(h=o);t=[d,h],v=2}var C={tozero:x,extrapad:m};function L(n){s=t[n],r(s)&&(c=A(n),f=E(n),M?(l=e.c2l(s)-O(n),u=e.c2l(s)+S(n)):(d=s-O(n),h=s+S(n),w&&d<h/10&&(d=h/10),l=e.c2l(d),u=e.c2l(h)),x&&(l=Math.min(0,l),u=Math.max(0,u)),_(l)&&y(p,l,f,C),_(u)&&b(g,u,c,C))}var R=Math.min(6,v);for(i=0;i<R;i++)L(i);for(i=v-1;i>=R;i--)L(i);return{min:p,max:g,opts:n}}function y(e,t,n,r){x(e,t,n,r,w)}function b(e,t,n,r){x(e,t,n,r,k)}function x(e,t,n,r,i){for(var a=r.tozero,o=r.extrapad,s=!0,l=0;l<e.length&&s;l++){var u=e[l];if(i(u.val,t)&&u.pad>=n&&(u.extrapad||!o)){s=!1;break}i(t,u.val)&&u.pad<=n&&(o||!u.extrapad)&&(e.splice(l,1),l--)}if(s){var c=a&&0===t;e.push({val:t,pad:c?0:n,extrapad:!c&&o})}}function _(e){return r(e)&&Math.abs(e)<a}function w(e,t){return e<=t}function k(e,t){return e>=t}},{"../../constants/numerical":502,"../../lib":524,"../../registry":626,"./axis_ids":575,"fast-isnumeric":91}],572:[function(e,t,n){"use strict";var r=e("d3"),i=e("fast-isnumeric"),a=e("../../plots/plots"),o=e("../../registry"),s=e("../../lib"),l=s.strTranslate,u=e("../../lib/svg_text_utils"),c=e("../../components/titles"),f=e("../../components/color"),d=e("../../components/drawing"),h=e("./layout_attributes"),p=e("./clean_ticks"),g=e("../../constants/numerical"),v=g.ONEMAXYEAR,m=g.ONEAVGYEAR,y=g.ONEMINYEAR,b=g.ONEMAXQUARTER,x=g.ONEAVGQUARTER,_=g.ONEMINQUARTER,w=g.ONEMAXMONTH,k=g.ONEAVGMONTH,M=g.ONEMINMONTH,T=g.ONEWEEK,A=g.ONEDAY,E=A/2,S=g.ONEHOUR,O=g.ONEMIN,C=g.ONESEC,L=g.MINUS_SIGN,R=g.BADNUM,P=e("../../constants/alignment"),j=P.MID_SHIFT,z=P.CAP_SHIFT,I=P.LINE_SPACING,N=P.OPPOSITE_SIDE,D=3,F=t.exports={};F.setConvert=e("./set_convert");var B=e("./axis_autotype"),U=e("./axis_ids"),V=U.idSort,H=U.isLinked;F.id2name=U.id2name,F.name2id=U.name2id,F.cleanId=U.cleanId,F.list=U.list,F.listIds=U.listIds,F.getFromId=U.getFromId,F.getFromTrace=U.getFromTrace;var q=e("./autorange");F.getAutoRange=q.getAutoRange,F.findExtremes=q.findExtremes;var W=1e-4;function G(e){var t=(e[1]-e[0])*W;return[e[0]-t,e[1]+t]}F.coerceRef=function(e,t,n,r,i,a){var o=r.charAt(r.length-1),l=n._fullLayout._subplots[o+"axis"],u=r+"ref",c={};return i||(i=l[0]||("string"===typeof a?a:a[0])),a||(a=i),l=l.concat(l.map((function(e){return e+" domain"}))),c[u]={valType:"enumerated",values:l.concat(a?"string"===typeof a?[a]:a:[]),dflt:i},s.coerce(e,t,c,u)},F.getRefType=function(e){return void 0===e?e:"paper"===e?"paper":"pixel"===e?"pixel":/( domain)$/.test(e)?"domain":"range"},F.coercePosition=function(e,t,n,r,i,a){var o,l;if("range"!==F.getRefType(r))o=s.ensureNumber,l=n(i,a);else{var u=F.getFromId(t,r);l=n(i,a=u.fraction2r(a)),o=u.cleanPos}e[i]=o(l)},F.cleanPosition=function(e,t,n){return("paper"===n||"pixel"===n?s.ensureNumber:F.getFromId(t,n).cleanPos)(e)},F.redrawComponents=function(e,t){t=t||F.listIds(e);var n=e._fullLayout;function r(r,i,a,s){for(var l=o.getComponentMethod(r,i),u={},c=0;c<t.length;c++)for(var f=n[F.id2name(t[c])][a],d=0;d<f.length;d++){var h=f[d];if(!u[h]&&(l(e,h),u[h]=1,s))return}}r("annotations","drawOne","_annIndices"),r("shapes","drawOne","_shapeIndices"),r("images","draw","_imgIndices",!0)};var X=F.getDataConversions=function(e,t,n,r){var i,a="x"===n||"y"===n||"z"===n?n:r;if(Array.isArray(a)){if(i={type:B(r,void 0,{autotypenumbers:e._fullLayout.autotypenumbers}),_categories:[]},F.setConvert(i),"category"===i.type)for(var o=0;o<r.length;o++)i.d2c(r[o])}else i=F.getFromTrace(e,t,a);return i?{d2c:i.d2c,c2d:i.c2d}:"ids"===a?{d2c:Z,c2d:Z}:{d2c:Y,c2d:Y}};function Y(e){return+e}function Z(e){return String(e)}function $(e,t,n,r,a){var o=0,s=0,l=0,u=0;function c(t){return(1+100*(t-e)/n.dtick)%100<2}for(var f=0;f<t.length;f++)t[f]%1===0?l++:i(t[f])||u++,c(t[f])&&o++,c(t[f]+n.dtick/2)&&s++;var d=t.length-u;if(l===d&&"date"!==n.type)n.dtick<1?e=r-.5*n.dtick:(e-=.5)+n.dtick<r&&(e+=n.dtick);else if(s<.1*d&&(o>.3*d||c(r)||c(a))){var h=n.dtick/2;e+=e+h<r?h:-h}return e}function K(e,t,n,r,i){var a=s.findExactDates(t,i),o=.8;if(a.exactDays>o){var l=Number(n.substr(1));a.exactYears>o&&l%12===0?e=F.tickIncrement(e,"M6","reverse")+1.5*A:a.exactMonths>o?e=F.tickIncrement(e,"M1","reverse")+15.5*A:e-=E;var u=F.tickIncrement(e,n);if(u<=r)return u}return e}function Q(e){return+e.substring(1)}function J(e){var t;function n(){return!(i(e.dtick)||"M"!==e.dtick.charAt(0))}var r=n(),a=F.getTickFormat(e);if(a){var o=e._dtickInit!==e.dtick;/%[fLQsSMX]/.test(a)||(/%[HI]/.test(a)?(t=S,o&&!r&&e.dtick<S&&(e.dtick=S)):/%p/.test(a)?(t=E,o&&!r&&e.dtick<E&&(e.dtick=E)):/%[Aadejuwx]/.test(a)?(t=A,o&&!r&&e.dtick<A&&(e.dtick=A)):/%[UVW]/.test(a)?(t=T,o&&!r&&e.dtick<T&&(e.dtick=T)):/%[Bbm]/.test(a)?(t=k,o&&(r?Q(e.dtick)<1:e.dtick<M)&&(e.dtick="M1")):/%[q]/.test(a)?(t=x,o&&(r?Q(e.dtick)<3:e.dtick<_)&&(e.dtick="M3")):/%[Yy]/.test(a)&&(t=m,o&&(r?Q(e.dtick)<12:e.dtick<y)&&(e.dtick="M12")))}(r=n())&&e.tick0===e._dowTick0&&(e.tick0=e._rawTick0),e._definedDelta=t}function ee(e,t,n){for(var r=0;r<e.length;r++){var i=e[r].value,a=r,o=r+1;r<e.length-1?(a=r,o=r+1):r>0?(a=r-1,o=r):(a=r,o=r);var s,l=e[a].value,u=e[o].value,c=Math.abs(u-l),f=n||c,d=0;f>=y?d=c>=y&&c<=v?c:m:n===x&&f>=_?d=c>=_&&c<=b?c:x:f>=M?d=c>=M&&c<=w?c:k:n===T&&f>=T?d=T:f>=A?d=A:n===E&&f>=E?d=E:n===S&&f>=S&&(d=S),d>=c&&(d=c,s=!0);var h=i+d;if(t.rangebreaks&&d>0){for(var p=84,g=0,O=0;O<p;O++){var C=(O+.5)/p;t.maskBreaks(i*(1-C)+C*h)!==R&&g++}(d*=g/p)||(e[r].drop=!0),s&&c>T&&(d=c)}(d>0||0===r)&&(e[r].periodX=i+d/2)}}function te(e){var t=e.tickvals,n=e.ticktext,r=new Array(t.length),i=G(s.simpleMap(e.range,e.r2l)),a=Math.min(i[0],i[1]),o=Math.max(i[0],i[1]),l=0;Array.isArray(n)||(n=[]);var u="category"===e.type?e.d2l_noadd:e.d2l;"log"===e.type&&"L"!==String(e.dtick).charAt(0)&&(e.dtick="L"+Math.pow(10,Math.floor(Math.min(e.range[0],e.range[1]))-1));for(var c=0;c<t.length;c++){var f=u(t[c]);f>a&&f<o&&(void 0===n[c]?r[l]=F.tickText(e,f):r[l]=fe(e,f,String(n[c])),l++)}return l<t.length&&r.splice(l,t.length-l),e.rangebreaks&&(r=r.filter((function(t){return e.maskBreaks(t.x)!==R}))),r}F.getDataToCoordFunc=function(e,t,n,r){return X(e,t,n,r).d2c},F.counterLetter=function(e){var t=e.charAt(0);return"x"===t?"y":"y"===t?"x":void 0},F.minDtick=function(e,t,n,r){-1===["log","category","multicategory"].indexOf(e.type)&&r?void 0===e._minDtick?(e._minDtick=t,e._forceTick0=n):e._minDtick&&((e._minDtick/t+1e-6)%1<2e-6&&((n-e._forceTick0)/t%1+1.000001)%1<2e-6?(e._minDtick=t,e._forceTick0=n):((t/e._minDtick+1e-6)%1>2e-6||((n-e._forceTick0)/e._minDtick%1+1.000001)%1>2e-6)&&(e._minDtick=0)):e._minDtick=0},F.saveRangeInitial=function(e,t){for(var n=F.list(e,"",!0),r=!1,i=0;i<n.length;i++){var a=n[i],o=void 0===a._rangeInitial,s=o||!(a.range[0]===a._rangeInitial[0]&&a.range[1]===a._rangeInitial[1]);(o&&!1===a.autorange||t&&s)&&(a._rangeInitial=a.range.slice(),r=!0)}return r},F.saveShowSpikeInitial=function(e,t){for(var n=F.list(e,"",!0),r=!1,i="on",a=0;a<n.length;a++){var o=n[a],s=void 0===o._showSpikeInitial,l=s||!(o.showspikes===o._showspikes);(s||t&&l)&&(o._showSpikeInitial=o.showspikes,r=!0),"on"!==i||o.showspikes||(i="off")}return e._fullLayout._cartesianSpikesEnabled=i,r},F.autoBin=function(e,t,n,r,a,o){var l,u=s.aggNums(Math.min,null,e),c=s.aggNums(Math.max,null,e);if("category"===t.type||"multicategory"===t.type)return{start:u-.5,end:c+.5,size:Math.max(1,Math.round(o)||1),_dataSpan:c-u};if(a||(a=t.calendar),l="log"===t.type?{type:"linear",range:[u,c]}:{type:t.type,range:s.simpleMap([u,c],t.c2r,0,a),calendar:a},F.setConvert(l),o=o&&p.dtick(o,l.type))l.dtick=o,l.tick0=p.tick0(void 0,l.type,a);else{var f;if(n)f=(c-u)/n;else{var d=s.distinctVals(e),h=Math.pow(10,Math.floor(Math.log(d.minDiff)/Math.LN10)),g=h*s.roundUp(d.minDiff/h,[.9,1.9,4.9,9.9],!0);f=Math.max(g,2*s.stdev(e)/Math.pow(e.length,r?.25:.4)),i(f)||(f=1)}F.autoTicks(l,f)}var v,m=l.dtick,y=F.tickIncrement(F.tickFirst(l),m,"reverse",a);if("number"===typeof m)v=(y=$(y,e,l,u,c))+(1+Math.floor((c-y)/m))*m;else for("M"===l.dtick.charAt(0)&&(y=K(y,e,m,u,a)),v=y;v<=c;)v=F.tickIncrement(v,m,!1,a);return{start:t.c2r(y,0,a),end:t.c2r(v,0,a),size:m,_dataSpan:c-u}},F.prepTicks=function(e,t){var n=s.simpleMap(e.range,e.r2l,void 0,void 0,t);if(e._dtickInit=e.dtick,e._tick0Init=e.tick0,"auto"===e.tickmode||!e.dtick){var r,i=e.nticks;i||("category"===e.type||"multicategory"===e.type?(r=e.tickfont?1.2*(e.tickfont.size||12):15,i=e._length/r):(r="y"===e._id.charAt(0)?40:80,i=s.constrain(e._length/r,4,9)+1),"radialaxis"===e._name&&(i*=2)),"array"===e.tickmode&&(i*=100),e._roughDTick=Math.abs(n[1]-n[0])/i,F.autoTicks(e,e._roughDTick),e._minDtick>0&&e.dtick<2*e._minDtick&&(e.dtick=e._minDtick,e.tick0=e.l2r(e._forceTick0))}"period"===e.ticklabelmode&&J(e),e.tick0||(e.tick0="date"===e.type?"2000-01-01":0),"date"===e.type&&e.dtick<.1&&(e.dtick=.1),ce(e)},F.calcTicks=function(e,t){F.prepTicks(e,t);var n=s.simpleMap(e.range,e.r2l,void 0,void 0,t);if("array"===e.tickmode)return te(e);var r=G(n),a=r[0],o=r[1],l=n[1]<n[0],u=Math.min(n[0],n[1]),c=Math.max(n[0],n[1]),f="log"===e.type&&!(i(e.dtick)||"L"===e.dtick.charAt(0)),d="period"===e.ticklabelmode;if(e._tmin=F.tickFirst(e,t),e._tmin<a!==l)return[];"category"!==e.type&&"multicategory"!==e.type||(o=l?Math.max(-.5,o):Math.min(e._categories.length-.5,o));var h=e._tmin;e.rangebreaks&&e._tick0Init!==e.tick0&&(h=We(h,e),l||(h=F.tickIncrement(h,e.dtick,!l,e.calendar))),d&&(h=F.tickIncrement(h,e.dtick,!l,e.calendar));for(var p,g=Math.max(1e3,e._length||0),v=[],m=null;l?h>=o:h<=o;h=F.tickIncrement(h,e.dtick,l,e.calendar)){if(e.rangebreaks&&!l){if(h<a)continue;if(e.maskBreaks(h)===R&&We(h,e)>=c)break}if(v.length>g||h===m)break;m=h;var y=!1;f&&h!==(0|h)&&(y=!0),v.push({minor:y,value:h})}if(d&&ee(v,e,e._definedDelta),e.rangebreaks){var b="y"===e._id.charAt(0),x=1;"auto"===e.tickmode&&(x=e.tickfont?e.tickfont.size:12);var _=NaN;for(p=v.length-1;p>-1;p--)if(v[p].drop)v.splice(p,1);else{v[p].value=We(v[p].value,e);var w=e.c2p(v[p].value);(b?_>w-x:_<w+x)?v.splice(l?p+1:p,1):_=w}}qe(e)&&360===Math.abs(n[1]-n[0])&&v.pop(),e._tmax=(v[v.length-1]||{}).value,e._prevDateHead="",e._inCalcTicks=!0;var k,M,T=[];for(p=0;p<v.length;p++){var A=v[p].minor,E=v[p].value;k=F.tickText(e,E,!1,A),void 0!==(M=v[p].periodX)&&(k.periodX=M,(M>c||M<u)&&(M>c&&(k.periodX=c),M<u&&(k.periodX=u),k.text=" ",e._prevDateHead="")),T.push(k)}return e._inCalcTicks=!1,T};var ne=[2,5,10],re=[1,2,3,6,12],ie=[1,2,5,10,15,30],ae=[1,2,3,7,14],oe=[-.046,0,.301,.477,.602,.699,.778,.845,.903,.954,1],se=[-.301,0,.301,.699,1],le=[15,30,45,90,180];function ue(e,t,n){return t*s.roundUp(e/t,n)}function ce(e){var t=e.dtick;if(e._tickexponent=0,i(t)||"string"===typeof t||(t=1),"category"!==e.type&&"multicategory"!==e.type||(e._tickround=null),"date"===e.type){var n=e.r2l(e.tick0),r=e.l2r(n).replace(/(^-|i)/g,""),a=r.length;if("M"===String(t).charAt(0))a>10||"01-01"!==r.substr(5)?e._tickround="d":e._tickround=+t.substr(1)%12===0?"y":"m";else if(t>=A&&a<=10||t>=15*A)e._tickround="d";else if(t>=O&&a<=16||t>=S)e._tickround="M";else if(t>=C&&a<=19||t>=O)e._tickround="S";else{var o=e.l2r(n+t).replace(/^-/,"").length;e._tickround=Math.max(a,o)-20,e._tickround<0&&(e._tickround=4)}}else if(i(t)||"L"===t.charAt(0)){var s=e.range.map(e.r2d||Number);i(t)||(t=Number(t.substr(1))),e._tickround=2-Math.floor(Math.log(t)/Math.LN10+.01);var l=Math.max(Math.abs(s[0]),Math.abs(s[1])),u=Math.floor(Math.log(l)/Math.LN10+.01),c=void 0===e.minexponent?3:e.minexponent;Math.abs(u)>c&&(xe(e.exponentformat)&&!_e(u)?e._tickexponent=3*Math.round((u-1)/3):e._tickexponent=u)}else e._tickround=null}function fe(e,t,n){var r=e.tickfont||{};return{x:t,dx:0,dy:0,text:n||"",fontSize:r.size,font:r.family,fontColor:r.color}}function de(e,t,n,r){var a=e._tickround,o=n&&e.hoverformat||F.getTickFormat(e);r&&(a=i(a)?4:{y:"m",m:"d",d:"M",M:"S",S:4}[a]);var l,u=s.formatDate(t.x,o,a,e._dateFormat,e.calendar,e._extraFormat),c=u.indexOf("\n");if(-1!==c&&(l=u.substr(c+1),u=u.substr(0,c)),r&&("00:00:00"===u||"00:00"===u?(u=l,l=""):8===u.length&&(u=u.replace(/:00$/,""))),l)if(n)"d"===a?u+=", "+l:u=l+(u?", "+u:"");else if(e._inCalcTicks&&e._prevDateHead===l){var f=-1!==(e.ticklabelposition||"").indexOf("inside"),d=e._realSide||e.side;(!f&&"top"===d||f&&"bottom"===d)&&(u+="<br> ")}else e._prevDateHead=l,u+="<br>"+l;t.text=u}function he(e,t,n,r,a){var o=e.dtick,l=t.x,u=e.tickformat,c="string"===typeof o&&o.charAt(0);if("never"===a&&(a=""),r&&"L"!==c&&(o="L3",c="L"),u||"L"===c)t.text=we(Math.pow(10,l),e,a,r);else if(i(o)||"D"===c&&s.mod(l+.01,1)<.1){var f=Math.round(l),d=Math.abs(f),h=e.exponentformat;"power"===h||xe(h)&&_e(f)?(t.text=0===f?1:1===f?"10":"10<sup>"+(f>1?"":L)+d+"</sup>",t.fontSize*=1.25):("e"===h||"E"===h)&&d>2?t.text="1"+h+(f>0?"+":L)+d:(t.text=we(Math.pow(10,l),e,"","fakehover"),"D1"===o&&"y"===e._id.charAt(0)&&(t.dy-=t.fontSize/6))}else{if("D"!==c)throw"unrecognized dtick "+String(o);t.text=String(Math.round(Math.pow(10,s.mod(l,1)))),t.fontSize*=.75}if("D1"===e.dtick){var p=String(t.text).charAt(0);"0"!==p&&"1"!==p||("y"===e._id.charAt(0)?t.dx-=t.fontSize/4:(t.dy+=t.fontSize/2,t.dx+=(e.range[1]>e.range[0]?1:-1)*t.fontSize*(l<0?.5:.25)))}}function pe(e,t){var n=e._categories[Math.round(t.x)];void 0===n&&(n=""),t.text=String(n)}function ge(e,t,n){var r=Math.round(t.x),i=e._categories[r]||[],a=void 0===i[1]?"":String(i[1]),o=void 0===i[0]?"":String(i[0]);n?t.text=o+" - "+a:(t.text=a,t.text2=o)}function ve(e,t,n,r,i){"never"===i?i="":"all"===e.showexponent&&Math.abs(t.x/e.dtick)<1e-6&&(i="hide"),t.text=we(t.x,e,i,r)}function me(e,t,n,r,i){if("radians"!==e.thetaunit||n)t.text=we(t.x,e,i,r);else{var a=t.x/180;if(0===a)t.text="0";else{var o=ye(a);if(o[1]>=100)t.text=we(s.deg2rad(t.x),e,i,r);else{var l=t.x<0;1===o[1]?1===o[0]?t.text="\u03c0":t.text=o[0]+"\u03c0":t.text=["<sup>",o[0],"</sup>","\u2044","<sub>",o[1],"</sub>","\u03c0"].join(""),l&&(t.text=L+t.text)}}}}function ye(e){function t(e,t){return Math.abs(e-t)<=1e-6}function n(e,r){return t(r,0)?e:n(r,e%r)}function r(e){for(var n=1;!t(Math.round(e*n)/n,e);)n*=10;return n}var i=r(e),a=e*i,o=Math.abs(n(a,i));return[Math.round(a/o),Math.round(i/o)]}F.autoTicks=function(e,t){var n;function r(e){return Math.pow(e,Math.floor(Math.log(t)/Math.LN10))}if("date"===e.type){e.tick0=s.dateTick0(e.calendar,0);var a=2*t;if(a>m)t/=m,n=r(10),e.dtick="M"+12*ue(t,n,ne);else if(a>k)t/=k,e.dtick="M"+ue(t,1,re);else if(a>A){e.dtick=ue(t,A,e._hasDayOfWeekBreaks?[1,2,7,14]:ae);var o=F.getTickFormat(e),l="period"===e.ticklabelmode;l&&(e._rawTick0=e.tick0),/%[uVW]/.test(o)?e.tick0=s.dateTick0(e.calendar,2):e.tick0=s.dateTick0(e.calendar,1),l&&(e._dowTick0=e.tick0)}else a>S?e.dtick=ue(t,S,re):a>O?e.dtick=ue(t,O,ie):a>C?e.dtick=ue(t,C,ie):(n=r(10),e.dtick=ue(t,n,ne))}else if("log"===e.type){e.tick0=0;var u=s.simpleMap(e.range,e.r2l);if(t>.7)e.dtick=Math.ceil(t);else if(Math.abs(u[1]-u[0])<1){var c=1.5*Math.abs((u[1]-u[0])/t);t=Math.abs(Math.pow(10,u[1])-Math.pow(10,u[0]))/c,n=r(10),e.dtick="L"+ue(t,n,ne)}else e.dtick=t>.3?"D2":"D1"}else"category"===e.type||"multicategory"===e.type?(e.tick0=0,e.dtick=Math.ceil(Math.max(t,1))):qe(e)?(e.tick0=0,n=1,e.dtick=ue(t,n,le)):(e.tick0=0,n=r(10),e.dtick=ue(t,n,ne));if(0===e.dtick&&(e.dtick=1),!i(e.dtick)&&"string"!==typeof e.dtick){var f=e.dtick;throw e.dtick=1,"ax.dtick error: "+String(f)}},F.tickIncrement=function(e,t,n,a){var o=n?-1:1;if(i(t))return s.increment(e,o*t);var l=t.charAt(0),u=o*Number(t.substr(1));if("M"===l)return s.incrementMonth(e,u,a);if("L"===l)return Math.log(Math.pow(10,e)+u)/Math.LN10;if("D"===l){var c="D2"===t?se:oe,f=e+.01*o,d=s.roundUp(s.mod(f,1),c,n);return Math.floor(f)+Math.log(r.round(Math.pow(10,d),1))/Math.LN10}throw"unrecognized dtick "+String(t)},F.tickFirst=function(e,t){var n=e.r2l||Number,a=s.simpleMap(e.range,n,void 0,void 0,t),o=a[1]<a[0],l=o?Math.floor:Math.ceil,u=G(a)[0],c=e.dtick,f=n(e.tick0);if(i(c)){var d=l((u-f)/c)*c+f;return"category"!==e.type&&"multicategory"!==e.type||(d=s.constrain(d,0,e._categories.length-1)),d}var h=c.charAt(0),p=Number(c.substr(1));if("M"===h){for(var g,v,m,y=0,b=f;y<10;){if(((g=F.tickIncrement(b,c,o,e.calendar))-u)*(b-u)<=0)return o?Math.min(b,g):Math.max(b,g);v=(u-(b+g)/2)/(g-b),m=h+(Math.abs(Math.round(v))||1)*p,b=F.tickIncrement(b,m,v<0?!o:o,e.calendar),y++}return s.error("tickFirst did not converge",e),b}if("L"===h)return Math.log(l((Math.pow(10,u)-f)/p)*p+f)/Math.LN10;if("D"===h){var x="D2"===c?se:oe,_=s.roundUp(s.mod(u,1),x,o);return Math.floor(u)+Math.log(r.round(Math.pow(10,_),1))/Math.LN10}throw"unrecognized dtick "+String(c)},F.tickText=function(e,t,n,r){var i,a=fe(e,t),o="array"===e.tickmode,l=n||o,u=e.type,c="category"===u?e.d2l_noadd:e.d2l;if(o&&Array.isArray(e.ticktext)){var f=s.simpleMap(e.range,e.r2l),d=(Math.abs(f[1]-f[0])-(e._lBreaks||0))/1e4;for(i=0;i<e.ticktext.length&&!(Math.abs(t-c(e.tickvals[i]))<d);i++);if(i<e.ticktext.length)return a.text=String(e.ticktext[i]),a}function h(r){if(void 0===r)return!0;if(n)return"none"===r;var i={first:e._tmin,last:e._tmax}[r];return"all"!==r&&t!==i}var p=n?"never":"none"!==e.exponentformat&&h(e.showexponent)?"hide":"";if("date"===u?de(e,a,n,l):"log"===u?he(e,a,n,l,p):"category"===u?pe(e,a):"multicategory"===u?ge(e,a,n):qe(e)?me(e,a,n,l,p):ve(e,a,n,l,p),r||(e.tickprefix&&!h(e.showtickprefix)&&(a.text=e.tickprefix+a.text),e.ticksuffix&&!h(e.showticksuffix)&&(a.text+=e.ticksuffix)),"boundaries"===e.tickson||e.showdividers){var g=function(t){var n=e.l2p(t);return n>=0&&n<=e._length?t:null};a.xbnd=[g(a.x-.5),g(a.x+e.dtick-.5)]}return a},F.hoverLabelText=function(e,t,n){if(n!==R&&n!==t)return F.hoverLabelText(e,t)+" - "+F.hoverLabelText(e,n);var r="log"===e.type&&t<=0,i=F.tickText(e,e.c2l(r?-t:t),"hover").text;return r?0===t?"0":L+i:i};var be=["f","p","n","\u03bc","m","","k","M","G","T"];function xe(e){return"SI"===e||"B"===e}function _e(e){return e>14||e<-15}function we(e,t,n,r){var a=e<0,o=t._tickround,l=n||t.exponentformat||"B",u=t._tickexponent,c=F.getTickFormat(t),f=t.separatethousands;if(r){var d={exponentformat:l,minexponent:t.minexponent,dtick:"none"===t.showexponent?t.dtick:i(e)&&Math.abs(e)||1,range:"none"===t.showexponent?t.range.map(t.r2d):[0,e||1]};ce(d),o=(Number(d._tickround)||0)+4,u=d._tickexponent,t.hoverformat&&(c=t.hoverformat)}if(c)return t._numFormat(c)(e).replace(/-/g,L);var h,p=Math.pow(10,-o)/2;if("none"===l&&(u=0),(e=Math.abs(e))<p)e="0",a=!1;else{if(e+=p,u&&(e*=Math.pow(10,-u),o+=u),0===o)e=String(Math.floor(e));else if(o<0){e=(e=String(Math.round(e))).substr(0,e.length+o);for(var g=o;g<0;g++)e+="0"}else{var v=(e=String(e)).indexOf(".")+1;v&&(e=e.substr(0,v+o).replace(/\.?0+$/,""))}e=s.numSeparate(e,t._separators,f)}return u&&"hide"!==l&&(xe(l)&&_e(u)&&(l="power"),h=u<0?L+-u:"power"!==l?"+"+u:String(u),"e"===l||"E"===l?e+=l+h:"power"===l?e+="\xd710<sup>"+h+"</sup>":"B"===l&&9===u?e+="B":xe(l)&&(e+=be[u/3+5])),a?L+e:e}function ke(e,t){var n,r=[],i=function(e,t){var n=e.xbnd[t];null!==n&&r.push(s.extendFlat({},e,{x:n}))};if(t.length){for(n=0;n<t.length;n++)i(t[n],0);i(t[n-1],1)}return r}function Me(e,t){for(var n=[],r={},i=0;i<t.length;i++){var a=t[i];r[a.text2]?r[a.text2].push(a.x):r[a.text2]=[a.x]}for(var o in r)n.push(fe(e,s.interp(r[o],.5),o));return n}function Te(e,t){var n,r,i=[],a=t.length&&t[t.length-1].x<t[0].x,o=function(e,t){var n=e.xbnd[t];null!==n&&i.push(s.extendFlat({},e,{x:n}))};if(e.showdividers&&t.length){for(n=0;n<t.length;n++){var l=t[n];l.text2!==r&&o(l,a?1:0),r=l.text2}o(t[n-1],a?0:1)}return i}function Ae(e,t){var n,r,i,a;return e._selections[t].size()?(n=1/0,r=-1/0,i=1/0,a=-1/0,e._selections[t].each((function(){var e=Ie(this),t=d.bBox(e.node().parentNode);n=Math.min(n,t.top),r=Math.max(r,t.bottom),i=Math.min(i,t.left),a=Math.max(a,t.right)}))):(n=0,r=0,i=0,a=0),{top:n,bottom:r,left:i,right:a,height:r-n,width:a-i}}function Ee(e){return void 0!==e.periodX?e.periodX:e.x}function Se(e){var t=e.ticklabelposition||"",n=function(e){return-1!==t.indexOf(e)},r=n("top"),i=n("left"),a=n("right"),o=n("bottom"),s=n("inside"),l=o||i||r||a;if(!l&&!s)return[0,0];var u=e.side,c=l?(e.tickwidth||0)/2:0,f=D,d=e.tickfont?e.tickfont.size:12;return(o||r)&&(c+=d*z,f+=(e.linewidth||0)/2),(i||a)&&(c+=(e.linewidth||0)/2,f+=D),s&&"top"===u&&(f-=d*(1-z)),(i||r)&&(c=-c),"bottom"!==u&&"right"!==u||(f=-f),[l?c:0,s?f:0]}function Oe(e){return[e.text,e.x,e.axInfo,e.font,e.fontSize,e.fontColor].join("_")}function Ce(e,t,n){var r=t._id+"divider",i=n.vals,a=n.layer.selectAll("path."+r).data(i,Oe);a.exit().remove(),a.enter().insert("path",":first-child").classed(r,1).classed("crisp",1).call(f.stroke,t.dividercolor).style("stroke-width",d.crispRound(e,t.dividerwidth,1)+"px"),a.attr("transform",n.transFn).attr("d",n.path)}function Le(e){var t=e.title.font.size,n=(e.title.text.match(u.BR_TAG_ALL)||[]).length;return e.title.hasOwnProperty("standoff")?n?t*(z+n*I):t*z:n?t*(n+1)*I:t}function Re(e,t){var n,r=e._fullLayout,i=t._id,a=i.charAt(0),o=t.title.font.size;if(t.title.hasOwnProperty("standoff"))n=t._depth+t.title.standoff+Le(t);else{var s=-1!==(t.ticklabelposition||"").indexOf("inside");if("multicategory"===t.type)n=t._depth;else{var l=1.5*o;s&&(l=.5*o,"outside"===t.ticks&&(l+=t.ticklen)),n=10+l+(t.linewidth?t.linewidth-1:0)}s||(n+="x"===a?"top"===t.side?o*(t.showticklabels?1:0):o*(t.showticklabels?1.5:.5):"right"===t.side?o*(t.showticklabels?1:.5):o*(t.showticklabels?.5:0))}var u,f,h,p,g=F.getPxPosition(e,t);if("x"===a?(f=t._offset+t._length/2,h="top"===t.side?g-n:g+n):(h=t._offset+t._length/2,f="right"===t.side?g+n:g-n,u={rotate:"-90",offset:0}),"multicategory"!==t.type){var v=t._selections[t._id+"tick"];if(p={selection:v,side:t.side},v&&v.node()&&v.node().parentNode){var m=d.getTranslate(v.node().parentNode);p.offsetLeft=m.x,p.offsetTop=m.y}t.title.hasOwnProperty("standoff")&&(p.pad=0)}return c.draw(e,i+"title",{propContainer:t,propName:t._name+".title.text",placeholder:r._dfltTitle[a],avoid:p,transform:u,attributes:{x:f,y:h,"text-anchor":"middle"}})}function Pe(e,t){var n=e.l2p(t);return n>1&&n<e._length-1}function je(e,t,n,r){var i=n._mainAxis;if(i){var a=e._fullLayout,o=t._id.charAt(0),s=F.counterLetter(t._id),l=t._offset+(Math.abs(r[0])<Math.abs(r[1])===("x"===o)?0:t._length),u=a._plots[n._mainSubplot];if(!(u.mainplotinfo||u).overlays.length)return h(n,l);for(var c=F.list(e,s),f=0;f<c.length;f++){var d=c[f];if(d._mainAxis===i&&h(d,l))return!0}}function h(e){if(!e.showline||!e.linewidth)return!1;var n=Math.max((e.linewidth+t.zerolinewidth)/2,1);function r(e){return"number"===typeof e&&Math.abs(e-l)<n}if(r(e._mainLinePosition)||r(e._mainMirrorPosition))return!0;var i=e._linepositions||{};for(var a in i)if(r(i[a][0])||r(i[a][1]))return!0}}function ze(e,t){for(var n=e._fullData,r=t._mainSubplot,i=t._id.charAt(0),a=0;a<n.length;a++){var s=n[a];if(!0===s.visible&&s.xaxis+s.yaxis===r){if(o.traceIs(s,"bar-like")&&s.orientation==={x:"h",y:"v"}[i])return!0;if(s.fill&&s.fill.charAt(s.fill.length-1)===i)return!0}}return!1}function Ie(e){var t=r.select(e),n=t.select(".text-math-group");return n.empty()?t.select("text"):n}function Ne(e){return e._id+".automargin"}function De(e){return Ne(e)+".mirror"}function Fe(e){return e._id+".rangeslider"}function Be(e,t){var n,r,i=[];for(n=0;n<t.length;n++){var a=[],o=e._fullData[t[n]].xaxis,s=e._fullData[t[n]].yaxis;if(o&&s){for(r=0;r<i.length;r++)-1===i[r].x.indexOf(o)&&-1===i[r].y.indexOf(s)||a.push(r);if(a.length){var l,u=i[a[0]];if(a.length>1)for(r=1;r<a.length;r++)l=i[a[r]],Ue(u.x,l.x),Ue(u.y,l.y);Ue(u.x,[o]),Ue(u.y,[s])}else i.push({x:[o],y:[s]})}}return i}function Ue(e,t){for(var n=0;n<t.length;n++)-1===e.indexOf(t[n])&&e.push(t[n])}function Ve(e,t,n){var r,i,a=[],o=[],l=e.layout;for(r=0;r<t.length;r++)a.push(F.getFromId(e,t[r]));for(r=0;r<n.length;r++)o.push(F.getFromId(e,n[r]));var u=Object.keys(h),c=["anchor","domain","overlaying","position","side","tickangle","editType"],f=["linear","log"];for(r=0;r<u.length;r++){var d=u[r],p=a[0][d],g=o[0][d],v=!0,m=!1,y=!1;if("_"!==d.charAt(0)&&"function"!==typeof p&&-1===c.indexOf(d)){for(i=1;i<a.length&&v;i++){var b=a[i][d];"type"===d&&-1!==f.indexOf(p)&&-1!==f.indexOf(b)&&p!==b?m=!0:b!==p&&(v=!1)}for(i=1;i<o.length&&v;i++){var x=o[i][d];"type"===d&&-1!==f.indexOf(g)&&-1!==f.indexOf(x)&&g!==x?y=!0:o[i][d]!==g&&(v=!1)}v&&(m&&(l[a[0]._name].type="linear"),y&&(l[o[0]._name].type="linear"),He(l,d,a,o,e._fullLayout._dfltTitle))}}for(r=0;r<e._fullLayout.annotations.length;r++){var _=e._fullLayout.annotations[r];-1!==t.indexOf(_.xref)&&-1!==n.indexOf(_.yref)&&s.swapAttrs(l.annotations[r],["?"])}}function He(e,t,n,r,i){var a,o=s.nestedProperty,l=o(e[n[0]._name],t).get(),u=o(e[r[0]._name],t).get();for("title"===t&&(l&&l.text===i.x&&(l.text=i.y),u&&u.text===i.y&&(u.text=i.x)),a=0;a<n.length;a++)o(e,n[a]._name+"."+t).set(u);for(a=0;a<r.length;a++)o(e,r[a]._name+"."+t).set(l)}function qe(e){return"angularaxis"===e._id}function We(e,t){for(var n=t._rangebreaks.length,r=0;r<n;r++){var i=t._rangebreaks[r];if(e>=i.min&&e<i.max)return i.max}return e}F.getTickFormat=function(e){var t,n,r;function i(e){return"string"!==typeof e?e:Number(e.replace("M",""))*k}function a(e,t){var n=["L","D"];if(typeof e===typeof t){if("number"===typeof e)return e-t;var r=n.indexOf(e.charAt(0)),i=n.indexOf(t.charAt(0));return r===i?Number(e.replace(/(L|D)/g,""))-Number(t.replace(/(L|D)/g,"")):r-i}return"number"===typeof e?1:-1}function o(e,t,n){var r=n||function(e){return e},i=t[0],a=t[1];return(!i&&"number"!==typeof i||r(i)<=r(e))&&(!a&&"number"!==typeof a||r(a)>=r(e))}function s(e,t){var n=null===t[0],r=null===t[1],i=a(e,t[0])>=0,o=a(e,t[1])<=0;return(n||i)&&(r||o)}if(e.tickformatstops&&e.tickformatstops.length>0)switch(e.type){case"date":case"linear":for(t=0;t<e.tickformatstops.length;t++)if((r=e.tickformatstops[t]).enabled&&o(e.dtick,r.dtickrange,i)){n=r;break}break;case"log":for(t=0;t<e.tickformatstops.length;t++)if((r=e.tickformatstops[t]).enabled&&s(e.dtick,r.dtickrange)){n=r;break}}return n?n.value:e.tickformat},F.getSubplots=function(e,t){var n=e._fullLayout._subplots,r=n.cartesian.concat(n.gl2d||[]),i=t?F.findSubplotsWithAxis(r,t):r;return i.sort((function(e,t){var n=e.substr(1).split("y"),r=t.substr(1).split("y");return n[0]===r[0]?+n[1]-+r[1]:+n[0]-+r[0]})),i},F.findSubplotsWithAxis=function(e,t){for(var n=new RegExp("x"===t._id.charAt(0)?"^"+t._id+"y":t._id+"$"),r=[],i=0;i<e.length;i++){var a=e[i];n.test(a)&&r.push(a)}return r},F.makeClipPaths=function(e){var t=e._fullLayout;if(!t._hasOnlyLargeSploms){var n,i,a={_offset:0,_length:t.width,_id:""},o={_offset:0,_length:t.height,_id:""},s=F.list(e,"x",!0),l=F.list(e,"y",!0),u=[];for(n=0;n<s.length;n++)for(u.push({x:s[n],y:o}),i=0;i<l.length;i++)0===n&&u.push({x:a,y:l[i]}),u.push({x:s[n],y:l[i]});var c=t._clips.selectAll(".axesclip").data(u,(function(e){return e.x._id+e.y._id}));c.enter().append("clipPath").classed("axesclip",!0).attr("id",(function(e){return"clip"+t._uid+e.x._id+e.y._id})).append("rect"),c.exit().remove(),c.each((function(e){r.select(this).select("rect").attr({x:e.x._offset||0,y:e.y._offset||0,width:e.x._length||1,height:e.y._length||1})}))}},F.draw=function(e,t,n){var r=e._fullLayout;"redraw"===t&&r._paper.selectAll("g.subplot").each((function(e){var t=e[0],n=r._plots[t];if(n){var i=n.xaxis,a=n.yaxis;n.xaxislayer.selectAll("."+i._id+"tick").remove(),n.yaxislayer.selectAll("."+a._id+"tick").remove(),n.xaxislayer.selectAll("."+i._id+"tick2").remove(),n.yaxislayer.selectAll("."+a._id+"tick2").remove(),n.xaxislayer.selectAll("."+i._id+"divider").remove(),n.yaxislayer.selectAll("."+a._id+"divider").remove(),n.gridlayer&&n.gridlayer.selectAll("path").remove(),n.zerolinelayer&&n.zerolinelayer.selectAll("path").remove(),r._infolayer.select(".g-"+i._id+"title").remove(),r._infolayer.select(".g-"+a._id+"title").remove()}}));var i=t&&"redraw"!==t?t:F.listIds(e);return s.syncOrAsync(i.map((function(t){return function(){if(t){var r=F.getFromId(e,t),i=F.drawOne(e,r,n);return r._r=r.range.slice(),r._rl=s.simpleMap(r._r,r.r2l),i}}})))},F.drawOne=function(e,t,n){var r,i,l;n=n||{},t.setScale();var u=e._fullLayout,c=t._id,f=c.charAt(0),d=F.counterLetter(c),h=u._plots[t._mainSubplot];if(h){var p=h[f+"axislayer"],g=t._mainLinePosition,v=t._mainMirrorPosition,m=t._vals=F.calcTicks(t),y=[t.mirror,g,v].join("_");for(r=0;r<m.length;r++)m[r].axInfo=y;t._selections={},t._tickAngles&&(t._prevTickAngles=t._tickAngles),t._tickAngles={},t._depth=null;var b={};if(t.visible){var x,_,w=F.makeTransTickFn(t),k=F.makeTransTickLabelFn(t),M="inside"===t.ticks,T="outside"===t.ticks;if("boundaries"===t.tickson){var A=ke(t,m);_=F.clipEnds(t,A),x=M?_:A}else _=F.clipEnds(t,m),x=M&&"period"!==t.ticklabelmode?_:m;var E=t._gridVals=_,S=Te(t,m);if(!u._hasOnlyLargeSploms){var O=t._subplotsWith,C={};for(r=0;r<O.length;r++){i=O[r];var L=(l=u._plots[i])[d+"axis"],R=L._mainAxis._id;if(!C[R]){C[R]=1;var P="x"===f?"M0,"+L._offset+"v"+L._length:"M"+L._offset+",0h"+L._length;F.drawGrid(e,t,{vals:E,counterAxis:L,layer:l.gridlayer.select("."+c),path:P,transFn:w}),F.drawZeroLine(e,t,{counterAxis:L,layer:l.zerolinelayer,path:P,transFn:w})}}}var j=F.getTickSigns(t),z=[];if(t.ticks){var D,B,U,V=F.makeTickPath(t,g,j[2]);if(t._anchorAxis&&t.mirror&&!0!==t.mirror?(D=F.makeTickPath(t,v,j[3]),B=V+D):(D="",B=V),t.showdividers&&T&&"boundaries"===t.tickson){var H={};for(r=0;r<S.length;r++)H[S[r].x]=1;U=function(e){return H[e.x]?D:B}}else U=B;F.drawTicks(e,t,{vals:x,layer:p,path:U,transFn:w}),"allticks"===t.mirror&&(z=Object.keys(t._linepositions||{}))}for(r=0;r<z.length;r++){i=z[r],l=u._plots[i];var q=t._linepositions[i]||[],W=F.makeTickPath(t,q[0],j[0])+F.makeTickPath(t,q[1],j[1]);F.drawTicks(e,t,{vals:x,layer:l[f+"axislayer"],path:W,transFn:w})}var G=[];if(G.push((function(){return F.drawLabels(e,t,{vals:m,layer:p,transFn:k,labelFns:F.makeLabelFns(t,g)})})),"multicategory"===t.type){var X={x:2,y:10}[f];G.push((function(){var n={x:"height",y:"width"}[f],r=Z()[n]+X+(t._tickAngles[c+"tick"]?t.tickfont.size*I:0);return F.drawLabels(e,t,{vals:Me(t,m),layer:p,cls:c+"tick2",repositionOnUpdate:!0,secondary:!0,transFn:w,labelFns:F.makeLabelFns(t,g+r*j[4])})})),G.push((function(){return t._depth=j[4]*(Z("tick2")[t.side]-g),Ce(e,t,{vals:S,layer:p,path:F.makeTickPath(t,g,j[4],t._depth),transFn:w})}))}else t.title.hasOwnProperty("standoff")&&G.push((function(){t._depth=j[4]*(Z()[t.side]-g)}));var Y=o.getComponentMethod("rangeslider","isVisible")(t);return G.push((function(){var n,r,i,s,l=t.side.charAt(0),c=N[t.side].charAt(0),h=F.getPxPosition(e,t),p=T?t.ticklen:0;if((t.automargin||Y)&&("multicategory"===t.type?n=Z("tick2"):(n=Z(),"x"===f&&"b"===l&&(t._depth=Math.max(n.width>0?n.bottom-h:0,p)))),t.automargin){r={x:0,y:0,r:0,l:0,t:0,b:0};var g=[0,1];if("x"===f){if("b"===l?r[l]=t._depth:(r[l]=t._depth=Math.max(n.width>0?h-n.top:0,p),g.reverse()),n.width>0){var v=n.right-(t._offset+t._length);v>0&&(r.xr=1,r.r=v);var m=t._offset-n.left;m>0&&(r.xl=0,r.l=m)}}else if("l"===l?r[l]=t._depth=Math.max(n.height>0?h-n.left:0,p):(r[l]=t._depth=Math.max(n.height>0?n.right-h:0,p),g.reverse()),n.height>0){var y=n.bottom-(t._offset+t._length);y>0&&(r.yb=0,r.b=y);var b=t._offset-n.top;b>0&&(r.yt=1,r.t=b)}r[d]="free"===t.anchor?t.position:t._anchorAxis.domain[g[0]],t.title.text!==u._dfltTitle[f]&&(r[l]+=Le(t)+(t.title.standoff||0)),t.mirror&&"free"!==t.anchor&&((i={x:0,y:0,r:0,l:0,t:0,b:0})[c]=t.linewidth,t.mirror&&!0!==t.mirror&&(i[c]+=p),!0===t.mirror||"ticks"===t.mirror?i[d]=t._anchorAxis.domain[g[1]]:"all"!==t.mirror&&"allticks"!==t.mirror||(i[d]=[t._counterDomainMin,t._counterDomainMax][g[1]]))}Y&&(s=o.getComponentMethod("rangeslider","autoMarginOpts")(e,t)),a.autoMargin(e,Ne(t),r),a.autoMargin(e,De(t),i),a.autoMargin(e,Fe(t),s)})),n.skipTitle||Y&&"bottom"===t.side||G.push((function(){return Re(e,t)})),s.syncOrAsync(G)}}function Z(e){var n=c+(e||"tick");return b[n]||(b[n]=Ae(t,n)),b[n]}},F.getTickSigns=function(e){var t=e._id.charAt(0),n={x:"top",y:"right"}[t],r=e.side===n?1:-1,i=[-1,1,r,-r];return"inside"!==e.ticks===("x"===t)&&(i=i.map((function(e){return-e}))),e.side&&i.push({l:-1,t:-1,r:1,b:1}[e.side.charAt(0)]),i},F.makeTransTickFn=function(e){return"x"===e._id.charAt(0)?function(t){return l(e._offset+e.l2p(t.x),0)}:function(t){return l(0,e._offset+e.l2p(t.x))}},F.makeTransTickLabelFn=function(e){var t=Se(e),n=t[0],r=t[1];return"x"===e._id.charAt(0)?function(t){return l(n+e._offset+e.l2p(Ee(t)),r)}:function(t){return l(r,n+e._offset+e.l2p(Ee(t)))}},F.makeTickPath=function(e,t,n,r){r=void 0!==r?r:e.ticklen;var i=e._id.charAt(0),a=(e.linewidth||1)/2;return"x"===i?"M0,"+(t+a*n)+"v"+r*n:"M"+(t+a*n)+",0h"+r*n},F.makeLabelFns=function(e,t,n){var r=e.ticklabelposition||"",a=function(e){return-1!==r.indexOf(e)},o=a("top"),l=a("left"),u=a("right"),c=a("bottom")||l||o||u,f=a("inside"),d="inside"===r&&"inside"===e.ticks||!f&&"outside"===e.ticks&&"boundaries"!==e.tickson,h=0,p=0,g=d?e.ticklen:0;if(f?g*=-1:c&&(g=0),d&&(h+=g,n)){var v=s.deg2rad(n);h=g*Math.cos(v)+1,p=g*Math.sin(v)}e.showticklabels&&(d||e.showline)&&(h+=.2*e.tickfont.size);var m,y,b,x,_,w={labelStandoff:h+=(e.linewidth||1)/2*(f?-1:1),labelShift:p},k=0,M=e.side,T=e._id.charAt(0),A=e.tickangle;if("x"===T)x=(_=!f&&"bottom"===M||f&&"top"===M)?1:-1,f&&(x*=-1),m=p*x,y=t+h*x,b=_?1:-.2,90===Math.abs(A)&&(f?b+=j:b=-90===A&&"bottom"===M?z:90===A&&"top"===M?j:.5,k=j/2*(A/90)),w.xFn=function(e){return e.dx+m+k*e.fontSize},w.yFn=function(e){return e.dy+y+e.fontSize*b},w.anchorFn=function(e,t){if(c){if(l)return"end";if(u)return"start"}return i(t)&&0!==t&&180!==t?t*x<0!==f?"end":"start":"middle"},w.heightFn=function(t,n,r){return n<-60||n>60?-.5*r:"top"===e.side!==f?-r:0};else if("y"===T){if(x=(_=!f&&"left"===M||f&&"right"===M)?1:-1,f&&(x*=-1),m=h,y=p*x,b=0,f||90!==Math.abs(A)||(b=-90===A&&"left"===M||90===A&&"right"===M?z:.5),f){var E=i(A)?+A:0;if(0!==E){var S=s.deg2rad(E);k=Math.abs(Math.sin(S))*z*x,b=0}}w.xFn=function(e){return e.dx+t-(m+e.fontSize*b)*x+k*e.fontSize},w.yFn=function(e){return e.dy+y+e.fontSize*j},w.anchorFn=function(e,t){return i(t)&&90===Math.abs(t)?"middle":_?"end":"start"},w.heightFn=function(t,n,r){return"right"===e.side&&(n*=-1),n<-30?-r:n<30?-.5*r:0}}return w},F.drawTicks=function(e,t,n){n=n||{};var r=t._id+"tick",i=n.vals;"period"===t.ticklabelmode&&(i=i.slice()).shift();var a=n.layer.selectAll("path."+r).data(t.ticks?i:[],Oe);a.exit().remove(),a.enter().append("path").classed(r,1).classed("ticks",1).classed("crisp",!1!==n.crisp).call(f.stroke,t.tickcolor).style("stroke-width",d.crispRound(e,t.tickwidth,1)+"px").attr("d",n.path),a.attr("transform",n.transFn)},F.drawGrid=function(e,t,n){n=n||{};var r=t._id+"grid",i=n.vals,a=n.counterAxis;if(!1===t.showgrid)i=[];else if(a&&F.shouldShowZeroLine(e,t,a))for(var o="array"===t.tickmode,s=0;s<i.length;s++){var l=i[s].x;if(o?!l:Math.abs(l)<t.dtick/100){if(i=i.slice(0,s).concat(i.slice(s+1)),!o)break;s--}}var u=n.layer.selectAll("path."+r).data(i,Oe);u.exit().remove(),u.enter().append("path").classed(r,1).classed("crisp",!1!==n.crisp),t._gw=d.crispRound(e,t.gridwidth,1),u.attr("transform",n.transFn).attr("d",n.path).call(f.stroke,t.gridcolor||"#ddd").style("stroke-width",t._gw+"px"),"function"===typeof n.path&&u.attr("d",n.path)},F.drawZeroLine=function(e,t,n){n=n||n;var r=t._id+"zl",i=F.shouldShowZeroLine(e,t,n.counterAxis),a=n.layer.selectAll("path."+r).data(i?[{x:0,id:t._id}]:[]);a.exit().remove(),a.enter().append("path").classed(r,1).classed("zl",1).classed("crisp",!1!==n.crisp).each((function(){n.layer.selectAll("path").sort((function(e,t){return V(e.id,t.id)}))})),a.attr("transform",n.transFn).attr("d",n.path).call(f.stroke,t.zerolinecolor||f.defaultLine).style("stroke-width",d.crispRound(e,t.zerolinewidth,t._gw||1)+"px")},F.drawLabels=function(e,t,n){n=n||{};var a=e._fullLayout,o=t._id,c=o.charAt(0),f=n.cls||o+"tick",h=n.vals,p=n.labelFns,g=n.secondary?0:t.tickangle,v=(t._prevTickAngles||{})[f],m=n.layer.selectAll("g."+f).data(t.showticklabels?h:[],Oe),y=[];function b(e,a){var o=-1!==(t.ticklabelposition||"").indexOf("inside");e.each((function(e){var s=r.select(this),c=s.select(".text-math-group"),f=p.anchorFn(e,a),h=n.transFn.call(s.node(),e)+(i(a)&&0!==+a?" rotate("+a+","+p.xFn(e)+","+(p.yFn(e)-e.fontSize/2)+")":""),g=u.lineCount(s),v=I*e.fontSize,m=p.heightFn(e,i(a)?+a:0,(g-1)*v);if(m&&(h+=l(0,m)),c.empty()){var y=s.select("text");y.attr({transform:h,"text-anchor":f}),o&&(y.style({opacity:100}),t._hideOutOfRangeInsideTickLabels&&t._hideOutOfRangeInsideTickLabels())}else{var b=d.bBox(c.node()).width*{end:-.5,start:.5}[f];c.attr("transform",h+l(b,0))}}))}function x(){return y.length&&Promise.all(y)}m.enter().append("g").classed(f,1).append("text").attr("text-anchor","middle").each((function(t){var n=r.select(this),i=e._promises.length;n.call(u.positionText,p.xFn(t),p.yFn(t)).call(d.font,t.font,t.fontSize,t.fontColor).text(t.text).call(u.convertToTspans,e),e._promises[i]?y.push(e._promises.pop().then((function(){b(n,g)}))):b(n,g)})),m.exit().remove(),n.repositionOnUpdate&&m.each((function(e){r.select(this).select("text").call(u.positionText,p.xFn(e),p.yFn(e))})),t._hideOutOfRangeInsideTickLabels=void 0,-1!==(t.ticklabelposition||"").indexOf("inside")&&(t._hideOutOfRangeInsideTickLabels=function(){var e=s.simpleMap(t.range,t.r2l),n=t.l2p(e[0]),i=t.l2p(e[1]),a=Math.min(n,i)+t._offset,o=Math.max(n,i)+t._offset,l="x"===t._id.charAt(0);m.each((function(e){var n=r.select(this);if(n.select(".text-math-group").empty()){var i=d.bBox(n.node()),s=!1;l?(i.right>o||i.left<a)&&(s=!0):(i.bottom>o||i.top+(t.tickangle?0:e.fontSize/4)<a)&&(s=!0),s&&n.select("text").style({opacity:0})}}))}),b(m,v+1?v:g);var _=null;function w(){if(b(m,g),h.length&&"x"===c&&!i(g)&&("log"!==t.type||"D"!==String(t.dtick).charAt(0))){_=0;var e,r=0,a=[];if(m.each((function(e){r=Math.max(r,e.fontSize);var n=t.l2p(e.x),i=Ie(this),o=d.bBox(i.node());a.push({top:0,bottom:10,height:10,left:n-o.width/2,right:n+o.width/2+2,width:o.width+2})})),"boundaries"!==t.tickson&&!t.showdividers||n.secondary){var o=h.length,l=Math.abs((h[o-1].x-h[0].x)*t._m)/(o-1),u=t.ticklabelposition||"",f=function(e){return-1!==u.indexOf(e)},p=f("top"),v=f("left"),y=f("right"),x=f("bottom")||v||p||y?(t.tickwidth||0)+2*D:0,w=l<2.5*r||"multicategory"===t.type;for(e=0;e<a.length-1;e++)if(s.bBoxIntersect(a[e],a[e+1],x)){_=w?90:30;break}}else{var k=2;for(t.ticks&&(k+=t.tickwidth/2),e=0;e<a.length;e++){var M=h[e].xbnd,T=a[e];if(null!==M[0]&&T.left-t.l2p(M[0])<k||null!==M[1]&&t.l2p(M[1])-T.right<k){_=90;break}}}_&&b(m,_)}}t._selections&&(t._selections[f]=m);var k=[x];t.automargin&&a._redrawFromAutoMarginCount&&90===v?(_=90,k.push((function(){b(m,v)}))):k.push(w),t._tickAngles&&k.push((function(){t._tickAngles[f]=null===_?i(g)?g:0:_}));var M=t._anchorAxis;M&&M.autorange&&-1!==(t.ticklabelposition||"").indexOf("inside")&&!H(a,t._id)&&(a._insideTickLabelsAutorange||(a._insideTickLabelsAutorange={}),a._insideTickLabelsAutorange[M._name+".autorange"]=M.autorange,k.push((function(){m.each((function(e,n){var r=Ie(this);t._vals[n].bb=d.bBox(r.node())}))})));var T=s.syncOrAsync(k);return T&&T.then&&e._promises.push(T),T},F.getPxPosition=function(e,t){var n,r=e._fullLayout._size,i=t._id.charAt(0),a=t.side;return"free"!==t.anchor?n=t._anchorAxis:"x"===i?n={_offset:r.t+(1-(t.position||0))*r.h,_length:0}:"y"===i&&(n={_offset:r.l+(t.position||0)*r.w,_length:0}),"top"===a||"left"===a?n._offset:"bottom"===a||"right"===a?n._offset+n._length:void 0},F.shouldShowZeroLine=function(e,t,n){var r=s.simpleMap(t.range,t.r2l);return r[0]*r[1]<=0&&t.zeroline&&("linear"===t.type||"-"===t.type)&&!(t.rangebreaks&&t.maskBreaks(0)===R)&&(Pe(t,0)||!je(e,t,n,r)||ze(e,t))},F.clipEnds=function(e,t){return t.filter((function(t){return Pe(e,t.x)}))},F.allowAutoMargin=function(e){for(var t=F.list(e,"",!0),n=0;n<t.length;n++){var r=t[n];r.automargin&&(a.allowAutoMargin(e,Ne(r)),r.mirror&&a.allowAutoMargin(e,De(r))),o.getComponentMethod("rangeslider","isVisible")(r)&&a.allowAutoMargin(e,Fe(r))}},F.swap=function(e,t){for(var n=Be(e,t),r=0;r<n.length;r++)Ve(e,n[r].x,n[r].y)}},{"../../components/color":394,"../../components/drawing":416,"../../components/titles":489,"../../constants/alignment":496,"../../constants/numerical":502,"../../lib":524,"../../lib/svg_text_utils":548,"../../plots/plots":617,"../../registry":626,"./autorange":571,"./axis_autotype":573,"./axis_ids":575,"./clean_ticks":577,"./layout_attributes":586,"./set_convert":592,d3:82,"fast-isnumeric":91}],573:[function(e,t,n){"use strict";var r=e("fast-isnumeric"),i=e("../../lib"),a=e("../../constants/numerical").BADNUM,o=i.isArrayOrTypedArray,s=i.isDateTime,l=i.cleanNumber,u=Math.round;function c(e,t){return t?r(e):"number"===typeof e}function f(e,t){for(var n=e.length,r=0;r<n;r++)if(c(e[r],t))return!0;return!1}function d(e,t){for(var n=e.length,i=h(n),a=0,o=0,l={},c=0;c<n;c+=i){var f=e[u(c)],d=String(f);l[d]||(l[d]=1,s(f,t)&&a++,r(f)&&o++)}return a>2*o}function h(e){return Math.max(1,(e-1)/1e3)}function p(e,t){for(var n=e.length,r=h(n),i=0,o=0,s={},c=0;c<n;c+=r){var f=e[u(c)],d=String(f);if(!s[d]){s[d]=1;var p=typeof f;"boolean"===p?o++:(t?l(f)!==a:"number"===p)?i++:"string"===p&&o++}}return o>2*i}function g(e){return o(e[0])&&o(e[1])}t.exports=function(e,t,n){var r=e,i=n.noMultiCategory;if(o(r)&&!r.length)return"-";if(!i&&g(r))return"multicategory";if(i&&Array.isArray(r[0])){for(var a=[],s=0;s<r.length;s++)if(o(r[s]))for(var l=0;l<r[s].length;l++)a.push(r[s][l]);r=a}if(d(r,t))return"date";var u="strict"!==n.autotypenumbers;return p(r,u)?"category":f(r,u)?"linear":"-"}},{"../../constants/numerical":502,"../../lib":524,"fast-isnumeric":91}],574:[function(e,t,n){"use strict";var r=e("fast-isnumeric"),i=e("../../registry"),a=e("../../lib"),o=e("../array_container_defaults"),s=e("./layout_attributes"),l=e("./tick_value_defaults"),u=e("./tick_mark_defaults"),c=e("./tick_label_defaults"),f=e("./category_order_defaults"),d=e("./line_grid_defaults"),h=e("./set_convert"),p=e("./constants").WEEKDAY_PATTERN,g=e("./constants").HOUR_PATTERN;function v(e,t,n){function i(n,r){return a.coerce(e,t,s.rangebreaks,n,r)}if(i("enabled")){var o=i("bounds");if(o&&o.length>=2){var l,u,c="";if(2===o.length)for(l=0;l<2;l++)if(u=y(o[l])){c=p;break}var f=i("pattern",c);if(f===p)for(l=0;l<2;l++)(u=y(o[l]))&&(t.bounds[l]=o[l]=u-1);if(f)for(l=0;l<2;l++)switch(u=o[l],f){case p:if(!r(u))return void(t.enabled=!1);if((u=+u)!==Math.floor(u)||u<0||u>=7)return void(t.enabled=!1);t.bounds[l]=o[l]=u;break;case g:if(!r(u))return void(t.enabled=!1);if((u=+u)<0||u>24)return void(t.enabled=!1);t.bounds[l]=o[l]=u}if(!1===n.autorange){var d=n.range;if(d[0]<d[1]){if(o[0]<d[0]&&o[1]>d[1])return void(t.enabled=!1)}else if(o[0]>d[0]&&o[1]<d[1])return void(t.enabled=!1)}}else{var h=i("values");if(!h||!h.length)return void(t.enabled=!1);i("dvalue")}}}t.exports=function(e,t,n,r,g){var m,y=r.letter,b=r.font||{},x=r.splomStash||{},_=n("visible",!r.visibleDflt),w=t._template||{},k=t.type||w.type||"-";"date"===k&&(i.getComponentMethod("calendars","handleDefaults")(e,t,"calendar",r.calendar),r.noTicklabelmode||(m=n("ticklabelmode"))),r.noTicklabelposition&&"multicategory"!==k||a.coerce(e,t,{ticklabelposition:{valType:"enumerated",dflt:"outside",values:"period"===m?["outside","inside"]:"x"===y?["outside","inside","outside left","inside left","outside right","inside right"]:["outside","inside","outside top","inside top","outside bottom","inside bottom"]}},"ticklabelposition"),h(t,g);var M=!t.isValidRange(e.range);M&&r.reverseDflt&&(M="reversed"),!n("autorange",M)||"linear"!==k&&"-"!==k||n("rangemode"),n("range"),t.cleanRange(),f(e,t,n,r),"category"===k||r.noHover||n("hoverformat");var T=n("color"),A=T!==s.color.dflt?T:b.color,E=x.label||g._dfltTitle[y];if(c(e,t,n,k,r,{pass:1}),!_)return t;n("title.text",E),a.coerceFont(n,"title.font",{family:b.family,size:Math.round(1.2*b.size),color:A}),l(e,t,n,k),c(e,t,n,k,r,{pass:2}),u(e,t,n,r),d(e,t,n,{dfltColor:T,bgColor:r.bgColor,showGrid:r.showGrid,attributes:s}),(t.showline||t.ticks)&&n("mirror"),r.automargin&&n("automargin");var S,O="multicategory"===k;if(r.noTickson||"category"!==k&&!O||!t.ticks&&!t.showgrid||(O&&(S="boundaries"),"boundaries"===n("tickson",S)&&delete t.ticklabelposition),O&&n("showdividers")&&(n("dividercolor"),n("dividerwidth")),"date"===k)if(o(e,t,{name:"rangebreaks",inclusionAttr:"enabled",handleItemDefaults:v}),t.rangebreaks.length){for(var C=0;C<t.rangebreaks.length;C++)if(t.rangebreaks[C].pattern===p){t._hasDayOfWeekBreaks=!0;break}if(h(t,g),g._has("scattergl")||g._has("splom"))for(var L=0;L<r.data.length;L++){var R=r.data[L];"scattergl"!==R.type&&"splom"!==R.type||(R.visible=!1,a.warn(R.type+" traces do not work on axes with rangebreaks. Setting trace "+R.index+" to `visible: false`."))}}else delete t.rangebreaks;return t};var m={sun:1,mon:2,tue:3,wed:4,thu:5,fri:6,sat:7};function y(e){if("string"===typeof e)return m[e.substr(0,3).toLowerCase()]}},{"../../lib":524,"../../registry":626,"../array_container_defaults":567,"./category_order_defaults":576,"./constants":578,"./layout_attributes":586,"./line_grid_defaults":588,"./set_convert":592,"./tick_label_defaults":593,"./tick_mark_defaults":594,"./tick_value_defaults":595,"fast-isnumeric":91}],575:[function(e,t,n){"use strict";var r=e("../../registry"),i=e("./constants");function a(e,t){if(t&&t.length)for(var n=0;n<t.length;n++)if(t[n][e])return!0;return!1}n.id2name=function(e){if("string"===typeof e&&e.match(i.AX_ID_PATTERN)){var t=e.split(" ")[0].substr(1);return"1"===t&&(t=""),e.charAt(0)+"axis"+t}},n.name2id=function(e){if(e.match(i.AX_NAME_PATTERN)){var t=e.substr(5);return"1"===t&&(t=""),e.charAt(0)+t}},n.cleanId=function(e,t,n){var r=/( domain)$/.test(e);if("string"===typeof e&&e.match(i.AX_ID_PATTERN)&&(!t||e.charAt(0)===t)&&(!r||n)){var a=e.split(" ")[0].substr(1).replace(/^0+/,"");return"1"===a&&(a=""),e.charAt(0)+a+(r&&n?" domain":"")}},n.list=function(e,t,r){var i=e._fullLayout;if(!i)return[];var a,o=n.listIds(e,t),s=new Array(o.length);for(a=0;a<o.length;a++){var l=o[a];s[a]=i[l.charAt(0)+"axis"+l.substr(1)]}if(!r){var u=i._subplots.gl3d||[];for(a=0;a<u.length;a++){var c=i[u[a]];t?s.push(c[t+"axis"]):s.push(c.xaxis,c.yaxis,c.zaxis)}}return s},n.listIds=function(e,t){var n=e._fullLayout;if(!n)return[];var r=n._subplots;return t?r[t+"axis"]:r.xaxis.concat(r.yaxis)},n.getFromId=function(e,t,r){var i=e._fullLayout;return t=void 0===t||"string"!==typeof t?t:t.replace(" domain",""),"x"===r?t=t.replace(/y[0-9]*/,""):"y"===r&&(t=t.replace(/x[0-9]*/,"")),i[n.id2name(t)]},n.getFromTrace=function(e,t,i){var a=e._fullLayout,o=null;if(r.traceIs(t,"gl3d")){var s=t.scene;"scene"===s.substr(0,5)&&(o=a[s][i+"axis"])}else o=n.getFromId(e,t[i+"axis"]||i);return o},n.idSort=function(e,t){var n=e.charAt(0),r=t.charAt(0);return n!==r?n>r?1:-1:+(e.substr(1)||1)-+(t.substr(1)||1)},n.ref2id=function(e){return!!/^[xyz]/.test(e)&&e.split(" ")[0]},n.isLinked=function(e,t){return a(t,e._axisMatchGroups)||a(t,e._axisConstraintGroups)}},{"../../registry":626,"./constants":578}],576:[function(e,t,n){"use strict";function r(e,t){var n,r,i,a=t.dataAttr||e._id.charAt(0),o={};if(t.axData)n=t.axData;else for(n=[],r=0;r<t.data.length;r++){var s=t.data[r];s[a+"axis"]===e._id&&n.push(s)}for(r=0;r<n.length;r++){var l=n[r][a];for(i=0;i<l.length;i++){var u=l[i];null!==u&&void 0!==u&&(o[u]=1)}}return Object.keys(o)}t.exports=function(e,t,n,i){if("category"===t.type){var a,o=e.categoryarray,s=Array.isArray(o)&&o.length>0;s&&(a="array");var l,u=n("categoryorder",a);"array"===u&&(l=n("categoryarray")),s||"array"!==u||(u=t.categoryorder="trace"),"trace"===u?t._initialCategories=[]:"array"===u?t._initialCategories=l.slice():(l=r(t,i).sort(),"category ascending"===u?t._initialCategories=l:"category descending"===u&&(t._initialCategories=l.reverse()))}}},{}],577:[function(e,t,n){"use strict";var r=e("fast-isnumeric"),i=e("../../lib"),a=e("../../constants/numerical"),o=a.ONEDAY,s=a.ONEWEEK;n.dtick=function(e,t){var n="log"===t,i="date"===t,a="category"===t,s=i?o:1;if(!e)return s;if(r(e))return(e=Number(e))<=0?s:a?Math.max(1,Math.round(e)):i?Math.max(.1,e):e;if("string"!==typeof e||!i&&!n)return s;var l=e.charAt(0),u=e.substr(1);return(u=r(u)?Number(u):0)<=0||!(i&&"M"===l&&u===Math.round(u)||n&&"L"===l||n&&"D"===l&&(1===u||2===u))?s:e},n.tick0=function(e,t,n,a){return"date"===t?i.cleanDate(e,i.dateTick0(n,a%s===0?1:0)):"D1"!==a&&"D2"!==a?r(e)?Number(e):0:void 0}},{"../../constants/numerical":502,"../../lib":524,"fast-isnumeric":91}],578:[function(e,t,n){"use strict";var r=e("../../lib/regex").counter;t.exports={idRegex:{x:r("x","( domain)?"),y:r("y","( domain)?")},attrRegex:r("[xy]axis"),xAxisMatch:r("xaxis"),yAxisMatch:r("yaxis"),AX_ID_PATTERN:/^[xyz][0-9]*( domain)?$/,AX_NAME_PATTERN:/^[xyz]axis[0-9]*$/,SUBPLOT_PATTERN:/^x([0-9]*)y([0-9]*)$/,HOUR_PATTERN:"hour",WEEKDAY_PATTERN:"day of week",MINDRAG:8,MINSELECT:12,MINZOOM:20,DRAGGERSIZE:20,BENDPX:1.5,REDRAWDELAY:50,SELECTDELAY:100,SELECTID:"-select",DFLTRANGEX:[-1,6],DFLTRANGEY:[-1,4],traceLayerClasses:["imagelayer","heatmaplayer","contourcarpetlayer","contourlayer","funnellayer","waterfalllayer","barlayer","carpetlayer","violinlayer","boxlayer","ohlclayer","scattercarpetlayer","scatterlayer"],clipOnAxisFalseQuery:[".scatterlayer",".barlayer",".funnellayer",".waterfalllayer"],layerValue2layerClass:{"above traces":"above","below traces":"below"}}},{"../../lib/regex":540}],579:[function(e,t,n){"use strict";var r=e("../../lib"),i=e("./autorange"),a=e("./axis_ids").id2name,o=e("./layout_attributes"),s=e("./scale_zoom"),l=e("./set_convert"),u=e("../../constants/numerical").ALMOST_EQUAL,c=e("../../constants/alignment").FROM_BL;function f(e,t,n){var i=n.axIds,s=n.layoutOut,l=n.hasImage,u=s._axisConstraintGroups,c=s._axisMatchGroups,f=t._id,g=f.charAt(0),v=((s._splomAxes||{})[g]||{})[f]||{},m=t._id,y="x"===m.charAt(0);function b(n,i){return r.coerce(e,t,o,n,i)}t._matchGroup=null,t._constraintGroup=null,b("constrain",l?"domain":"range"),r.coerce(e,t,{constraintoward:{valType:"enumerated",values:y?["left","center","right"]:["bottom","middle","top"],dflt:y?"center":"middle"}},"constraintoward");var x,_,w=t.type,k=[];for(x=0;x<i.length;x++)(_=i[x])!==m&&s[a(_)].type===w&&k.push(_);var M=h(u,m);if(M){var T=[];for(x=0;x<k.length;x++)M[_=k[x]]||T.push(_);k=T}var A,E,S=k.length;S&&(e.matches||v.matches)&&(A=r.coerce(e,t,{matches:{valType:"enumerated",values:k,dflt:-1!==k.indexOf(v.matches)?v.matches:void 0}},"matches"));var O=l&&!y?t.anchor:void 0;if(S&&!A&&(e.scaleanchor||O)&&(E=r.coerce(e,t,{scaleanchor:{valType:"enumerated",values:k}},"scaleanchor",O)),A){t._matchGroup=p(c,m,A,1);var C=s[a(A)],L=d(s,t)/d(s,C);y!==("x"===A.charAt(0))&&(L=(y?"x":"y")+L),p(u,m,A,L)}else e.matches&&-1!==i.indexOf(e.matches)&&r.warn("ignored "+t._name+'.matches: "'+e.matches+'" to avoid an infinite loop');if(E){var R=b("scaleratio");R||(R=t.scaleratio=1),p(u,m,E,R)}else e.scaleanchor&&-1!==i.indexOf(e.scaleanchor)&&r.warn("ignored "+t._name+'.scaleanchor: "'+e.scaleanchor+'" to avoid either an infinite loop and possibly inconsistent scaleratios, or because this axis declares a *matches* constraint.')}function d(e,t){var n=t.domain;return n||(n=e[a(t.overlaying)].domain),n[1]-n[0]}function h(e,t){for(var n=0;n<e.length;n++)if(e[n][t])return e[n];return null}function p(e,t,n,r){var i,a,o,s,l,u=h(e,t);null===u?((u={})[t]=1,l=e.length,e.push(u)):l=e.indexOf(u);var c=Object.keys(u);for(i=0;i<e.length;i++)if(o=e[i],i!==l&&o[n]){var f=o[n];for(a=0;a<c.length;a++)o[s=c[a]]=g(f,g(r,u[s]));return void e.splice(l,1)}if(1!==r)for(a=0;a<c.length;a++){var d=c[a];u[d]=g(r,u[d])}u[n]=1}function g(e,t){var n,r,i="",a="";"string"===typeof e&&(n=(i=e.match(/^[xy]*/)[0]).length,e=+e.substr(n)),"string"===typeof t&&(r=(a=t.match(/^[xy]*/)[0]).length,t=+t.substr(r));var o=e*t;return n||r?n&&r&&i.charAt(0)!==a.charAt(0)?n===r?o:(n>r?i.substr(r):a.substr(n))+o:i+a+e*t:o}function v(e,t){for(var n=t._size,r=n.h/n.w,i={},a=Object.keys(e),o=0;o<a.length;o++){var s=a[o],l=e[s];if("string"===typeof l){var u=l.match(/^[xy]*/)[0],c=u.length;l=+l.substr(c);for(var f="y"===u.charAt(0)?r:1/r,d=0;d<c;d++)l*=f}i[s]=l}return i}function m(e,t){var n=e._inputDomain,r=c[e.constraintoward],i=n[0]+(n[1]-n[0])*r;e.domain=e._input.domain=[i+(n[0]-i)/t,i+(n[1]-i)/t],e.setScale()}n.handleDefaults=function(e,t,n){var i,o,s,u,c,d,h,p,g=n.axIds,v=n.axHasImage,m=t._axisConstraintGroups=[],y=t._axisMatchGroups=[];for(i=0;i<g.length;i++)f(c=e[u=a(g[i])],d=t[u],{axIds:g,layoutOut:t,hasImage:v[u]});function b(e,n){for(i=0;i<e.length;i++)for(s in o=e[i])t[a(s)][n]=o}for(b(y,"_matchGroup"),i=0;i<m.length;i++)for(s in o=m[i])if((d=t[a(s)]).fixedrange){for(var x in o){var _=a(x);!1===(e[_]||{}).fixedrange&&r.warn("fixedrange was specified as false for axis "+_+" but was overridden because another axis in its constraint group has fixedrange true"),t[_].fixedrange=!0}break}for(i=0;i<m.length;){for(s in o=m[i]){(d=t[a(s)])._matchGroup&&Object.keys(d._matchGroup).length===Object.keys(o).length&&(m.splice(i,1),i--);break}i++}b(m,"_constraintGroup");var w=["constrain","range","autorange","rangemode","rangebreaks","categoryorder","categoryarray"],k=!1,M=!1;function T(){p=d[h],"rangebreaks"===h&&(M=d._hasDayOfWeekBreaks)}for(i=0;i<y.length;i++){o=y[i];for(var A=0;A<w.length;A++){var E;for(s in h=w[A],p=null,o)if(c=e[u=a(s)],d=t[u],h in d){if(!d.matches&&(E=d,h in c)){T();break}null===p&&h in c&&T()}if("range"===h&&p&&(k=!0),"autorange"===h&&null===p&&k&&(p=!1),null===p&&h in E&&(p=E[h]),null!==p)for(s in o)(d=t[a(s)])[h]="range"===h?p.slice():p,"rangebreaks"===h&&(d._hasDayOfWeekBreaks=M,l(d,t))}}},n.enforce=function(e){var t,n,r,o,l,c,f,d,h=e._fullLayout,p=h._axisConstraintGroups||[];for(t=0;t<p.length;t++){r=v(p[t],h);var g=Object.keys(r),y=1/0,b=0,x=1/0,_={},w={},k=!1;for(n=0;n<g.length;n++)w[o=g[n]]=l=h[a(o)],l._inputDomain?l.domain=l._inputDomain.slice():l._inputDomain=l.domain.slice(),l._inputRange||(l._inputRange=l.range.slice()),l.setScale(),_[o]=c=Math.abs(l._m)/r[o],y=Math.min(y,c),"domain"!==l.constrain&&l._constraintShrinkable||(x=Math.min(x,c)),delete l._constraintShrinkable,b=Math.max(b,c),"domain"===l.constrain&&(k=!0);if(!(y>u*b)||k)for(n=0;n<g.length;n++)if(c=_[o=g[n]],f=(l=w[o]).constrain,c!==x||"domain"===f)if(d=c/x,"range"===f)s(l,d);else{var M=l._inputDomain,T=(l.domain[1]-l.domain[0])/(M[1]-M[0]),A=(l.r2l(l.range[1])-l.r2l(l.range[0]))/(l.r2l(l._inputRange[1])-l.r2l(l._inputRange[0]));if((d/=T)*A<1){l.domain=l._input.domain=M.slice(),s(l,d);continue}if(A<1&&(l.range=l._input.range=l._inputRange.slice(),d*=A),l.autorange){var E=l.r2l(l.range[0]),S=l.r2l(l.range[1]),O=(E+S)/2,C=O,L=O,R=Math.abs(S-O),P=O-R*d*1.0001,j=O+R*d*1.0001,z=i.makePadFn(h,l,0),I=i.makePadFn(h,l,1);m(l,d);var N,D,F=Math.abs(l._m),B=i.concatExtremes(e,l),U=B.min,V=B.max;for(D=0;D<U.length;D++)(N=U[D].val-z(U[D])/F)>P&&N<C&&(C=N);for(D=0;D<V.length;D++)(N=V[D].val+I(V[D])/F)<j&&N>L&&(L=N);d/=(L-C)/(2*R),C=l.l2r(C),L=l.l2r(L),l.range=l._input.range=E<S?[C,L]:[L,C]}m(l,d)}}},n.getAxisGroup=function(e,t){for(var n=e._axisMatchGroups,r=0;r<n.length;r++)if(n[r][t])return"g"+r;return t},n.clean=function(e,t){if(t._inputDomain){for(var n=!1,r=t._id,i=e._fullLayout._axisConstraintGroups,a=0;a<i.length;a++)if(i[a][r]){n=!0;break}n&&"domain"===t.constrain||(t._input.domain=t.domain=t._inputDomain,delete t._inputDomain)}}},{"../../constants/alignment":496,"../../constants/numerical":502,"../../lib":524,"./autorange":571,"./axis_ids":575,"./layout_attributes":586,"./scale_zoom":590,"./set_convert":592}],580:[function(e,t,n){"use strict";var r=e("d3"),i=e("tinycolor2"),a=e("has-passive-events"),o=e("../../registry"),s=e("../../lib"),l=s.strTranslate,u=e("../../lib/svg_text_utils"),c=e("../../components/color"),f=e("../../components/drawing"),d=e("../../components/fx"),h=e("./axes"),p=e("../../lib/setcursor"),g=e("../../components/dragelement"),v=e("../../components/dragelement/helpers"),m=v.selectingOrDrawing,y=v.freeMode,b=e("../../constants/alignment").FROM_TL,x=e("../../lib/clear_gl_canvases"),_=e("../../plot_api/subroutines").redrawReglTraces,w=e("../plots"),k=e("./axis_ids").getFromId,M=e("./select").prepSelect,T=e("./select").clearSelect,A=e("./select").selectOnClick,E=e("./scale_zoom"),S=e("./constants"),O=S.MINDRAG,C=S.MINZOOM,L=!0;function R(e,t,n,a,l,c,p,v){var L,R,P,q,J,ee,te,ne,re,ie,ae,oe,se,le,ue,ce,fe,de,he,pe,ge,ve,me,ye=e._fullLayout._zoomlayer,be=p+v==="nsew",xe=1===(p+v).length;function _e(){if(L=t.xaxis,R=t.yaxis,re=L._length,ie=R._length,te=L._offset,ne=R._offset,(P={})[L._id]=L,(q={})[R._id]=R,p&&v)for(var n=t.overlays,r=0;r<n.length;r++){var i=n[r].xaxis;P[i._id]=i;var a=n[r].yaxis;q[a._id]=a}J=Q(P),ee=Q(q),se=z(J,v),le=z(ee,p),ue=!le&&!se,oe=$(e,e._fullLayout._axisMatchGroups,P,q);var o=(ae=$(e,e._fullLayout._axisConstraintGroups,P,q,oe)).isSubplotConstrained||oe.isSubplotConstrained;ce=v||o,fe=p||o;var s=e._fullLayout;de=s._has("scattergl"),he=s._has("splom"),pe=s._has("svg")}_e();var we=B(le+se,e._fullLayout.dragmode,be),ke=j(t,p+v+"drag",we,n,a,l,c);if(ue&&!be)return ke.onmousedown=null,ke.style.pointerEvents="none",ke;var Me,Te,Ae,Ee,Se,Oe,Ce,Le,Re,Pe,je={element:ke,gd:e,plotinfo:t};function ze(){je.plotinfo.selection=!1,T(e)}function Ie(e,n){var i=je.gd;if(i._fullLayout._activeShapeIndex>=0)i._fullLayout._deactivateShape(i);else{var a=i._fullLayout.clickmode;if(W(i),2!==e||xe||Ze(),be)a.indexOf("select")>-1&&A(n,i,J,ee,t.id,je),a.indexOf("event")>-1&&d.click(i,n,t.id);else if(1===e&&xe){var s=p?R:L,l="s"===p||"w"===v?0:1,c=s._name+".range["+l+"]",f=I(s,l),h="left",g="middle";if(s.fixedrange)return;p?(g="n"===p?"top":"bottom","right"===s.side&&(h="right")):"e"===v&&(h="right"),i._context.showAxisRangeEntryBoxes&&r.select(ke).call(u.makeEditable,{gd:i,immediate:!0,background:i._fullLayout.paper_bgcolor,text:String(f),fill:s.tickfont?s.tickfont.color:"#444",horizontalAlign:h,verticalAlign:g}).on("edit",(function(e){var t=s.d2r(e);void 0!==t&&o.call("_guiRelayout",i,c,t)}))}}}function Ne(t,n,r){var a=ke.getBoundingClientRect();Me=n-a.left,Te=r-a.top,e._fullLayout._calcInverseTransform(e);var o=s.apply3DTransform(e._fullLayout._invTransform)(Me,Te);Me=o[0],Te=o[1],Ae={l:Me,r:Me,w:0,t:Te,b:Te,h:0},Ee=e._hmpixcount?e._hmlumcount/e._hmpixcount:i(e._fullLayout.plot_bgcolor).getLuminance(),Oe=!1,Ce="xy",Pe=!1,Le=U(ye,Ee,te,ne,Se="M0,0H"+re+"V"+ie+"H0V0"),Re=V(ye,te,ne)}function De(t,n){if(e._transitioningWithDuration)return!1;var r=Math.max(0,Math.min(re,ve*t+Me)),i=Math.max(0,Math.min(ie,me*n+Te)),a=Math.abs(r-Me),o=Math.abs(i-Te);function s(){Ce="",Ae.r=Ae.l,Ae.t=Ae.b,Re.attr("d","M0,0Z")}if(Ae.l=Math.min(Me,r),Ae.r=Math.max(Me,r),Ae.t=Math.min(Te,i),Ae.b=Math.max(Te,i),ae.isSubplotConstrained)a>C||o>C?(Ce="xy",a/re>o/ie?(o=a*ie/re,Te>i?Ae.t=Te-o:Ae.b=Te+o):(a=o*re/ie,Me>r?Ae.l=Me-a:Ae.r=Me+a),Re.attr("d",Z(Ae))):s();else if(oe.isSubplotConstrained)if(a>C||o>C){Ce="xy";var l=Math.min(Ae.l/re,(ie-Ae.b)/ie),u=Math.max(Ae.r/re,(ie-Ae.t)/ie);Ae.l=l*re,Ae.r=u*re,Ae.b=(1-l)*ie,Ae.t=(1-u)*ie,Re.attr("d",Z(Ae))}else s();else!le||o<Math.min(Math.max(.6*a,O),C)?a<O||!se?s():(Ae.t=0,Ae.b=ie,Ce="x",Re.attr("d",X(Ae,Te))):!se||a<Math.min(.6*o,C)?(Ae.l=0,Ae.r=re,Ce="y",Re.attr("d",Y(Ae,Me))):(Ce="xy",Re.attr("d",Z(Ae)));Ae.w=Ae.r-Ae.l,Ae.h=Ae.b-Ae.t,Ce&&(Pe=!0),e._dragged=Pe,H(Le,Re,Ae,Se,Oe,Ee),Fe(),e.emit("plotly_relayouting",ge),Oe=!0}function Fe(){ge={},"xy"!==Ce&&"x"!==Ce||(N(J,Ae.l/re,Ae.r/re,ge,ae.xaxes),Xe("x",ge)),"xy"!==Ce&&"y"!==Ce||(N(ee,(ie-Ae.b)/ie,(ie-Ae.t)/ie,ge,ae.yaxes),Xe("y",ge))}function Be(){Fe(),W(e),$e(),G(e)}je.prepFn=function(t,n,r){var i=je.dragmode,a=e._fullLayout.dragmode;a!==i&&(je.dragmode=a),_e(),ve=e._fullLayout._invScaleX,me=e._fullLayout._invScaleY,ue||(be?t.shiftKey?"pan"===a?a="zoom":m(a)||(a="pan"):t.ctrlKey&&(a="pan"):a="pan"),y(a)?je.minDrag=1:je.minDrag=void 0,m(a)?(je.xaxes=J,je.yaxes=ee,M(t,n,r,je,a)):(je.clickFn=Ie,m(i)&&ze(),ue||("zoom"===a?(je.moveFn=De,je.doneFn=Be,je.minDrag=1,Ne(t,n,r)):"pan"===a&&(je.moveFn=Ge,je.doneFn=$e))),e._fullLayout._redrag=function(){var t=e._dragdata;if(t&&t.element===ke){var n=e._fullLayout.dragmode;m(n)||(_e(),Ke([0,0,re,ie]),je.moveFn(t.dx,t.dy))}}},g.init(je);var Ue=[0,0,re,ie],Ve=null,He=S.REDRAWDELAY,qe=t.mainplot?e._fullLayout._plots[t.mainplot]:t;function We(t){if(e._context._scrollZoom.cartesian||e._fullLayout._enablescrollzoom){if(ze(),e._transitioningWithDuration)return t.preventDefault(),void t.stopPropagation();_e(),clearTimeout(Ve);var n=-t.deltaY;if(isFinite(n)||(n=t.wheelDelta/10),isFinite(n)){var r,i=Math.exp(-Math.min(Math.max(n,-20),20)/200),a=qe.draglayer.select(".nsewdrag").node().getBoundingClientRect(),o=(t.clientX-a.left)/a.width,l=(a.bottom-t.clientY)/a.height;if(ce){for(v||(o=.5),r=0;r<J.length;r++)u(J[r],o,i);Xe("x"),Ue[2]*=i,Ue[0]+=Ue[2]*o*(1/i-1)}if(fe){for(p||(l=.5),r=0;r<ee.length;r++)u(ee[r],l,i);Xe("y"),Ue[3]*=i,Ue[1]+=Ue[3]*(1-l)*(1/i-1)}Ke(Ue),Ye(),e.emit("plotly_relayouting",ge),Ve=setTimeout((function(){Ue=[0,0,re,ie],$e()}),He),t.preventDefault()}else s.log("Did not find wheel motion attributes: ",t)}function u(e,t,n){if(!e.fixedrange){var r=s.simpleMap(e.range,e.r2l),i=r[0]+(r[1]-r[0])*t;e.range=r.map(a)}function a(t){return e.l2r(i+(t-i)*n)}}}function Ge(t,n){if(t*=ve,n*=me,!e._transitioningWithDuration){if(e._fullLayout._replotting=!0,"ew"===se||"ns"===le){var r=se?-t:0,i=le?-n:0;if(oe.isSubplotConstrained){if(se&&le){var a=(t/re-n/ie)/2;r=-(t=a*re),i=-(n=-a*ie)}le?r=-i*re/ie:i=-r*ie/re}return se&&(D(J,t),Xe("x")),le&&(D(ee,n),Xe("y")),Ke([r,i,re,ie]),Ye(),void e.emit("plotly_relayouting",ge)}var o,s,l="w"===se===("n"===le)?1:-1;if(se&&le&&(ae.isSubplotConstrained||oe.isSubplotConstrained)){var u=(t/re+l*n/ie)/2;t=u*re,n=l*u*ie}if("w"===se?t=h(J,0,t):"e"===se?t=h(J,1,-t):se||(t=0),"n"===le?n=h(ee,1,n):"s"===le?n=h(ee,0,-n):le||(n=0),o="w"===se?t:0,s="n"===le?n:0,ae.isSubplotConstrained&&!oe.isSubplotConstrained||oe.isSubplotConstrained&&se&&le&&l>0){var c;if(oe.isSubplotConstrained||!se&&1===le.length){for(c=0;c<J.length;c++)J[c].range=J[c]._r.slice(),E(J[c],1-n/ie);o=(t=n*re/ie)/2}if(oe.isSubplotConstrained||!le&&1===se.length){for(c=0;c<ee.length;c++)ee[c].range=ee[c]._r.slice(),E(ee[c],1-t/re);s=(n=t*ie/re)/2}}oe.isSubplotConstrained&&le||Xe("x"),oe.isSubplotConstrained&&se||Xe("y");var f=re-t,d=ie-n;!oe.isSubplotConstrained||se&&le||(se?(s=o?0:t*ie/re,d=f*ie/re):(o=s?0:n*re/ie,f=d*re/ie)),Ke([o,s,f,d]),Ye(),e.emit("plotly_relayouting",ge)}function h(e,t,n){for(var r,i,a=1-t,o=0;o<e.length;o++){var s=e[o];if(!s.fixedrange){r=s,i=s._rl[a]+(s._rl[t]-s._rl[a])/F(n/s._length);var l=s.l2r(i);!1!==l&&void 0!==l&&(s.range[t]=l)}}return r._length*(r._rl[t]-i)/(r._rl[t]-r._rl[a])}}function Xe(e,t){for(var n=oe.isSubplotConstrained?{x:ee,y:J}[e]:oe[e+"axes"],r=oe.isSubplotConstrained?{x:J,y:ee}[e]:[],i=0;i<n.length;i++){var a=n[i],o=a._id,s=oe.xLinks[o]||oe.yLinks[o],l=r[0]||P[s]||q[s];l&&(t?(t[a._name+".range[0]"]=t[l._name+".range[0]"],t[a._name+".range[1]"]=t[l._name+".range[1]"]):a.range=l.range.slice())}}function Ye(){var t,n=[];function r(e){for(t=0;t<e.length;t++)e[t].fixedrange||n.push(e[t]._id)}for(ce&&(r(J),r(ae.xaxes),r(oe.xaxes)),fe&&(r(ee),r(ae.yaxes),r(oe.yaxes)),ge={},t=0;t<n.length;t++){var i=n[t],a=k(e,i);h.drawOne(e,a,{skipTitle:!0}),ge[a._name+".range[0]"]=a.range[0],ge[a._name+".range[1]"]=a.range[1]}h.redrawComponents(e,n)}function Ze(){if(!e._transitioningWithDuration){var t=e._context.doubleClick,n=[];se&&(n=n.concat(J)),le&&(n=n.concat(ee)),oe.xaxes&&(n=n.concat(oe.xaxes)),oe.yaxes&&(n=n.concat(oe.yaxes));var r,i,a,s={};if("reset+autosize"===t)for(t="autosize",i=0;i<n.length;i++)if((r=n[i])._rangeInitial&&(r.range[0]!==r._rangeInitial[0]||r.range[1]!==r._rangeInitial[1])||!r._rangeInitial&&!r.autorange){t="reset";break}if("autosize"===t)for(i=0;i<n.length;i++)(r=n[i]).fixedrange||(s[r._name+".autorange"]=!0);else if("reset"===t)for((se||ae.isSubplotConstrained)&&(n=n.concat(ae.xaxes)),le&&!ae.isSubplotConstrained&&(n=n.concat(ae.yaxes)),ae.isSubplotConstrained&&(se?le||(n=n.concat(ee)):n=n.concat(J)),i=0;i<n.length;i++)(r=n[i]).fixedrange||(r._rangeInitial?(a=r._rangeInitial,s[r._name+".range[0]"]=a[0],s[r._name+".range[1]"]=a[1]):s[r._name+".autorange"]=!0);e.emit("plotly_doubleclick",null),o.call("_guiRelayout",e,s)}}function $e(){Ke([0,0,re,ie]),s.syncOrAsync([w.previousPromises,function(){e._fullLayout._replotting=!1,o.call("_guiRelayout",e,ge)}],e)}function Ke(t){var n,r,i,a,l=e._fullLayout,u=l._plots,c=l._subplots.cartesian;if(he&&o.subplotsRegistry.splom.drag(e),de)for(n=0;n<c.length;n++)if(i=(r=u[c[n]]).xaxis,a=r.yaxis,r._scene){var d=s.simpleMap(i.range,i.r2l),h=s.simpleMap(a.range,a.r2l);r._scene.update({range:[d[0],h[0],d[1],h[1]]})}if((he||de)&&(x(e),_(e)),pe){var g=t[2]/L._length,m=t[3]/R._length;for(n=0;n<c.length;n++){i=(r=u[c[n]]).xaxis,a=r.yaxis;var y,b,w,k,M=(ce||oe.isSubplotConstrained)&&!i.fixedrange&&P[i._id],T=(fe||oe.isSubplotConstrained)&&!a.fixedrange&&q[a._id];if(M?(y=g,w=v||oe.isSubplotConstrained?t[0]:et(i,y)):oe.xaHash[i._id]?(y=g,w=t[0]*i._length/L._length):oe.yaHash[i._id]?(y=m,w="ns"===le?-t[1]*i._length/R._length:et(i,y,{n:"top",s:"bottom"}[le])):w=Je(i,y=Qe(i,g,m)),T?(b=m,k=p||oe.isSubplotConstrained?t[1]:et(a,b)):oe.yaHash[a._id]?(b=m,k=t[1]*a._length/R._length):oe.xaHash[a._id]?(b=g,k="ew"===se?-t[0]*a._length/L._length:et(a,b,{e:"right",w:"left"}[se])):k=Je(a,b=Qe(a,g,m)),y||b){y||(y=1),b||(b=1);var A=i._offset-w/y,E=a._offset-k/b;r.clipRect.call(f.setTranslate,w,k).call(f.setScale,y,b),r.plot.call(f.setTranslate,A,E).call(f.setScale,1/y,1/b),y===r.xScaleFactor&&b===r.yScaleFactor||(f.setPointGroupScale(r.zoomScalePts,y,b),f.setTextPointsScale(r.zoomScaleTxt,y,b)),f.hideOutsideRangePoints(r.clipOnAxisFalseTraces,r),r.xScaleFactor=y,r.yScaleFactor=b}}}}function Qe(e,t,n){return e.fixedrange?0:ce&&ae.xaHash[e._id]?t:fe&&(ae.isSubplotConstrained?ae.xaHash:ae.yaHash)[e._id]?n:0}function Je(e,t){return t?(e.range=e._r.slice(),E(e,t),et(e,t)):0}function et(e,t,n){return e._length*(1-t)*b[n||e.constraintoward||"middle"]}return p.length*v.length!==1&&K(ke,We),ke}function P(e,t,n,r){var i=s.ensureSingle(e.draglayer,t,n,(function(t){t.classed("drag",!0).style({fill:"transparent","stroke-width":0}).attr("data-subplot",e.id)}));return i.call(p,r),i.node()}function j(e,t,n,i,a,o,s){var l=P(e,"rect",t,n);return r.select(l).call(f.setRect,i,a,o,s),l}function z(e,t){for(var n=0;n<e.length;n++)if(!e[n].fixedrange)return t;return""}function I(e,t){var n,i=e.range[t],a=Math.abs(i-e.range[1-t]);return"date"===e.type?i:"log"===e.type?(n=Math.ceil(Math.max(0,-Math.log(a)/Math.LN10))+3,r.format("."+n+"g")(Math.pow(10,i))):(n=Math.floor(Math.log(Math.abs(i))/Math.LN10)-Math.floor(Math.log(a)/Math.LN10)+4,r.format("."+String(n)+"g")(i))}function N(e,t,n,r,i){for(var a=0;a<e.length;a++){var o=e[a];if(!o.fixedrange)if(o.rangebreaks){var s="y"===o._id.charAt(0),l=s?1-t:t,u=s?1-n:n;r[o._name+".range[0]"]=o.l2r(o.p2l(l*o._length)),r[o._name+".range[1]"]=o.l2r(o.p2l(u*o._length))}else{var c=o._rl[0],f=o._rl[1]-c;r[o._name+".range[0]"]=o.l2r(c+f*t),r[o._name+".range[1]"]=o.l2r(c+f*n)}}if(i&&i.length){var d=(t+(1-n))/2;N(i,d,1-d,r,[])}}function D(e,t){for(var n=0;n<e.length;n++){var r=e[n];if(!r.fixedrange)if(r.rangebreaks){var i=0,a=r._length,o=(r.p2l(i+t)-r.p2l(i)+(r.p2l(a+t)-r.p2l(a)))/2;r.range=[r.l2r(r._rl[0]-o),r.l2r(r._rl[1]-o)]}else r.range=[r.l2r(r._rl[0]-t/r._m),r.l2r(r._rl[1]-t/r._m)]}}function F(e){return 1-(e>=0?Math.min(e,.9):1/(1/Math.max(e,-.3)+3.222))}function B(e,t,n){return e?"nsew"===e?n?"":"pan"===t?"move":"crosshair":e.toLowerCase()+"-resize":"pointer"}function U(e,t,n,r,i){return e.append("path").attr("class","zoombox").style({fill:t>.2?"rgba(0,0,0,0)":"rgba(255,255,255,0)","stroke-width":0}).attr("transform",l(n,r)).attr("d",i+"Z")}function V(e,t,n){return e.append("path").attr("class","zoombox-corners").style({fill:c.background,stroke:c.defaultLine,"stroke-width":1,opacity:0}).attr("transform",l(t,n)).attr("d","M0,0Z")}function H(e,t,n,r,i,a){e.attr("d",r+"M"+n.l+","+n.t+"v"+n.h+"h"+n.w+"v-"+n.h+"h-"+n.w+"Z"),q(e,t,i,a)}function q(e,t,n,r){n||(e.transition().style("fill",r>.2?"rgba(0,0,0,0.4)":"rgba(255,255,255,0.3)").duration(200),t.transition().style("opacity",1).duration(200))}function W(e){r.select(e).selectAll(".zoombox,.js-zoombox-backdrop,.js-zoombox-menu,.zoombox-corners").remove()}function G(e){L&&e.data&&e._context.showTips&&(s.notifier(s._(e,"Double-click to zoom back out"),"long"),L=!1)}function X(e,t){return"M"+(e.l-.5)+","+(t-C-.5)+"h-3v"+(2*C+1)+"h3ZM"+(e.r+.5)+","+(t-C-.5)+"h3v"+(2*C+1)+"h-3Z"}function Y(e,t){return"M"+(t-C-.5)+","+(e.t-.5)+"v-3h"+(2*C+1)+"v3ZM"+(t-C-.5)+","+(e.b+.5)+"v3h"+(2*C+1)+"v-3Z"}function Z(e){var t=Math.floor(Math.min(e.b-e.t,e.r-e.l,C)/2);return"M"+(e.l-3.5)+","+(e.t-.5+t)+"h3v"+-t+"h"+t+"v-3h-"+(t+3)+"ZM"+(e.r+3.5)+","+(e.t-.5+t)+"h-3v"+-t+"h"+-t+"v-3h"+(t+3)+"ZM"+(e.r+3.5)+","+(e.b+.5-t)+"h-3v"+t+"h"+-t+"v3h"+(t+3)+"ZM"+(e.l-3.5)+","+(e.b+.5-t)+"h3v"+t+"h"+t+"v3h-"+(t+3)+"Z"}function $(e,t,n,r,i){for(var a,o,l,u,c=!1,f={},d={},h=(i||{}).xaHash,p=(i||{}).yaHash,g=0;g<t.length;g++){var v=t[g];for(a in n)if(v[a]){for(l in v)i&&(h[l]||p[l])||("x"===l.charAt(0)?n:r)[l]||(f[l]=a);for(o in r)i&&(h[o]||p[o])||!v[o]||(c=!0)}for(o in r)if(v[o])for(u in v)i&&(h[u]||p[u])||("x"===u.charAt(0)?n:r)[u]||(d[u]=o)}c&&(s.extendFlat(f,d),d={});var m={},y=[];for(l in f){var b=k(e,l);y.push(b),m[b._id]=b}var x={},_=[];for(u in d){var w=k(e,u);_.push(w),x[w._id]=w}return{xaHash:m,yaHash:x,xaxes:y,yaxes:_,xLinks:f,yLinks:d,isSubplotConstrained:c}}function K(e,t){if(a){var n=void 0!==e.onwheel?"wheel":"mousewheel";e._onwheel&&e.removeEventListener(n,e._onwheel),e._onwheel=t,e.addEventListener(n,t,{passive:!1})}else void 0!==e.onwheel?e.onwheel=t:void 0!==e.onmousewheel?e.onmousewheel=t:e.isAddedWheelEvent||(e.isAddedWheelEvent=!0,e.addEventListener("wheel",t,{passive:!1}))}function Q(e){var t=[];for(var n in e)t.push(e[n]);return t}t.exports={makeDragBox:R,makeDragger:P,makeRectDragger:j,makeZoombox:U,makeCorners:V,updateZoombox:H,xyCorners:Z,transitionZoombox:q,removeZoombox:W,showDoubleClickNotifier:G,attachWheelEventHandler:K}},{"../../components/color":394,"../../components/dragelement":413,"../../components/dragelement/helpers":412,"../../components/drawing":416,"../../components/fx":434,"../../constants/alignment":496,"../../lib":524,"../../lib/clear_gl_canvases":511,"../../lib/setcursor":544,"../../lib/svg_text_utils":548,"../../plot_api/subroutines":562,"../../registry":626,"../plots":617,"./axes":572,"./axis_ids":575,"./constants":578,"./scale_zoom":590,"./select":591,d3:82,"has-passive-events":268,tinycolor2:360}],581:[function(e,t,n){"use strict";var r=e("d3"),i=e("../../components/fx"),a=e("../../components/dragelement"),o=e("../../lib/setcursor"),s=e("./dragbox").makeDragBox,l=e("./constants").DRAGGERSIZE;n.initInteractions=function(e){var t=e._fullLayout;if(e._context.staticPlot)r.select(e).selectAll(".drag").remove();else if(t._has("cartesian")||t._has("splom")){Object.keys(t._plots||{}).sort((function(e,n){if((t._plots[e].mainplot&&!0)===(t._plots[n].mainplot&&!0)){var r=e.split("y"),i=n.split("y");return r[0]===i[0]?Number(r[1]||1)-Number(i[1]||1):Number(r[0]||1)-Number(i[0]||1)}return t._plots[e].mainplot?1:-1})).forEach((function(n){var r=t._plots[n],o=r.xaxis,u=r.yaxis;if(!r.mainplot){var c=s(e,r,o._offset,u._offset,o._length,u._length,"ns","ew");c.onmousemove=function(t){e._fullLayout._rehover=function(){e._fullLayout._hoversubplot===n&&e._fullLayout._plots[n]&&i.hover(e,t,n)},i.hover(e,t,n),e._fullLayout._lasthover=c,e._fullLayout._hoversubplot=n},c.onmouseout=function(t){e._dragging||(e._fullLayout._hoversubplot=null,a.unhover(e,t))},e._context.showAxisDragHandles&&(s(e,r,o._offset-l,u._offset-l,l,l,"n","w"),s(e,r,o._offset+o._length,u._offset-l,l,l,"n","e"),s(e,r,o._offset-l,u._offset+u._length,l,l,"s","w"),s(e,r,o._offset+o._length,u._offset+u._length,l,l,"s","e"))}if(e._context.showAxisDragHandles){if(n===o._mainSubplot){var f=o._mainLinePosition;"top"===o.side&&(f-=l),s(e,r,o._offset+.1*o._length,f,.8*o._length,l,"","ew"),s(e,r,o._offset,f,.1*o._length,l,"","w"),s(e,r,o._offset+.9*o._length,f,.1*o._length,l,"","e")}if(n===u._mainSubplot){var d=u._mainLinePosition;"right"!==u.side&&(d-=l),s(e,r,d,u._offset+.1*u._length,l,.8*u._length,"ns",""),s(e,r,d,u._offset+.9*u._length,l,.1*u._length,"s",""),s(e,r,d,u._offset,l,.1*u._length,"n","")}}}));var o=t._hoverlayer.node();o.onmousemove=function(n){n.target=e._fullLayout._lasthover,i.hover(e,n,t._hoversubplot)},o.onclick=function(t){t.target=e._fullLayout._lasthover,i.click(e,t)},o.onmousedown=function(t){e._fullLayout._lasthover.onmousedown(t)},n.updateFx(e)}},n.updateFx=function(e){var t=e._fullLayout,n="pan"===t.dragmode?"move":"crosshair";o(t._draggers,n)}},{"../../components/dragelement":413,"../../components/fx":434,"../../lib/setcursor":544,"./constants":578,"./dragbox":580,d3:82}],582:[function(e,t,n){"use strict";function r(e){var t=e._fullLayout._zoomlayer;t&&t.selectAll(".outline-controllers").remove()}function i(e){var t=e._fullLayout._zoomlayer;t&&t.selectAll(".select-outline").remove(),e._fullLayout._drawing=!1}t.exports={clearOutlineControllers:r,clearSelect:i}},{}],583:[function(e,t,n){"use strict";var r=e("../../lib").strTranslate;function i(e,t){switch(e.type){case"log":return e.p2d(t);case"date":return e.p2r(t,0,e.calendar);default:return e.p2r(t)}}function a(e,t){switch(e.type){case"log":return e.d2p(t);case"date":return e.r2p(t,0,e.calendar);default:return e.r2p(t)}}function o(e){var t="y"===e._id.charAt(0)?1:0;return function(n){return i(e,n[t])}}function s(e){return r(e.xaxis._offset,e.yaxis._offset)}t.exports={p2r:i,r2p:a,axValue:o,getTransform:s}},{"../../lib":524}],584:[function(e,t,n){"use strict";var r=e("../../registry"),i=e("../../lib"),a=e("./axis_ids");t.exports=function(e){return function(t,n){var o=t[e];if(Array.isArray(o))for(var s=r.subplotsRegistry.cartesian,l=s.idRegex,u=n._subplots,c=u.xaxis,f=u.yaxis,d=u.cartesian,h=n._has("cartesian")||n._has("gl2d"),p=0;p<o.length;p++){var g=o[p];if(i.isPlainObject(g)){var v=a.cleanId(g.xref,"x",!1),m=a.cleanId(g.yref,"y",!1),y=l.x.test(v),b=l.y.test(m);if(y||b){h||i.pushUnique(n._basePlotModules,s);var x=!1;y&&-1===c.indexOf(v)&&(c.push(v),x=!0),b&&-1===f.indexOf(m)&&(f.push(m),x=!0),x&&y&&b&&d.push(v+m)}}}}}},{"../../lib":524,"../../registry":626,"./axis_ids":575}],585:[function(e,t,n){"use strict";var r=e("d3"),i=e("../../registry"),a=e("../../lib"),o=e("../plots"),s=e("../../components/drawing"),l=e("../get_data").getModuleCalcData,u=e("./axis_ids"),c=e("./constants"),f=e("../../constants/xmlns_namespaces"),d=a.ensureSingle;function h(e,t,n){return a.ensureSingle(e,t,n,(function(e){e.datum(n)}))}function p(e,t,n,a,o){for(var u,f,d,h=c.traceLayerClasses,p=e._fullLayout,g=p._modules,v=[],m=[],y=0;y<g.length;y++){var b=(u=g[y]).name,x=i.modules[b].categories;if(x.svg){var _=u.layerName||b+"layer",w=u.plot;d=(f=l(n,w))[0],n=f[1],d.length&&v.push({i:h.indexOf(_),className:_,plotMethod:w,cdModule:d}),x.zoomScale&&m.push("."+_)}}v.sort((function(e,t){return e.i-t.i}));var k=t.plot.selectAll("g.mlayer").data(v,(function(e){return e.className}));if(k.enter().append("g").attr("class",(function(e){return e.className})).classed("mlayer",!0).classed("rangeplot",t.isRangePlot),k.exit().remove(),k.order(),k.each((function(n){var i=r.select(this),l=n.className;n.plotMethod(e,t,n.cdModule,i,a,o),-1===c.clipOnAxisFalseQuery.indexOf("."+l)&&s.setClipUrl(i,t.layerClipId,e)})),p._has("scattergl")&&(u=i.getModule("scattergl"),d=l(n,u)[0],u.plot(e,t,d)),!e._context.staticPlot&&(t._hasClipOnAxisFalse&&(t.clipOnAxisFalseTraces=t.plot.selectAll(c.clipOnAxisFalseQuery.join(",")).selectAll(".trace")),m.length)){var M=t.plot.selectAll(m.join(",")).selectAll(".trace");t.zoomScalePts=M.selectAll("path.point"),t.zoomScaleTxt=M.selectAll(".textpoint")}}function g(e){var t,n,r,i,a,o,s=e._fullLayout,l=s._subplots.cartesian,u=l.length,c=[],f=[];for(t=0;t<u;t++){r=l[t],a=(i=s._plots[r]).xaxis,o=i.yaxis;var d=a._mainAxis,h=o._mainAxis,p=d._id+h._id,g=s._plots[p];i.overlays=[],p!==r&&g?(i.mainplot=p,i.mainplotinfo=g,f.push(r)):(i.mainplot=void 0,i.mainplotinfo=void 0,c.push(r))}for(t=0;t<f.length;t++)r=f[t],(i=s._plots[r]).mainplotinfo.overlays.push(i);var v=c.concat(f),m=new Array(u);for(t=0;t<u;t++){r=v[t],a=(i=s._plots[r]).xaxis,o=i.yaxis;var y=[r,a.layer,o.layer,a.overlaying||"",o.overlaying||""];for(n=0;n<i.overlays.length;n++)y.push(i.overlays[n].id);m[t]=y}return m}function v(e,t){var n=t.plotgroup,r=t.id,i=c.layerValue2layerClass[t.xaxis.layer],a=c.layerValue2layerClass[t.yaxis.layer],o=e._fullLayout._hasOnlyLargeSploms;if(t.mainplot){var s=t.mainplotinfo,l=s.plotgroup,f=r+"-x",p=r+"-y";t.gridlayer=s.gridlayer,t.zerolinelayer=s.zerolinelayer,d(s.overlinesBelow,"path",f),d(s.overlinesBelow,"path",p),d(s.overaxesBelow,"g",f),d(s.overaxesBelow,"g",p),t.plot=d(s.overplot,"g",r),d(s.overlinesAbove,"path",f),d(s.overlinesAbove,"path",p),d(s.overaxesAbove,"g",f),d(s.overaxesAbove,"g",p),t.xlines=l.select(".overlines-"+i).select("."+f),t.ylines=l.select(".overlines-"+a).select("."+p),t.xaxislayer=l.select(".overaxes-"+i).select("."+f),t.yaxislayer=l.select(".overaxes-"+a).select("."+p)}else if(o)t.xlines=d(n,"path","xlines-above"),t.ylines=d(n,"path","ylines-above"),t.xaxislayer=d(n,"g","xaxislayer-above"),t.yaxislayer=d(n,"g","yaxislayer-above");else{var g=d(n,"g","layer-subplot");t.shapelayer=d(g,"g","shapelayer"),t.imagelayer=d(g,"g","imagelayer"),t.gridlayer=d(n,"g","gridlayer"),t.zerolinelayer=d(n,"g","zerolinelayer"),d(n,"path","xlines-below"),d(n,"path","ylines-below"),t.overlinesBelow=d(n,"g","overlines-below"),d(n,"g","xaxislayer-below"),d(n,"g","yaxislayer-below"),t.overaxesBelow=d(n,"g","overaxes-below"),t.plot=d(n,"g","plot"),t.overplot=d(n,"g","overplot"),t.xlines=d(n,"path","xlines-above"),t.ylines=d(n,"path","ylines-above"),t.overlinesAbove=d(n,"g","overlines-above"),d(n,"g","xaxislayer-above"),d(n,"g","yaxislayer-above"),t.overaxesAbove=d(n,"g","overaxes-above"),t.xlines=n.select(".xlines-"+i),t.ylines=n.select(".ylines-"+a),t.xaxislayer=n.select(".xaxislayer-"+i),t.yaxislayer=n.select(".yaxislayer-"+a)}o||(h(t.gridlayer,"g",t.xaxis._id),h(t.gridlayer,"g",t.yaxis._id),t.gridlayer.selectAll("g").map((function(e){return e[0]})).sort(u.idSort)),t.xlines.style("fill","none").classed("crisp",!0),t.ylines.style("fill","none").classed("crisp",!0)}function m(e,t){if(e){var n={};for(var i in e.each((function(e){var i=e[0];r.select(this).remove(),y(i,t),n[i]=!0})),t._plots)for(var a=t._plots[i].overlays||[],o=0;o<a.length;o++){var s=a[o];n[s.id]&&s.plot.selectAll(".trace").remove()}}}function y(e,t){t._draggers.selectAll("g."+e).remove(),t._defs.select("#clip"+t._uid+e+"plot").remove()}n.name="cartesian",n.attr=["xaxis","yaxis"],n.idRoot=["x","y"],n.idRegex=c.idRegex,n.attrRegex=c.attrRegex,n.attributes=e("./attributes"),n.layoutAttributes=e("./layout_attributes"),n.supplyLayoutDefaults=e("./layout_defaults"),n.transitionAxes=e("./transition_axes"),n.finalizeSubplots=function(e,t){var n,r,i,o=t._subplots,s=o.xaxis,l=o.yaxis,f=o.cartesian,d=f.concat(o.gl2d||[]),h={},p={};for(n=0;n<d.length;n++){var g=d[n].split("y");h[g[0]]=1,p["y"+g[1]]=1}for(n=0;n<s.length;n++)h[r=s[n]]||(i=(e[u.id2name(r)]||{}).anchor,c.idRegex.y.test(i)||(i="y"),f.push(r+i),d.push(r+i),p[i]||(p[i]=1,a.pushUnique(l,i)));for(n=0;n<l.length;n++)p[i=l[n]]||(r=(e[u.id2name(i)]||{}).anchor,c.idRegex.x.test(r)||(r="x"),f.push(r+i),d.push(r+i),h[r]||(h[r]=1,a.pushUnique(s,r)));if(!d.length){for(var v in r="",i="",e)c.attrRegex.test(v)&&("x"===v.charAt(0)?(!r||+v.substr(5)<+r.substr(5))&&(r=v):(!i||+v.substr(5)<+i.substr(5))&&(i=v));r=r?u.name2id(r):"x",i=i?u.name2id(i):"y",s.push(r),l.push(i),f.push(r+i)}},n.plot=function(e,t,n,r){var i,a=e._fullLayout,o=a._subplots.cartesian,s=e.calcdata;if(!Array.isArray(t))for(t=[],i=0;i<s.length;i++)t.push(i);for(i=0;i<o.length;i++){for(var l,u=o[i],c=a._plots[u],f=[],d=0;d<s.length;d++){var h=s[d],g=h[0].trace;g.xaxis+g.yaxis===u&&((-1!==t.indexOf(g.index)||g.carpet)&&(l&&l[0].trace.xaxis+l[0].trace.yaxis===u&&-1!==["tonextx","tonexty","tonext"].indexOf(g.fill)&&-1===f.indexOf(l)&&f.push(l),f.push(h)),l=h)}p(e,c,f,n,r)}},n.clean=function(e,t,n,r){var i,a,o,s=r._plots||{},l=t._plots||{},c=r._subplots||{};if(r._hasOnlyLargeSploms&&!t._hasOnlyLargeSploms)for(o in s)(i=s[o]).plotgroup&&i.plotgroup.remove();var f=r._has&&r._has("gl"),d=t._has&&t._has("gl");if(f&&!d)for(o in s)(i=s[o])._scene&&i._scene.destroy();if(c.xaxis&&c.yaxis){var h=u.listIds({_fullLayout:r});for(a=0;a<h.length;a++){var p=h[a];t[u.id2name(p)]||r._infolayer.selectAll(".g-"+p+"title").remove()}}var g=r._has&&r._has("cartesian"),v=t._has&&t._has("cartesian");if(g&&!v)m(r._cartesianlayer.selectAll(".subplot"),r),r._defs.selectAll(".axesclip").remove(),delete r._axisConstraintGroups,delete r._axisMatchGroups;else if(c.cartesian)for(a=0;a<c.cartesian.length;a++){var b=c.cartesian[a];if(!l[b]){var x="."+b+",."+b+"-x,."+b+"-y";r._cartesianlayer.selectAll(x).remove(),y(b,r)}}},n.drawFramework=function(e){var t=e._fullLayout,n=g(e),i=t._cartesianlayer.selectAll(".subplot").data(n,String);i.enter().append("g").attr("class",(function(e){return"subplot "+e[0]})),i.order(),i.exit().call(m,t),i.each((function(n){var i=n[0],a=t._plots[i];a.plotgroup=r.select(this),v(e,a),a.draglayer=d(t._draggers,"g",i)}))},n.rangePlot=function(e,t,n){v(e,t),p(e,t,n),o.style(e)},n.toSVG=function(e){var t=e._fullLayout._glimages,n=r.select(e).selectAll(".svg-container");function i(){var e=this,n=e.toDataURL("image/png");t.append("svg:image").attr({xmlns:f.svg,"xlink:href":n,preserveAspectRatio:"none",x:0,y:0,width:e.width,height:e.height})}n.filter((function(e,t){return t===n.size()-1})).selectAll(".gl-canvas-context, .gl-canvas-focus").each(i)},n.updateFx=e("./graph_interact").updateFx},{"../../components/drawing":416,"../../constants/xmlns_namespaces":503,"../../lib":524,"../../registry":626,"../get_data":602,"../plots":617,"./attributes":570,"./axis_ids":575,"./constants":578,"./graph_interact":581,"./layout_attributes":586,"./layout_defaults":587,"./transition_axes":596,d3:82}],586:[function(e,t,n){"use strict";var r=e("../font_attributes"),i=e("../../components/color/attributes"),a=e("../../components/drawing/attributes").dash,o=e("../../lib/extend").extendFlat,s=e("../../plot_api/plot_template").templatedArray,l=(e("../../constants/docs").FORMAT_LINK,e("../../constants/docs").DATE_FORMAT_LINK,e("../../constants/numerical").ONEDAY),u=e("./constants"),c=u.HOUR_PATTERN,f=u.WEEKDAY_PATTERN;t.exports={visible:{valType:"boolean",editType:"plot"},color:{valType:"color",dflt:i.defaultLine,editType:"ticks"},title:{text:{valType:"string",editType:"ticks"},font:r({editType:"ticks"}),standoff:{valType:"number",min:0,editType:"ticks"},editType:"ticks"},type:{valType:"enumerated",values:["-","linear","log","date","category","multicategory"],dflt:"-",editType:"calc",_noTemplating:!0},autotypenumbers:{valType:"enumerated",values:["convert types","strict"],dflt:"convert types",editType:"calc"},autorange:{valType:"enumerated",values:[!0,!1,"reversed"],dflt:!0,editType:"axrange",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},rangemode:{valType:"enumerated",values:["normal","tozero","nonnegative"],dflt:"normal",editType:"plot"},range:{valType:"info_array",items:[{valType:"any",editType:"axrange",impliedEdits:{"^autorange":!1},anim:!0},{valType:"any",editType:"axrange",impliedEdits:{"^autorange":!1},anim:!0}],editType:"axrange",impliedEdits:{autorange:!1},anim:!0},fixedrange:{valType:"boolean",dflt:!1,editType:"calc"},scaleanchor:{valType:"enumerated",values:[u.idRegex.x.toString(),u.idRegex.y.toString()],editType:"plot"},scaleratio:{valType:"number",min:0,dflt:1,editType:"plot"},constrain:{valType:"enumerated",values:["range","domain"],editType:"plot"},constraintoward:{valType:"enumerated",values:["left","center","right","top","middle","bottom"],editType:"plot"},matches:{valType:"enumerated",values:[u.idRegex.x.toString(),u.idRegex.y.toString()],editType:"calc"},rangebreaks:s("rangebreak",{enabled:{valType:"boolean",dflt:!0,editType:"calc"},bounds:{valType:"info_array",items:[{valType:"any",editType:"calc"},{valType:"any",editType:"calc"}],editType:"calc"},pattern:{valType:"enumerated",values:[f,c,""],editType:"calc"},values:{valType:"info_array",freeLength:!0,editType:"calc",items:{valType:"any",editType:"calc"}},dvalue:{valType:"number",editType:"calc",min:0,dflt:l},editType:"calc"}),tickmode:{valType:"enumerated",values:["auto","linear","array"],editType:"ticks",impliedEdits:{tick0:void 0,dtick:void 0}},nticks:{valType:"integer",min:0,dflt:0,editType:"ticks"},tick0:{valType:"any",editType:"ticks",impliedEdits:{tickmode:"linear"}},dtick:{valType:"any",editType:"ticks",impliedEdits:{tickmode:"linear"}},tickvals:{valType:"data_array",editType:"ticks"},ticktext:{valType:"data_array",editType:"ticks"},ticks:{valType:"enumerated",values:["outside","inside",""],editType:"ticks"},tickson:{valType:"enumerated",values:["labels","boundaries"],dflt:"labels",editType:"ticks"},ticklabelmode:{valType:"enumerated",values:["instant","period"],dflt:"instant",editType:"ticks"},ticklabelposition:{valType:"enumerated",values:["outside","inside","outside top","inside top","outside left","inside left","outside right","inside right","outside bottom","inside bottom"],dflt:"outside",editType:"calc"},mirror:{valType:"enumerated",values:[!0,"ticks",!1,"all","allticks"],dflt:!1,editType:"ticks+layoutstyle"},ticklen:{valType:"number",min:0,dflt:5,editType:"ticks"},tickwidth:{valType:"number",min:0,dflt:1,editType:"ticks"},tickcolor:{valType:"color",dflt:i.defaultLine,editType:"ticks"},showticklabels:{valType:"boolean",dflt:!0,editType:"ticks"},automargin:{valType:"boolean",dflt:!1,editType:"ticks"},showspikes:{valType:"boolean",dflt:!1,editType:"modebar"},spikecolor:{valType:"color",dflt:null,editType:"none"},spikethickness:{valType:"number",dflt:3,editType:"none"},spikedash:o({},a,{dflt:"dash",editType:"none"}),spikemode:{valType:"flaglist",flags:["toaxis","across","marker"],dflt:"toaxis",editType:"none"},spikesnap:{valType:"enumerated",values:["data","cursor","hovered data"],dflt:"data",editType:"none"},tickfont:r({editType:"ticks"}),tickangle:{valType:"angle",dflt:"auto",editType:"ticks"},tickprefix:{valType:"string",dflt:"",editType:"ticks"},showtickprefix:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"ticks"},ticksuffix:{valType:"string",dflt:"",editType:"ticks"},showticksuffix:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"ticks"},showexponent:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"ticks"},exponentformat:{valType:"enumerated",values:["none","e","E","power","SI","B"],dflt:"B",editType:"ticks"},minexponent:{valType:"number",dflt:3,min:0,editType:"ticks"},separatethousands:{valType:"boolean",dflt:!1,editType:"ticks"},tickformat:{valType:"string",dflt:"",editType:"ticks"},tickformatstops:s("tickformatstop",{enabled:{valType:"boolean",dflt:!0,editType:"ticks"},dtickrange:{valType:"info_array",items:[{valType:"any",editType:"ticks"},{valType:"any",editType:"ticks"}],editType:"ticks"},value:{valType:"string",dflt:"",editType:"ticks"},editType:"ticks"}),hoverformat:{valType:"string",dflt:"",editType:"none"},showline:{valType:"boolean",dflt:!1,editType:"ticks+layoutstyle"},linecolor:{valType:"color",dflt:i.defaultLine,editType:"layoutstyle"},linewidth:{valType:"number",min:0,dflt:1,editType:"ticks+layoutstyle"},showgrid:{valType:"boolean",editType:"ticks"},gridcolor:{valType:"color",dflt:i.lightLine,editType:"ticks"},gridwidth:{valType:"number",min:0,dflt:1,editType:"ticks"},zeroline:{valType:"boolean",editType:"ticks"},zerolinecolor:{valType:"color",dflt:i.defaultLine,editType:"ticks"},zerolinewidth:{valType:"number",dflt:1,editType:"ticks"},showdividers:{valType:"boolean",dflt:!0,editType:"ticks"},dividercolor:{valType:"color",dflt:i.defaultLine,editType:"ticks"},dividerwidth:{valType:"number",dflt:1,editType:"ticks"},anchor:{valType:"enumerated",values:["free",u.idRegex.x.toString(),u.idRegex.y.toString()],editType:"plot"},side:{valType:"enumerated",values:["top","bottom","left","right"],editType:"plot"},overlaying:{valType:"enumerated",values:["free",u.idRegex.x.toString(),u.idRegex.y.toString()],editType:"plot"},layer:{valType:"enumerated",values:["above traces","below traces"],dflt:"above traces",editType:"plot"},domain:{valType:"info_array",items:[{valType:"number",min:0,max:1,editType:"plot"},{valType:"number",min:0,max:1,editType:"plot"}],dflt:[0,1],editType:"plot"},position:{valType:"number",min:0,max:1,dflt:0,editType:"plot"},categoryorder:{valType:"enumerated",values:["trace","category ascending","category descending","array","total ascending","total descending","min ascending","min descending","max ascending","max descending","sum ascending","sum descending","mean ascending","mean descending","median ascending","median descending"],dflt:"trace",editType:"calc"},categoryarray:{valType:"data_array",editType:"calc"},uirevision:{valType:"any",editType:"none"},editType:"calc",_deprecated:{autotick:{valType:"boolean",editType:"ticks"},title:{valType:"string",editType:"ticks"},titlefont:r({editType:"ticks"})}}},{"../../components/color/attributes":393,"../../components/drawing/attributes":415,"../../constants/docs":498,"../../constants/numerical":502,"../../lib/extend":517,"../../plot_api/plot_template":561,"../font_attributes":600,"./constants":578}],587:[function(e,t,n){"use strict";var r=e("../../lib"),i=e("../../components/color"),a=e("../../components/fx/helpers").isUnifiedHover,o=e("../../components/fx/hovermode_defaults"),s=e("../../plot_api/plot_template"),l=e("../layout_attributes"),u=e("./layout_attributes"),c=e("./type_defaults"),f=e("./axis_defaults"),d=e("./constraints"),h=e("./position_defaults"),p=e("./axis_ids"),g=p.id2name,v=p.name2id,m=e("./constants").AX_ID_PATTERN,y=e("../../registry"),b=y.traceIs,x=y.getComponentMethod;function _(e,t,n){Array.isArray(e[t])?e[t].push(n):e[t]=[n]}t.exports=function(e,t,n){var y,w,k=t.autotypenumbers,M={},T={},A={},E={},S={},O={},C={},L={},R={},P={};for(y=0;y<n.length;y++){var j=n[y];if(b(j,"cartesian")||b(j,"gl2d")){var z,I;if(j.xaxis)z=g(j.xaxis),_(M,z,j);else if(j.xaxes)for(w=0;w<j.xaxes.length;w++)_(M,g(j.xaxes[w]),j);if(j.yaxis)I=g(j.yaxis),_(M,I,j);else if(j.yaxes)for(w=0;w<j.yaxes.length;w++)_(M,g(j.yaxes[w]),j);"funnel"===j.type?"h"===j.orientation?(z&&(T[z]=!0),I&&(C[I]=!0)):I&&(A[I]=!0):"image"===j.type?(I&&(L[I]=!0),z&&(L[z]=!0)):(I&&(S[I]=!0,O[I]=!0),b(j,"carpet")&&("carpet"!==j.type||j._cheater)||z&&(E[z]=!0)),"carpet"===j.type&&j._cheater&&z&&(T[z]=!0),b(j,"2dMap")&&(R[z]=!0,R[I]=!0),b(j,"oriented")&&(P["h"===j.orientation?I:z]=!0)}}var N=t._subplots,D=N.xaxis,F=N.yaxis,B=r.simpleMap(D,g),U=r.simpleMap(F,g),V=B.concat(U),H=i.background;D.length&&F.length&&(H=r.coerce(e,t,l,"plot_bgcolor"));var q,W,G,X,Y,Z=i.combine(H,t.paper_bgcolor);function $(){var e=M[q]||[];Y._traceIndices=e.map((function(e){return e._expandedIndex})),Y._annIndices=[],Y._shapeIndices=[],Y._imgIndices=[],Y._subplotsWith=[],Y._counterAxes=[],Y._name=Y._attr=q,Y._id=W}function K(e,t){return r.coerce(X,Y,u,e,t)}function Q(e,t){return r.coerce2(X,Y,u,e,t)}function J(e){return"x"===e?F:D}function ee(t,n){for(var r="x"===t?B:U,i=[],a=0;a<r.length;a++){var o=r[a];o===n||(e[o]||{}).overlaying||i.push(v(o))}return i}var te={x:J("x"),y:J("y")},ne=te.x.concat(te.y),re={},ie=[];function ae(){var e=X.matches;m.test(e)&&-1===ne.indexOf(e)&&(re[e]=X.type,ie=Object.keys(re))}var oe=o(e,t,n),se=a(oe);for(y=0;y<V.length;y++){q=V[y],W=v(q),G=q.charAt(0),r.isPlainObject(e[q])||(e[q]={}),X=e[q],Y=s.newContainer(t,q,G+"axis"),$();var le="x"===G&&!E[q]&&T[q]||"y"===G&&!S[q]&&A[q],ue="y"===G&&(!O[q]&&C[q]||L[q]),ce={letter:G,font:t.font,outerTicks:R[q],showGrid:!P[q],data:M[q]||[],bgColor:Z,calendar:t.calendar,automargin:!0,visibleDflt:le,reverseDflt:ue,autotypenumbersDflt:k,splomStash:((t._splomAxes||{})[G]||{})[W]};K("uirevision",t.uirevision),c(X,Y,K,ce),f(X,Y,K,ce,t);var fe=se&&G===oe.charAt(0),de=Q("spikecolor",se?Y.color:void 0),he=Q("spikethickness",se?1.5:void 0),pe=Q("spikedash",se?"dot":void 0),ge=Q("spikemode",se?"across":void 0),ve=Q("spikesnap",se?"hovered data":void 0);K("showspikes",!!fe||!!de||!!he||!!pe||!!ge||!!ve)||(delete Y.spikecolor,delete Y.spikethickness,delete Y.spikedash,delete Y.spikemode,delete Y.spikesnap),h(X,Y,K,{letter:G,counterAxes:te[G],overlayableAxes:ee(G,q),grid:t.grid}),K("title.standoff"),ae(),Y._input=X}for(y=0;y<ie.length;){W=ie[y++],G=(q=g(W)).charAt(0),r.isPlainObject(e[q])||(e[q]={}),X=e[q],Y=s.newContainer(t,q,G+"axis"),$();var me={letter:G,font:t.font,outerTicks:R[q],showGrid:!P[q],data:[],bgColor:Z,calendar:t.calendar,automargin:!0,visibleDflt:!1,reverseDflt:!1,autotypenumbersDflt:k,splomStash:((t._splomAxes||{})[G]||{})[W]};K("uirevision",t.uirevision),Y.type=re[W]||"linear",f(X,Y,K,me,t),h(X,Y,K,{letter:G,counterAxes:te[G],overlayableAxes:ee(G,q),grid:t.grid}),K("fixedrange"),ae(),Y._input=X}var ye=x("rangeslider","handleDefaults"),be=x("rangeselector","handleDefaults");for(y=0;y<B.length;y++)q=B[y],X=e[q],Y=t[q],ye(e,t,q),"date"===Y.type&&be(X,Y,t,U,Y.calendar),K("fixedrange");for(y=0;y<U.length;y++){q=U[y],X=e[q],Y=t[q];var xe=t[g(Y.anchor)];K("fixedrange",x("rangeslider","isVisible")(xe))}d.handleDefaults(e,t,{axIds:ne.concat(ie).sort(p.idSort),axHasImage:L})}},{"../../components/color":394,"../../components/fx/helpers":430,"../../components/fx/hovermode_defaults":433,"../../lib":524,"../../plot_api/plot_template":561,"../../registry":626,"../layout_attributes":615,"./axis_defaults":574,"./axis_ids":575,"./constants":578,"./constraints":579,"./layout_attributes":586,"./position_defaults":589,"./type_defaults":597}],588:[function(e,t,n){"use strict";var r=e("tinycolor2").mix,i=e("../../components/color/attributes").lightFraction,a=e("../../lib");t.exports=function(e,t,n,o){var s=(o=o||{}).dfltColor;function l(n,r){return a.coerce2(e,t,o.attributes,n,r)}var u=l("linecolor",s),c=l("linewidth");n("showline",o.showLine||!!u||!!c)||(delete t.linecolor,delete t.linewidth);var f=l("gridcolor",r(s,o.bgColor,o.blend||i).toRgbString()),d=l("gridwidth");if(n("showgrid",o.showGrid||!!f||!!d)||(delete t.gridcolor,delete t.gridwidth),!o.noZeroLine){var h=l("zerolinecolor",s),p=l("zerolinewidth");n("zeroline",o.showGrid||!!h||!!p)||(delete t.zerolinecolor,delete t.zerolinewidth)}}},{"../../components/color/attributes":393,"../../lib":524,tinycolor2:360}],589:[function(e,t,n){"use strict";var r=e("fast-isnumeric"),i=e("../../lib");t.exports=function(e,t,n,a){var o,s,l,u,c=a.counterAxes||[],f=a.overlayableAxes||[],d=a.letter,h=a.grid;h&&(s=h._domains[d][h._axisMap[t._id]],o=h._anchors[t._id],s&&(l=h[d+"side"].split(" ")[0],u=h.domain[d]["right"===l||"top"===l?1:0])),s=s||[0,1],o=o||(r(e.position)?"free":c[0]||"free"),l=l||("x"===d?"bottom":"left"),u=u||0,"free"===i.coerce(e,t,{anchor:{valType:"enumerated",values:["free"].concat(c),dflt:o}},"anchor")&&n("position",u),i.coerce(e,t,{side:{valType:"enumerated",values:"x"===d?["bottom","top"]:["left","right"],dflt:l}},"side");var p=!1;if(f.length&&(p=i.coerce(e,t,{overlaying:{valType:"enumerated",values:[!1].concat(f),dflt:!1}},"overlaying")),!p){var g=n("domain",s);g[0]>g[1]-1/4096&&(t.domain=s),i.noneOrAll(e.domain,t.domain,s)}return n("layer"),t}},{"../../lib":524,"fast-isnumeric":91}],590:[function(e,t,n){"use strict";var r=e("../../constants/alignment").FROM_BL;t.exports=function(e,t,n){void 0===n&&(n=r[e.constraintoward||"center"]);var i=[e.r2l(e.range[0]),e.r2l(e.range[1])],a=i[0]+(i[1]-i[0])*n;e.range=e._input.range=[e.l2r(a+(i[0]-a)*t),e.l2r(a+(i[1]-a)*t)],e.setScale()}},{"../../constants/alignment":496}],591:[function(e,t,n){"use strict";var r=e("polybooljs"),i=e("../../registry"),a=e("../../components/drawing").dashStyle,o=e("../../components/color"),s=e("../../components/fx"),l=e("../../components/fx/helpers").makeEventData,u=e("../../components/dragelement/helpers"),c=u.freeMode,f=u.rectMode,d=u.drawMode,h=u.openMode,p=u.selectMode,g=e("../../components/shapes/draw_newshape/display_outlines"),v=e("../../components/shapes/draw_newshape/helpers").handleEllipse,m=e("../../components/shapes/draw_newshape/newshapes"),y=e("../../lib"),b=e("../../lib/polygon"),x=e("../../lib/throttle"),_=e("./axis_ids").getFromId,w=e("../../lib/clear_gl_canvases"),k=e("../../plot_api/subroutines").redrawReglTraces,M=e("./constants"),T=M.MINSELECT,A=b.filter,E=b.tester,S=e("./handle_outline").clearSelect,O=e("./helpers"),C=O.p2r,L=O.axValue,R=O.getTransform;function P(e,t,n,r,i){var l=c(i),u=f(i),m=h(i),b=d(i),_=p(i),w="drawcircle"===i,k="drawline"===i||w,S=r.gd,O=S._fullLayout,P=O._zoomlayer,z=r.element.getBoundingClientRect(),I=r.plotinfo,N=R(I),V=t-z.left,H=n-z.top;O._calcInverseTransform(S);var q=y.apply3DTransform(O._invTransform)(V,H);V=q[0],H=q[1];var W,G,K,Q,J,ee,te,ne=O._invScaleX,re=O._invScaleY,ie=V,ae=H,oe="M"+V+","+H,se=r.xaxes[0]._length,le=r.yaxes[0]._length,ue=r.xaxes.concat(r.yaxes),ce=e.altKey&&!(d(i)&&m);F(e,S,r),l&&(W=A([[V,H]],M.BENDPX));var fe=P.selectAll("path.select-outline-"+I.id).data(b?[0]:[1,2]),de=O.newshape;fe.enter().append("path").attr("class",(function(e){return"select-outline select-outline-"+e+" select-outline-"+I.id})).style(b?{opacity:de.opacity/2,fill:m?void 0:de.fillcolor,stroke:de.line.color,"stroke-dasharray":a(de.line.dash,de.line.width),"stroke-width":de.line.width+"px"}:{}).attr("fill-rule",de.fillrule).classed("cursor-move",!!b).attr("transform",N).attr("d",oe+"Z");var he,pe=P.append("path").attr("class","zoombox-corners").style({fill:o.background,stroke:o.defaultLine,"stroke-width":1}).attr("transform",N).attr("d","M0,0Z"),ge=O._uid+M.SELECTID,ve=[],me=U(S,r.xaxes,r.yaxes,r.subplot);function ye(e,t){return e-t}he=I.fillRangeItems?I.fillRangeItems:u?function(e,t){var n=e.range={};for(J=0;J<ue.length;J++){var r=ue[J],i=r._id.charAt(0);n[r._id]=[C(r,t[i+"min"]),C(r,t[i+"max"])].sort(ye)}}:function(e,t,n){var r=e.lassoPoints={};for(J=0;J<ue.length;J++){var i=ue[J];r[i._id]=n.filtered.map(L(i))}},r.moveFn=function(e,t){ie=Math.max(0,Math.min(se,ne*e+V)),ae=Math.max(0,Math.min(le,re*t+H));var n=Math.abs(ie-V),i=Math.abs(ae-H);if(u){var a,o,s;if(_){var c=O.selectdirection;switch(a="any"===c?i<Math.min(.6*n,T)?"h":n<Math.min(.6*i,T)?"v":"d":c){case"h":o=w?le/2:0,s=le;break;case"v":o=w?se/2:0,s=se}}if(b)switch(O.newshape.drawdirection){case"vertical":a="h",o=w?le/2:0,s=le;break;case"horizontal":a="v",o=w?se/2:0,s=se;break;case"ortho":n<i?(a="h",o=H,s=ae):(a="v",o=V,s=ie);break;default:a="d"}"h"===a?((Q=k?v(w,[ie,o],[ie,s]):[[V,o],[V,s],[ie,s],[ie,o]]).xmin=k?ie:Math.min(V,ie),Q.xmax=k?ie:Math.max(V,ie),Q.ymin=Math.min(o,s),Q.ymax=Math.max(o,s),pe.attr("d","M"+Q.xmin+","+(H-T)+"h-4v"+2*T+"h4ZM"+(Q.xmax-1)+","+(H-T)+"h4v"+2*T+"h-4Z")):"v"===a?((Q=k?v(w,[o,ae],[s,ae]):[[o,H],[o,ae],[s,ae],[s,H]]).xmin=Math.min(o,s),Q.xmax=Math.max(o,s),Q.ymin=k?ae:Math.min(H,ae),Q.ymax=k?ae:Math.max(H,ae),pe.attr("d","M"+(V-T)+","+Q.ymin+"v-4h"+2*T+"v4ZM"+(V-T)+","+(Q.ymax-1)+"v4h"+2*T+"v-4Z")):"d"===a&&((Q=k?v(w,[V,H],[ie,ae]):[[V,H],[V,ae],[ie,ae],[ie,H]]).xmin=Math.min(V,ie),Q.xmax=Math.max(V,ie),Q.ymin=Math.min(H,ae),Q.ymax=Math.max(H,ae),pe.attr("d","M0,0Z"))}else l&&(W.addPt([ie,ae]),Q=W.filtered);r.selectionDefs&&r.selectionDefs.length?(K=Y(r.mergedPolygons,Q,ce),Q.subtract=ce,G=D(r.selectionDefs.concat([Q]))):(K=[Q],G=E(Q)),g($(K,m),fe,r),_&&x.throttle(ge,M.SELECTDELAY,(function(){var e;ve=[];var t,n=[];for(J=0;J<me.length;J++)if(t=(ee=me[J])._module.selectPoints(ee,G),n.push(t),e=Z(t,ee),ve.length)for(var i=0;i<e.length;i++)ve.push(e[i]);else ve=e;X(S,me,te={points:ve}),he(te,Q,W),r.gd.emit("plotly_selecting",te)}))},r.clickFn=function(e,t){if(pe.remove(),S._fullLayout._activeShapeIndex>=0)S._fullLayout._deactivateShape(S);else if(!b){var n=O.clickmode;x.done(ge).then((function(){if(x.clear(ge),2===e){for(fe.remove(),J=0;J<me.length;J++)(ee=me[J])._module.selectPoints(ee,!1);X(S,me),B(r),S.emit("plotly_deselect",null)}else n.indexOf("select")>-1&&j(t,S,r.xaxes,r.yaxes,r.subplot,r,fe),"event"===n&&S.emit("plotly_selected",void 0);s.click(S,t)})).catch(y.error)}},r.doneFn=function(){pe.remove(),x.done(ge).then((function(){x.clear(ge),r.gd.emit("plotly_selected",te),Q&&r.selectionDefs&&(Q.subtract=ce,r.selectionDefs.push(Q),r.mergedPolygons.length=0,[].push.apply(r.mergedPolygons,K)),r.doneFnCompleted&&r.doneFnCompleted(ve)})).catch(y.error),b&&B(r)}}function j(e,t,n,r,i,a,o){var s,l,u,c,f,d,p,v,m,y=t._hoverdata,b=t._fullLayout.clickmode.indexOf("event")>-1,x=[];if(V(y)){F(e,t,a);var _=H(y,s=U(t,n,r,i));if(_.pointNumbers.length>0?W(s,_):G(s)&&(d=q(_))){for(o&&o.remove(),m=0;m<s.length;m++)(l=s[m])._module.selectPoints(l,!1);X(t,s),B(a),b&&t.emit("plotly_deselect",null)}else{for(p=e.shiftKey&&(void 0!==d?d:q(_)),u=z(_.pointNumber,_.searchInfo,p),c=D(a.selectionDefs.concat([u])),m=0;m<s.length;m++)if(f=Z(s[m]._module.selectPoints(s[m],c),s[m]),x.length)for(var w=0;w<f.length;w++)x.push(f[w]);else x=f;if(X(t,s,v={points:x}),u&&a&&a.selectionDefs.push(u),o){var k=a.mergedPolygons,M=h(a.dragmode);g($(k,M),o,a)}b&&t.emit("plotly_selected",v)}}}function z(e,t,n){return{pointNumber:e,searchInfo:t,subtract:n}}function I(e){return"pointNumber"in e&&"searchInfo"in e}function N(e){return{xmin:0,xmax:0,ymin:0,ymax:0,pts:[],contains:function(t,n,r,i){var a=e.searchInfo.cd[0].trace._expandedIndex;return i.cd[0].trace._expandedIndex===a&&r===e.pointNumber},isRect:!1,degenerate:!1,subtract:e.subtract}}function D(e){for(var t=[],n=I(e[0])?0:e[0][0][0],r=n,i=I(e[0])?0:e[0][0][1],a=i,o=0;o<e.length;o++)if(I(e[o]))t.push(N(e[o]));else{var s=b.tester(e[o]);s.subtract=e[o].subtract,t.push(s),n=Math.min(n,s.xmin),r=Math.max(r,s.xmax),i=Math.min(i,s.ymin),a=Math.max(a,s.ymax)}function l(e,n,r,i){for(var a=!1,o=0;o<t.length;o++)t[o].contains(e,n,r,i)&&(a=!1===t[o].subtract);return a}return{xmin:n,xmax:r,ymin:i,ymax:a,pts:[],contains:l,isRect:!1,degenerate:!1}}function F(e,t,n){t._fullLayout._drawing=!1;var r=t._fullLayout,i=n.plotinfo,a=n.dragmode,o=r._lastSelectedSubplot&&r._lastSelectedSubplot===i.id,s=(e.shiftKey||e.altKey)&&!(d(a)&&h(a));o&&s&&i.selection&&i.selection.selectionDefs&&!n.selectionDefs?(n.selectionDefs=i.selection.selectionDefs,n.mergedPolygons=i.selection.mergedPolygons):s&&i.selection||B(n),o||(S(t),r._lastSelectedSubplot=i.id)}function B(e){var t=e.dragmode,n=e.plotinfo,r=e.gd;if(r._fullLayout._activeShapeIndex>=0&&r._fullLayout._deactivateShape(r),d(t)){var a=r._fullLayout._zoomlayer.selectAll(".select-outline-"+n.id);if(a&&r._fullLayout._drawing){var o=m(a,e);o&&i.call("_guiRelayout",r,{shapes:o}),r._fullLayout._drawing=!1}}n.selection={},n.selection.selectionDefs=e.selectionDefs=[],n.selection.mergedPolygons=e.mergedPolygons=[]}function U(e,t,n,r){var i,a,o,s=[],l=t.map((function(e){return e._id})),u=n.map((function(e){return e._id}));for(o=0;o<e.calcdata.length;o++)if(!0===(a=(i=e.calcdata[o])[0].trace).visible&&a._module&&a._module.selectPoints)if(!r||a.subplot!==r&&a.geo!==r)if("splom"===a.type&&a._xaxes[l[0]]&&a._yaxes[u[0]]){var c=d(a._module,i,t[0],n[0]);c.scene=e._fullLayout._splomScenes[a.uid],s.push(c)}else if("sankey"===a.type){var f=d(a._module,i,t[0],n[0]);s.push(f)}else{if(-1===l.indexOf(a.xaxis))continue;if(-1===u.indexOf(a.yaxis))continue;s.push(d(a._module,i,_(e,a.xaxis),_(e,a.yaxis)))}else s.push(d(a._module,i,t[0],n[0]));return s;function d(e,t,n,r){return{_module:e,cd:t,xaxis:n,yaxis:r}}}function V(e){return e&&Array.isArray(e)&&!0!==e[0].hoverOnBox}function H(e,t){var n,r,i=e[0],a=-1,o=[];for(r=0;r<t.length;r++)if(n=t[r],i.fullData._expandedIndex===n.cd[0].trace._expandedIndex){if(!0===i.hoverOnBox)break;void 0!==i.pointNumber?a=i.pointNumber:void 0!==i.binNumber&&(a=i.binNumber,o=i.pointNumbers);break}return{pointNumber:a,pointNumbers:o,searchInfo:n}}function q(e){var t=e.searchInfo.cd[0].trace,n=e.pointNumber,r=e.pointNumbers,i=r.length>0?r[0]:n;return!!t.selectedpoints&&t.selectedpoints.indexOf(i)>-1}function W(e,t){var n,r,i,a=[];for(i=0;i<e.length;i++)(n=e[i]).cd[0].trace.selectedpoints&&n.cd[0].trace.selectedpoints.length>0&&a.push(n);if(1===a.length&&a[0]===t.searchInfo&&(r=t.searchInfo.cd[0].trace).selectedpoints.length===t.pointNumbers.length){for(i=0;i<t.pointNumbers.length;i++)if(r.selectedpoints.indexOf(t.pointNumbers[i])<0)return!1;return!0}return!1}function G(e){var t,n,r=0;for(n=0;n<e.length;n++)if((t=e[n].cd[0].trace).selectedpoints){if(t.selectedpoints.length>1)return!1;if((r+=t.selectedpoints.length)>1)return!1}return 1===r}function X(e,t,n){var r,a,o,s;for(r=0;r<t.length;r++){var l=t[r].cd[0].trace._fullInput,u=e._fullLayout._tracePreGUI[l.uid]||{};void 0===u.selectedpoints&&(u.selectedpoints=l._input.selectedpoints||null)}if(n){var c=n.points||[];for(r=0;r<t.length;r++)(s=t[r].cd[0].trace)._input.selectedpoints=s._fullInput.selectedpoints=[],s._fullInput!==s&&(s.selectedpoints=[]);for(r=0;r<c.length;r++){var f=c[r],d=f.data,h=f.fullData;f.pointIndices?([].push.apply(d.selectedpoints,f.pointIndices),s._fullInput!==s&&[].push.apply(h.selectedpoints,f.pointIndices)):(d.selectedpoints.push(f.pointIndex),s._fullInput!==s&&h.selectedpoints.push(f.pointIndex))}}else for(r=0;r<t.length;r++)delete(s=t[r].cd[0].trace).selectedpoints,delete s._input.selectedpoints,s._fullInput!==s&&delete s._fullInput.selectedpoints;var p=!1;for(r=0;r<t.length;r++){s=(o=(a=t[r]).cd)[0].trace,i.traceIs(s,"regl")&&(p=!0);var g=a._module,v=g.styleOnSelect||g.style;v&&(v(e,o,o[0].node3),o[0].nodeRangePlot3&&v(e,o,o[0].nodeRangePlot3))}p&&(w(e),k(e))}function Y(e,t,n){return n?r.difference({regions:e,inverted:!1},{regions:[t],inverted:!1}).regions:r.union({regions:e,inverted:!1},{regions:[t],inverted:!1}).regions}function Z(e,t){if(Array.isArray(e))for(var n=t.cd,r=t.cd[0].trace,i=0;i<e.length;i++)e[i]=l(e[i],r,n);return e}function $(e,t){for(var n=[],r=0;r<e.length;r++){n[r]=[];for(var i=0;i<e[r].length;i++){n[r][i]=[],n[r][i][0]=i?"L":"M";for(var a=0;a<e[r][i].length;a++)n[r][i].push(e[r][i][a])}t||n[r].push(["Z",n[r][0][1],n[r][0][2]])}return n}t.exports={prepSelect:P,clearSelect:S,clearSelectionsCache:B,selectOnClick:j}},{"../../components/color":394,"../../components/dragelement/helpers":412,"../../components/drawing":416,"../../components/fx":434,"../../components/fx/helpers":430,"../../components/shapes/draw_newshape/display_outlines":479,"../../components/shapes/draw_newshape/helpers":480,"../../components/shapes/draw_newshape/newshapes":481,"../../lib":524,"../../lib/clear_gl_canvases":511,"../../lib/polygon":536,"../../lib/throttle":549,"../../plot_api/subroutines":562,"../../registry":626,"./axis_ids":575,"./constants":578,"./handle_outline":582,"./helpers":583,polybooljs:316}],592:[function(e,t,n){"use strict";var r=e("d3"),i=e("d3-time-format").utcFormat,a=e("fast-isnumeric"),o=e("../../lib"),s=o.cleanNumber,l=o.ms2DateTime,u=o.dateTime2ms,c=o.ensureNumber,f=o.isArrayOrTypedArray,d=e("../../constants/numerical"),h=d.FP_SAFE,p=d.BADNUM,g=d.LOG_CLIP,v=d.ONEWEEK,m=d.ONEDAY,y=d.ONEHOUR,b=d.ONEMIN,x=d.ONESEC,_=e("./axis_ids"),w=e("./constants"),k=w.HOUR_PATTERN,M=w.WEEKDAY_PATTERN;function T(e){return Math.pow(10,e)}function A(e){return null!==e&&void 0!==e}t.exports=function(e,t){t=t||{};var n=e._id||"x",d=n.charAt(0);function E(t,n){if(t>0)return Math.log(t)/Math.LN10;if(t<=0&&n&&e.range&&2===e.range.length){var r=e.range[0],i=e.range[1];return.5*(r+i-2*g*Math.abs(r-i))}return p}function S(t,n,r,i){if((i||{}).msUTC&&a(t))return+t;var s=u(t,r||e.calendar);if(s===p){if(!a(t))return p;t=+t;var l=Math.floor(10*o.mod(t+.05,1)),c=Math.round(t-l/10);s=u(new Date(c))+l/10}return s}function O(t,n,r){return l(t,n,r||e.calendar)}function C(t){return e._categories[Math.round(t)]}function L(t){if(A(t)){if(void 0===e._categoriesMap&&(e._categoriesMap={}),void 0!==e._categoriesMap[t])return e._categoriesMap[t];e._categories.push("number"===typeof t?String(t):t);var n=e._categories.length-1;return e._categoriesMap[t]=n,n}return p}function R(e,t){for(var n=new Array(t),r=0;r<t;r++){var i=(e[0]||[])[r],a=(e[1]||[])[r];n[r]=P([i,a])}return n}function P(t){if(e._categoriesMap)return e._categoriesMap[t]}function j(e){var t=P(e);return void 0!==t?t:a(e)?+e:void 0}function z(e){return a(e)?+e:P(e)}function I(e,t,n){return r.round(n+t*e,2)}function N(e,t,n){return(e-n)/t}var D=function(t){return a(t)?I(t,e._m,e._b):p},F=function(t){return N(t,e._m,e._b)};if(e.rangebreaks){var B="y"===d;D=function(t){if(!a(t))return p;var n=e._rangebreaks.length;if(!n)return I(t,e._m,e._b);var r=B;e.range[0]>e.range[1]&&(r=!r);for(var i=r?-1:1,o=i*t,s=0,l=0;l<n;l++){var u=i*e._rangebreaks[l].min,c=i*e._rangebreaks[l].max;if(o<u)break;if(!(o>c)){s=o<(u+c)/2?l:l+1;break}s=l+1}var f=e._B[s]||0;return isFinite(f)?I(t,e._m2,f):0},F=function(t){var n=e._rangebreaks.length;if(!n)return N(t,e._m,e._b);for(var r=0,i=0;i<n&&!(t<e._rangebreaks[i].pmin);i++)t>e._rangebreaks[i].pmax&&(r=i+1);return N(t,e._m2,e._B[r])}}e.c2l="log"===e.type?E:c,e.l2c="log"===e.type?T:c,e.l2p=D,e.p2l=F,e.c2p="log"===e.type?function(e,t){return D(E(e,t))}:D,e.p2c="log"===e.type?function(e){return T(F(e))}:F,-1!==["linear","-"].indexOf(e.type)?(e.d2r=e.r2d=e.d2c=e.r2c=e.d2l=e.r2l=s,e.c2d=e.c2r=e.l2d=e.l2r=c,e.d2p=e.r2p=function(t){return e.l2p(s(t))},e.p2d=e.p2r=F,e.cleanPos=c):"log"===e.type?(e.d2r=e.d2l=function(e,t){return E(s(e),t)},e.r2d=e.r2c=function(e){return T(s(e))},e.d2c=e.r2l=s,e.c2d=e.l2r=c,e.c2r=E,e.l2d=T,e.d2p=function(t,n){return e.l2p(e.d2r(t,n))},e.p2d=function(e){return T(F(e))},e.r2p=function(t){return e.l2p(s(t))},e.p2r=F,e.cleanPos=c):"date"===e.type?(e.d2r=e.r2d=o.identity,e.d2c=e.r2c=e.d2l=e.r2l=S,e.c2d=e.c2r=e.l2d=e.l2r=O,e.d2p=e.r2p=function(t,n,r){return e.l2p(S(t,0,r))},e.p2d=e.p2r=function(e,t,n){return O(F(e),t,n)},e.cleanPos=function(t){return o.cleanDate(t,p,e.calendar)}):"category"===e.type?(e.d2c=e.d2l=L,e.r2d=e.c2d=e.l2d=C,e.d2r=e.d2l_noadd=j,e.r2c=function(t){var n=z(t);return void 0!==n?n:e.fraction2r(.5)},e.l2r=e.c2r=c,e.r2l=z,e.d2p=function(t){return e.l2p(e.r2c(t))},e.p2d=function(e){return C(F(e))},e.r2p=e.d2p,e.p2r=F,e.cleanPos=function(e){return"string"===typeof e&&""!==e?e:c(e)}):"multicategory"===e.type&&(e.r2d=e.c2d=e.l2d=C,e.d2r=e.d2l_noadd=j,e.r2c=function(t){var n=j(t);return void 0!==n?n:e.fraction2r(.5)},e.r2c_just_indices=P,e.l2r=e.c2r=c,e.r2l=j,e.d2p=function(t){return e.l2p(e.r2c(t))},e.p2d=function(e){return C(F(e))},e.r2p=e.d2p,e.p2r=F,e.cleanPos=function(e){return Array.isArray(e)||"string"===typeof e&&""!==e?e:c(e)},e.setupMultiCategory=function(r){var i,a,s=e._traceIndices,l=e._matchGroup;if(l&&0===e._categories.length)for(var u in l)if(u!==n){var c=t[_.id2name(u)];s=s.concat(c._traceIndices)}var h=[[0,{}],[0,{}]],p=[];for(i=0;i<s.length;i++){var g=r[s[i]];if(d in g){var v=g[d],m=g._length||o.minRowLength(v);if(f(v[0])&&f(v[1]))for(a=0;a<m;a++){var y=v[0][a],b=v[1][a];A(y)&&A(b)&&(p.push([y,b]),y in h[0][1]||(h[0][1][y]=h[0][0]++),b in h[1][1]||(h[1][1][b]=h[1][0]++))}}}for(p.sort((function(e,t){var n=h[0][1],r=n[e[0]]-n[t[0]];if(r)return r;var i=h[1][1];return i[e[1]]-i[t[1]]})),i=0;i<p.length;i++)L(p[i])}),e.fraction2r=function(t){var n=e.r2l(e.range[0]),r=e.r2l(e.range[1]);return e.l2r(n+t*(r-n))},e.r2fraction=function(t){var n=e.r2l(e.range[0]),r=e.r2l(e.range[1]);return(e.r2l(t)-n)/(r-n)},e.cleanRange=function(t,n){n||(n={}),t||(t="range");var r,i,s=o.nestedProperty(e,t).get();if(i=(i="date"===e.type?o.dfltRange(e.calendar):"y"===d?w.DFLTRANGEY:n.dfltRange||w.DFLTRANGEX).slice(),"tozero"!==e.rangemode&&"nonnegative"!==e.rangemode||(i[0]=0),s&&2===s.length)for("date"!==e.type||e.autorange||(s[0]=o.cleanDate(s[0],p,e.calendar),s[1]=o.cleanDate(s[1],p,e.calendar)),r=0;r<2;r++)if("date"===e.type){if(!o.isDateTime(s[r],e.calendar)){e[t]=i;break}if(e.r2l(s[0])===e.r2l(s[1])){var l=o.constrain(e.r2l(s[0]),o.MIN_MS+1e3,o.MAX_MS-1e3);s[0]=e.l2r(l-1e3),s[1]=e.l2r(l+1e3);break}}else{if(!a(s[r])){if(!a(s[1-r])){e[t]=i;break}s[r]=s[1-r]*(r?10:.1)}if(s[r]<-h?s[r]=-h:s[r]>h&&(s[r]=h),s[0]===s[1]){var u=Math.max(1,Math.abs(1e-6*s[0]));s[0]-=u,s[1]+=u}}else o.nestedProperty(e,t).set(i)},e.setScale=function(n){var r=t._size;if(e.overlaying){var i=_.getFromId({_fullLayout:t},e.overlaying);e.domain=i.domain}var a=n&&e._r?"_r":"range",o=e.calendar;e.cleanRange(a);var s,l,u=e.r2l(e[a][0],o),c=e.r2l(e[a][1],o),f="y"===d;if(f?(e._offset=r.t+(1-e.domain[1])*r.h,e._length=r.h*(e.domain[1]-e.domain[0]),e._m=e._length/(u-c),e._b=-e._m*c):(e._offset=r.l+e.domain[0]*r.w,e._length=r.w*(e.domain[1]-e.domain[0]),e._m=e._length/(c-u),e._b=-e._m*u),e._rangebreaks=[],e._lBreaks=0,e._m2=0,e._B=[],e.rangebreaks&&(e._rangebreaks=e.locateBreaks(Math.min(u,c),Math.max(u,c)),e._rangebreaks.length)){for(s=0;s<e._rangebreaks.length;s++)l=e._rangebreaks[s],e._lBreaks+=Math.abs(l.max-l.min);var h=f;u>c&&(h=!h),h&&e._rangebreaks.reverse();var p=h?-1:1;for(e._m2=p*e._length/(Math.abs(c-u)-e._lBreaks),e._B.push(-e._m2*(f?c:u)),s=0;s<e._rangebreaks.length;s++)l=e._rangebreaks[s],e._B.push(e._B[e._B.length-1]-p*e._m2*(l.max-l.min));for(s=0;s<e._rangebreaks.length;s++)(l=e._rangebreaks[s]).pmin=D(l.min),l.pmax=D(l.max)}if(!isFinite(e._m)||!isFinite(e._b)||e._length<0)throw t._replotting=!1,new Error("Something went wrong with axis scaling")},e.maskBreaks=function(t){for(var n,r,i,a,l,u=e.rangebreaks||[],c=0;c<u.length;c++){var f=u[c];if(f.enabled)if(f.bounds){var d=f.pattern;switch(r=(n=o.simpleMap(f.bounds,d?s:e.d2c))[0],i=n[1],d){case M:a=(l=new Date(t)).getUTCDay(),r>i&&(i+=7,a<r&&(a+=7));break;case k:a=(l=new Date(t)).getUTCHours()+(l.getUTCMinutes()/60+l.getUTCSeconds()/3600+l.getUTCMilliseconds()/36e5),r>i&&(i+=24,a<r&&(a+=24));break;case"":a=t}if(a>=r&&a<i)return p}else for(var h=o.simpleMap(f.values,e.d2c).sort(o.sorterAsc),g=0;g<h.length;g++)if(i=(r=h[g])+f.dvalue,t>=r&&t<i)return p}return t},e.locateBreaks=function(t,n){var r,i,a,l,u=[];if(!e.rangebreaks)return u;var c=e.rangebreaks.slice().sort((function(e,t){return e.pattern===M&&t.pattern===k?-1:t.pattern===M&&e.pattern===k?1:0})),f=function(e,r){if((e=o.constrain(e,t,n))!==(r=o.constrain(r,t,n))){for(var i=!0,a=0;a<u.length;a++){var s=u[a];e<s.max&&r>=s.min&&(e<s.min&&(s.min=e),r>s.max&&(s.max=r),i=!1)}i&&u.push({min:e,max:r})}};for(r=0;r<c.length;r++){var d=c[r];if(d.enabled)if(d.bounds){var h=t,p=n;d.pattern&&(h=Math.floor(h)),a=(i=o.simpleMap(d.bounds,d.pattern?s:e.r2l))[0],l=i[1];var g,_,w=new Date(h);switch(d.pattern){case M:_=v,g=(l-a+(l<a?7:0))*m,h+=a*m-(w.getUTCDay()*m+w.getUTCHours()*y+w.getUTCMinutes()*b+w.getUTCSeconds()*x+w.getUTCMilliseconds());break;case k:_=m,g=(l-a+(l<a?24:0))*y,h+=a*y-(w.getUTCHours()*y+w.getUTCMinutes()*b+w.getUTCSeconds()*x+w.getUTCMilliseconds());break;default:h=Math.min(i[0],i[1]),g=_=(p=Math.max(i[0],i[1]))-h}for(var T=h;T<p;T+=_)f(T,T+g)}else for(var A=o.simpleMap(d.values,e.d2c),E=0;E<A.length;E++)f(a=A[E],l=a+d.dvalue)}return u.sort((function(e,t){return e.min-t.min})),u},e.makeCalcdata=function(t,n,r){var i,a,s,l,u=e.type,c="date"===u&&t[n+"calendar"];if(n in t){if(i=t[n],l=t._length||o.minRowLength(i),o.isTypedArray(i)&&("linear"===u||"log"===u)){if(l===i.length)return i;if(i.subarray)return i.subarray(0,l)}if("multicategory"===u)return R(i,l);for(a=new Array(l),s=0;s<l;s++)a[s]=e.d2c(i[s],0,c,r)}else{var f=n+"0"in t?e.d2c(t[n+"0"],0,c):0,d=t["d"+n]?Number(t["d"+n]):1;for(i=t[{x:"y",y:"x"}[n]],l=t._length||i.length,a=new Array(l),s=0;s<l;s++)a[s]=f+s*d}if(e.rangebreaks)for(s=0;s<l;s++)a[s]=e.maskBreaks(a[s]);return a},e.isValidRange=function(t){return Array.isArray(t)&&2===t.length&&a(e.r2l(t[0]))&&a(e.r2l(t[1]))},e.isPtWithinRange=function(t,n){var r=e.c2l(t[d],null,n),i=e.r2l(e.range[0]),a=e.r2l(e.range[1]);return i<a?i<=r&&r<=a:a<=r&&r<=i},e._emptyCategories=function(){e._categories=[],e._categoriesMap={}},e.clearCalc=function(){var n=e._matchGroup;if(n){var r=null,i=null;for(var a in n){var o=t[_.id2name(a)];if(o._categories){r=o._categories,i=o._categoriesMap;break}}r&&i?(e._categories=r,e._categoriesMap=i):e._emptyCategories()}else e._emptyCategories();if(e._initialCategories)for(var s=0;s<e._initialCategories.length;s++)L(e._initialCategories[s])},e.sortByInitialCategories=function(){var r=[];if(e._emptyCategories(),e._initialCategories)for(var i=0;i<e._initialCategories.length;i++)L(e._initialCategories[i]);r=r.concat(e._traceIndices);var a=e._matchGroup;for(var o in a)if(n!==o){var s=t[_.id2name(o)];s._categories=e._categories,s._categoriesMap=e._categoriesMap,r=r.concat(s._traceIndices)}return r};var U=t._d3locale;"date"===e.type&&(e._dateFormat=U?U.timeFormat:i,e._extraFormat=t._extraFormat),e._separators=t.separators,e._numFormat=U?U.numberFormat:r.format,delete e._minDtick,delete e._forceTick0}},{"../../constants/numerical":502,"../../lib":524,"./axis_ids":575,"./constants":578,d3:82,"d3-time-format":80,"fast-isnumeric":91}],593:[function(e,t,n){"use strict";var r=e("../../lib"),i=e("../../components/color").contrast,a=e("./layout_attributes"),o=e("../array_container_defaults");function s(e,t,n,r,i){var a=u(e);n("tickprefix")&&n("showtickprefix",a),n("ticksuffix",i.tickSuffixDflt)&&n("showticksuffix",a)}function l(e,t,n,s,l){var f=u(e);if(n("tickprefix")&&n("showtickprefix",f),n("ticksuffix",l.tickSuffixDflt)&&n("showticksuffix",f),n("showticklabels")){var d=l.font||{},h=t.color,p=-1!==(t.ticklabelposition||"").indexOf("inside")?i(l.bgColor):h&&h!==a.color.dflt?h:d.color;if(r.coerceFont(n,"tickfont",{family:d.family,size:d.size,color:p}),n("tickangle"),"category"!==s){var g=n("tickformat");o(e,t,{name:"tickformatstops",inclusionAttr:"enabled",handleItemDefaults:c}),t.tickformatstops.length||delete t.tickformatstops,g||"date"===s||(n("showexponent",f),n("exponentformat"),n("minexponent"),n("separatethousands"))}}}function u(e){var t=["showexponent","showtickprefix","showticksuffix"].filter((function(t){return void 0!==e[t]})),n=function(n){return e[n]===e[t[0]]};if(t.every(n)||1===t.length)return e[t[0]]}function c(e,t){function n(n,i){return r.coerce(e,t,a.tickformatstops,n,i)}n("enabled")&&(n("dtickrange"),n("value"))}t.exports=function(e,t,n,r,i,a){a&&1!==a.pass||s(e,t,n,r,i),a&&2!==a.pass||l(e,t,n,r,i)}},{"../../components/color":394,"../../lib":524,"../array_container_defaults":567,"./layout_attributes":586}],594:[function(e,t,n){"use strict";var r=e("../../lib"),i=e("./layout_attributes");t.exports=function(e,t,n,a){var o=r.coerce2(e,t,i,"ticklen"),s=r.coerce2(e,t,i,"tickwidth"),l=r.coerce2(e,t,i,"tickcolor",t.color);n("ticks",a.outerTicks||o||s||l?"outside":"")||(delete t.ticklen,delete t.tickwidth,delete t.tickcolor)}},{"../../lib":524,"./layout_attributes":586}],595:[function(e,t,n){"use strict";var r=e("./clean_ticks"),i=e("../../lib").isArrayOrTypedArray;t.exports=function(e,t,n,a){function o(n){var r=e[n];return void 0!==r?r:(t._template||{})[n]}var s=o("tick0"),l=o("dtick"),u=o("tickvals"),c=n("tickmode",i(u)?"array":l?"linear":"auto");if("auto"===c)n("nticks");else if("linear"===c){var f=t.dtick=r.dtick(l,a);t.tick0=r.tick0(s,a,t.calendar,f)}else"multicategory"!==a&&(void 0===n("tickvals")?t.tickmode="auto":n("ticktext"))}},{"../../lib":524,"./clean_ticks":577}],596:[function(e,t,n){"use strict";var r=e("d3"),i=e("../../registry"),a=e("../../lib"),o=e("../../components/drawing"),s=e("./axes");t.exports=function(e,t,n,l){var u=e._fullLayout;if(0!==t.length){var c,f,d,h;l&&(c=l());var p=r.ease(n.easing);return e._transitionData._interruptCallbacks.push((function(){return window.cancelAnimationFrame(h),h=null,y()})),f=Date.now(),h=window.requestAnimationFrame(b),Promise.resolve()}function g(e){var t=e.xaxis,n=e.yaxis;u._defs.select("#"+e.clipId+"> rect").call(o.setTranslate,0,0).call(o.setScale,1,1),e.plot.call(o.setTranslate,t._offset,n._offset).call(o.setScale,1,1);var r=e.plot.selectAll(".scatterlayer .trace");r.selectAll(".point").call(o.setPointGroupScale,1,1),r.selectAll(".textpoint").call(o.setTextPointsScale,1,1),r.call(o.hideOutsideRangePoints,e)}function v(t,n){var r=t.plotinfo,i=r.xaxis,l=r.yaxis,u=i._length,c=l._length,f=!!t.xr1,d=!!t.yr1,h=[];if(f){var p=a.simpleMap(t.xr0,i.r2l),g=a.simpleMap(t.xr1,i.r2l),v=p[1]-p[0],m=g[1]-g[0];h[0]=(p[0]*(1-n)+n*g[0]-p[0])/(p[1]-p[0])*u,h[2]=u*(1-n+n*m/v),i.range[0]=i.l2r(p[0]*(1-n)+n*g[0]),i.range[1]=i.l2r(p[1]*(1-n)+n*g[1])}else h[0]=0,h[2]=u;if(d){var y=a.simpleMap(t.yr0,l.r2l),b=a.simpleMap(t.yr1,l.r2l),x=y[1]-y[0],_=b[1]-b[0];h[1]=(y[1]*(1-n)+n*b[1]-y[1])/(y[0]-y[1])*c,h[3]=c*(1-n+n*_/x),l.range[0]=i.l2r(y[0]*(1-n)+n*b[0]),l.range[1]=l.l2r(y[1]*(1-n)+n*b[1])}else h[1]=0,h[3]=c;s.drawOne(e,i,{skipTitle:!0}),s.drawOne(e,l,{skipTitle:!0}),s.redrawComponents(e,[i._id,l._id]);var w=f?u/h[2]:1,k=d?c/h[3]:1,M=f?h[0]:0,T=d?h[1]:0,A=f?h[0]/h[2]*u:0,E=d?h[1]/h[3]*c:0,S=i._offset-A,O=l._offset-E;r.clipRect.call(o.setTranslate,M,T).call(o.setScale,1/w,1/k),r.plot.call(o.setTranslate,S,O).call(o.setScale,w,k),o.setPointGroupScale(r.zoomScalePts,1/w,1/k),o.setTextPointsScale(r.zoomScaleTxt,1/w,1/k)}function m(){for(var n={},r=0;r<t.length;r++){var a=t[r],o=a.plotinfo.xaxis,s=a.plotinfo.yaxis;a.xr1&&(n[o._name+".range"]=a.xr1.slice()),a.yr1&&(n[s._name+".range"]=a.yr1.slice())}return c&&c(),i.call("relayout",e,n).then((function(){for(var e=0;e<t.length;e++)g(t[e].plotinfo)}))}function y(){for(var n={},r=0;r<t.length;r++){var a=t[r],o=a.plotinfo.xaxis,s=a.plotinfo.yaxis;a.xr0&&(n[o._name+".range"]=a.xr0.slice()),a.yr0&&(n[s._name+".range"]=a.yr0.slice())}return i.call("relayout",e,n).then((function(){for(var e=0;e<t.length;e++)g(t[e].plotinfo)}))}function b(){d=Date.now();for(var e=Math.min(1,(d-f)/n.duration),r=p(e),i=0;i<t.length;i++)v(t[i],r);d-f>n.duration?(m(),h=window.cancelAnimationFrame(b)):h=window.requestAnimationFrame(b)}s.redrawComponents(e)}},{"../../components/drawing":416,"../../lib":524,"../../registry":626,"./axes":572,d3:82}],597:[function(e,t,n){"use strict";var r=e("../../registry").traceIs,i=e("./axis_autotype");function a(e,t){if("-"===e.type){var n,a=e._id,u=a.charAt(0);-1!==a.indexOf("scene")&&(a=u);var c=o(t,a,u);if(c)if("histogram"!==c.type||u!=={v:"y",h:"x"}[c.orientation||"v"]){var f=u+"calendar",d=c[f],h={noMultiCategory:!r(c,"cartesian")||r(c,"noMultiCategory")};if("box"===c.type&&c._hasPreCompStats&&u==={h:"x",v:"y"}[c.orientation||"v"]&&(h.noMultiCategory=!0),h.autotypenumbers=e.autotypenumbers,l(c,u)){var p=s(c),g=[];for(n=0;n<t.length;n++){var v=t[n];r(v,"box-violin")&&(v[u+"axis"]||u)===a&&(void 0!==v[p]?g.push(v[p][0]):void 0!==v.name?g.push(v.name):g.push("text"),v[f]!==d&&(d=void 0))}e.type=i(g,d,h)}else if("splom"===c.type){var m=c.dimensions[c._axesDim[a]];m.visible&&(e.type=i(m.values,d,h))}else e.type=i(c[u]||[c[u+"0"]],d,h)}else e.type="linear"}}function o(e,t,n){for(var r=0;r<e.length;r++){var i=e[r];if("splom"===i.type&&i._length>0&&(i["_"+n+"axes"]||{})[t])return i;if((i[n+"axis"]||n)===t){if(l(i,n))return i;if((i[n]||[]).length||i[n+"0"])return i}}}function s(e){return{v:"x",h:"y"}[e.orientation||"v"]}function l(e,t){var n=s(e),i=r(e,"box-violin"),a=r(e._fullInput||{},"candlestick");return i&&!a&&t===n&&void 0===e[n]&&void 0===e[n+"0"]}t.exports=function(e,t,n,r){n("autotypenumbers",r.autotypenumbersDflt),"-"===n("type",(r.splomStash||{}).type)&&(a(t,r.data),"-"===t.type?t.type="linear":e.type=t.type)}},{"../../registry":626,"./axis_autotype":573}],598:[function(e,t,n){"use strict";var r=e("../registry"),i=e("../lib");function a(e,t,n){var r,a,o,s=!1;if("data"===t.type)r=e._fullData[null!==t.traces?t.traces[0]:0];else{if("layout"!==t.type)return!1;r=e._fullLayout}return a=i.nestedProperty(r,t.prop).get(),(o=n[t.type]=n[t.type]||{}).hasOwnProperty(t.prop)&&o[t.prop]!==a&&(s=!0),o[t.prop]=a,{changed:s,value:a}}function o(e,t){return Array.isArray(t[0])&&1===t[0].length&&-1!==["string","number"].indexOf(typeof t[0][0])?[{type:"layout",prop:"_currentFrame",value:t[0][0].toString()}]:[]}function s(e,t){var n=[],r=t[0],a={};if("string"===typeof r)a[r]=t[1];else{if(!i.isPlainObject(r))return n;a=r}return u(a,(function(e,t,r){n.push({type:"layout",prop:e,value:r})}),"",0),n}function l(e,t){var n,r,a,o,s=[];if(r=t[0],a=t[1],n=t[2],o={},"string"===typeof r)o[r]=a;else{if(!i.isPlainObject(r))return s;o=r,void 0===n&&(n=a)}return void 0===n&&(n=null),u(o,(function(t,r,i){var a,o;if(Array.isArray(i)){o=i.slice();var l=Math.min(o.length,e.data.length);n&&(l=Math.min(l,n.length)),a=[];for(var u=0;u<l;u++)a[u]=n?n[u]:u}else o=i,a=n?n.slice():null;if(null===a)Array.isArray(o)&&(o=o[0]);else if(Array.isArray(a)){if(!Array.isArray(o)){var c=o;o=[];for(var f=0;f<a.length;f++)o[f]=c}o.length=Math.min(a.length,o.length)}s.push({type:"data",prop:t,traces:a,value:o})}),"",0),s}function u(e,t,n,r){Object.keys(e).forEach((function(a){var o=e[a];if("_"!==a[0]){var s=n+(r>0?".":"")+a;i.isPlainObject(o)?u(o,t,s,r+1):t(s,a,o)}}))}n.manageCommandObserver=function(e,t,r,o){var s={},l=!0;t&&t._commandObserver&&(s=t._commandObserver),s.cache||(s.cache={}),s.lookupTable={};var u=n.hasSimpleAPICommandBindings(e,r,s.lookupTable);if(t&&t._commandObserver){if(u)return s;if(t._commandObserver.remove)return t._commandObserver.remove(),t._commandObserver=null,s}if(u){a(e,u,s.cache),s.check=function(){if(l){var t=a(e,u,s.cache);return t.changed&&o&&void 0!==s.lookupTable[t.value]&&(s.disable(),Promise.resolve(o({value:t.value,type:u.type,prop:u.prop,traces:u.traces,index:s.lookupTable[t.value]})).then(s.enable,s.enable)),t.changed}};for(var c=["plotly_relayout","plotly_redraw","plotly_restyle","plotly_update","plotly_animatingframe","plotly_afterplot"],f=0;f<c.length;f++)e._internalOn(c[f],s.check);s.remove=function(){for(var t=0;t<c.length;t++)e._removeInternalListener(c[t],s.check)}}else i.log("Unable to automatically bind plot updates to API command"),s.lookupTable={},s.remove=function(){};return s.disable=function(){l=!1},s.enable=function(){l=!0},t&&(t._commandObserver=s),s},n.hasSimpleAPICommandBindings=function(e,t,r){var i,a,o=t.length;for(i=0;i<o;i++){var s,l=t[i],u=l.method,c=l.args;if(Array.isArray(c)||(c=[]),!u)return!1;var f=n.computeAPICommandBindings(e,u,c);if(1!==f.length)return!1;if(a){if((s=f[0]).type!==a.type)return!1;if(s.prop!==a.prop)return!1;if(Array.isArray(a.traces)){if(!Array.isArray(s.traces))return!1;s.traces.sort();for(var d=0;d<a.traces.length;d++)if(a.traces[d]!==s.traces[d])return!1}else if(s.prop!==a.prop)return!1}else a=f[0],Array.isArray(a.traces)&&a.traces.sort();var h=(s=f[0]).value;if(Array.isArray(h)){if(1!==h.length)return!1;h=h[0]}r&&(r[h]=i)}return a},n.executeAPICommand=function(e,t,n){if("skip"===t)return Promise.resolve();var a=r.apiMethodRegistry[t],o=[e];Array.isArray(n)||(n=[]);for(var s=0;s<n.length;s++)o.push(n[s]);return a.apply(null,o).catch((function(e){return i.warn("API call to Plotly."+t+" rejected.",e),Promise.reject(e)}))},n.computeAPICommandBindings=function(e,t,n){var r;switch(Array.isArray(n)||(n=[]),t){case"restyle":r=l(e,n);break;case"relayout":r=s(e,n);break;case"update":r=l(e,[n[0],n[2]]).concat(s(e,[n[1]]));break;case"animate":r=o(e,n);break;default:r=[]}return r}},{"../lib":524,"../registry":626}],599:[function(e,t,n){"use strict";var r=e("../lib/extend").extendFlat;n.attributes=function(e,t){t=t||{};var n={valType:"info_array",editType:(e=e||{}).editType,items:[{valType:"number",min:0,max:1,editType:e.editType},{valType:"number",min:0,max:1,editType:e.editType}],dflt:[0,1]},i=(e.name&&e.name,e.trace,t.description&&t.description,{x:r({},n,{}),y:r({},n,{}),editType:e.editType});return e.noGridCell||(i.row={valType:"integer",min:0,dflt:0,editType:e.editType},i.column={valType:"integer",min:0,dflt:0,editType:e.editType}),i},n.defaults=function(e,t,n,r){var i=r&&r.x||[0,1],a=r&&r.y||[0,1],o=t.grid;if(o){var s=n("domain.column");void 0!==s&&(s<o.columns?i=o._domains.x[s]:delete e.domain.column);var l=n("domain.row");void 0!==l&&(l<o.rows?a=o._domains.y[l]:delete e.domain.row)}var u=n("domain.x",i),c=n("domain.y",a);u[0]<u[1]||(e.domain.x=i.slice()),c[0]<c[1]||(e.domain.y=a.slice())}},{"../lib/extend":517}],600:[function(e,t,n){"use strict";t.exports=function(e){var t=e.editType,n=e.colorEditType;void 0===n&&(n=t);var r={family:{valType:"string",noBlank:!0,strict:!0,editType:t},size:{valType:"number",min:1,editType:t},color:{valType:"color",editType:n},editType:t};return e.arrayOk&&(r.family.arrayOk=!0,r.size.arrayOk=!0,r.color.arrayOk=!0),r}},{}],601:[function(e,t,n){"use strict";t.exports={_isLinkedToArray:"frames_entry",group:{valType:"string"},name:{valType:"string"},traces:{valType:"any"},baseframe:{valType:"string"},data:{valType:"any"},layout:{valType:"any"}}},{}],602:[function(e,t,n){"use strict";var r=e("../registry"),i=e("./cartesian/constants").SUBPLOT_PATTERN;n.getSubplotCalcData=function(e,t,n){var i=r.subplotsRegistry[t];if(!i)return[];for(var a=i.attr,o=[],s=0;s<e.length;s++){var l=e[s];l[0].trace[a]===n&&o.push(l)}return o},n.getModuleCalcData=function(e,t){var n,i=[],a=[];if(!(n="string"===typeof t?r.getModule(t).plot:"function"===typeof t?t:t.plot))return[i,e];for(var o=0;o<e.length;o++){var s=e[o],l=s[0].trace;!0===l.visible&&0!==l._length&&(l._module.plot===n?i.push(s):a.push(s))}return[i,a]},n.getSubplotData=function(e,t,n){if(!r.subplotsRegistry[t])return[];var a,o,s,l=r.subplotsRegistry[t].attr,u=[];if("gl2d"===t){var c=n.match(i);o="x"+c[1],s="y"+c[2]}for(var f=0;f<e.length;f++)a=e[f],"gl2d"===t&&r.traceIs(a,"gl2d")?a[l[0]]===o&&a[l[1]]===s&&u.push(a):a[l]===n&&u.push(a);return u}},{"../registry":626,"./cartesian/constants":578}],603:[function(e,t,n){"use strict";var r=e("../../plot_api/edit_types").overrideAll,i=e("../../components/fx/layout_attributes"),a=e("./scene"),o=e("../get_data").getSubplotData,s=e("../../lib"),l=e("../../constants/xmlns_namespaces"),u="gl3d",c="scene";n.name=u,n.attr=c,n.idRoot=c,n.idRegex=n.attrRegex=s.counterRegex("scene"),n.attributes=e("./layout/attributes"),n.layoutAttributes=e("./layout/layout_attributes"),n.baseLayoutAttrOverrides=r({hoverlabel:i.hoverlabel},"plot","nested"),n.supplyLayoutDefaults=e("./layout/defaults"),n.plot=function(e){for(var t=e._fullLayout,n=e._fullData,r=t._subplots[u],i=0;i<r.length;i++){var s=r[i],l=o(n,u,s),c=t[s],f=c.camera,d=c._scene;d||(d=new a({id:s,graphDiv:e,container:e.querySelector(".gl-container"),staticPlot:e._context.staticPlot,plotGlPixelRatio:e._context.plotGlPixelRatio,camera:f},t),c._scene=d),d.viewInitial||(d.viewInitial={up:{x:f.up.x,y:f.up.y,z:f.up.z},eye:{x:f.eye.x,y:f.eye.y,z:f.eye.z},center:{x:f.center.x,y:f.center.y,z:f.center.z}}),d.plot(l,t,e.layout)}},n.clean=function(e,t,n,r){for(var i=r._subplots[u]||[],a=0;a<i.length;a++){var o=i[a];!t[o]&&r[o]._scene&&(r[o]._scene.destroy(),r._infolayer&&r._infolayer.selectAll(".annotation-"+o).remove())}},n.toSVG=function(e){for(var t=e._fullLayout,n=t._subplots[u],r=t._size,i=0;i<n.length;i++){var a=t[n[i]],o=a.domain,s=a._scene,c=s.toImage("png");t._glimages.append("svg:image").attr({xmlns:l.svg,"xlink:href":c,x:r.l+r.w*o.x[0],y:r.t+r.h*(1-o.y[1]),width:r.w*(o.x[1]-o.x[0]),height:r.h*(o.y[1]-o.y[0]),preserveAspectRatio:"none"}),s.destroy()}},n.cleanId=function(e){if(e.match(/^scene[0-9]*$/)){var t=e.substr(5);return"1"===t&&(t=""),c+t}},n.updateFx=function(e){for(var t=e._fullLayout,n=t._subplots[u],r=0;r<n.length;r++)t[n[r]]._scene.updateFx(t.dragmode,t.hovermode)}},{"../../components/fx/layout_attributes":435,"../../constants/xmlns_namespaces":503,"../../lib":524,"../../plot_api/edit_types":554,"../get_data":602,"./layout/attributes":604,"./layout/defaults":608,"./layout/layout_attributes":609,"./scene":613}],604:[function(e,t,n){"use strict";t.exports={scene:{valType:"subplotid",dflt:"scene",editType:"calc+clearAxisTypes"}}},{}],605:[function(e,t,n){"use strict";var r=e("../../../components/color"),i=e("../../cartesian/layout_attributes"),a=e("../../../lib/extend").extendFlat,o=e("../../../plot_api/edit_types").overrideAll;t.exports=o({visible:i.visible,showspikes:{valType:"boolean",dflt:!0},spikesides:{valType:"boolean",dflt:!0},spikethickness:{valType:"number",min:0,dflt:2},spikecolor:{valType:"color",dflt:r.defaultLine},showbackground:{valType:"boolean",dflt:!1},backgroundcolor:{valType:"color",dflt:"rgba(204, 204, 204, 0.5)"},showaxeslabels:{valType:"boolean",dflt:!0},color:i.color,categoryorder:i.categoryorder,categoryarray:i.categoryarray,title:{text:i.title.text,font:i.title.font},type:a({},i.type,{values:["-","linear","log","date","category"]}),autotypenumbers:i.autotypenumbers,autorange:i.autorange,rangemode:i.rangemode,range:a({},i.range,{items:[{valType:"any",editType:"plot",impliedEdits:{"^autorange":!1}},{valType:"any",editType:"plot",impliedEdits:{"^autorange":!1}}],anim:!1}),tickmode:i.tickmode,nticks:i.nticks,tick0:i.tick0,dtick:i.dtick,tickvals:i.tickvals,ticktext:i.ticktext,ticks:i.ticks,mirror:i.mirror,ticklen:i.ticklen,tickwidth:i.tickwidth,tickcolor:i.tickcolor,showticklabels:i.showticklabels,tickfont:i.tickfont,tickangle:i.tickangle,tickprefix:i.tickprefix,showtickprefix:i.showtickprefix,ticksuffix:i.ticksuffix,showticksuffix:i.showticksuffix,showexponent:i.showexponent,exponentformat:i.exponentformat,minexponent:i.minexponent,separatethousands:i.separatethousands,tickformat:i.tickformat,tickformatstops:i.tickformatstops,hoverformat:i.hoverformat,showline:i.showline,linecolor:i.linecolor,linewidth:i.linewidth,showgrid:i.showgrid,gridcolor:a({},i.gridcolor,{dflt:"rgb(204, 204, 204)"}),gridwidth:i.gridwidth,zeroline:i.zeroline,zerolinecolor:i.zerolinecolor,zerolinewidth:i.zerolinewidth,_deprecated:{title:i._deprecated.title,titlefont:i._deprecated.titlefont}},"plot","from-root")},{"../../../components/color":394,"../../../lib/extend":517,"../../../plot_api/edit_types":554,"../../cartesian/layout_attributes":586}],606:[function(e,t,n){"use strict";var r=e("tinycolor2").mix,i=e("../../../lib"),a=e("../../../plot_api/plot_template"),o=e("./axis_attributes"),s=e("../../cartesian/type_defaults"),l=e("../../cartesian/axis_defaults"),u=["xaxis","yaxis","zaxis"],c=13600/187;t.exports=function(e,t,n){var f,d;function h(e,t){return i.coerce(f,d,o,e,t)}for(var p=0;p<u.length;p++){var g=u[p];f=e[g]||{},(d=a.newContainer(t,g))._id=g[0]+n.scene,d._name=g,s(f,d,h,n),l(f,d,h,{font:n.font,letter:g[0],data:n.data,showGrid:!0,noTickson:!0,noTicklabelmode:!0,noTicklabelposition:!0,bgColor:n.bgColor,calendar:n.calendar},n.fullLayout),h("gridcolor",r(d.color,n.bgColor,c).toRgbString()),h("title.text",g[0]),d.setScale=i.noop,h("showspikes")&&(h("spikesides"),h("spikethickness"),h("spikecolor",d.color)),h("showaxeslabels"),h("showbackground")&&h("backgroundcolor")}}},{"../../../lib":524,"../../../plot_api/plot_template":561,"../../cartesian/axis_defaults":574,"../../cartesian/type_defaults":597,"./axis_attributes":605,tinycolor2:360}],607:[function(e,t,n){"use strict";var r=e("../../../lib/str2rgbarray"),i=e("../../../lib"),a=["xaxis","yaxis","zaxis"];function o(){this.bounds=[[-10,-10,-10],[10,10,10]],this.ticks=[[],[],[]],this.tickEnable=[!0,!0,!0],this.tickFont=["sans-serif","sans-serif","sans-serif"],this.tickSize=[12,12,12],this.tickAngle=[0,0,0],this.tickColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.tickPad=[18,18,18],this.labels=["x","y","z"],this.labelEnable=[!0,!0,!0],this.labelFont=["Open Sans","Open Sans","Open Sans"],this.labelSize=[20,20,20],this.labelColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.labelPad=[30,30,30],this.lineEnable=[!0,!0,!0],this.lineMirror=[!1,!1,!1],this.lineWidth=[1,1,1],this.lineColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.lineTickEnable=[!0,!0,!0],this.lineTickMirror=[!1,!1,!1],this.lineTickLength=[10,10,10],this.lineTickWidth=[1,1,1],this.lineTickColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.gridEnable=[!0,!0,!0],this.gridWidth=[1,1,1],this.gridColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.zeroEnable=[!0,!0,!0],this.zeroLineColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.zeroLineWidth=[2,2,2],this.backgroundEnable=[!0,!0,!0],this.backgroundColor=[[.8,.8,.8,.5],[.8,.8,.8,.5],[.8,.8,.8,.5]],this._defaultTickPad=this.tickPad.slice(),this._defaultLabelPad=this.labelPad.slice(),this._defaultLineTickLength=this.lineTickLength.slice()}function s(e,t){var n=new o;return n.merge(e,t),n}o.prototype.merge=function(e,t){for(var n=this,o=0;o<3;++o){var s=t[a[o]];s.visible?(n.labels[o]=e._meta?i.templateString(s.title.text,e._meta):s.title.text,"font"in s.title&&(s.title.font.color&&(n.labelColor[o]=r(s.title.font.color)),s.title.font.family&&(n.labelFont[o]=s.title.font.family),s.title.font.size&&(n.labelSize[o]=s.title.font.size)),"showline"in s&&(n.lineEnable[o]=s.showline),"linecolor"in s&&(n.lineColor[o]=r(s.linecolor)),"linewidth"in s&&(n.lineWidth[o]=s.linewidth),"showgrid"in s&&(n.gridEnable[o]=s.showgrid),"gridcolor"in s&&(n.gridColor[o]=r(s.gridcolor)),"gridwidth"in s&&(n.gridWidth[o]=s.gridwidth),"log"===s.type?n.zeroEnable[o]=!1:"zeroline"in s&&(n.zeroEnable[o]=s.zeroline),"zerolinecolor"in s&&(n.zeroLineColor[o]=r(s.zerolinecolor)),"zerolinewidth"in s&&(n.zeroLineWidth[o]=s.zerolinewidth),"ticks"in s&&s.ticks?n.lineTickEnable[o]=!0:n.lineTickEnable[o]=!1,"ticklen"in s&&(n.lineTickLength[o]=n._defaultLineTickLength[o]=s.ticklen),"tickcolor"in s&&(n.lineTickColor[o]=r(s.tickcolor)),"tickwidth"in s&&(n.lineTickWidth[o]=s.tickwidth),"tickangle"in s&&(n.tickAngle[o]="auto"===s.tickangle?-3600:Math.PI*-s.tickangle/180),"showticklabels"in s&&(n.tickEnable[o]=s.showticklabels),"tickfont"in s&&(s.tickfont.color&&(n.tickColor[o]=r(s.tickfont.color)),s.tickfont.family&&(n.tickFont[o]=s.tickfont.family),s.tickfont.size&&(n.tickSize[o]=s.tickfont.size)),"mirror"in s?-1!==["ticks","all","allticks"].indexOf(s.mirror)?(n.lineTickMirror[o]=!0,n.lineMirror[o]=!0):!0===s.mirror?(n.lineTickMirror[o]=!1,n.lineMirror[o]=!0):(n.lineTickMirror[o]=!1,n.lineMirror[o]=!1):n.lineMirror[o]=!1,"showbackground"in s&&!1!==s.showbackground?(n.backgroundEnable[o]=!0,n.backgroundColor[o]=r(s.backgroundcolor)):n.backgroundEnable[o]=!1):(n.tickEnable[o]=!1,n.labelEnable[o]=!1,n.lineEnable[o]=!1,n.lineTickEnable[o]=!1,n.gridEnable[o]=!1,n.zeroEnable[o]=!1,n.backgroundEnable[o]=!1)}},t.exports=s},{"../../../lib":524,"../../../lib/str2rgbarray":547}],608:[function(e,t,n){"use strict";var r=e("../../../lib"),i=e("../../../components/color"),a=e("../../../registry"),o=e("../../subplot_defaults"),s=e("./axis_defaults"),l=e("./layout_attributes"),u=e("../../get_data").getSubplotData,c="gl3d";function f(e,t,n,r){for(var o=n("bgcolor"),l=i.combine(o,r.paper_bgcolor),f=["up","center","eye"],d=0;d<f.length;d++)n("camera."+f[d]+".x"),n("camera."+f[d]+".y"),n("camera."+f[d]+".z");n("camera.projection.type");var h=!!n("aspectratio.x")&&!!n("aspectratio.y")&&!!n("aspectratio.z"),p=n("aspectmode",h?"manual":"auto");h||(e.aspectratio=t.aspectratio={x:1,y:1,z:1},"manual"===p&&(t.aspectmode="auto"),e.aspectmode=t.aspectmode);var g=u(r.fullData,c,r.id);s(e,t,{font:r.font,scene:r.id,data:g,bgColor:l,calendar:r.calendar,autotypenumbersDflt:r.autotypenumbersDflt,fullLayout:r.fullLayout}),a.getComponentMethod("annotations3d","handleDefaults")(e,t,r);var v=r.getDfltFromLayout("dragmode");if(!1!==v&&!v)if(v="orbit",e.camera&&e.camera.up){var m=e.camera.up.x,y=e.camera.up.y,b=e.camera.up.z;0!==b&&(m&&y&&b?b/Math.sqrt(m*m+y*y+b*b)>.999&&(v="turntable"):v="turntable")}else v="turntable";n("dragmode",v),n("hovermode",r.getDfltFromLayout("hovermode"))}t.exports=function(e,t,n){var i=t._basePlotModules.length>1;function a(t){if(!i)return r.validate(e[t],l[t])?e[t]:void 0}o(e,t,n,{type:c,attributes:l,handleDefaults:f,fullLayout:t,font:t.font,fullData:n,getDfltFromLayout:a,autotypenumbersDflt:t.autotypenumbers,paper_bgcolor:t.paper_bgcolor,calendar:t.calendar})}},{"../../../components/color":394,"../../../lib":524,"../../../registry":626,"../../get_data":602,"../../subplot_defaults":624,"./axis_defaults":606,"./layout_attributes":609}],609:[function(e,t,n){"use strict";var r=e("./axis_attributes"),i=e("../../domain").attributes,a=e("../../../lib/extend").extendFlat,o=e("../../../lib").counterRegex;function s(e,t,n){return{x:{valType:"number",dflt:e,editType:"camera"},y:{valType:"number",dflt:t,editType:"camera"},z:{valType:"number",dflt:n,editType:"camera"},editType:"camera"}}t.exports={_arrayAttrRegexps:[o("scene",".annotations",!0)],bgcolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"plot"},camera:{up:a(s(0,0,1),{}),center:a(s(0,0,0),{}),eye:a(s(1.25,1.25,1.25),{}),projection:{type:{valType:"enumerated",values:["perspective","orthographic"],dflt:"perspective",editType:"calc"},editType:"calc"},editType:"camera"},domain:i({name:"scene",editType:"plot"}),aspectmode:{valType:"enumerated",values:["auto","cube","data","manual"],dflt:"auto",editType:"plot",impliedEdits:{"aspectratio.x":void 0,"aspectratio.y":void 0,"aspectratio.z":void 0}},aspectratio:{x:{valType:"number",min:0,editType:"plot",impliedEdits:{"^aspectmode":"manual"}},y:{valType:"number",min:0,editType:"plot",impliedEdits:{"^aspectmode":"manual"}},z:{valType:"number",min:0,editType:"plot",impliedEdits:{"^aspectmode":"manual"}},editType:"plot",impliedEdits:{aspectmode:"manual"}},xaxis:r,yaxis:r,zaxis:r,dragmode:{valType:"enumerated",values:["orbit","turntable","zoom","pan",!1],editType:"plot"},hovermode:{valType:"enumerated",values:["closest",!1],dflt:"closest",editType:"modebar"},uirevision:{valType:"any",editType:"none"},editType:"plot",_deprecated:{cameraposition:{valType:"info_array",editType:"camera"}}}},{"../../../lib":524,"../../../lib/extend":517,"../../domain":599,"./axis_attributes":605}],610:[function(e,t,n){"use strict";var r=e("../../../lib/str2rgbarray"),i=["xaxis","yaxis","zaxis"];function a(){this.enabled=[!0,!0,!0],this.colors=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.drawSides=[!0,!0,!0],this.lineWidth=[1,1,1]}function o(e){var t=new a;return t.merge(e),t}a.prototype.merge=function(e){for(var t=0;t<3;++t){var n=e[i[t]];n.visible?(this.enabled[t]=n.showspikes,this.colors[t]=r(n.spikecolor),this.drawSides[t]=n.spikesides,this.lineWidth[t]=n.spikethickness):(this.enabled[t]=!1,this.drawSides[t]=!1)}},t.exports=o},{"../../../lib/str2rgbarray":547}],611:[function(e,t,n){"use strict";t.exports=l;var r=e("../../cartesian/axes"),i=e("../../../lib"),a=["xaxis","yaxis","zaxis"],o=[0,0,0];function s(e){for(var t=new Array(3),n=0;n<3;++n){for(var r=e[n],i=new Array(r.length),a=0;a<r.length;++a)i[a]=r[a].x;t[n]=i}return t}function l(e){for(var t=e.axesOptions,n=e.glplot.axesPixels,l=e.fullSceneLayout,u=[[],[],[]],c=0;c<3;++c){var f=l[a[c]];if(f._length=(n[c].hi-n[c].lo)*n[c].pixelsPerDataUnit/e.dataScale[c],Math.abs(f._length)===1/0||isNaN(f._length))u[c]=[];else{f._input_range=f.range.slice(),f.range[0]=n[c].lo/e.dataScale[c],f.range[1]=n[c].hi/e.dataScale[c],f._m=1/(e.dataScale[c]*n[c].pixelsPerDataUnit),f.range[0]===f.range[1]&&(f.range[0]-=1,f.range[1]+=1);var d=f.tickmode;if("auto"===f.tickmode){f.tickmode="linear";var h=f.nticks||i.constrain(f._length/40,4,9);r.autoTicks(f,Math.abs(f.range[1]-f.range[0])/h)}for(var p=r.calcTicks(f,{msUTC:!0}),g=0;g<p.length;++g)p[g].x=p[g].x*e.dataScale[c],"date"===f.type&&(p[g].text=p[g].text.replace(/\<br\>/g," "));u[c]=p,f.tickmode=d}}for(t.ticks=u,c=0;c<3;++c)for(o[c]=.5*(e.glplot.bounds[0][c]+e.glplot.bounds[1][c]),g=0;g<2;++g)t.bounds[g][c]=e.glplot.bounds[g][c];e.contourLevels=s(u)}},{"../../../lib":524,"../../cartesian/axes":572}],612:[function(e,t,n){"use strict";function r(e,t){var n,r,i=[0,0,0,0];for(n=0;n<4;++n)for(r=0;r<4;++r)i[r]+=e[4*n+r]*t[n];return i}function i(e,t){return r(e.projection,r(e.view,r(e.model,[t[0],t[1],t[2],1])))}t.exports=i},{}],613:[function(e,t,n){"use strict";var r,i,a=e("gl-plot3d"),o=a.createCamera,s=a.createScene,l=e("webgl-context"),u=e("has-passive-events"),c=e("../../registry"),f=e("../../lib"),d=f.preserveDrawingBuffer(),h=e("../../plots/cartesian/axes"),p=e("../../components/fx"),g=e("../../lib/str2rgbarray"),v=e("../../lib/show_no_webgl_msg"),m=e("./project"),y=e("./layout/convert"),b=e("./layout/spikes"),x=e("./layout/tick_marks");function _(e,t){var n=document.createElement("div"),r=e.container;this.graphDiv=e.graphDiv;var i=document.createElementNS("http://www.w3.org/2000/svg","svg");i.style.position="absolute",i.style.top=i.style.left="0px",i.style.width=i.style.height="100%",i.style["z-index"]=20,i.style["pointer-events"]="none",n.appendChild(i),this.svgContainer=i,n.id=e.id,n.style.position="absolute",n.style.top=n.style.left="0px",n.style.width=n.style.height="100%",r.appendChild(n),this.fullLayout=t,this.id=e.id||"scene",this.fullSceneLayout=t[this.id],this.plotArgs=[[],{},{}],this.axesOptions=y(t,t[this.id]),this.spikeOptions=b(t[this.id]),this.container=n,this.staticMode=!!e.staticPlot,this.pixelRatio=this.pixelRatio||e.plotGlPixelRatio||2,this.dataScale=[1,1,1],this.contourLevels=[[],[],[]],this.convertAnnotations=c.getComponentMethod("annotations3d","convert"),this.drawAnnotations=c.getComponentMethod("annotations3d","draw"),this.initializeGLPlot()}var w=_.prototype;w.prepareOptions=function(){var e=this,t={canvas:e.canvas,gl:e.gl,glOptions:{preserveDrawingBuffer:d,premultipliedAlpha:!0,antialias:!0},container:e.container,axes:e.axesOptions,spikes:e.spikeOptions,pickRadius:10,snapToData:!0,autoScale:!0,autoBounds:!1,cameraObject:e.camera,pixelRatio:e.pixelRatio};if(e.staticMode){if(!i&&(r=document.createElement("canvas"),!(i=l({canvas:r,preserveDrawingBuffer:!0,premultipliedAlpha:!0,antialias:!0}))))throw new Error("error creating static canvas/context for image server");t.gl=i,t.canvas=r}return t};var k=!0;w.tryCreatePlot=function(){var e=this,t=e.prepareOptions(),n=!0;try{e.glplot=s(t)}catch(r){if(e.staticMode||!k||d)n=!1;else{f.warn(["webgl setup failed possibly due to","false preserveDrawingBuffer config.","The mobile/tablet device may not be detected by is-mobile module.","Enabling preserveDrawingBuffer in second attempt to create webgl scene..."].join(" "));try{d=t.glOptions.preserveDrawingBuffer=!0,e.glplot=s(t)}catch(r){d=t.glOptions.preserveDrawingBuffer=!1,n=!1}}}return k=!1,n},w.initializeGLCamera=function(){var e=this,t=e.fullSceneLayout.camera,n="orthographic"===t.projection.type;e.camera=o(e.container,{center:[t.center.x,t.center.y,t.center.z],eye:[t.eye.x,t.eye.y,t.eye.z],up:[t.up.x,t.up.y,t.up.z],_ortho:n,zoomMin:.01,zoomMax:100,mode:"orbit"})},w.initializeGLPlot=function(){var e=this;if(e.initializeGLCamera(),!e.tryCreatePlot())return v(e);e.traces={},e.make4thDimension();var t=e.graphDiv,n=t.layout,r=function(){var t={};return e.isCameraChanged(n)&&(t[e.id+".camera"]=e.getCamera()),e.isAspectChanged(n)&&(t[e.id+".aspectratio"]=e.glplot.getAspectratio(),"manual"!==n[e.id].aspectmode&&(e.fullSceneLayout.aspectmode=n[e.id].aspectmode=t[e.id+".aspectmode"]="manual")),t},i=function(e){if(!1!==e.fullSceneLayout.dragmode){var t=r();e.saveLayout(n),e.graphDiv.emit("plotly_relayout",t)}};return e.glplot.canvas&&(e.glplot.canvas.addEventListener("mouseup",(function(){i(e)})),e.glplot.canvas.addEventListener("wheel",(function(n){if(t._context._scrollZoom.gl3d){if(e.camera._ortho){var r=n.deltaX>n.deltaY?1.1:1/1.1,a=e.glplot.getAspectratio();e.glplot.setAspectratio({x:r*a.x,y:r*a.y,z:r*a.z})}i(e)}}),!!u&&{passive:!1}),e.glplot.canvas.addEventListener("mousemove",(function(){if(!1!==e.fullSceneLayout.dragmode&&0!==e.camera.mouseListener.buttons){var t=r();e.graphDiv.emit("plotly_relayouting",t)}})),e.staticMode||e.glplot.canvas.addEventListener("webglcontextlost",(function(n){t&&t.emit&&t.emit("plotly_webglcontextlost",{event:n,layer:e.id})}),!1)),e.glplot.oncontextloss=function(){e.recoverContext()},e.glplot.onrender=function(){e.render()},!0},w.render=function(){var e,t=this,n=t.graphDiv,r=t.svgContainer,i=t.container.getBoundingClientRect();n._fullLayout._calcInverseTransform(n);var a=n._fullLayout._invScaleX,o=n._fullLayout._invScaleY,s=i.width*a,l=i.height*o;r.setAttributeNS(null,"viewBox","0 0 "+s+" "+l),r.setAttributeNS(null,"width",s),r.setAttributeNS(null,"height",l),x(t),t.glplot.axes.update(t.axesOptions);for(var u,c=Object.keys(t.traces),d=null,g=t.glplot.selection,v=0;v<c.length;++v)"skip"!==(e=t.traces[c[v]]).data.hoverinfo&&e.handlePick(g)&&(d=e),e.setContourLevels&&e.setContourLevels();function y(e,n){var r=t.fullSceneLayout[e];return h.tickText(r,r.d2l(n),"hover").text}if(null!==d){var b=m(t.glplot.cameraParams,g.dataCoordinate);e=d.data;var _,w=n._fullData[e.index],k=g.index,M={xLabel:y("xaxis",g.traceCoordinate[0]),yLabel:y("yaxis",g.traceCoordinate[1]),zLabel:y("zaxis",g.traceCoordinate[2])},T=p.castHoverinfo(w,t.fullLayout,k),A=(T||"").split("+"),E=T&&"all"===T;w.hovertemplate||E||(-1===A.indexOf("x")&&(M.xLabel=void 0),-1===A.indexOf("y")&&(M.yLabel=void 0),-1===A.indexOf("z")&&(M.zLabel=void 0),-1===A.indexOf("text")&&(g.textLabel=void 0),-1===A.indexOf("name")&&(d.name=void 0));var S=[];"cone"===e.type||"streamtube"===e.type?(M.uLabel=y("xaxis",g.traceCoordinate[3]),(E||-1!==A.indexOf("u"))&&S.push("u: "+M.uLabel),M.vLabel=y("yaxis",g.traceCoordinate[4]),(E||-1!==A.indexOf("v"))&&S.push("v: "+M.vLabel),M.wLabel=y("zaxis",g.traceCoordinate[5]),(E||-1!==A.indexOf("w"))&&S.push("w: "+M.wLabel),M.normLabel=g.traceCoordinate[6].toPrecision(3),(E||-1!==A.indexOf("norm"))&&S.push("norm: "+M.normLabel),"streamtube"===e.type&&(M.divergenceLabel=g.traceCoordinate[7].toPrecision(3),(E||-1!==A.indexOf("divergence"))&&S.push("divergence: "+M.divergenceLabel)),g.textLabel&&S.push(g.textLabel),_=S.join("<br>")):"isosurface"===e.type||"volume"===e.type?(M.valueLabel=h.tickText(t._mockAxis,t._mockAxis.d2l(g.traceCoordinate[3]),"hover").text,S.push("value: "+M.valueLabel),g.textLabel&&S.push(g.textLabel),_=S.join("<br>")):_=g.textLabel;var O={x:g.traceCoordinate[0],y:g.traceCoordinate[1],z:g.traceCoordinate[2],data:w._input,fullData:w,curveNumber:w.index,pointNumber:k};p.appendArrayPointValue(O,w,k),e._module.eventData&&(O=w._module.eventData(O,g,w,{},k));var C={points:[O]};t.fullSceneLayout.hovermode&&p.loneHover({trace:w,x:(.5+.5*b[0]/b[3])*s,y:(.5-.5*b[1]/b[3])*l,xLabel:M.xLabel,yLabel:M.yLabel,zLabel:M.zLabel,text:_,name:d.name,color:p.castHoverOption(w,k,"bgcolor")||d.color,borderColor:p.castHoverOption(w,k,"bordercolor"),fontFamily:p.castHoverOption(w,k,"font.family"),fontSize:p.castHoverOption(w,k,"font.size"),fontColor:p.castHoverOption(w,k,"font.color"),nameLength:p.castHoverOption(w,k,"namelength"),textAlign:p.castHoverOption(w,k,"align"),hovertemplate:f.castOption(w,k,"hovertemplate"),hovertemplateLabels:f.extendFlat({},O,M),eventData:[O]},{container:r,gd:n}),g.buttons&&g.distance<5?n.emit("plotly_click",C):n.emit("plotly_hover",C),u=C}else p.loneUnhover(r),n.emit("plotly_unhover",u);t.drawAnnotations(t)},w.recoverContext=function(){var e=this;e.glplot.dispose();var t=function t(){e.glplot.gl.isContextLost()?requestAnimationFrame(t):e.initializeGLPlot()?e.plot.apply(e,e.plotArgs):f.error("Catastrophic and unrecoverable WebGL error. Context lost.")};requestAnimationFrame(t)};var M=["xaxis","yaxis","zaxis"];function T(e,t,n){for(var r=e.fullSceneLayout,i=0;i<3;i++){var a=M[i],o=a.charAt(0),s=r[a],l=t[o],u=t[o+"calendar"],c=t["_"+o+"length"];if(f.isArrayOrTypedArray(l))for(var d,h=0;h<(c||l.length);h++)if(f.isArrayOrTypedArray(l[h]))for(var p=0;p<l[h].length;++p)d=s.d2l(l[h][p],0,u),!isNaN(d)&&isFinite(d)&&(n[0][i]=Math.min(n[0][i],d),n[1][i]=Math.max(n[1][i],d));else d=s.d2l(l[h],0,u),!isNaN(d)&&isFinite(d)&&(n[0][i]=Math.min(n[0][i],d),n[1][i]=Math.max(n[1][i],d));else n[0][i]=Math.min(n[0][i],0),n[1][i]=Math.max(n[1][i],c-1)}}function A(e,t){for(var n=e.fullSceneLayout,r=n.annotations||[],i=0;i<3;i++)for(var a=M[i],o=a.charAt(0),s=n[a],l=0;l<r.length;l++){var u=r[l];if(u.visible){var c=s.r2l(u[o]);!isNaN(c)&&isFinite(c)&&(t[0][i]=Math.min(t[0][i],c),t[1][i]=Math.max(t[1][i],c))}}}function E(e){return[[e.eye.x,e.eye.y,e.eye.z],[e.center.x,e.center.y,e.center.z],[e.up.x,e.up.y,e.up.z]]}function S(e){return{up:{x:e.up[0],y:e.up[1],z:e.up[2]},center:{x:e.center[0],y:e.center[1],z:e.center[2]},eye:{x:e.eye[0],y:e.eye[1],z:e.eye[2]},projection:{type:!0===e._ortho?"orthographic":"perspective"}}}function O(e,t,n){for(var r=0,i=n-1;r<i;++r,--i)for(var a=0;a<t;++a)for(var o=0;o<4;++o){var s=4*(t*r+a)+o,l=4*(t*i+a)+o,u=e[s];e[s]=e[l],e[l]=u}}function C(e,t,n){for(var r=0;r<n;++r)for(var i=0;i<t;++i){var a=4*(t*r+i),o=e[a+3];if(o>0)for(var s=255/o,l=0;l<3;++l)e[a+l]=Math.min(s*e[a+l],255)}}w.plot=function(e,t,n){var r=this;if(r.plotArgs=[e,t,n],!r.glplot.contextLost){var i,a,o,s,l,u,c=t[r.id],f=n[r.id];r.fullLayout=t,r.fullSceneLayout=c,r.axesOptions.merge(t,c),r.spikeOptions.merge(c),r.setViewport(c),r.updateFx(c.dragmode,c.hovermode),r.camera.enableWheel=r.graphDiv._context._scrollZoom.gl3d,r.glplot.setClearColor(g(c.bgcolor)),r.setConvert(l),e?Array.isArray(e)||(e=[e]):e=[];var d=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]];for(o=0;o<e.length;++o)!0===(i=e[o]).visible&&0!==i._length&&T(this,i,d);A(this,d);var h=[1,1,1];for(s=0;s<3;++s)d[1][s]===d[0][s]?h[s]=1:h[s]=1/(d[1][s]-d[0][s]);for(r.dataScale=h,r.convertAnnotations(this),o=0;o<e.length;++o)!0===(i=e[o]).visible&&0!==i._length&&((a=r.traces[i.uid])?a.data.type===i.type?a.update(i):(a.dispose(),a=i._module.plot(this,i),r.traces[i.uid]=a):(a=i._module.plot(this,i),r.traces[i.uid]=a),a.name=i.name);var p=Object.keys(r.traces);e:for(o=0;o<p.length;++o){for(s=0;s<e.length;++s)if(e[s].uid===p[o]&&!0===e[s].visible&&0!==e[s]._length)continue e;(a=r.traces[p[o]]).dispose(),delete r.traces[p[o]]}r.glplot.objects.sort((function(e,t){return e._trace.data.index-t._trace.data.index}));var v,m=[[0,0,0],[0,0,0]],y=[],b={};for(o=0;o<3;++o){if((u=(l=c[M[o]]).type)in b?(b[u].acc*=h[o],b[u].count+=1):b[u]={acc:h[o],count:1},l.autorange){m[0][o]=1/0,m[1][o]=-1/0;var x=r.glplot.objects,_=r.fullSceneLayout.annotations||[],w=l._name.charAt(0);for(s=0;s<x.length;s++){var k=x[s],E=k.bounds,S=k._trace.data._pad||0;"ErrorBars"===k.constructor.name&&l._lowerLogErrorBound?m[0][o]=Math.min(m[0][o],l._lowerLogErrorBound):m[0][o]=Math.min(m[0][o],E[0][o]/h[o]-S),m[1][o]=Math.max(m[1][o],E[1][o]/h[o]+S)}for(s=0;s<_.length;s++){var O=_[s];if(O.visible){var C=l.r2l(O[w]);m[0][o]=Math.min(m[0][o],C),m[1][o]=Math.max(m[1][o],C)}}if("rangemode"in l&&"tozero"===l.rangemode&&(m[0][o]=Math.min(m[0][o],0),m[1][o]=Math.max(m[1][o],0)),m[0][o]>m[1][o])m[0][o]=-1,m[1][o]=1;else{var L=m[1][o]-m[0][o];m[0][o]-=L/32,m[1][o]+=L/32}if("reversed"===l.autorange){var R=m[0][o];m[0][o]=m[1][o],m[1][o]=R}}else{var P=l.range;m[0][o]=l.r2l(P[0]),m[1][o]=l.r2l(P[1])}m[0][o]===m[1][o]&&(m[0][o]-=1,m[1][o]+=1),y[o]=m[1][o]-m[0][o],r.glplot.setBounds(o,{min:m[0][o]*h[o],max:m[1][o]*h[o]})}var j=c.aspectmode;if("cube"===j)v=[1,1,1];else if("manual"===j){var z=c.aspectratio;v=[z.x,z.y,z.z]}else{if("auto"!==j&&"data"!==j)throw new Error("scene.js aspectRatio was not one of the enumerated types");var I=[1,1,1];for(o=0;o<3;++o){var N=b[u=(l=c[M[o]]).type];I[o]=Math.pow(N.acc,1/N.count)/h[o]}v="data"===j||Math.max.apply(null,I)/Math.min.apply(null,I)<=4?I:[1,1,1]}c.aspectratio.x=f.aspectratio.x=v[0],c.aspectratio.y=f.aspectratio.y=v[1],c.aspectratio.z=f.aspectratio.z=v[2],r.glplot.setAspectratio(c.aspectratio),r.viewInitial.aspectratio||(r.viewInitial.aspectratio={x:c.aspectratio.x,y:c.aspectratio.y,z:c.aspectratio.z}),r.viewInitial.aspectmode||(r.viewInitial.aspectmode=c.aspectmode);var D=c.domain||null,F=t._size||null;if(D&&F){var B=r.container.style;B.position="absolute",B.left=F.l+D.x[0]*F.w+"px",B.top=F.t+(1-D.y[1])*F.h+"px",B.width=F.w*(D.x[1]-D.x[0])+"px",B.height=F.h*(D.y[1]-D.y[0])+"px"}r.glplot.redraw()}},w.destroy=function(){var e=this;e.glplot&&(e.camera.mouseListener.enabled=!1,e.container.removeEventListener("wheel",e.camera.wheelListener),e.camera=null,e.glplot.dispose(),e.container.parentNode.removeChild(e.container),e.glplot=null)},w.getCamera=function(){var e=this;return e.camera.view.recalcMatrix(e.camera.view.lastT()),S(e.camera)},w.setViewport=function(e){var t=this,n=e.camera;t.camera.lookAt.apply(this,E(n)),t.glplot.setAspectratio(e.aspectratio),"orthographic"===n.projection.type!==t.camera._ortho&&(t.glplot.redraw(),t.glplot.clearRGBA(),t.glplot.dispose(),t.initializeGLPlot())},w.isCameraChanged=function(e){var t=this,n=t.getCamera(),r=f.nestedProperty(e,t.id+".camera").get();function i(e,t,n,r){var i=["up","center","eye"],a=["x","y","z"];return t[i[n]]&&e[i[n]][a[r]]===t[i[n]][a[r]]}var a=!1;if(void 0===r)a=!0;else{for(var o=0;o<3;o++)for(var s=0;s<3;s++)if(!i(n,r,o,s)){a=!0;break}(!r.projection||n.projection&&n.projection.type!==r.projection.type)&&(a=!0)}return a},w.isAspectChanged=function(e){var t=this,n=t.glplot.getAspectratio(),r=f.nestedProperty(e,t.id+".aspectratio").get();return void 0===r||r.x!==n.x||r.y!==n.y||r.z!==n.z},w.saveLayout=function(e){var t,n,r,i,a,o,s=this,l=s.fullLayout,u=s.isCameraChanged(e),d=s.isAspectChanged(e),h=u||d;if(h){var p={};u&&(t=s.getCamera(),r=(n=f.nestedProperty(e,s.id+".camera")).get(),p[s.id+".camera"]=r),d&&(i=s.glplot.getAspectratio(),o=(a=f.nestedProperty(e,s.id+".aspectratio")).get(),p[s.id+".aspectratio"]=o),c.call("_storeDirectGUIEdit",e,l._preGUI,p),u&&(n.set(t),f.nestedProperty(l,s.id+".camera").set(t)),d&&(a.set(i),f.nestedProperty(l,s.id+".aspectratio").set(i),s.glplot.redraw())}return h},w.updateFx=function(e,t){var n=this,r=n.camera;if(r)if("orbit"===e)r.mode="orbit",r.keyBindingMode="rotate";else if("turntable"===e){r.up=[0,0,1],r.mode="turntable",r.keyBindingMode="rotate";var i=n.graphDiv,a=i._fullLayout,o=n.fullSceneLayout.camera,s=o.up.x,l=o.up.y,u=o.up.z;if(u/Math.sqrt(s*s+l*l+u*u)<.999){var d=n.id+".camera.up",h={x:0,y:0,z:1},p={};p[d]=h;var g=i.layout;c.call("_storeDirectGUIEdit",g,a._preGUI,p),o.up=h,f.nestedProperty(g,d).set(h)}}else r.keyBindingMode=e;n.fullSceneLayout.hovermode=t},w.toImage=function(e){var t=this;e||(e="png"),t.staticMode&&t.container.appendChild(r),t.glplot.redraw();var n=t.glplot.gl,i=n.drawingBufferWidth,a=n.drawingBufferHeight;n.bindFramebuffer(n.FRAMEBUFFER,null);var o=new Uint8Array(i*a*4);n.readPixels(0,0,i,a,n.RGBA,n.UNSIGNED_BYTE,o),O(o,i,a),C(o,i,a);var s=document.createElement("canvas");s.width=i,s.height=a;var l,u=s.getContext("2d"),c=u.createImageData(i,a);switch(c.data.set(o),u.putImageData(c,0,0),e){case"jpeg":l=s.toDataURL("image/jpeg");break;case"webp":l=s.toDataURL("image/webp");break;default:l=s.toDataURL("image/png")}return t.staticMode&&t.container.removeChild(r),l},w.setConvert=function(){for(var e=this,t=0;t<3;t++){var n=e.fullSceneLayout[M[t]];h.setConvert(n,e.fullLayout),n.setScale=f.noop}},w.make4thDimension=function(){var e=this,t=e.graphDiv._fullLayout;e._mockAxis={type:"linear",showexponent:"all",exponentformat:"B"},h.setConvert(e._mockAxis,t)},t.exports=_},{"../../components/fx":434,"../../lib":524,"../../lib/show_no_webgl_msg":545,"../../lib/str2rgbarray":547,"../../plots/cartesian/axes":572,"../../registry":626,"./layout/convert":607,"./layout/spikes":610,"./layout/tick_marks":611,"./project":612,"gl-plot3d":158,"has-passive-events":268,"webgl-context":375}],614:[function(e,t,n){"use strict";t.exports=function(e,t,n,r){r=r||e.length;for(var i=new Array(r),a=0;a<r;a++)i[a]=[e[a],t[a],n[a]];return i}},{}],615:[function(e,t,n){"use strict";var r=e("./font_attributes"),i=e("./animation_attributes"),a=e("../components/color/attributes"),o=e("../components/shapes/draw_newshape/attributes"),s=e("./pad_attributes"),l=e("../lib/extend").extendFlat,u=r({editType:"calc"});u.family.dflt='"Open Sans", verdana, arial, sans-serif',u.size.dflt=12,u.color.dflt=a.defaultLine,t.exports={font:u,title:{text:{valType:"string",editType:"layoutstyle"},font:r({editType:"layoutstyle"}),xref:{valType:"enumerated",dflt:"container",values:["container","paper"],editType:"layoutstyle"},yref:{valType:"enumerated",dflt:"container",values:["container","paper"],editType:"layoutstyle"},x:{valType:"number",min:0,max:1,dflt:.5,editType:"layoutstyle"},y:{valType:"number",min:0,max:1,dflt:"auto",editType:"layoutstyle"},xanchor:{valType:"enumerated",dflt:"auto",values:["auto","left","center","right"],editType:"layoutstyle"},yanchor:{valType:"enumerated",dflt:"auto",values:["auto","top","middle","bottom"],editType:"layoutstyle"},pad:l(s({editType:"layoutstyle"}),{}),editType:"layoutstyle"},uniformtext:{mode:{valType:"enumerated",values:[!1,"hide","show"],dflt:!1,editType:"plot"},minsize:{valType:"number",min:0,dflt:0,editType:"plot"},editType:"plot"},autosize:{valType:"boolean",dflt:!1,editType:"none"},width:{valType:"number",min:10,dflt:700,editType:"plot"},height:{valType:"number",min:10,dflt:450,editType:"plot"},margin:{l:{valType:"number",min:0,dflt:80,editType:"plot"},r:{valType:"number",min:0,dflt:80,editType:"plot"},t:{valType:"number",min:0,dflt:100,editType:"plot"},b:{valType:"number",min:0,dflt:80,editType:"plot"},pad:{valType:"number",min:0,dflt:0,editType:"plot"},autoexpand:{valType:"boolean",dflt:!0,editType:"plot"},editType:"plot"},computed:{valType:"any",editType:"none"},paper_bgcolor:{valType:"color",dflt:a.background,editType:"plot"},plot_bgcolor:{valType:"color",dflt:a.background,editType:"layoutstyle"},autotypenumbers:{valType:"enumerated",values:["convert types","strict"],dflt:"convert types",editType:"calc"},separators:{valType:"string",editType:"plot"},hidesources:{valType:"boolean",dflt:!1,editType:"plot"},showlegend:{valType:"boolean",editType:"legend"},colorway:{valType:"colorlist",dflt:a.defaults,editType:"calc"},datarevision:{valType:"any",editType:"calc"},uirevision:{valType:"any",editType:"none"},editrevision:{valType:"any",editType:"none"},selectionrevision:{valType:"any",editType:"none"},template:{valType:"any",editType:"calc"},modebar:{orientation:{valType:"enumerated",values:["v","h"],dflt:"h",editType:"modebar"},bgcolor:{valType:"color",editType:"modebar"},color:{valType:"color",editType:"modebar"},activecolor:{valType:"color",editType:"modebar"},uirevision:{valType:"any",editType:"none"},editType:"modebar"},newshape:o.newshape,activeshape:o.activeshape,meta:{valType:"any",arrayOk:!0,editType:"plot"},transition:l({},i.transition,{editType:"none"}),_deprecated:{title:{valType:"string",editType:"layoutstyle"},titlefont:r({editType:"layoutstyle"})}}},{"../components/color/attributes":393,"../components/shapes/draw_newshape/attributes":476,"../lib/extend":517,"./animation_attributes":566,"./font_attributes":600,"./pad_attributes":616}],616:[function(e,t,n){"use strict";t.exports=function(e){var t=e.editType;return{t:{valType:"number",dflt:0,editType:t},r:{valType:"number",dflt:0,editType:t},b:{valType:"number",dflt:0,editType:t},l:{valType:"number",dflt:0,editType:t},editType:t}}},{}],617:[function(e,t,n){"use strict";var r=e("d3"),i=e("d3-time-format").timeFormatLocale,a=e("fast-isnumeric"),o=e("../registry"),s=e("../plot_api/plot_schema"),l=e("../plot_api/plot_template"),u=e("../lib"),c=e("../components/color"),f=e("../constants/numerical").BADNUM,d=e("./cartesian/axis_ids"),h=e("./cartesian/handle_outline").clearSelect,p=e("./animation_attributes"),g=e("./frame_attributes"),v=e("../plots/get_data").getModuleCalcData,m=u.relinkPrivateKeys,y=u._,b=t.exports={};u.extendFlat(b,o),b.attributes=e("./attributes"),b.attributes.type.values=b.allTypes,b.fontAttrs=e("./font_attributes"),b.layoutAttributes=e("./layout_attributes"),b.fontWeight="normal";var x=b.transformsRegistry,_=e("./command");function w(e,t){t.text("");var n=t.append("a").attr({"xlink:xlink:href":"#",class:"link--impt link--embedview","font-weight":"bold"}).text(e._context.linkText+" "+String.fromCharCode(187));if(e._context.sendData)n.on("click",(function(){b.sendDataToCloud(e)}));else{var r=window.location.pathname.split("/"),i=window.location.search;n.attr({"xlink:xlink:show":"new","xlink:xlink:href":"/"+r[2].split(".")[0]+"/"+r[1]+i})}}b.executeAPICommand=_.executeAPICommand,b.computeAPICommandBindings=_.computeAPICommandBindings,b.manageCommandObserver=_.manageCommandObserver,b.hasSimpleAPICommandBindings=_.hasSimpleAPICommandBindings,b.redrawText=function(e){var t=(e=u.getGraphDiv(e))._fullLayout||{};if(t._has&&t._has("polar")||!e.data||!e.data[0]||!e.data[0].r)return new Promise((function(t){setTimeout((function(){o.getComponentMethod("annotations","draw")(e),o.getComponentMethod("legend","draw")(e),o.getComponentMethod("colorbar","draw")(e),t(b.previousPromises(e))}),300)}))},b.resize=function(e){var t;e=u.getGraphDiv(e);var n=new Promise((function(n,r){e&&!u.isHidden(e)||r(new Error("Resize must be passed a displayed plot div element.")),e._redrawTimer&&clearTimeout(e._redrawTimer),e._resolveResize&&(t=e._resolveResize),e._resolveResize=n,e._redrawTimer=setTimeout((function(){if(!e.layout||e.layout.width&&e.layout.height||u.isHidden(e))n(e);else{delete e.layout.width,delete e.layout.height;var t=e.changed;e.autoplay=!0,o.call("relayout",e,{autosize:!0}).then((function(){e.changed=t,e._resolveResize===n&&(delete e._resolveResize,n(e))}))}}),100)}));return t&&t(n),n},b.previousPromises=function(e){if((e._promises||[]).length)return Promise.all(e._promises).then((function(){e._promises=[]}))},b.addLinks=function(e){if(e._context.showLink||e._context.showSources){var t=e._fullLayout,n=u.ensureSingle(t._paper,"text","js-plot-link-container",(function(e){e.style({"font-family":'"Open Sans", Arial, sans-serif',"font-size":"12px",fill:c.defaultLine,"pointer-events":"all"}).each((function(){var e=r.select(this);e.append("tspan").classed("js-link-to-tool",!0),e.append("tspan").classed("js-link-spacer",!0),e.append("tspan").classed("js-sourcelinks",!0)}))})),i=n.node(),a={y:t._paper.attr("height")-9};document.body.contains(i)&&i.getComputedTextLength()>=t.width-20?(a["text-anchor"]="start",a.x=5):(a["text-anchor"]="end",a.x=t._paper.attr("width")-7),n.attr(a);var o=n.select(".js-link-to-tool"),s=n.select(".js-link-spacer"),l=n.select(".js-sourcelinks");e._context.showSources&&e._context.showSources(e),e._context.showLink&&w(e,o),s.text(o.text()&&l.text()?" - ":"")}},b.sendDataToCloud=function(e){var t=(window.PLOTLYENV||{}).BASE_URL||e._context.plotlyServerURL;if(t){e.emit("plotly_beforeexport");var n=r.select(e).append("div").attr("id","hiddenform").style("display","none"),i=n.append("form").attr({action:t+"/external",method:"post",target:"_blank"});return i.append("input").attr({type:"text",name:"data"}).node().value=b.graphJson(e,!1,"keepdata"),i.node().submit(),n.remove(),e.emit("plotly_afterexport"),!1}};var k=["days","shortDays","months","shortMonths","periods","dateTime","date","time","decimal","thousands","grouping","currency"],M=["year","month","dayMonth","dayMonthYear"];function T(e,t){var n,r,i=t.length,a=[];for(n=0;n<e.length;n++){var o=e[n]._fullInput;o!==r&&a.push(o),r=o}var s=a.length,l=new Array(i),c={};function f(e,t){l[t]=e,c[e]=1}function d(e,t){if(e&&"string"===typeof e&&!c[e])return f(e,t),!0}for(n=0;n<i;n++){var h=t[n].uid;"number"===typeof h&&(h=String(h)),d(h,n)||n<s&&d(a[n].uid,n)||f(u.randstr(c),n)}return l}function A(){var e,t,n=o.collectableSubplotTypes,r={};if(!n){n=[];var i=o.subplotsRegistry;for(var a in i){var s=i[a].attr;if(s&&(n.push(a),Array.isArray(s)))for(t=0;t<s.length;t++)u.pushUnique(n,s[t])}}for(e=0;e<n.length;e++)r[n[e]]=[];return r}function E(e,t){var n=e._context.locale;n||(n="en-US");var r=!1,i={};function a(e){for(var n=!0,a=0;a<t.length;a++){var o=t[a];i[o]||(e[o]?i[o]=e[o]:n=!1)}n&&(r=!0)}for(var s=0;s<2;s++){for(var l=e._context.locales,u=0;u<2;u++){var c=(l[n]||{}).format;if(c&&(a(c),r))break;l=o.localeRegistry}var f=n.split("-")[0];if(r||f===n)break;n=f}return r||a(o.localeRegistry.en.format),i}function S(e,t){return e.decimal=t.charAt(0),e.thousands=t.charAt(1),{numberFormat:r.locale(e).numberFormat,timeFormat:i(e).utcFormat}}function O(e,t){var n,r=[];t.meta&&(n=t._meta={meta:t.meta,layout:{meta:t.meta}});for(var i=0;i<e.length;i++){var a=e[i];a.meta?r[a.index]=a._meta={meta:a.meta}:t.meta&&(a._meta={meta:t.meta}),t.meta&&(a._meta.layout={meta:t.meta})}r.length&&(n||(n=t._meta={}),n.data=r)}function C(e,t){var n={_fullLayout:t},r="x"===e._id.charAt(0),i=e._mainAxis._anchorAxis,a="",o="",s="";if(i&&(s=i._mainAxis._id,a=r?e._id+s:s+e._id),!a||!t._plots[a]){a="";for(var l=e._counterAxes,u=0;u<l.length;u++){var c=l[u],f=r?e._id+c:c+e._id;o||(o=f);var h=d.getFromId(n,c);if(s&&h.overlaying===s){a=f;break}}}return a||o}function L(e){var t=e.transforms;if(Array.isArray(t)&&t.length)for(var n=0;n<t.length;n++){var r=t[n],i=r._module||x[r.type];if(i&&i.makesData)return!0}return!1}function R(e,t,n,r){for(var i=e.transforms,a=[e],o=0;o<i.length;o++){var s=i[o],l=x[s.type];l&&l.transform&&(a=l.transform(a,{transform:s,fullTrace:e,fullData:t,layout:n,fullLayout:r,transformIndex:o}))}return a}function P(e){return"string"===typeof e&&"px"===e.substr(e.length-2)&&parseFloat(e)}function j(e){var t=e.margin;if(!e._size){var n=e._size={l:Math.round(t.l),r:Math.round(t.r),t:Math.round(t.t),b:Math.round(t.b),p:Math.round(t.pad)};n.w=Math.round(e.width)-n.l-n.r,n.h=Math.round(e.height)-n.t-n.b}e._pushmargin||(e._pushmargin={}),e._pushmarginIds||(e._pushmarginIds={})}b.supplyDefaults=function(e,t){var n=t&&t.skipUpdateCalc,r=e._fullLayout||{};if(r._skipDefaults)delete r._skipDefaults;else{var i,a=e._fullLayout={},s=e.layout||{},l=e._fullData||[],c=e._fullData=[],f=e.data||[],d=e.calcdata||[],p=e._context||{};e._transitionData||b.createTransitionData(e),a._dfltTitle={plot:y(e,"Click to enter Plot title"),x:y(e,"Click to enter X axis title"),y:y(e,"Click to enter Y axis title"),colorbar:y(e,"Click to enter Colorscale title"),annotation:y(e,"new text")},a._traceWord=y(e,"trace");var g=E(e,k);if(a._mapboxAccessToken=p.mapboxAccessToken,r._initialAutoSizeIsDone){var v=r.width,x=r.height;b.supplyLayoutGlobalDefaults(s,a,g),s.width||(a.width=v),s.height||(a.height=x),b.sanitizeMargins(a)}else{b.supplyLayoutGlobalDefaults(s,a,g);var _=!s.width||!s.height,w=a.autosize,C=p.autosizable;_&&(w||C)?b.plotAutoSize(e,s,a):_&&b.sanitizeMargins(a),!w&&_&&(s.width=a.width,s.height=a.height)}a._d3locale=S(g,a.separators),a._extraFormat=E(e,M),a._initialAutoSizeIsDone=!0,a._dataLength=f.length,a._modules=[],a._visibleModules=[],a._basePlotModules=[];var L=a._subplots=A(),R=a._splomAxes={x:{},y:{}},P=a._splomSubplots={};a._splomGridDflt={},a._scatterStackOpts={},a._firstScatter={},a._alignmentOpts={},a._colorAxes={},a._requestRangeslider={},a._traceUids=T(l,f),a._globalTransforms=(e._context||{}).globalTransforms,b.supplyDataDefaults(f,c,s,a);var z=Object.keys(R.x),I=Object.keys(R.y);if(z.length>1&&I.length>1){for(o.getComponentMethod("grid","sizeDefaults")(s,a),i=0;i<z.length;i++)u.pushUnique(L.xaxis,z[i]);for(i=0;i<I.length;i++)u.pushUnique(L.yaxis,I[i]);for(var N in P)u.pushUnique(L.cartesian,N)}if(a._has=b._hasPlotType.bind(a),l.length===c.length)for(i=0;i<c.length;i++)m(c[i],l[i]);b.supplyLayoutModuleDefaults(s,a,c,e._transitionData);var D=a._visibleModules,F=[];for(i=0;i<D.length;i++){var B=D[i].crossTraceDefaults;B&&u.pushUnique(F,B)}for(i=0;i<F.length;i++)F[i](c,a);a._hasOnlyLargeSploms=1===a._basePlotModules.length&&"splom"===a._basePlotModules[0].name&&z.length>15&&I.length>15&&0===a.shapes.length&&0===a.images.length,a._hasCartesian=a._has("cartesian"),a._hasGeo=a._has("geo"),a._hasGL3D=a._has("gl3d"),a._hasGL2D=a._has("gl2d"),a._hasTernary=a._has("ternary"),a._hasPie=a._has("pie"),b.linkSubplots(c,a,l,r),b.cleanPlot(c,a,l,r);var U=!(!r._has||!r._has("gl2d")),V=!(!a._has||!a._has("gl2d")),H=!(!r._has||!r._has("cartesian"))||U,q=!(!a._has||!a._has("cartesian"))||V;H&&!q?r._bgLayer.remove():q&&!H&&(a._shouldCreateBgLayer=!0),r._zoomlayer&&!e._dragging&&h({_fullLayout:r}),O(c,a),m(a,r),o.getComponentMethod("colorscale","crossTraceDefaults")(c,a),a._preGUI||(a._preGUI={}),a._tracePreGUI||(a._tracePreGUI={});var W,G=a._tracePreGUI,X={};for(W in G)X[W]="old";for(i=0;i<c.length;i++)X[W=c[i]._fullInput.uid]||(G[W]={}),X[W]="new";for(W in X)"old"===X[W]&&delete G[W];j(a),o.getComponentMethod("rangeslider","makeData")(a),n||d.length!==c.length||b.supplyDefaultsUpdateCalc(d,c)}},b.supplyDefaultsUpdateCalc=function(e,t){for(var n=0;n<t.length;n++){var r=t[n],i=(e[n]||[])[0];if(i&&i.trace){var a=i.trace;if(a._hasCalcTransform){var o,s,l,c=a._arrayAttrs;for(o=0;o<c.length;o++)s=c[o],l=u.nestedProperty(a,s).get().slice(),u.nestedProperty(r,s).set(l)}i.trace=r}}},b.createTransitionData=function(e){e._transitionData||(e._transitionData={}),e._transitionData._frames||(e._transitionData._frames=[]),e._transitionData._frameHash||(e._transitionData._frameHash={}),e._transitionData._counter||(e._transitionData._counter=0),e._transitionData._interruptCallbacks||(e._transitionData._interruptCallbacks=[])},b._hasPlotType=function(e){var t,n=this._basePlotModules||[];for(t=0;t<n.length;t++)if(n[t].name===e)return!0;var r=this._modules||[];for(t=0;t<r.length;t++){var i=r[t].name;if(i===e)return!0;var a=o.modules[i];if(a&&a.categories[e])return!0}return!1},b.cleanPlot=function(e,t,n,r){var i,a,o=r._basePlotModules||[];for(i=0;i<o.length;i++){var s=o[i];s.clean&&s.clean(e,t,n,r)}var l=r._has&&r._has("gl"),u=t._has&&t._has("gl");l&&!u&&void 0!==r._glcontainer&&(r._glcontainer.selectAll(".gl-canvas").remove(),r._glcontainer.selectAll(".no-webgl").remove(),r._glcanvas=null);var c=!!r._infolayer;e:for(i=0;i<n.length;i++){var f=n[i].uid;for(a=0;a<e.length;a++)if(f===e[a].uid)continue e;c&&r._infolayer.select(".cb"+f).remove()}},b.linkSubplots=function(e,t,n,r){var i,a,s=r._plots||{},l=t._plots={},c=t._subplots,f={_fullData:e,_fullLayout:t},h=c.cartesian.concat(c.gl2d||[]);for(i=0;i<h.length;i++){var p,g=h[i],v=s[g],m=d.getFromId(f,g,"x"),y=d.getFromId(f,g,"y");for(v?p=l[g]=v:(p=l[g]={}).id=g,m._counterAxes.push(y._id),y._counterAxes.push(m._id),m._subplotsWith.push(g),y._subplotsWith.push(g),p.xaxis=m,p.yaxis=y,p._hasClipOnAxisFalse=!1,a=0;a<e.length;a++){var b=e[a];if(b.xaxis===p.xaxis._id&&b.yaxis===p.yaxis._id&&!1===b.cliponaxis){p._hasClipOnAxisFalse=!0;break}}}var x,_=d.list(f,null,!0);for(i=0;i<_.length;i++){var w=null;(x=_[i]).overlaying&&(w=d.getFromId(f,x.overlaying))&&w.overlaying&&(x.overlaying=!1,w=null),x._mainAxis=w||x,w&&(x.domain=w.domain.slice()),x._anchorAxis="free"===x.anchor?null:d.getFromId(f,x.anchor)}for(i=0;i<_.length;i++)if((x=_[i])._counterAxes.sort(d.idSort),x._subplotsWith.sort(u.subplotSort),x._mainSubplot=C(x,t),x._counterAxes.length&&(x.spikemode&&-1!==x.spikemode.indexOf("across")||x.automargin&&x.mirror&&"free"!==x.anchor||o.getComponentMethod("rangeslider","isVisible")(x))){var k=1,M=0;for(a=0;a<x._counterAxes.length;a++){var T=d.getFromId(f,x._counterAxes[a]);k=Math.min(k,T.domain[0]),M=Math.max(M,T.domain[1])}k<M&&(x._counterDomainMin=k,x._counterDomainMax=M)}},b.clearExpandedTraceDefaultColors=function(e){var t,n,r;function i(e,r,i,a){n[a]=r,n.length=a+1,"color"===e.valType&&void 0===e.dflt&&t.push(n.join("."))}for(n=[],(t=e._module._colorAttrs)||(e._module._colorAttrs=t=[],s.crawl(e._module.attributes,i)),r=0;r<t.length;r++)u.nestedProperty(e,"_input."+t[r]).get()||u.nestedProperty(e,t[r]).set(null)},b.supplyDataDefaults=function(e,t,n,r){var i,a,s,c=r._modules,f=r._visibleModules,d=r._basePlotModules,h=0,p=0;function g(e){t.push(e);var n=e._module;n&&(u.pushUnique(c,n),!0===e.visible&&u.pushUnique(f,n),u.pushUnique(d,e._module.basePlotModule),h++,!1!==e._input.visible&&p++)}r._transformModules=[];var v={},y=[],x=(n.template||{}).data||{},_=l.traceTemplater(x);for(i=0;i<e.length;i++){if(s=e[i],(a=_.newTrace(s)).uid=r._traceUids[i],b.supplyTraceDefaults(s,a,p,r,i),a.index=i,a._input=s,a._expandedIndex=h,a.transforms&&a.transforms.length)for(var w=!1!==s.visible&&!1===a.visible,k=R(a,t,n,r),M=0;M<k.length;M++){var T=k[M],A={_template:a._template,type:a.type,uid:a.uid+M};w&&!1===T.visible&&delete T.visible,b.supplyTraceDefaults(T,A,h,r,i),m(A,T),A.index=i,A._input=s,A._fullInput=a,A._expandedIndex=h,A._expandedInput=T,g(A)}else a._fullInput=a,a._expandedInput=a,g(a);o.traceIs(a,"carpetAxis")&&(v[a.carpet]=a),o.traceIs(a,"carpetDependent")&&y.push(i)}for(i=0;i<y.length;i++)if((a=t[y[i]]).visible){var E=v[a.carpet];a._carpet=E,E&&E.visible?(a.xaxis=E.xaxis,a.yaxis=E.yaxis):a.visible=!1}},b.supplyAnimationDefaults=function(e){var t;e=e||{};var n={};function r(t,r){return u.coerce(e||{},n,p,t,r)}if(r("mode"),r("direction"),r("fromcurrent"),Array.isArray(e.frame))for(n.frame=[],t=0;t<e.frame.length;t++)n.frame[t]=b.supplyAnimationFrameDefaults(e.frame[t]||{});else n.frame=b.supplyAnimationFrameDefaults(e.frame||{});if(Array.isArray(e.transition))for(n.transition=[],t=0;t<e.transition.length;t++)n.transition[t]=b.supplyAnimationTransitionDefaults(e.transition[t]||{});else n.transition=b.supplyAnimationTransitionDefaults(e.transition||{});return n},b.supplyAnimationFrameDefaults=function(e){var t={};function n(n,r){return u.coerce(e||{},t,p.frame,n,r)}return n("duration"),n("redraw"),t},b.supplyAnimationTransitionDefaults=function(e){var t={};function n(n,r){return u.coerce(e||{},t,p.transition,n,r)}return n("duration"),n("easing"),t},b.supplyFrameDefaults=function(e){var t={};function n(n,r){return u.coerce(e,t,g,n,r)}return n("group"),n("name"),n("traces"),n("baseframe"),n("data"),n("layout"),t},b.supplyTraceDefaults=function(e,t,n,r,i){var a,s=r.colorway||c.defaults,l=s[n%s.length];function f(n,r){return u.coerce(e,t,b.attributes,n,r)}var d=f("visible");f("type"),f("name",r._traceWord+" "+i),f("uirevision",r.uirevision);var h=b.getModule(t);if(t._module=h,h){var p=h.basePlotModule,g=p.attr,v=p.attributes;if(g&&v){var m=r._subplots,y="";if(d||"gl2d"!==p.name){if(Array.isArray(g))for(a=0;a<g.length;a++){var x=g[a],_=u.coerce(e,t,v,x);m[x]&&u.pushUnique(m[x],_),y+=_}else y=u.coerce(e,t,v,g);m[p.name]&&u.pushUnique(m[p.name],y)}}}return d&&(f("customdata"),f("ids"),f("meta"),o.traceIs(t,"showLegend")?(u.coerce(e,t,h.attributes.showlegend?h.attributes:b.attributes,"showlegend"),f("legendgroup"),t._dfltShowLegend=!0):t._dfltShowLegend=!1,h&&h.supplyDefaults(e,t,l,r),o.traceIs(t,"noOpacity")||f("opacity"),o.traceIs(t,"notLegendIsolatable")&&(t.visible=!!t.visible),o.traceIs(t,"noHover")||(t.hovertemplate||u.coerceHoverinfo(e,t,r),"parcats"!==t.type&&o.getComponentMethod("fx","supplyDefaults")(e,t,l,r)),h&&h.selectPoints&&f("selectedpoints"),b.supplyTransformDefaults(e,t,r)),t},b.hasMakesDataTransform=L,b.supplyTransformDefaults=function(e,t,n){if(t._length||L(e)){var r=n._globalTransforms||[],i=n._transformModules||[];if(Array.isArray(e.transforms)||0!==r.length)for(var a=e.transforms||[],o=r.concat(a),s=t.transforms=[],l=0;l<o.length;l++){var c,f=o[l],d=f.type,h=x[d],p=!(f._module&&f._module===h),g=h&&"function"===typeof h.transform;h||u.warn("Unrecognized transform type "+d+"."),h&&h.supplyDefaults&&(p||g)?((c=h.supplyDefaults(f,t,n,e)).type=d,c._module=h,u.pushUnique(i,h)):c=u.extendFlat({},f),s.push(c)}}},b.supplyLayoutGlobalDefaults=function(e,t,n){function r(n,r){return u.coerce(e,t,b.layoutAttributes,n,r)}var i=e.template;u.isPlainObject(i)&&(t.template=i,t._template=i.layout,t._dataTemplate=i.data),r("autotypenumbers");var a=u.coerceFont(r,"font");r("title.text",t._dfltTitle.plot),u.coerceFont(r,"title.font",{family:a.family,size:Math.round(1.4*a.size),color:a.color}),r("title.xref"),r("title.yref"),r("title.x"),r("title.y"),r("title.xanchor"),r("title.yanchor"),r("title.pad.t"),r("title.pad.r"),r("title.pad.b"),r("title.pad.l"),r("uniformtext.mode")&&r("uniformtext.minsize"),r("autosize",!(e.width&&e.height)),r("width"),r("height"),r("margin.l"),r("margin.r"),r("margin.t"),r("margin.b"),r("margin.pad"),r("margin.autoexpand"),e.width&&e.height&&b.sanitizeMargins(t),o.getComponentMethod("grid","sizeDefaults")(e,t),r("paper_bgcolor"),r("separators",n.decimal+n.thousands),r("hidesources"),r("colorway"),r("datarevision");var s=r("uirevision");r("editrevision",s),r("selectionrevision",s),r("modebar.orientation"),r("modebar.bgcolor",c.addOpacity(t.paper_bgcolor,.5));var l=c.contrast(c.rgb(t.modebar.bgcolor));r("modebar.color",c.addOpacity(l,.3)),r("modebar.activecolor",c.addOpacity(l,.7)),r("modebar.uirevision",s),o.getComponentMethod("shapes","supplyDrawNewShapeDefaults")(e,t,r),r("meta"),u.isPlainObject(e.transition)&&(r("transition.duration"),r("transition.easing"),r("transition.ordering")),o.getComponentMethod("calendars","handleDefaults")(e,t,"calendar"),o.getComponentMethod("fx","supplyLayoutGlobalDefaults")(e,t,r)},b.plotAutoSize=function(e,t,n){var r,i,o=e._context||{},s=o.frameMargins,l=u.isPlotDiv(e);if(l&&e.emit("plotly_autosize"),o.fillFrame)r=window.innerWidth,i=window.innerHeight,document.body.style.overflow="hidden";else{var c=l?window.getComputedStyle(e):{};if(r=P(c.width)||P(c.maxWidth)||n.width,i=P(c.height)||P(c.maxHeight)||n.height,a(s)&&s>0){var f=1-2*s;r=Math.round(f*r),i=Math.round(f*i)}}var d=b.layoutAttributes.width.min,h=b.layoutAttributes.height.min;r<d&&(r=d),i<h&&(i=h);var p=!t.width&&Math.abs(n.width-r)>1,g=!t.height&&Math.abs(n.height-i)>1;(g||p)&&(p&&(n.width=r),g&&(n.height=i)),e._initialAutoSize||(e._initialAutoSize={width:r,height:i}),b.sanitizeMargins(n)},b.supplyLayoutModuleDefaults=function(e,t,n,r){var i,a,s,l=o.componentsRegistry,c=t._basePlotModules,f=o.subplotsRegistry.cartesian;for(i in l)(s=l[i]).includeBasePlot&&s.includeBasePlot(e,t);for(var d in c.length||c.push(f),t._has("cartesian")&&(o.getComponentMethod("grid","contentDefaults")(e,t),f.finalizeSubplots(e,t)),t._subplots)t._subplots[d].sort(u.subplotSort);for(a=0;a<c.length;a++)(s=c[a]).supplyLayoutDefaults&&s.supplyLayoutDefaults(e,t,n);var h=t._modules;for(a=0;a<h.length;a++)(s=h[a]).supplyLayoutDefaults&&s.supplyLayoutDefaults(e,t,n);var p=t._transformModules;for(a=0;a<p.length;a++)(s=p[a]).supplyLayoutDefaults&&s.supplyLayoutDefaults(e,t,n,r);for(i in l)(s=l[i]).supplyLayoutDefaults&&s.supplyLayoutDefaults(e,t,n)},b.purge=function(e){var t=e._fullLayout||{};void 0!==t._glcontainer&&(t._glcontainer.selectAll(".gl-canvas").remove(),t._glcontainer.remove(),t._glcanvas=null),t._modeBar&&t._modeBar.destroy(),e._transitionData&&(e._transitionData._interruptCallbacks&&(e._transitionData._interruptCallbacks.length=0),e._transitionData._animationRaf&&window.cancelAnimationFrame(e._transitionData._animationRaf)),u.clearThrottle(),u.clearResponsive(e),delete e.data,delete e.layout,delete e._fullData,delete e._fullLayout,delete e.calcdata,delete e.framework,delete e.empty,delete e.fid,delete e.undoqueue,delete e.undonum,delete e.autoplay,delete e.changed,delete e._promises,delete e._redrawTimer,delete e._hmlumcount,delete e._hmpixcount,delete e._transitionData,delete e._transitioning,delete e._initialAutoSize,delete e._transitioningWithDuration,delete e._dragging,delete e._dragged,delete e._dragdata,delete e._hoverdata,delete e._snapshotInProgress,delete e._editing,delete e._mouseDownTime,delete e._legendMouseDownTime,e.removeAllListeners&&e.removeAllListeners()},b.style=function(e){var t,n=e._fullLayout._visibleModules,r=[];for(t=0;t<n.length;t++){var i=n[t];i.style&&u.pushUnique(r,i.style)}for(t=0;t<r.length;t++)r[t](e)},b.sanitizeMargins=function(e){if(e&&e.margin){var t,n=e.width,r=e.height,i=e.margin,a=n-(i.l+i.r),o=r-(i.t+i.b);a<0&&(t=(n-1)/(i.l+i.r),i.l=Math.floor(t*i.l),i.r=Math.floor(t*i.r)),o<0&&(t=(r-1)/(i.t+i.b),i.t=Math.floor(t*i.t),i.b=Math.floor(t*i.b))}},b.clearAutoMarginIds=function(e){e._fullLayout._pushmarginIds={}},b.allowAutoMargin=function(e,t){e._fullLayout._pushmarginIds[t]=1};var z=2,I=2,N=64,D=64;function F(e){for(var t=d.list(e,"",!0),n=0;n<t.length;n++){var r=t[n]._hideOutOfRangeInsideTickLabels;r&&r()}}b.autoMargin=function(e,t,n){var r=e._fullLayout,i=r.width,a=r.height,o=r.margin,s=u.constrain(i-o.l-o.r,z,N),l=u.constrain(a-o.t-o.b,I,D),c=Math.max(0,i-s),f=Math.max(0,a-l),d=r._pushmargin,h=r._pushmarginIds;if(!1!==o.autoexpand){if(n){var p=n.pad;if(void 0===p&&(p=Math.min(12,o.l,o.r,o.t,o.b)),c){var g=(n.l+n.r)/c;g>1&&(n.l/=g,n.r/=g)}if(f){var v=(n.t+n.b)/f;v>1&&(n.t/=v,n.b/=v)}var m=void 0!==n.xl?n.xl:n.x,y=void 0!==n.xr?n.xr:n.x,x=void 0!==n.yt?n.yt:n.y,_=void 0!==n.yb?n.yb:n.y;d[t]={l:{val:m,size:n.l+p},r:{val:y,size:n.r+p},b:{val:_,size:n.b+p},t:{val:x,size:n.t+p}},h[t]=1}else delete d[t],delete h[t];if(!r._replotting)return b.doAutoMargin(e)}},b.doAutoMargin=function(e){var t=e._fullLayout,n=t.width,r=t.height;t._size||(t._size={}),j(t);var i=t._size,s=t.margin,l=u.extendFlat({},i),c=s.l,f=s.r,d=s.t,h=s.b,p=t._pushmargin,g=t._pushmarginIds;if(!1!==t.margin.autoexpand){for(var v in p)g[v]||delete p[v];for(var m in p.base={l:{val:0,size:c},r:{val:1,size:f},t:{val:1,size:d},b:{val:0,size:h}},p){var y=p[m].l||{},x=p[m].b||{},_=y.val,w=y.size,k=x.val,M=x.size;for(var T in p){if(a(w)&&p[T].r){var A=p[T].r.val,E=p[T].r.size;if(A>_){var S=(w*A+(E-n)*_)/(A-_),O=(E*(1-_)+(w-n)*(1-A))/(A-_);S+O>c+f&&(c=S,f=O)}}if(a(M)&&p[T].t){var C=p[T].t.val,L=p[T].t.size;if(C>k){var R=(M*C+(L-r)*k)/(C-k),P=(L*(1-k)+(M-r)*(1-C))/(C-k);R+P>h+d&&(h=R,d=P)}}}}}var B=u.constrain(n-s.l-s.r,z,N),U=u.constrain(r-s.t-s.b,I,D),V=Math.max(0,n-B),H=Math.max(0,r-U);if(V){var q=(c+f)/V;q>1&&(c/=q,f/=q)}if(H){var W=(h+d)/H;W>1&&(h/=W,d/=W)}if(i.l=Math.round(c),i.r=Math.round(f),i.t=Math.round(d),i.b=Math.round(h),i.p=Math.round(s.pad),i.w=Math.round(n)-i.l-i.r,i.h=Math.round(r)-i.t-i.b,!t._replotting&&b.didMarginChange(l,i)){"_redrawFromAutoMarginCount"in t?t._redrawFromAutoMarginCount++:t._redrawFromAutoMarginCount=1;var G=3*(1+Object.keys(g).length);if(t._redrawFromAutoMarginCount<G)return o.call("plot",e);t._size=l,u.warn("Too many auto-margin redraws.")}F(e)};var B=["l","r","t","b","p","w","h"];function U(e,t,n){var r=!1;function i(e){var t=Promise.resolve();if(!e)return t;for(;e.length;)t=t.then(e.shift());return t}function a(e){if(e)for(;e.length;)e.shift()}function s(){return e.emit("plotly_transitioning",[]),new Promise((function(i){e._transitioning=!0,t.duration>0&&(e._transitioningWithDuration=!0),e._transitionData._interruptCallbacks.push((function(){r=!0})),n.redraw&&e._transitionData._interruptCallbacks.push((function(){return o.call("redraw",e)})),e._transitionData._interruptCallbacks.push((function(){e.emit("plotly_transitioninterrupted",[])}));var a=0,s=0;function u(){return a++,function(){s++,r||s!==a||l(i)}}n.runFn(u),setTimeout(u())}))}function l(t){if(e._transitionData)return a(e._transitionData._interruptCallbacks),Promise.resolve().then((function(){if(n.redraw)return o.call("redraw",e)})).then((function(){e._transitioning=!1,e._transitioningWithDuration=!1,e.emit("plotly_transitioned",[])})).then(t)}function c(){if(e._transitionData)return e._transitioning=!1,i(e._transitionData._interruptCallbacks)}var f=[b.previousPromises,c,n.prepareFn,b.rehover,s],d=u.syncOrAsync(f,e);return d&&d.then||(d=Promise.resolve()),d.then((function(){return e}))}b.didMarginChange=function(e,t){for(var n=0;n<B.length;n++){var r=B[n],i=e[r],o=t[r];if(!a(i)||Math.abs(o-i)>1)return!0}return!1},b.graphJson=function(e,t,n,r,i,a){(i&&t&&!e._fullData||i&&!t&&!e._fullLayout)&&b.supplyDefaults(e);var o=i?e._fullData:e.data,s=i?e._fullLayout:e.layout,l=(e._transitionData||{})._frames;function c(e,t){if("function"===typeof e)return t?"_function_":null;if(u.isPlainObject(e)){var r,i={};return Object.keys(e).sort().forEach((function(a){if(-1===["_","["].indexOf(a.charAt(0)))if("function"!==typeof e[a]){if("keepdata"===n){if("src"===a.substr(a.length-3))return}else if("keepstream"===n){if("string"===typeof(r=e[a+"src"])&&r.indexOf(":")>0&&!u.isPlainObject(e.stream))return}else if("keepall"!==n&&"string"===typeof(r=e[a+"src"])&&r.indexOf(":")>0)return;i[a]=c(e[a],t)}else t&&(i[a]="_function")})),i}return Array.isArray(e)?e.map((function(e){return c(e,t)})):u.isTypedArray(e)?u.simpleMap(e,u.identity):u.isJSDate(e)?u.ms2DateTimeLocal(+e):e}var f={data:(o||[]).map((function(e){var n=c(e);return t&&delete n.fit,n}))};if(!t&&(f.layout=c(s),i)){var d=s._size;f.layout.computed={margin:{b:d.b,l:d.l,r:d.r,t:d.t}}}return e.framework&&e.framework.isPolar&&(f=e.framework.getConfig()),l&&(f.frames=c(l)),a&&(f.config=c(e._context,!0)),"object"===r?f:JSON.stringify(f)},b.modifyFrames=function(e,t){var n,r,i,a=e._transitionData._frames,o=e._transitionData._frameHash;for(n=0;n<t.length;n++)switch((r=t[n]).type){case"replace":i=r.value;var s=(a[r.index]||{}).name,l=i.name;a[r.index]=o[l]=i,l!==s&&(delete o[s],o[l]=i);break;case"insert":o[(i=r.value).name]=i,a.splice(r.index,0,i);break;case"delete":delete o[(i=a[r.index]).name],a.splice(r.index,1)}return Promise.resolve()},b.computeFrame=function(e,t){var n,r,i,a,o=e._transitionData._frameHash;if(!t)throw new Error("computeFrame must be given a string frame name");var s=o[t.toString()];if(!s)return!1;for(var l=[s],u=[s.name];s.baseframe&&(s=o[s.baseframe.toString()])&&-1===u.indexOf(s.name);)l.push(s),u.push(s.name);for(var c={};s=l.pop();)if(s.layout&&(c.layout=b.extendLayout(c.layout,s.layout)),s.data){if(c.data||(c.data=[]),!(r=s.traces))for(r=[],n=0;n<s.data.length;n++)r[n]=n;for(c.traces||(c.traces=[]),n=0;n<s.data.length;n++)void 0!==(i=r[n])&&null!==i&&(-1===(a=c.traces.indexOf(i))&&(a=c.data.length,c.traces[a]=i),c.data[a]=b.extendTrace(c.data[a],s.data[n]))}return c},b.recomputeFrameHash=function(e){for(var t=e._transitionData._frameHash={},n=e._transitionData._frames,r=0;r<n.length;r++){var i=n[r];i&&i.name&&(t[i.name]=i)}},b.extendObjectWithContainers=function(e,t,n){var r,i,a,o,s,l,c,f=u.extendDeepNoArrays({},t||{}),d=u.expandObjectPaths(f),h={};if(n&&n.length)for(a=0;a<n.length;a++)void 0===(i=(r=u.nestedProperty(d,n[a])).get())?u.nestedProperty(h,n[a]).set(null):(r.set(null),u.nestedProperty(h,n[a]).set(i));if(e=u.extendDeepNoArrays(e||{},d),n&&n.length)for(a=0;a<n.length;a++)if(l=u.nestedProperty(h,n[a]).get()){for(c=(s=u.nestedProperty(e,n[a])).get(),Array.isArray(c)||(c=[],s.set(c)),o=0;o<l.length;o++){var p=l[o];c[o]=null===p?null:b.extendObjectWithContainers(c[o],p)}s.set(c)}return e},b.dataArrayContainers=["transforms","dimensions"],b.layoutArrayContainers=o.layoutArrayContainers,b.extendTrace=function(e,t){return b.extendObjectWithContainers(e,t,b.dataArrayContainers)},b.extendLayout=function(e,t){return b.extendObjectWithContainers(e,t,b.layoutArrayContainers)},b.transition=function(e,t,n,r,i,a){var o={redraw:i.redraw},s={},l=[];return o.prepareFn=function(){for(var i=Array.isArray(t)?t.length:0,a=r.slice(0,i),o=0;o<a.length;o++){var c=a[o],f=e._fullData[c]._module;if(f){if(f.animatable){var d=f.basePlotModule.name;s[d]||(s[d]=[]),s[d].push(c)}e.data[a[o]]=b.extendTrace(e.data[a[o]],t[o])}}var h=u.expandObjectPaths(u.extendDeepNoArrays({},n)),p=/^[xy]axis[0-9]*$/;for(var g in h)p.test(g)&&delete h[g].range;b.extendLayout(e.layout,h),delete e.calcdata,b.supplyDefaults(e),b.doCalcdata(e);var v=u.expandObjectPaths(n);if(v){var m=e._fullLayout._plots;for(var y in m){var x=m[y],_=x.xaxis,w=x.yaxis,k=_.range.slice(),M=w.range.slice(),T=null,A=null,E=null,S=null;Array.isArray(v[_._name+".range"])?T=v[_._name+".range"].slice():Array.isArray((v[_._name]||{}).range)&&(T=v[_._name].range.slice()),Array.isArray(v[w._name+".range"])?A=v[w._name+".range"].slice():Array.isArray((v[w._name]||{}).range)&&(A=v[w._name].range.slice()),k&&T&&(_.r2l(k[0])!==_.r2l(T[0])||_.r2l(k[1])!==_.r2l(T[1]))&&(E={xr0:k,xr1:T}),M&&A&&(w.r2l(M[0])!==w.r2l(A[0])||w.r2l(M[1])!==w.r2l(A[1]))&&(S={yr0:M,yr1:A}),(E||S)&&l.push(u.extendFlat({plotinfo:x},E,S))}}return Promise.resolve()},o.runFn=function(t){var r,i,o=e._fullLayout._basePlotModules,c=l.length;if(n)for(i=0;i<o.length;i++)o[i].transitionAxes&&o[i].transitionAxes(e,l,a,t);for(var f in c?((r=u.extendFlat({},a)).duration=0,delete s.cartesian):r=a,s){var d=s[f];e._fullData[d[0]]._module.basePlotModule.plot(e,d,r,t)}},U(e,a,o)},b.transitionFromReact=function(e,t,n,r){var i=e._fullLayout,a=i.transition,o={},s=[];return o.prepareFn=function(){var e=i._plots;for(var a in o.redraw=!1,"some"===t.anim&&(o.redraw=!0),"some"===n.anim&&(o.redraw=!0),e){var l=e[a],c=l.xaxis,f=l.yaxis,d=r[c._name].range.slice(),h=r[f._name].range.slice(),p=c.range.slice(),g=f.range.slice();c.setScale(),f.setScale();var v=null,m=null;c.r2l(d[0])===c.r2l(p[0])&&c.r2l(d[1])===c.r2l(p[1])||(v={xr0:d,xr1:p}),f.r2l(h[0])===f.r2l(g[0])&&f.r2l(h[1])===f.r2l(g[1])||(m={yr0:h,yr1:g}),(v||m)&&s.push(u.extendFlat({plotinfo:l},v,m))}return Promise.resolve()},o.runFn=function(n){for(var r,i,o,l=e._fullData,c=e._fullLayout._basePlotModules,f=[],d=0;d<l.length;d++)f.push(d);function h(){for(var t=0;t<c.length;t++)c[t].transitionAxes&&c[t].transitionAxes(e,s,r,n)}function p(){for(var t=0;t<c.length;t++)c[t].plot(e,o,i,n)}s.length&&t.anim?"traces first"===a.ordering?(r=u.extendFlat({},a,{duration:0}),o=f,i=a,setTimeout(h,a.duration),p()):(r=a,o=null,i=u.extendFlat({},a,{duration:0}),setTimeout(p,r.duration),h()):s.length?(r=a,h()):t.anim&&(o=f,i=a,p())},U(e,a,o)},b.doCalcdata=function(e,t){var n,r,i,a,l=d.list(e),u=e._fullData,c=e._fullLayout,h=new Array(u.length),p=(e.calcdata||[]).slice();for(e.calcdata=h,c._numBoxes=0,c._numViolins=0,c._violinScaleGroupStats={},e._hmpixcount=0,e._hmlumcount=0,c._piecolormap={},c._sunburstcolormap={},c._treemapcolormap={},c._funnelareacolormap={},i=0;i<u.length;i++)Array.isArray(t)&&-1===t.indexOf(i)&&(h[i]=p[i]);for(i=0;i<u.length;i++)(n=u[i])._arrayAttrs=s.findArrayAttributes(n),n._extremes={};var g=c._subplots.polar||[];for(i=0;i<g.length;i++)l.push(c[g[i]].radialaxis,c[g[i]].angularaxis);for(var v in c._colorAxes){var m=c[v];!1!==m.cauto&&(delete m.cmin,delete m.cmax)}var y=!1;function b(t){if(n=u[t],r=n._module,!0===n.visible&&n.transforms){if(r&&r.calc){var i=r.calc(e,n);i[0]&&i[0].t&&i[0].t._scene&&delete i[0].t._scene.dirty}for(a=0;a<n.transforms.length;a++){var o=n.transforms[a];(r=x[o.type])&&r.calcTransform&&(n._hasCalcTransform=!0,y=!0,r.calcTransform(e,n,o))}}}function _(t,i){if(n=u[t],!!(r=n._module).isContainer===i){var o=[];if(!0===n.visible&&0!==n._length){delete n._indexToPoints;var s=n.transforms||[];for(a=s.length-1;a>=0;a--)if(s[a].enabled){n._indexToPoints=s[a]._indexToPoints;break}r&&r.calc&&(o=r.calc(e,n))}Array.isArray(o)&&o[0]||(o=[{x:f,y:f}]),o[0].t||(o[0].t={}),o[0].trace=n,h[t]=o}}for(q(l,u,c),i=0;i<u.length;i++)_(i,!0);for(i=0;i<u.length;i++)b(i);for(y&&q(l,u,c),i=0;i<u.length;i++)_(i,!0);for(i=0;i<u.length;i++)_(i,!1);W(e);var w=H(l,e);if(w.length){for(c._numBoxes=0,c._numViolins=0,i=0;i<w.length;i++)_(w[i],!0);for(i=0;i<w.length;i++)_(w[i],!1);W(e)}o.getComponentMethod("fx","calc")(e),o.getComponentMethod("errorbars","calc")(e)};var V=/(total|sum|min|max|mean|median) (ascending|descending)/;function H(e,t){var n,r,i,a,s,l=[];function c(e,n,r){var i=n._id.charAt(0);if("histogram2dcontour"===e){var a=n._counterAxes[0],o=d.getFromId(t,a),s="x"===i||"x"===a&&"category"===o.type,l="y"===i||"y"===a&&"category"===o.type;return function(e,t){return 0===e||0===t||s&&e===r[t].length-1||l&&t===r.length-1?-1:("y"===i?t:e)-1}}return function(e,t){return"y"===i?t:e}}var f={min:function(e){return u.aggNums(Math.min,null,e)},max:function(e){return u.aggNums(Math.max,null,e)},sum:function(e){return u.aggNums((function(e,t){return e+t}),null,e)},total:function(e){return u.aggNums((function(e,t){return e+t}),null,e)},mean:function(e){return u.mean(e)},median:function(e){return u.median(e)}};for(n=0;n<e.length;n++){var h=e[n];if("category"===h.type){var p=h.categoryorder.match(V);if(p){var g=p[1],v=p[2],m=h._id.charAt(0),y="x"===m,b=[];for(r=0;r<h._categories.length;r++)b.push([h._categories[r],[]]);for(r=0;r<h._traceIndices.length;r++){var x=h._traceIndices[r],_=t._fullData[x];if(!0===_.visible){var w=_.type;o.traceIs(_,"histogram")&&(delete _._xautoBinFinished,delete _._yautoBinFinished);var k="splom"===w,M="scattergl"===w,T=t.calcdata[x];for(i=0;i<T.length;i++){var A,E,S=T[i];if(k){var O=_._axesDim[h._id];if(!y){var C=_._diag[O][0];C&&(h=t._fullLayout[d.id2name(C)])}var L=S.trace.dimensions[O].values;for(a=0;a<L.length;a++)for(A=h._categoriesMap[L[a]],s=0;s<S.trace.dimensions.length;s++)if(s!==O){var R=S.trace.dimensions[s];b[A][1].push(R.values[a])}}else if(M){for(a=0;a<S.t.x.length;a++)y?(A=S.t.x[a],E=S.t.y[a]):(A=S.t.y[a],E=S.t.x[a]),b[A][1].push(E);S.t&&S.t._scene&&delete S.t._scene.dirty}else if(S.hasOwnProperty("z")){E=S.z;var P=c(_.type,h,E);for(a=0;a<E.length;a++)for(s=0;s<E[a].length;s++)(A=P(s,a))+1&&b[A][1].push(E[a][s])}else for(void 0===(A=S.p)&&(A=S[m]),void 0===(E=S.s)&&(E=S.v),void 0===E&&(E=y?S.y:S.x),Array.isArray(E)||(E=void 0===E?[]:[E]),a=0;a<E.length;a++)b[A][1].push(E[a])}}}h._categoriesValue=b;var j=[];for(r=0;r<b.length;r++)j.push([b[r][0],f[g](b[r][1])]);j.sort((function(e,t){return e[1]-t[1]})),h._categoriesAggregatedValue=j,h._initialCategories=j.map((function(e){return e[0]})),"descending"===v&&h._initialCategories.reverse(),l=l.concat(h.sortByInitialCategories())}}}return l}function q(e,t,n){var r={};function i(e){e.clearCalc(),"multicategory"===e.type&&e.setupMultiCategory(t),r[e._id]=1}u.simpleMap(e,i);for(var a=n._axisMatchGroups||[],o=0;o<a.length;o++)for(var s in a[o])r[s]||i(n[d.id2name(s)])}function W(e){var t,n,r,i=e._fullLayout,a=i._visibleModules,o={};for(n=0;n<a.length;n++){var s=a[n],l=s.crossTraceCalc;if(l){var c=s.basePlotModule.name;o[c]?u.pushUnique(o[c],l):o[c]=[l]}}for(r in o){var f=o[r],d=i._subplots[r];if(Array.isArray(d))for(t=0;t<d.length;t++){var h=d[t],p="cartesian"===r?i._plots[h]:i[h];for(n=0;n<f.length;n++)f[n](e,p,h)}else for(n=0;n<f.length;n++)f[n](e)}}b.rehover=function(e){e._fullLayout._rehover&&e._fullLayout._rehover()},b.redrag=function(e){e._fullLayout._redrag&&e._fullLayout._redrag()},b.generalUpdatePerTraceModule=function(e,t,n,r){var i,a=t.traceHash,o={};for(i=0;i<n.length;i++){var s=n[i],l=s[0].trace;l.visible&&(o[l.type]=o[l.type]||[],o[l.type].push(s))}for(var c in a)if(!o[c]){var f=a[c][0];f[0].trace.visible=!1,o[c]=[f]}for(var d in o){var h=o[d];h[0][0].trace._module.plot(e,t,u.filterVisible(h),r)}t.traceHash=o},b.plotBasePlot=function(e,t,n,r,i){var a=o.getModule(e),s=v(t.calcdata,a)[0];a.plot(t,s,r,i)},b.cleanBasePlot=function(e,t,n,r,i){var a=i._has&&i._has(e),o=n._has&&n._has(e);a&&!o&&i["_"+e+"layer"].selectAll("g.trace").remove()}},{"../components/color":394,"../constants/numerical":502,"../lib":524,"../plot_api/plot_schema":560,"../plot_api/plot_template":561,"../plots/get_data":602,"../registry":626,"./animation_attributes":566,"./attributes":568,"./cartesian/axis_ids":575,"./cartesian/handle_outline":582,"./command":598,"./font_attributes":600,"./frame_attributes":601,"./layout_attributes":615,d3:82,"d3-time-format":80,"fast-isnumeric":91}],618:[function(e,t,n){"use strict";var r=e("../../../traces/scatter/attributes"),i=r.marker,a=e("../../../lib/extend").extendFlat;["Area traces are deprecated!","Please switch to the *barpolar* trace type."].join(" "),t.exports={r:a({},r.r,{}),t:a({},r.t,{}),marker:{color:a({},i.color,{}),size:a({},i.size,{}),symbol:a({},i.symbol,{}),opacity:a({},i.opacity,{}),editType:"calc"}}},{"../../../lib/extend":517,"../../../traces/scatter/attributes":655}],619:[function(e,t,n){"use strict";var r=e("../../cartesian/layout_attributes"),i=e("../../../lib/extend").extendFlat,a=e("../../../plot_api/edit_types").overrideAll,o=["Legacy polar charts are deprecated!","Please switch to *polar* subplots."].join(" "),s=i({},r.domain,{});function l(e,t){return i({},t,{showline:{valType:"boolean"},showticklabels:{valType:"boolean"},tickorientation:{valType:"enumerated",values:["horizontal","vertical"]},ticklen:{valType:"number",min:0},tickcolor:{valType:"color"},ticksuffix:{valType:"string"},endpadding:{valType:"number",description:o},visible:{valType:"boolean"}})}t.exports=a({radialaxis:l("radial",{range:{valType:"info_array",items:[{valType:"number"},{valType:"number"}]},domain:s,orientation:{valType:"number"}}),angularaxis:l("angular",{range:{valType:"info_array",items:[{valType:"number",dflt:0},{valType:"number",dflt:360}]},domain:s}),layout:{direction:{valType:"enumerated",values:["clockwise","counterclockwise"]},orientation:{valType:"angle"}}},"plot","nested")},{"../../../lib/extend":517,"../../../plot_api/edit_types":554,"../../cartesian/layout_attributes":586}],620:[function(e,t,n){"use strict";(t.exports=e("./micropolar")).manager=e("./micropolar_manager")},{"./micropolar":621,"./micropolar_manager":622}],621:[function(e,t,n){var r=e("d3"),i=e("../../../lib").extendDeepAll,a=e("../../../constants/alignment").MID_SHIFT,o=t.exports={version:"0.2.2"};o.Axis=function(){var e,t,n,s,l={data:[],layout:{}},u={},c={},f=r.dispatch("hover"),d={};function h(u){t=u||t;var f=l.data,h=l.layout;return("string"==typeof t||t.nodeName)&&(t=r.select(t)),t.datum(f).each((function(t,l){var u=t.slice();c={data:o.util.cloneJson(u),layout:o.util.cloneJson(h)};var f=0;u.forEach((function(e,t){e.color||(e.color=h.defaultColorRange[f],f=(f+1)%h.defaultColorRange.length),e.strokeColor||(e.strokeColor="LinePlot"===e.geometry?e.color:r.rgb(e.color).darker().toString()),c.data[t].color=e.color,c.data[t].strokeColor=e.strokeColor,c.data[t].strokeDash=e.strokeDash,c.data[t].strokeSize=e.strokeSize}));var d=u.filter((function(e,t){var n=e.visible;return"undefined"===typeof n||!0===n})),p=!1,g=d.map((function(e,t){return p=p||"undefined"!==typeof e.groupId,e}));if(p){var v=r.nest().key((function(e,t){return"undefined"!=typeof e.groupId?e.groupId:"unstacked"})).entries(g),m=[],y=v.map((function(e,t){if("unstacked"===e.key)return e.values;var n=e.values[0].r.map((function(e,t){return 0}));return e.values.forEach((function(e,t,r){e.yStack=[n],m.push(n),n=o.util.sumArrays(e.r,n)})),e.values}));d=r.merge(y)}d.forEach((function(e,t){e.t=Array.isArray(e.t[0])?e.t:[e.t],e.r=Array.isArray(e.r[0])?e.r:[e.r]}));var b=Math.min(h.width-h.margin.left-h.margin.right,h.height-h.margin.top-h.margin.bottom)/2;b=Math.max(10,b);var x,_=[h.margin.left+b,h.margin.top+b];x=p?[0,r.max(o.util.sumArrays(o.util.arrayLast(d).r[0],o.util.arrayLast(m)))]:r.extent(o.util.flattenArray(d.map((function(e,t){return e.r})))),h.radialAxis.domain!=o.DATAEXTENT&&(x[0]=0),n=r.scale.linear().domain(h.radialAxis.domain!=o.DATAEXTENT&&h.radialAxis.domain?h.radialAxis.domain:x).range([0,b]),c.layout.radialAxis.domain=n.domain();var w,k=o.util.flattenArray(d.map((function(e,t){return e.t}))),M="string"===typeof k[0];M&&(k=o.util.deduplicate(k),w=k.slice(),k=r.range(k.length),d=d.map((function(e,t){var n=e;return e.t=[k],p&&(n.yStack=e.yStack),n})));var T=d.filter((function(e,t){return"LinePlot"===e.geometry||"DotPlot"===e.geometry})).length===d.length,A=null===h.needsEndSpacing?M||!T:h.needsEndSpacing,E=h.angularAxis.domain&&h.angularAxis.domain!=o.DATAEXTENT&&!M&&h.angularAxis.domain[0]>=0?h.angularAxis.domain:r.extent(k),S=Math.abs(k[1]-k[0]);T&&!M&&(S=0);var O=E.slice();A&&M&&(O[1]+=S);var C=h.angularAxis.ticksCount||4;C>8&&(C=C/(C/8)+C%8),h.angularAxis.ticksStep&&(C=(O[1]-O[0])/C);var L=h.angularAxis.ticksStep||(O[1]-O[0])/(C*(h.minorTicks+1));w&&(L=Math.max(Math.round(L),1)),O[2]||(O[2]=L);var R=r.range.apply(this,O);if(R=R.map((function(e,t){return parseFloat(e.toPrecision(12))})),s=r.scale.linear().domain(O.slice(0,2)).range("clockwise"===h.direction?[0,360]:[360,0]),c.layout.angularAxis.domain=s.domain(),c.layout.angularAxis.endPadding=A?S:0,"undefined"===typeof(e=r.select(this).select("svg.chart-root"))||e.empty()){var P="<svg xmlns='http://www.w3.org/2000/svg' class='chart-root'>' + '<g class='outer-group'>' + '<g class='chart-group'>' + '<circle class='background-circle'></circle>' + '<g class='geometry-group'></g>' + '<g class='radial axis-group'>' + '<circle class='outside-circle'></circle>' + '</g>' + '<g class='angular axis-group'></g>' + '<g class='guides-group'><line></line><circle r='0'></circle></g>' + '</g>' + '<g class='legend-group'></g>' + '<g class='tooltips-group'></g>' + '<g class='title-group'><text></text></g>' + '</g>' + '</svg>",j=(new DOMParser).parseFromString(P,"application/xml"),z=this.appendChild(this.ownerDocument.importNode(j.documentElement,!0));e=r.select(z)}e.select(".guides-group").style({"pointer-events":"none"}),e.select(".angular.axis-group").style({"pointer-events":"none"}),e.select(".radial.axis-group").style({"pointer-events":"none"});var I,N=e.select(".chart-group"),D={fill:"none",stroke:h.tickColor},F={"font-size":h.font.size,"font-family":h.font.family,fill:h.font.color,"text-shadow":["-1px 0px","1px -1px","-1px 1px","1px 1px"].map((function(e,t){return" "+e+" 0 "+h.font.outlineColor})).join(",")};if(h.showLegend){I=e.select(".legend-group").attr({transform:"translate("+[b,h.margin.top]+")"}).style({display:"block"});var B=d.map((function(e,t){var n=o.util.cloneJson(e);return n.symbol="DotPlot"===e.geometry?e.dotType||"circle":"LinePlot"!=e.geometry?"square":"line",n.visibleInLegend="undefined"===typeof e.visibleInLegend||e.visibleInLegend,n.color="LinePlot"===e.geometry?e.strokeColor:e.color,n}));o.Legend().config({data:d.map((function(e,t){return e.name||"Element"+t})),legendConfig:i({},o.Legend.defaultConfig().legendConfig,{container:I,elements:B,reverseOrder:h.legend.reverseOrder})})();var U=I.node().getBBox();b=Math.min(h.width-U.width-h.margin.left-h.margin.right,h.height-h.margin.top-h.margin.bottom)/2,b=Math.max(10,b),_=[h.margin.left+b,h.margin.top+b],n.range([0,b]),c.layout.radialAxis.domain=n.domain(),I.attr("transform","translate("+[_[0]+b,_[1]-b]+")")}else I=e.select(".legend-group").style({display:"none"});e.attr({width:h.width,height:h.height}).style({opacity:h.opacity}),N.attr("transform","translate("+_+")").style({cursor:"crosshair"});var V=[(h.width-(h.margin.left+h.margin.right+2*b+(U?U.width:0)))/2,(h.height-(h.margin.top+h.margin.bottom+2*b))/2];if(V[0]=Math.max(0,V[0]),V[1]=Math.max(0,V[1]),e.select(".outer-group").attr("transform","translate("+V+")"),h.title&&h.title.text){var H=e.select("g.title-group text").style(F).text(h.title.text),q=H.node().getBBox();H.attr({x:_[0]-q.width/2,y:_[1]-b-20})}var W=e.select(".radial.axis-group");if(h.radialAxis.gridLinesVisible){var G=W.selectAll("circle.grid-circle").data(n.ticks(5));G.enter().append("circle").attr({class:"grid-circle"}).style(D),G.attr("r",n),G.exit().remove()}W.select("circle.outside-circle").attr({r:b}).style(D);var X=e.select("circle.background-circle").attr({r:b}).style({fill:h.backgroundColor,stroke:h.stroke});function Y(e,t){return s(e)%360+h.orientation}if(h.radialAxis.visible){var Z=r.svg.axis().scale(n).ticks(5).tickSize(5);W.call(Z).attr({transform:"rotate("+h.radialAxis.orientation+")"}),W.selectAll(".domain").style(D),W.selectAll("g>text").text((function(e,t){return this.textContent+h.radialAxis.ticksSuffix})).style(F).style({"text-anchor":"start"}).attr({x:0,y:0,dx:0,dy:0,transform:function(e,t){return"horizontal"===h.radialAxis.tickOrientation?"rotate("+-h.radialAxis.orientation+") translate("+[0,F["font-size"]]+")":"translate("+[0,F["font-size"]]+")"}}),W.selectAll("g>line").style({stroke:"black"})}var $=e.select(".angular.axis-group").selectAll("g.angular-tick").data(R),K=$.enter().append("g").classed("angular-tick",!0);$.attr({transform:function(e,t){return"rotate("+Y(e,t)+")"}}).style({display:h.angularAxis.visible?"block":"none"}),$.exit().remove(),K.append("line").classed("grid-line",!0).classed("major",(function(e,t){return t%(h.minorTicks+1)==0})).classed("minor",(function(e,t){return!(t%(h.minorTicks+1)==0)})).style(D),K.selectAll(".minor").style({stroke:h.minorTickColor}),$.select("line.grid-line").attr({x1:h.tickLength?b-h.tickLength:0,x2:b}).style({display:h.angularAxis.gridLinesVisible?"block":"none"}),K.append("text").classed("axis-text",!0).style(F);var Q=$.select("text.axis-text").attr({x:b+h.labelOffset,dy:a+"em",transform:function(e,t){var n=Y(e,t),r=b+h.labelOffset,i=h.angularAxis.tickOrientation;return"horizontal"==i?"rotate("+-n+" "+r+" 0)":"radial"==i?n<270&&n>90?"rotate(180 "+r+" 0)":null:"rotate("+(n<=180&&n>0?-90:90)+" "+r+" 0)"}}).style({"text-anchor":"middle",display:h.angularAxis.labelsVisible?"block":"none"}).text((function(e,t){return t%(h.minorTicks+1)!=0?"":w?w[e]+h.angularAxis.ticksSuffix:e+h.angularAxis.ticksSuffix})).style(F);h.angularAxis.rewriteTicks&&Q.text((function(e,t){return t%(h.minorTicks+1)!=0?"":h.angularAxis.rewriteTicks(this.textContent,t)}));var J=r.max(N.selectAll(".angular-tick text")[0].map((function(e,t){return e.getCTM().e+e.getBBox().width})));I.attr({transform:"translate("+[b+J,h.margin.top]+")"});var ee=e.select("g.geometry-group").selectAll("g").size()>0,te=e.select("g.geometry-group").selectAll("g.geometry").data(d);if(te.enter().append("g").attr({class:function(e,t){return"geometry geometry"+t}}),te.exit().remove(),d[0]||ee){var ne=[];d.forEach((function(e,t){var r={};r.radialScale=n,r.angularScale=s,r.container=te.filter((function(e,n){return n==t})),r.geometry=e.geometry,r.orientation=h.orientation,r.direction=h.direction,r.index=t,ne.push({data:e,geometryConfig:r})}));var re=r.nest().key((function(e,t){return"undefined"!=typeof e.data.groupId||"unstacked"})).entries(ne),ie=[];re.forEach((function(e,t){"unstacked"===e.key?ie=ie.concat(e.values.map((function(e,t){return[e]}))):ie.push(e.values)})),ie.forEach((function(e,t){var n;n=Array.isArray(e)?e[0].geometryConfig.geometry:e.geometryConfig.geometry;var r=e.map((function(e,t){return i(o[n].defaultConfig(),e)}));o[n]().config(r)()}))}var ae,oe,se=e.select(".guides-group"),le=e.select(".tooltips-group"),ue=o.tooltipPanel().config({container:le,fontSize:8})(),ce=o.tooltipPanel().config({container:le,fontSize:8})(),fe=o.tooltipPanel().config({container:le,hasTick:!0})();if(!M){var de=se.select("line").attr({x1:0,y1:0,y2:0}).style({stroke:"grey","pointer-events":"none"});N.on("mousemove.angular-guide",(function(e,t){var n=o.util.getMousePos(X).angle;de.attr({x2:-b,transform:"rotate("+n+")"}).style({opacity:.5});var r=(n+180+360-h.orientation)%360;ae=s.invert(r);var i=o.util.convertToCartesian(b+12,n+180);ue.text(o.util.round(ae)).move([i[0]+_[0],i[1]+_[1]])})).on("mouseout.angular-guide",(function(e,t){se.select("line").style({opacity:0})}))}var he=se.select("circle").style({stroke:"grey",fill:"none"});N.on("mousemove.radial-guide",(function(e,t){var r=o.util.getMousePos(X).radius;he.attr({r:r}).style({opacity:.5}),oe=n.invert(o.util.getMousePos(X).radius);var i=o.util.convertToCartesian(r,h.radialAxis.orientation);ce.text(o.util.round(oe)).move([i[0]+_[0],i[1]+_[1]])})).on("mouseout.radial-guide",(function(e,t){he.style({opacity:0}),fe.hide(),ue.hide(),ce.hide()})),e.selectAll(".geometry-group .mark").on("mouseover.tooltip",(function(t,n){var i=r.select(this),a=this.style.fill,s="black",l=this.style.opacity||1;if(i.attr({"data-opacity":l}),a&&"none"!==a){i.attr({"data-fill":a}),s=r.hsl(a).darker().toString(),i.style({fill:s,opacity:1});var u={t:o.util.round(t[0]),r:o.util.round(t[1])};M&&(u.t=w[t[0]]);var c="t: "+u.t+", r: "+u.r,f=this.getBoundingClientRect(),d=e.node().getBoundingClientRect(),h=[f.left+f.width/2-V[0]-d.left,f.top+f.height/2-V[1]-d.top];fe.config({color:s}).text(c),fe.move(h)}else a=this.style.stroke||"black",i.attr({"data-stroke":a}),s=r.hsl(a).darker().toString(),i.style({stroke:s,opacity:1})})).on("mousemove.tooltip",(function(e,t){if(0!=r.event.which)return!1;r.select(this).attr("data-fill")&&fe.show()})).on("mouseout.tooltip",(function(e,t){fe.hide();var n=r.select(this),i=n.attr("data-fill");i?n.style({fill:i,opacity:n.attr("data-opacity")}):n.style({stroke:n.attr("data-stroke"),opacity:n.attr("data-opacity")})}))})),d}return d.render=function(e){return h(e),this},d.config=function(e){if(!arguments.length)return l;var t=o.util.cloneJson(e);return t.data.forEach((function(e,t){l.data[t]||(l.data[t]={}),i(l.data[t],o.Axis.defaultConfig().data[0]),i(l.data[t],e)})),i(l.layout,o.Axis.defaultConfig().layout),i(l.layout,t.layout),this},d.getLiveConfig=function(){return c},d.getinputConfig=function(){return u},d.radialScale=function(e){return n},d.angularScale=function(e){return s},d.svg=function(){return e},r.rebind(d,f,"on"),d},o.Axis.defaultConfig=function(e,t){return{data:[{t:[1,2,3,4],r:[10,11,12,13],name:"Line1",geometry:"LinePlot",color:null,strokeDash:"solid",strokeColor:null,strokeSize:"1",visibleInLegend:!0,opacity:1}],layout:{defaultColorRange:r.scale.category10().range(),title:null,height:450,width:500,margin:{top:40,right:40,bottom:40,left:40},font:{size:12,color:"gray",outlineColor:"white",family:"Tahoma, sans-serif"},direction:"clockwise",orientation:0,labelOffset:10,radialAxis:{domain:null,orientation:-45,ticksSuffix:"",visible:!0,gridLinesVisible:!0,tickOrientation:"horizontal",rewriteTicks:null},angularAxis:{domain:[0,360],ticksSuffix:"",visible:!0,gridLinesVisible:!0,labelsVisible:!0,tickOrientation:"horizontal",rewriteTicks:null,ticksCount:null,ticksStep:null},minorTicks:0,tickLength:null,tickColor:"silver",minorTickColor:"#eee",backgroundColor:"none",needsEndSpacing:null,showLegend:!0,legend:{reverseOrder:!1},opacity:1}}},o.util={},o.DATAEXTENT="dataExtent",o.AREA="AreaChart",o.LINE="LinePlot",o.DOT="DotPlot",o.BAR="BarChart",o.util._override=function(e,t){for(var n in e)n in t&&(t[n]=e[n])},o.util._extend=function(e,t){for(var n in e)t[n]=e[n]},o.util._rndSnd=function(){return 2*Math.random()-1+(2*Math.random()-1)+(2*Math.random()-1)},o.util.dataFromEquation2=function(e,t){var n=t||6;return r.range(0,360+n,n).map((function(t,n){var r=t*Math.PI/180;return[t,e(r)]}))},o.util.dataFromEquation=function(e,t,n){var i=t||6,a=[],o=[];r.range(0,360+i,i).forEach((function(t,n){var r=t*Math.PI/180,i=e(r);a.push(t),o.push(i)}));var s={t:a,r:o};return n&&(s.name=n),s},o.util.ensureArray=function(e,t){if("undefined"===typeof e)return null;var n=[].concat(e);return r.range(t).map((function(e,t){return n[t]||n[0]}))},o.util.fillArrays=function(e,t,n){return t.forEach((function(t,r){e[t]=o.util.ensureArray(e[t],n)})),e},o.util.cloneJson=function(e){return JSON.parse(JSON.stringify(e))},o.util.validateKeys=function(e,t){"string"===typeof t&&(t=t.split("."));var n=t.shift();return e[n]&&(!t.length||objHasKeys(e[n],t))},o.util.sumArrays=function(e,t){return r.zip(e,t).map((function(e,t){return r.sum(e)}))},o.util.arrayLast=function(e){return e[e.length-1]},o.util.arrayEqual=function(e,t){for(var n=Math.max(e.length,t.length,1);n-- >=0&&e[n]===t[n];);return-2===n},o.util.flattenArray=function(e){for(var t=[];!o.util.arrayEqual(t,e);)t=e,e=[].concat.apply([],e);return e},o.util.deduplicate=function(e){return e.filter((function(e,t,n){return n.indexOf(e)==t}))},o.util.convertToCartesian=function(e,t){var n=t*Math.PI/180;return[e*Math.cos(n),e*Math.sin(n)]},o.util.round=function(e,t){var n=t||2,r=Math.pow(10,n);return Math.round(e*r)/r},o.util.getMousePos=function(e){var t=r.mouse(e.node()),n=t[0],i=t[1],a={};return a.x=n,a.y=i,a.pos=t,a.angle=180*(Math.atan2(i,n)+Math.PI)/Math.PI,a.radius=Math.sqrt(n*n+i*i),a},o.util.duplicatesCount=function(e){for(var t,n={},r={},i=0,a=e.length;i<a;i++)(t=e[i])in n?(n[t]++,r[t]=n[t]):n[t]=1;return r},o.util.duplicates=function(e){return Object.keys(o.util.duplicatesCount(e))},o.util.translator=function(e,t,n,r){if(r){var i=n.slice();n=t,t=i}var a=t.reduce((function(e,t){if("undefined"!=typeof e)return e[t]}),e);"undefined"!==typeof a&&(t.reduce((function(e,n,r){if("undefined"!=typeof e)return r===t.length-1&&delete e[n],e[n]}),e),n.reduce((function(e,t,r){return"undefined"===typeof e[t]&&(e[t]={}),r===n.length-1&&(e[t]=a),e[t]}),e))},o.PolyChart=function(){var e,t=[o.PolyChart.defaultConfig()],n=r.dispatch("hover"),a={solid:"none",dash:[5,2],dot:[2,5]};function s(){var e=t[0].geometryConfig,n=e.container;"string"==typeof n&&(n=r.select(n)),n.datum(t).each((function(t,n){var i=!!t[0].data.yStack,o=t.map((function(e,t){return i?r.zip(e.data.t[0],e.data.r[0],e.data.yStack[0]):r.zip(e.data.t[0],e.data.r[0])})),s=e.angularScale,l=e.radialScale.domain()[0],u={bar:function(n,i,a){var o=t[a].data,l=e.radialScale(n[1])-e.radialScale(0),u=e.radialScale(n[2]||0),c=o.barWidth;r.select(this).attr({class:"mark bar",d:"M"+[[l+u,-c/2],[l+u,c/2],[u,c/2],[u,-c/2]].join("L")+"Z",transform:function(t,n){return"rotate("+(e.orientation+s(t[0]))+")"}})},dot:function(e,n,i){var a=e[2]?[e[0],e[1]+e[2]]:e,o=r.svg.symbol().size(t[i].data.dotSize).type(t[i].data.dotType)(e,n);r.select(this).attr({class:"mark dot",d:o,transform:function(e,t){var n=y(m(a));return"translate("+[n.x,n.y]+")"}})}},c=r.svg.line.radial().interpolate(t[0].data.lineInterpolation).radius((function(t){return e.radialScale(t[1])})).angle((function(t){return e.angularScale(t[0])*Math.PI/180}));u.line=function(n,i,a){var s=n[2]?o[a].map((function(e,t){return[e[0],e[1]+e[2]]})):o[a];if(r.select(this).each(u.dot).style({opacity:function(e,n){return+t[a].data.dotVisible},fill:p.stroke(n,i,a)}).attr({class:"mark dot"}),!(i>0)){var l=r.select(this.parentNode).selectAll("path.line").data([0]);l.enter().insert("path"),l.attr({class:"line",d:c(s),transform:function(t,n){return"rotate("+(e.orientation+90)+")"},"pointer-events":"none"}).style({fill:function(e,t){return p.fill(n,i,a)},"fill-opacity":0,stroke:function(e,t){return p.stroke(n,i,a)},"stroke-width":function(e,t){return p["stroke-width"](n,i,a)},"stroke-dasharray":function(e,t){return p["stroke-dasharray"](n,i,a)},opacity:function(e,t){return p.opacity(n,i,a)},display:function(e,t){return p.display(n,i,a)}})}};var f=e.angularScale.range(),d=Math.abs(f[1]-f[0])/o[0].length*Math.PI/180,h=r.svg.arc().startAngle((function(e){return-d/2})).endAngle((function(e){return d/2})).innerRadius((function(t){return e.radialScale(l+(t[2]||0))})).outerRadius((function(t){return e.radialScale(l+(t[2]||0))+e.radialScale(t[1])}));u.arc=function(t,n,i){r.select(this).attr({class:"mark arc",d:h,transform:function(t,n){return"rotate("+(e.orientation+s(t[0])+90)+")"}})};var p={fill:function(e,n,r){return t[r].data.color},stroke:function(e,n,r){return t[r].data.strokeColor},"stroke-width":function(e,n,r){return t[r].data.strokeSize+"px"},"stroke-dasharray":function(e,n,r){return a[t[r].data.strokeDash]},opacity:function(e,n,r){return t[r].data.opacity},display:function(e,n,r){return"undefined"===typeof t[r].data.visible||t[r].data.visible?"block":"none"}},g=r.select(this).selectAll("g.layer").data(o);g.enter().append("g").attr({class:"layer"});var v=g.selectAll("path.mark").data((function(e,t){return e}));function m(t,n){return{r:e.radialScale(t[1]),t:(e.angularScale(t[0])+e.orientation)*Math.PI/180}}function y(e){return{x:e.r*Math.cos(e.t),y:e.r*Math.sin(e.t)}}v.enter().append("path").attr({class:"mark"}),v.style(p).each(u[e.geometryType]),v.exit().remove(),g.exit().remove()}))}return s.config=function(e){return arguments.length?(e.forEach((function(e,n){t[n]||(t[n]={}),i(t[n],o.PolyChart.defaultConfig()),i(t[n],e)})),this):t},s.getColorScale=function(){return e},r.rebind(s,n,"on"),s},o.PolyChart.defaultConfig=function(){return{data:{name:"geom1",t:[[1,2,3,4]],r:[[1,2,3,4]],dotType:"circle",dotSize:64,dotVisible:!1,barWidth:20,color:"#ffa500",strokeSize:1,strokeColor:"silver",strokeDash:"solid",opacity:1,index:0,visible:!0,visibleInLegend:!0},geometryConfig:{geometry:"LinePlot",geometryType:"arc",direction:"clockwise",orientation:0,container:"body",radialScale:null,angularScale:null,colorScale:r.scale.category20()}}},o.BarChart=function(){return o.PolyChart()},o.BarChart.defaultConfig=function(){return{geometryConfig:{geometryType:"bar"}}},o.AreaChart=function(){return o.PolyChart()},o.AreaChart.defaultConfig=function(){return{geometryConfig:{geometryType:"arc"}}},o.DotPlot=function(){return o.PolyChart()},o.DotPlot.defaultConfig=function(){return{geometryConfig:{geometryType:"dot",dotType:"circle"}}},o.LinePlot=function(){return o.PolyChart()},o.LinePlot.defaultConfig=function(){return{geometryConfig:{geometryType:"line"}}},o.Legend=function(){var e=o.Legend.defaultConfig(),t=r.dispatch("hover");function n(){var t=e.legendConfig,a=e.data.map((function(e,n){return[].concat(e).map((function(e,r){var a=i({},t.elements[n]);return a.name=e,a.color=[].concat(t.elements[n].color)[r],a}))})),o=r.merge(a);o=o.filter((function(e,n){return t.elements[n]&&(t.elements[n].visibleInLegend||"undefined"===typeof t.elements[n].visibleInLegend)})),t.reverseOrder&&(o=o.reverse());var s=t.container;("string"==typeof s||s.nodeName)&&(s=r.select(s));var l=o.map((function(e,t){return e.color})),u=t.fontSize,c=null==t.isContinuous?"number"===typeof o[0]:t.isContinuous,f=c?t.height:u*o.length,d=s.classed("legend-group",!0).selectAll("svg").data([0]),h=d.enter().append("svg").attr({width:300,height:f+u,xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",version:"1.1"});h.append("g").classed("legend-axis",!0),h.append("g").classed("legend-marks",!0);var p=r.range(o.length),g=r.scale[c?"linear":"ordinal"]().domain(p).range(l),v=r.scale[c?"linear":"ordinal"]().domain(p)[c?"range":"rangePoints"]([0,f]),m=function(e,t){var n=3*t;return"line"===e?"M"+[[-t/2,-t/12],[t/2,-t/12],[t/2,t/12],[-t/2,t/12]]+"Z":-1!=r.svg.symbolTypes.indexOf(e)?r.svg.symbol().type(e).size(n)():r.svg.symbol().type("square").size(n)()};if(c){var y=d.select(".legend-marks").append("defs").append("linearGradient").attr({id:"grad1",x1:"0%",y1:"0%",x2:"0%",y2:"100%"}).selectAll("stop").data(l);y.enter().append("stop"),y.attr({offset:function(e,t){return t/(l.length-1)*100+"%"}}).style({"stop-color":function(e,t){return e}}),d.append("rect").classed("legend-mark",!0).attr({height:t.height,width:t.colorBandWidth,fill:"url(#grad1)"})}else{var b=d.select(".legend-marks").selectAll("path.legend-mark").data(o);b.enter().append("path").classed("legend-mark",!0),b.attr({transform:function(e,t){return"translate("+[u/2,v(t)+u/2]+")"},d:function(e,t){var n=e.symbol;return m(n,u)},fill:function(e,t){return g(t)}}),b.exit().remove()}var x=r.svg.axis().scale(v).orient("right"),_=d.select("g.legend-axis").attr({transform:"translate("+[c?t.colorBandWidth:u,u/2]+")"}).call(x);return _.selectAll(".domain").style({fill:"none",stroke:"none"}),_.selectAll("line").style({fill:"none",stroke:c?t.textColor:"none"}),_.selectAll("text").style({fill:t.textColor,"font-size":t.fontSize}).text((function(e,t){return o[t].name})),n}return n.config=function(t){return arguments.length?(i(e,t),this):e},r.rebind(n,t,"on"),n},o.Legend.defaultConfig=function(e,t){return{data:["a","b","c"],legendConfig:{elements:[{symbol:"line",color:"red"},{symbol:"square",color:"yellow"},{symbol:"diamond",color:"limegreen"}],height:150,colorBandWidth:30,fontSize:12,container:"body",isContinuous:null,textColor:"grey",reverseOrder:!1}}},o.tooltipPanel=function(){var e,t,n,a={container:null,hasTick:!1,fontSize:12,color:"white",padding:5},s="tooltip-"+o.tooltipPanel.uid++,l=10,u=function r(){var i=(e=a.container.selectAll("g."+s).data([0])).enter().append("g").classed(s,!0).style({"pointer-events":"none",display:"none"});return n=i.append("path").style({fill:"white","fill-opacity":.9}).attr({d:"M0 0"}),t=i.append("text").attr({dx:a.padding+l,dy:.3*+a.fontSize}),r};return u.text=function(i){var o=r.hsl(a.color).l,s=o>=.5?"#aaa":"white",c=o>=.5?"black":"white",f=i||"";t.style({fill:c,"font-size":a.fontSize+"px"}).text(f);var d=a.padding,h=t.node().getBBox(),p={fill:a.color,stroke:s,"stroke-width":"2px"},g=h.width+2*d+l,v=h.height+2*d;return n.attr({d:"M"+[[l,-v/2],[l,-v/4],[a.hasTick?0:l,0],[l,v/4],[l,v/2],[g,v/2],[g,-v/2]].join("L")+"Z"}).style(p),e.attr({transform:"translate("+[l,-v/2+2*d]+")"}),e.style({display:"block"}),u},u.move=function(t){if(e)return e.attr({transform:"translate("+[t[0],t[1]]+")"}).style({display:"block"}),u},u.hide=function(){if(e)return e.style({display:"none"}),u},u.show=function(){if(e)return e.style({display:"block"}),u},u.config=function(e){return i(a,e),u},u},o.tooltipPanel.uid=1,o.adapter={},o.adapter.plotly=function(){var e={convert:function(e,t){var n={};if(e.data&&(n.data=e.data.map((function(e,n){var r=i({},e);return[[r,["marker","color"],["color"]],[r,["marker","opacity"],["opacity"]],[r,["marker","line","color"],["strokeColor"]],[r,["marker","line","dash"],["strokeDash"]],[r,["marker","line","width"],["strokeSize"]],[r,["marker","symbol"],["dotType"]],[r,["marker","size"],["dotSize"]],[r,["marker","barWidth"],["barWidth"]],[r,["line","interpolation"],["lineInterpolation"]],[r,["showlegend"],["visibleInLegend"]]].forEach((function(e,n){o.util.translator.apply(null,e.concat(t))})),t||delete r.marker,t&&delete r.groupId,t?("LinePlot"===r.geometry?(r.type="scatter",!0===r.dotVisible?(delete r.dotVisible,r.mode="lines+markers"):r.mode="lines"):"DotPlot"===r.geometry?(r.type="scatter",r.mode="markers"):"AreaChart"===r.geometry?r.type="area":"BarChart"===r.geometry&&(r.type="bar"),delete r.geometry):("scatter"===r.type?"lines"===r.mode?r.geometry="LinePlot":"markers"===r.mode?r.geometry="DotPlot":"lines+markers"===r.mode&&(r.geometry="LinePlot",r.dotVisible=!0):"area"===r.type?r.geometry="AreaChart":"bar"===r.type&&(r.geometry="BarChart"),delete r.mode,delete r.type),r})),!t&&e.layout&&"stack"===e.layout.barmode)){var a=o.util.duplicates(n.data.map((function(e,t){return e.geometry})));n.data.forEach((function(e,t){var r=a.indexOf(e.geometry);-1!=r&&(n.data[t].groupId=r)}))}if(e.layout){var s=i({},e.layout);if([[s,["plot_bgcolor"],["backgroundColor"]],[s,["showlegend"],["showLegend"]],[s,["radialaxis"],["radialAxis"]],[s,["angularaxis"],["angularAxis"]],[s.angularaxis,["showline"],["gridLinesVisible"]],[s.angularaxis,["showticklabels"],["labelsVisible"]],[s.angularaxis,["nticks"],["ticksCount"]],[s.angularaxis,["tickorientation"],["tickOrientation"]],[s.angularaxis,["ticksuffix"],["ticksSuffix"]],[s.angularaxis,["range"],["domain"]],[s.angularaxis,["endpadding"],["endPadding"]],[s.radialaxis,["showline"],["gridLinesVisible"]],[s.radialaxis,["tickorientation"],["tickOrientation"]],[s.radialaxis,["ticksuffix"],["ticksSuffix"]],[s.radialaxis,["range"],["domain"]],[s.angularAxis,["showline"],["gridLinesVisible"]],[s.angularAxis,["showticklabels"],["labelsVisible"]],[s.angularAxis,["nticks"],["ticksCount"]],[s.angularAxis,["tickorientation"],["tickOrientation"]],[s.angularAxis,["ticksuffix"],["ticksSuffix"]],[s.angularAxis,["range"],["domain"]],[s.angularAxis,["endpadding"],["endPadding"]],[s.radialAxis,["showline"],["gridLinesVisible"]],[s.radialAxis,["tickorientation"],["tickOrientation"]],[s.radialAxis,["ticksuffix"],["ticksSuffix"]],[s.radialAxis,["range"],["domain"]],[s.font,["outlinecolor"],["outlineColor"]],[s.legend,["traceorder"],["reverseOrder"]],[s,["labeloffset"],["labelOffset"]],[s,["defaultcolorrange"],["defaultColorRange"]]].forEach((function(e,n){o.util.translator.apply(null,e.concat(t))})),t?("undefined"!==typeof s.tickLength&&(s.angularaxis.ticklen=s.tickLength,delete s.tickLength),s.tickColor&&(s.angularaxis.tickcolor=s.tickColor,delete s.tickColor)):(s.angularAxis&&"undefined"!==typeof s.angularAxis.ticklen&&(s.tickLength=s.angularAxis.ticklen),s.angularAxis&&"undefined"!==typeof s.angularAxis.tickcolor&&(s.tickColor=s.angularAxis.tickcolor)),s.legend&&"boolean"!=typeof s.legend.reverseOrder&&(s.legend.reverseOrder="normal"!=s.legend.reverseOrder),s.legend&&"boolean"==typeof s.legend.traceorder&&(s.legend.traceorder=s.legend.traceorder?"reversed":"normal",delete s.legend.reverseOrder),s.margin&&"undefined"!=typeof s.margin.t){var l=["t","r","b","l","pad"],u=["top","right","bottom","left","pad"],c={};r.entries(s.margin).forEach((function(e,t){c[u[l.indexOf(e.key)]]=e.value})),s.margin=c}t&&(delete s.needsEndSpacing,delete s.minorTickColor,delete s.minorTicks,delete s.angularaxis.ticksCount,delete s.angularaxis.ticksCount,delete s.angularaxis.ticksStep,delete s.angularaxis.rewriteTicks,delete s.angularaxis.nticks,delete s.radialaxis.ticksCount,delete s.radialaxis.ticksCount,delete s.radialaxis.ticksStep,delete s.radialaxis.rewriteTicks,delete s.radialaxis.nticks),n.layout=s}return n}};return e}},{"../../../constants/alignment":496,"../../../lib":524,d3:82}],622:[function(e,t,n){"use strict";var r=e("d3"),i=e("../../../lib"),a=e("../../../components/color"),o=e("./micropolar"),s=e("./undo_manager"),l=i.extendDeepAll,u=t.exports={};u.framework=function(e){var t,n,i,a,c,f=new s;function d(n,s){return s&&(c=s),r.select(r.select(c).node().parentNode).selectAll(".svg-container>*:not(.chart-root)").remove(),t=t?l(t,n):n,i||(i=o.Axis()),a=o.adapter.plotly().convert(t),i.config(a).render(c),e.data=t.data,e.layout=t.layout,u.fillLayout(e),t}return d.isPolar=!0,d.svg=function(){return i.svg()},d.getConfig=function(){return t},d.getLiveConfig=function(){return o.adapter.plotly().convert(i.getLiveConfig(),!0)},d.getLiveScales=function(){return{t:i.angularScale(),r:i.radialScale()}},d.setUndoPoint=function(){var e,r,i=this,a=o.util.cloneJson(t);e=a,r=n,f.add({undo:function(){r&&i(r)},redo:function(){i(e)}}),n=o.util.cloneJson(a)},d.undo=function(){f.undo()},d.redo=function(){f.redo()},d},u.fillLayout=function(e){var t=r.select(e).selectAll(".plot-container"),n=t.selectAll(".svg-container"),i=e.framework&&e.framework.svg&&e.framework.svg(),o={width:800,height:600,paper_bgcolor:a.background,_container:t,_paperdiv:n,_paper:i};e._fullLayout=l(o,e.layout)}},{"../../../components/color":394,"../../../lib":524,"./micropolar":621,"./undo_manager":623,d3:82}],623:[function(e,t,n){"use strict";t.exports=function(){var e,t=[],n=-1,r=!1;function i(e,t){return e?(r=!0,e[t](),r=!1,this):this}return{add:function(e){return r||(t.splice(n+1,t.length-n),t.push(e),n=t.length-1),this},setCallback:function(t){e=t},undo:function(){var r=t[n];return r?(i(r,"undo"),n-=1,e&&e(r.undo),this):this},redo:function(){var r=t[n+1];return r?(i(r,"redo"),n+=1,e&&e(r.redo),this):this},clear:function(){t=[],n=-1},hasUndo:function(){return-1!==n},hasRedo:function(){return n<t.length-1},getCommands:function(){return t},getPreviousCommand:function(){return t[n-1]},getIndex:function(){return n}}}},{}],624:[function(e,t,n){"use strict";var r=e("../lib"),i=e("../plot_api/plot_template"),a=e("./domain").defaults;t.exports=function(e,t,n,o){var s,l,u=o.type,c=o.attributes,f=o.handleDefaults,d=o.partition||"x",h=t._subplots[u],p=h.length,g=p&&h[0].replace(/\d+$/,"");function v(e,t){return r.coerce(s,l,c,e,t)}for(var m=0;m<p;m++){var y=h[m];s=e[y]?e[y]:e[y]={},l=i.newContainer(t,y,g),v("uirevision",t.uirevision);var b={};b[d]=[m/p,(m+1)/p],a(l,t,v,b),o.id=y,f(s,l,v,o)}}},{"../lib":524,"../plot_api/plot_template":561,"./domain":599}],625:[function(e,t,n){"use strict";function r(e){var t=e.description?" "+e.description:"",n=e.keys||[];if(n.length>0){for(var r=[],i=0;i<n.length;i++)r[i]="`"+n[i]+"`";t+="Finally, the template string has access to ",t=1===n.length?"variable "+r[0]:"variables "+r.slice(0,-1).join(", ")+" and "+r.slice(-1)+"."}return t}['Variables are inserted using %{variable}, for example "y: %{y}".','Numbers are formatted using d3-format\'s syntax %{variable:d3-format}, for example "Price: %{y:$.2f}".',e("../constants/docs").FORMAT_LINK,"for details on the formatting syntax.",'Dates are formatted using d3-time-format\'s syntax %{variable|d3-time-format}, for example "Day: %{2019-01-01|%A}".',e("../constants/docs").DATE_FORMAT_LINK,"for details on the date formatting syntax."].join(" "),n.hovertemplateAttrs=function(e,t){e=e||{},r(t=t||{});var n={valType:"string",dflt:"",editType:e.editType||"none"};return!1!==e.arrayOk&&(n.arrayOk=!0),n},n.texttemplateAttrs=function(e,t){e=e||{},r(t=t||{});var n={valType:"string",dflt:"",editType:e.editType||"calc"};return!1!==e.arrayOk&&(n.arrayOk=!0),n}},{"../constants/docs":498}],626:[function(e,t,n){"use strict";var r=e("./lib/loggers"),i=e("./lib/noop"),a=e("./lib/push_unique"),o=e("./lib/is_plain_object"),s=e("./lib/dom").addStyleRule,l=e("./lib/extend"),u=e("./plots/attributes"),c=e("./plots/layout_attributes"),f=l.extendFlat,d=l.extendDeepAll;function h(e){var t=e.name,i=e.categories,a=e.meta;if(n.modules[t])r.log("Type "+t+" already registered");else{n.subplotsRegistry[e.basePlotModule.name]||p(e.basePlotModule);for(var o={},l=0;l<i.length;l++)o[i[l]]=!0,n.allCategories[i[l]]=!0;for(var u in n.modules[t]={_module:e,categories:o},a&&Object.keys(a).length&&(n.modules[t].meta=a),n.allTypes.push(t),n.componentsRegistry)b(u,t);e.layoutAttributes&&f(n.traceLayoutAttributes,e.layoutAttributes);var c=e.basePlotModule,d=c.name;if("mapbox"===d){var h=c.constants.styleRules;for(var g in h)s(".js-plotly-plot .plotly .mapboxgl-"+g,h[g])}"geo"!==d&&"mapbox"!==d||void 0===typeof window||void 0!==window.PlotlyGeoAssets||(window.PlotlyGeoAssets={topojson:{}})}}function p(e){var t=e.name;if(n.subplotsRegistry[t])r.log("Plot type "+t+" already registered.");else for(var i in y(e),n.subplotsRegistry[t]=e,n.componentsRegistry)_(i,e.name)}function g(e){if("string"!==typeof e.name)throw new Error("Component module *name* must be a string.");var t=e.name;for(var r in n.componentsRegistry[t]=e,e.layoutAttributes&&(e.layoutAttributes._isLinkedToArray&&a(n.layoutArrayContainers,t),y(e)),n.modules)b(t,r);for(var i in n.subplotsRegistry)_(t,i);for(var o in n.transformsRegistry)x(t,o);e.schema&&e.schema.layout&&d(c,e.schema.layout)}function v(e){if("string"!==typeof e.name)throw new Error("Transform module *name* must be a string.");var t="Transform module "+e.name,i="function"===typeof e.transform,a="function"===typeof e.calcTransform;if(!i&&!a)throw new Error(t+" is missing a *transform* or *calcTransform* method.");for(var s in i&&a&&r.log([t+" has both a *transform* and *calcTransform* methods.","Please note that all *transform* methods are executed","before all *calcTransform* methods."].join(" ")),o(e.attributes)||r.log(t+" registered without an *attributes* object."),"function"!==typeof e.supplyDefaults&&r.log(t+" registered without a *supplyDefaults* method."),n.transformsRegistry[e.name]=e,n.componentsRegistry)x(s,e.name)}function m(e){var t=e.name,r=t.split("-")[0],i=e.dictionary,a=e.format,o=i&&Object.keys(i).length,s=a&&Object.keys(a).length,l=n.localeRegistry,u=l[t];if(u||(l[t]=u={}),r!==t){var c=l[r];c||(l[r]=c={}),o&&c.dictionary===u.dictionary&&(c.dictionary=i),s&&c.format===u.format&&(c.format=a)}o&&(u.dictionary=i),s&&(u.format=a)}function y(e){if(e.layoutAttributes){var t=e.layoutAttributes._arrayAttrRegexps;if(t)for(var r=0;r<t.length;r++)a(n.layoutArrayRegexes,t[r])}}function b(e,t){var r=n.componentsRegistry[e].schema;if(r&&r.traces){var i=r.traces[t];i&&d(n.modules[t]._module.attributes,i)}}function x(e,t){var r=n.componentsRegistry[e].schema;if(r&&r.transforms){var i=r.transforms[t];i&&d(n.transformsRegistry[t].attributes,i)}}function _(e,t){var r=n.componentsRegistry[e].schema;if(r&&r.subplots){var i=n.subplotsRegistry[t],a=i.layoutAttributes,o="subplot"===i.attr?i.name:i.attr;Array.isArray(o)&&(o=o[0]);var s=r.subplots[o];a&&s&&d(a,s)}}function w(e){return"object"===typeof e&&(e=e.type),e}n.modules={},n.allCategories={},n.allTypes=[],n.subplotsRegistry={},n.transformsRegistry={},n.componentsRegistry={},n.layoutArrayContainers=[],n.layoutArrayRegexes=[],n.traceLayoutAttributes={},n.localeRegistry={},n.apiMethodRegistry={},n.collectableSubplotTypes=null,n.register=function(e){if(n.collectableSubplotTypes=null,!e)throw new Error("No argument passed to Plotly.register.");e&&!Array.isArray(e)&&(e=[e]);for(var t=0;t<e.length;t++){var r=e[t];if(!r)throw new Error("Invalid module was attempted to be registered!");switch(r.moduleType){case"trace":h(r);break;case"transform":v(r);break;case"component":g(r);break;case"locale":m(r);break;case"apiMethod":var i=r.name;n.apiMethodRegistry[i]=r.fn;break;default:throw new Error("Invalid module was attempted to be registered!")}}},n.getModule=function(e){var t=n.modules[w(e)];return!!t&&t._module},n.traceIs=function(e,t){if("various"===(e=w(e)))return!1;var i=n.modules[e];return i||(e&&"area"!==e&&r.log("Unrecognized trace type "+e+"."),i=n.modules[u.type.dflt]),!!i.categories[t]},n.getTransformIndices=function(e,t){for(var n=[],r=e.transforms||[],i=0;i<r.length;i++)r[i].type===t&&n.push(i);return n},n.hasTransform=function(e,t){for(var n=e.transforms||[],r=0;r<n.length;r++)if(n[r].type===t)return!0;return!1},n.getComponentMethod=function(e,t){var r=n.componentsRegistry[e];return r&&r[t]||i},n.call=function(){var e=arguments[0],t=[].slice.call(arguments,1);return n.apiMethodRegistry[e].apply(null,t)}},{"./lib/dom":515,"./lib/extend":517,"./lib/is_plain_object":525,"./lib/loggers":528,"./lib/noop":533,"./lib/push_unique":538,"./plots/attributes":568,"./plots/layout_attributes":615}],627:[function(e,t,n){"use strict";var r=e("../registry"),i=e("../lib"),a=i.extendFlat,o=i.extendDeep;function s(e){var t;switch(e){case"themes__thumb":t={autosize:!0,width:150,height:150,title:{text:""},showlegend:!1,margin:{l:5,r:5,t:5,b:5,pad:0},annotations:[]};break;case"thumbnail":t={title:{text:""},hidesources:!0,showlegend:!1,borderwidth:0,bordercolor:"",margin:{l:1,r:1,t:1,b:1,pad:0},annotations:[]};break;default:t={}}return t}function l(e){return["xaxis","yaxis","zaxis"].indexOf(e.slice(0,5))>-1}t.exports=function(e,t){var n;e.framework&&e.framework.isPolar&&(e=e.framework.getConfig());var i=e.data,u=e.layout,c=o([],i),f=o({},u,s(t.tileClass)),d=e._context||{};if(t.width&&(f.width=t.width),t.height&&(f.height=t.height),"thumbnail"===t.tileClass||"themes__thumb"===t.tileClass){f.annotations=[];var h=Object.keys(f);for(n=0;n<h.length;n++)l(h[n])&&(f[h[n]].title={text:""});for(n=0;n<c.length;n++){var p=c[n];p.showscale=!1,p.marker&&(p.marker.showscale=!1),r.traceIs(p,"pie-like")&&(p.textposition="none")}}if(Array.isArray(t.annotations))for(n=0;n<t.annotations.length;n++)f.annotations.push(t.annotations[n]);var g=Object.keys(f).filter((function(e){return e.match(/^scene\d*$/)}));if(g.length){var v={};for("thumbnail"===t.tileClass&&(v={title:{text:""},showaxeslabels:!1,showticklabels:!1,linetickenable:!1}),n=0;n<g.length;n++){var m=f[g[n]];m.xaxis||(m.xaxis={}),m.yaxis||(m.yaxis={}),m.zaxis||(m.zaxis={}),a(m.xaxis,v),a(m.yaxis,v),a(m.zaxis,v),m._scene=null}}var y=document.createElement("div");t.tileClass&&(y.className=t.tileClass);var b={gd:y,td:y,layout:f,data:c,config:{staticPlot:void 0===t.staticPlot||t.staticPlot,plotGlPixelRatio:void 0===t.plotGlPixelRatio?2:t.plotGlPixelRatio,displaylogo:t.displaylogo||!1,showLink:t.showLink||!1,showTips:t.showTips||!1,mapboxAccessToken:d.mapboxAccessToken}};return"transparent"!==t.setBackground&&(b.config.setBackground=t.setBackground||"opaque"),b.gd.defaultLayout=s(t.tileClass),b}},{"../lib":524,"../registry":626}],628:[function(e,t,n){"use strict";var r=e("../lib"),i=e("../plot_api/to_image"),a=e("./filesaver"),o=e("./helpers");function s(e,t){var n;return r.isPlainObject(e)||(n=r.getGraphDiv(e)),(t=t||{}).format=t.format||"png",t.width=t.width||null,t.height=t.height||null,t.imageDataOnly=!0,new Promise((function(s,l){n&&n._snapshotInProgress&&l(new Error("Snapshotting already in progress.")),r.isIE()&&"svg"!==t.format&&l(new Error(o.MSG_IE_BAD_FORMAT)),n&&(n._snapshotInProgress=!0);var u=i(e,t),c=t.filename||e.fn||"newplot";c+="."+t.format.replace("-","."),u.then((function(e){return n&&(n._snapshotInProgress=!1),a(e,c,t.format)})).then((function(e){s(e)})).catch((function(e){n&&(n._snapshotInProgress=!1),l(e)}))}))}t.exports=s},{"../lib":524,"../plot_api/to_image":564,"./filesaver":629,"./helpers":630}],629:[function(e,t,n){"use strict";var r=e("../lib"),i=e("./helpers");function a(e,t,n){var a=document.createElement("a"),o="download"in a;return new Promise((function(s,l){var u,c;if(r.isIE9orBelow()&&l(new Error("IE < 10 unsupported")),r.isSafari()){var f="svg"===n?",":";base64,";return i.octetStream(f+encodeURIComponent(e)),s(t)}return r.isIE()?(u=i.createBlob(e,"svg"),window.navigator.msSaveBlob(u,t),u=null,s(t)):o?(u=i.createBlob(e,n),c=i.createObjectURL(u),a.href=c,a.download=t,document.body.appendChild(a),a.click(),document.body.removeChild(a),i.revokeObjectURL(c),u=null,s(t)):void l(new Error("download error"))}))}t.exports=a},{"../lib":524,"./helpers":630}],630:[function(e,t,n){"use strict";var r=e("../registry");n.getDelay=function(e){return e._has&&(e._has("gl3d")||e._has("gl2d")||e._has("mapbox"))?500:0},n.getRedrawFunc=function(e){return function(){var t=e._fullLayout||{};(!t._has||!t._has("polar"))&&e.data&&e.data[0]&&e.data[0].r||r.getComponentMethod("colorbar","draw")(e)}},n.encodeSVG=function(e){return"data:image/svg+xml,"+encodeURIComponent(e)},n.encodeJSON=function(e){return"data:application/json,"+encodeURIComponent(e)};var i=window.URL||window.webkitURL;function a(e){for(var t=e.length,n=new ArrayBuffer(t),r=new Uint8Array(n),i=0;i<t;i++)r[i]=e.charCodeAt(i);return n}n.createObjectURL=function(e){return i.createObjectURL(e)},n.revokeObjectURL=function(e){return i.revokeObjectURL(e)},n.createBlob=function(e,t){if("svg"===t)return new window.Blob([e],{type:"image/svg+xml;charset=utf-8"});if("full-json"===t)return new window.Blob([e],{type:"application/json;charset=utf-8"});var n=a(window.atob(e));return new window.Blob([n],{type:"image/"+t})},n.octetStream=function(e){document.location.href="data:application/octet-stream"+e},n.IMAGE_URL_PREFIX=/^data:image\/\w+;base64,/,n.MSG_IE_BAD_FORMAT="Sorry IE does not support downloading from canvas. Try {format:'svg'} instead."},{"../registry":626}],631:[function(e,t,n){"use strict";var r=e("./helpers"),i={getDelay:r.getDelay,getRedrawFunc:r.getRedrawFunc,clone:e("./cloneplot"),toSVG:e("./tosvg"),svgToImg:e("./svgtoimg"),toImage:e("./toimage"),downloadImage:e("./download")};t.exports=i},{"./cloneplot":627,"./download":628,"./helpers":630,"./svgtoimg":632,"./toimage":633,"./tosvg":634}],632:[function(e,t,n){"use strict";var r=e("../lib"),i=e("events").EventEmitter,a=e("./helpers");function o(e){var t=e.emitter||new i,n=new Promise((function(i,o){var s=window.Image,l=e.svg,u=e.format||"png";if(r.isIE()&&"svg"!==u){var c=new Error(a.MSG_IE_BAD_FORMAT);return o(c),e.promise?n:t.emit("error",c)}var f,d,h=e.canvas,p=e.scale||1,g=e.width||300,v=e.height||150,m=p*g,y=p*v,b=h.getContext("2d"),x=new s;"svg"===u||r.isIE9orBelow()||r.isSafari()?d=a.encodeSVG(l):(f=a.createBlob(l,"svg"),d=a.createObjectURL(f)),h.width=m,h.height=y,x.onload=function(){var n;switch(f=null,a.revokeObjectURL(d),"svg"!==u&&b.drawImage(x,0,0,m,y),u){case"jpeg":n=h.toDataURL("image/jpeg");break;case"png":n=h.toDataURL("image/png");break;case"webp":n=h.toDataURL("image/webp");break;case"svg":n=d;break;default:var r="Image format is not jpeg, png, svg or webp.";if(o(new Error(r)),!e.promise)return t.emit("error",r)}i(n),e.promise||t.emit("success",n)},x.onerror=function(n){if(f=null,a.revokeObjectURL(d),o(n),!e.promise)return t.emit("error",n)},x.src=d}));return e.promise?n:t}t.exports=o},{"../lib":524,"./helpers":630,events:48}],633:[function(e,t,n){"use strict";var r=e("events").EventEmitter,i=e("../registry"),a=e("../lib"),o=e("./helpers"),s=e("./cloneplot"),l=e("./tosvg"),u=e("./svgtoimg");function c(e,t){var n=new r,c=s(e,{format:"png"}),f=c.gd;function d(){var e=o.getDelay(f._fullLayout);setTimeout((function(){var e=l(f),r=document.createElement("canvas");r.id=a.randstr(),(n=u({format:t.format,width:f._fullLayout.width,height:f._fullLayout.height,canvas:r,emitter:n,svg:e})).clean=function(){f&&document.body.removeChild(f)}}),e)}f.style.position="absolute",f.style.left="-5000px",document.body.appendChild(f);var h=o.getRedrawFunc(f);return i.call("plot",f,c.data,c.layout,c.config).then(h).then(d).catch((function(e){n.emit("error",e)})),n}t.exports=c},{"../lib":524,"../registry":626,"./cloneplot":627,"./helpers":630,"./svgtoimg":632,"./tosvg":634,events:48}],634:[function(e,t,n){"use strict";var r=e("d3"),i=e("../lib"),a=e("../components/drawing"),o=e("../components/color"),s=e("../constants/xmlns_namespaces"),l=/"/g,u="TOBESTRIPPED",c=new RegExp('("'+u+")|("+u+'")',"g");function f(e){var t=r.select("body").append("div").style({display:"none"}).html(""),n=e.replace(/(&[^;]*;)/gi,(function(e){return"&lt;"===e?"&#60;":"&rt;"===e?"&#62;":-1!==e.indexOf("<")||-1!==e.indexOf(">")?"":t.html(e).text()}));return t.remove(),n}function d(e){return e.replace(/&(?!\w+;|\#[0-9]+;| \#x[0-9A-F]+;)/g,"&amp;")}t.exports=function(e,t,n){var h,p=e._fullLayout,g=p._paper,v=p._toppaper,m=p.width,y=p.height;g.insert("rect",":first-child").call(a.setRect,0,0,m,y).call(o.fill,p.paper_bgcolor);var b=p._basePlotModules||[];for(h=0;h<b.length;h++){var x=b[h];x.toSVG&&x.toSVG(e)}if(v){var _=v.node().childNodes,w=Array.prototype.slice.call(_);for(h=0;h<w.length;h++){var k=w[h];k.childNodes.length&&g.node().appendChild(k)}}if(p._draggers&&p._draggers.remove(),g.node().style.background="",g.selectAll("text").attr({"data-unformatted":null,"data-math":null}).each((function(){var e=r.select(this);if("hidden"!==this.style.visibility&&"none"!==this.style.display){e.style({visibility:null,display:null});var t=this.style.fontFamily;t&&-1!==t.indexOf('"')&&e.style("font-family",t.replace(l,u))}else e.remove()})),p._gradientUrlQueryParts){var M=[];for(var T in p._gradientUrlQueryParts)M.push(T);M.length&&g.selectAll(M.join(",")).each((function(){var e=r.select(this),t=this.style.fill;t&&-1!==t.indexOf("url(")&&e.style("fill",t.replace(l,u));var n=this.style.stroke;n&&-1!==n.indexOf("url(")&&e.style("stroke",n.replace(l,u))}))}"pdf"!==t&&"eps"!==t||g.selectAll("#MathJax_SVG_glyphs path").attr("stroke-width",0),g.node().setAttributeNS(s.xmlns,"xmlns",s.svg),g.node().setAttributeNS(s.xmlns,"xmlns:xlink",s.xlink),"svg"===t&&n&&(g.attr("width",n*m),g.attr("height",n*y),g.attr("viewBox","0 0 "+m+" "+y));var A=(new window.XMLSerializer).serializeToString(g.node());return A=(A=d(A=f(A))).replace(c,"'"),i.isIE()&&(A=(A=(A=A.replace(/"/gi,"'")).replace(/(\('#)([^']*)('\))/gi,'("#$2")')).replace(/(\\')/gi,'"')),A}},{"../components/color":394,"../components/drawing":416,"../constants/xmlns_namespaces":503,"../lib":524,d3:82}],635:[function(e,t,n){"use strict";var r=e("../../components/colorscale/attributes"),i=e("../../plots/template_attributes").hovertemplateAttrs,a=e("../mesh3d/attributes"),o=e("../../plots/attributes"),s=e("../../lib/extend").extendFlat,l={x:{valType:"data_array",editType:"calc+clearAxisTypes"},y:{valType:"data_array",editType:"calc+clearAxisTypes"},z:{valType:"data_array",editType:"calc+clearAxisTypes"},u:{valType:"data_array",editType:"calc"},v:{valType:"data_array",editType:"calc"},w:{valType:"data_array",editType:"calc"},sizemode:{valType:"enumerated",values:["scaled","absolute"],editType:"calc",dflt:"scaled"},sizeref:{valType:"number",editType:"calc",min:0},anchor:{valType:"enumerated",editType:"calc",values:["tip","tail","cm","center"],dflt:"cm"},text:{valType:"string",dflt:"",arrayOk:!0,editType:"calc"},hovertext:{valType:"string",dflt:"",arrayOk:!0,editType:"calc"},hovertemplate:i({editType:"calc"},{keys:["norm"]}),showlegend:s({},o.showlegend,{dflt:!1})};s(l,r("",{colorAttr:"u/v/w norm",showScaleDflt:!0,editTypeOverride:"calc"})),["opacity","lightposition","lighting"].forEach((function(e){l[e]=a[e]})),l.hoverinfo=s({},o.hoverinfo,{editType:"calc",flags:["x","y","z","u","v","w","norm","text","name"],dflt:"x+y+z+norm+text+name"}),l.transforms=void 0,t.exports=l},{"../../components/colorscale/attributes":401,"../../lib/extend":517,"../../plots/attributes":568,"../../plots/template_attributes":625,"../mesh3d/attributes":647}],636:[function(e,t,n){"use strict";var r=e("../../components/colorscale/calc");t.exports=function(e,t){for(var n=t.u,i=t.v,a=t.w,o=Math.min(t.x.length,t.y.length,t.z.length,n.length,i.length,a.length),s=-1/0,l=1/0,u=0;u<o;u++){var c=n[u],f=i[u],d=a[u],h=Math.sqrt(c*c+f*f+d*d);s=Math.max(s,h),l=Math.min(l,h)}t._len=o,t._normMax=s,r(e,t,{vals:[l,s],containerStr:"",cLetter:"c"})}},{"../../components/colorscale/calc":402}],637:[function(e,t,n){"use strict";var r=e("gl-cone3d"),i=e("gl-cone3d").createConeMesh,a=e("../../lib").simpleMap,o=e("../../lib/gl_format_color").parseColorScale,s=e("../../components/colorscale").extractOpts,l=e("../../plots/gl3d/zip3");function u(e,t){this.scene=e,this.uid=t,this.mesh=null,this.data=null}var c=u.prototype;c.handlePick=function(e){if(e.object===this.mesh){var t=e.index=e.data.index,n=this.data.x[t],r=this.data.y[t],i=this.data.z[t],a=this.data.u[t],o=this.data.v[t],s=this.data.w[t];e.traceCoordinate=[n,r,i,a,o,s,Math.sqrt(a*a+o*o+s*s)];var l=this.data.hovertext||this.data.text;return Array.isArray(l)&&void 0!==l[t]?e.textLabel=l[t]:l&&(e.textLabel=l),!0}};var f={xaxis:0,yaxis:1,zaxis:2},d={tip:1,tail:0,cm:.25,center:.5},h={tip:1,tail:1,cm:.75,center:.5};function p(e,t){var n=e.fullSceneLayout,i=e.dataScale,u={};function c(e,t){var r=n[t],o=i[f[t]];return a(e,(function(e){return r.d2l(e)*o}))}u.vectors=l(c(t.u,"xaxis"),c(t.v,"yaxis"),c(t.w,"zaxis"),t._len),u.positions=l(c(t.x,"xaxis"),c(t.y,"yaxis"),c(t.z,"zaxis"),t._len);var p=s(t);u.colormap=o(t),u.vertexIntensityBounds=[p.min/t._normMax,p.max/t._normMax],u.coneOffset=d[t.anchor],"scaled"===t.sizemode?u.coneSize=t.sizeref||.5:u.coneSize=t.sizeref&&t._normMax?t.sizeref/t._normMax:.5;var g=r(u),v=t.lightposition;return g.lightPosition=[v.x,v.y,v.z],g.ambient=t.lighting.ambient,g.diffuse=t.lighting.diffuse,g.specular=t.lighting.specular,g.roughness=t.lighting.roughness,g.fresnel=t.lighting.fresnel,g.opacity=t.opacity,t._pad=h[t.anchor]*g.vectorScale*g.coneScale*t._normMax,g}function g(e,t){var n=e.glplot.gl,r=p(e,t),a=i(n,r),o=new u(e,t.uid);return o.mesh=a,o.data=t,a._trace=o,e.glplot.add(a),o}c.update=function(e){this.data=e;var t=p(this.scene,e);this.mesh.update(t)},c.dispose=function(){this.scene.glplot.remove(this.mesh),this.mesh.dispose()},t.exports=g},{"../../components/colorscale":406,"../../lib":524,"../../lib/gl_format_color":521,"../../plots/gl3d/zip3":614,"gl-cone3d":107}],638:[function(e,t,n){"use strict";var r=e("../../lib"),i=e("../../components/colorscale/defaults"),a=e("./attributes");t.exports=function(e,t,n,o){function s(n,i){return r.coerce(e,t,a,n,i)}var l=s("u"),u=s("v"),c=s("w"),f=s("x"),d=s("y"),h=s("z");l&&l.length&&u&&u.length&&c&&c.length&&f&&f.length&&d&&d.length&&h&&h.length?(s("sizeref"),s("sizemode"),s("anchor"),s("lighting.ambient"),s("lighting.diffuse"),s("lighting.specular"),s("lighting.roughness"),s("lighting.fresnel"),s("lightposition.x"),s("lightposition.y"),s("lightposition.z"),i(e,t,o,s,{prefix:"",cLetter:"c"}),s("text"),s("hovertext"),s("hovertemplate"),t._length=null):t.visible=!1}},{"../../components/colorscale/defaults":404,"../../lib":524,"./attributes":635}],639:[function(e,t,n){"use strict";t.exports={moduleType:"trace",name:"cone",basePlotModule:e("../../plots/gl3d"),categories:["gl3d","showLegend"],attributes:e("./attributes"),supplyDefaults:e("./defaults"),colorbar:{min:"cmin",max:"cmax"},calc:e("./calc"),plot:e("./convert"),eventData:function(e,t){return e.norm=t.traceCoordinate[6],e},meta:{}}},{"../../plots/gl3d":603,"./attributes":635,"./calc":636,"./convert":637,"./defaults":638}],640:[function(e,t,n){"use strict";var r=e("../../lib").maxRowLength;t.exports=function(e){var t,n,i,a,o,s,l,u,c=[],f={},d=[],h=e[0],p=[],g=[0,0,0],v=r(e);for(n=0;n<e.length;n++)for(t=p,p=h,h=e[n+1]||[],i=0;i<v;i++)void 0===p[i]&&((s=(void 0!==p[i-1]?1:0)+(void 0!==p[i+1]?1:0)+(void 0!==t[i]?1:0)+(void 0!==h[i]?1:0))?(0===n&&s++,0===i&&s++,n===e.length-1&&s++,i===p.length-1&&s++,s<4&&(f[[n,i]]=[n,i,s]),c.push([n,i,s])):d.push([n,i]));for(;d.length;){for(l={},u=!1,o=d.length-1;o>=0;o--)(s=((f[[(n=(a=d[o])[0])-1,i=a[1]]]||g)[2]+(f[[n+1,i]]||g)[2]+(f[[n,i-1]]||g)[2]+(f[[n,i+1]]||g)[2])/20)&&(l[a]=[n,i,s],d.splice(o,1),u=!0);if(!u)throw"findEmpties iterated with no new neighbors";for(a in l)f[a]=l[a],c.push(l[a])}return c.sort((function(e,t){return t[2]-e[2]}))}},{"../../lib":524}],641:[function(e,t,n){"use strict";var r=e("../../lib"),i=.01,a=[[-1,0],[1,0],[0,-1],[0,1]];function o(e){return.5-.25*Math.min(1,.5*e)}function s(e,t,n){var r,i,o,s,l,u,c,f,d,h,p,g,v,m=0;for(s=0;s<t.length;s++){for(i=(r=t[s])[0],o=r[1],p=e[i][o],h=0,d=0,l=0;l<4;l++)(c=e[i+(u=a[l])[0]])&&void 0!==(f=c[o+u[1]])&&(0===h?g=v=f:(g=Math.min(g,f),v=Math.max(v,f)),d++,h+=f);if(0===d)throw"iterateInterp2d order is wrong: no defined neighbors";e[i][o]=h/d,void 0===p?d<4&&(m=1):(e[i][o]=(1+n)*e[i][o]-n*p,v>g&&(m=Math.max(m,Math.abs(e[i][o]-p)/(v-g))))}return m}t.exports=function(e,t){var n,a=1;for(s(e,t),n=0;n<t.length&&!(t[n][2]<4);n++);for(t=t.slice(n),n=0;n<100&&a>i;n++)a=s(e,t,o(a));return a>i&&r.log("interp2d didn't converge quickly",a),e}},{"../../lib":524}],642:[function(e,t,n){"use strict";var r=e("../../components/colorscale/attributes"),i=e("../../plots/template_attributes").hovertemplateAttrs,a=e("../mesh3d/attributes"),o=e("../../plots/attributes"),s=e("../../lib/extend").extendFlat,l=e("../../plot_api/edit_types").overrideAll;function u(e){return{show:{valType:"boolean",dflt:!1},locations:{valType:"data_array",dflt:[]},fill:{valType:"number",min:0,max:1,dflt:1}}}function c(e){return{show:{valType:"boolean",dflt:!0},fill:{valType:"number",min:0,max:1,dflt:1}}}var f=t.exports=l(s({x:{valType:"data_array"},y:{valType:"data_array"},z:{valType:"data_array"},value:{valType:"data_array"},isomin:{valType:"number"},isomax:{valType:"number"},surface:{show:{valType:"boolean",dflt:!0},count:{valType:"integer",dflt:2,min:1},fill:{valType:"number",min:0,max:1,dflt:1},pattern:{valType:"flaglist",flags:["A","B","C","D","E"],extras:["all","odd","even"],dflt:"all"}},spaceframe:{show:{valType:"boolean",dflt:!1},fill:{valType:"number",min:0,max:1,dflt:.15}},slices:{x:u("x"),y:u("y"),z:u("z")},caps:{x:c("x"),y:c("y"),z:c("z")},text:{valType:"string",dflt:"",arrayOk:!0},hovertext:{valType:"string",dflt:"",arrayOk:!0},hovertemplate:i(),showlegend:s({},o.showlegend,{dflt:!1})},r("",{colorAttr:"`value`",showScaleDflt:!0,editTypeOverride:"calc"}),{opacity:a.opacity,lightposition:a.lightposition,lighting:a.lighting,flatshading:a.flatshading,contour:a.contour,hoverinfo:s({},o.hoverinfo)}),"calc","nested");f.flatshading.dflt=!0,f.lighting.facenormalsepsilon.dflt=0,f.x.editType=f.y.editType=f.z.editType=f.value.editType="calc+clearAxisTypes",f.transforms=void 0},{"../../components/colorscale/attributes":401,"../../lib/extend":517,"../../plot_api/edit_types":554,"../../plots/attributes":568,"../../plots/template_attributes":625,"../mesh3d/attributes":647}],643:[function(e,t,n){"use strict";var r=e("../../components/colorscale/calc"),i=e("../streamtube/calc").processGrid,a=e("../streamtube/calc").filter;t.exports=function(e,t){t._len=Math.min(t.x.length,t.y.length,t.z.length,t.value.length),t._x=a(t.x,t._len),t._y=a(t.y,t._len),t._z=a(t.z,t._len),t._value=a(t.value,t._len);var n=i(t);t._gridFill=n.fill,t._Xs=n.Xs,t._Ys=n.Ys,t._Zs=n.Zs,t._len=n.len;for(var o=1/0,s=-1/0,l=0;l<t._len;l++){var u=t._value[l];o=Math.min(o,u),s=Math.max(s,u)}t._minValues=o,t._maxValues=s,t._vMin=void 0===t.isomin||null===t.isomin?o:t.isomin,t._vMax=void 0===t.isomax||null===t.isomin?s:t.isomax,r(e,t,{vals:[t._vMin,t._vMax],containerStr:"",cLetter:"c"})}},{"../../components/colorscale/calc":402,"../streamtube/calc":690}],644:[function(e,t,n){"use strict";var r=e("gl-mesh3d"),i=e("../../lib/gl_format_color").parseColorScale,a=e("../../lib/str2rgbarray"),o=e("../../components/colorscale").extractOpts,s=e("../../plots/gl3d/zip3"),l=function(e,t){for(var n=t.length-1;n>0;n--){var r=Math.min(t[n],t[n-1]),i=Math.max(t[n],t[n-1]);if(i>r&&r<e&&e<=i)return{id:n,distRatio:(i-e)/(i-r)}}return{id:0,distRatio:0}};function u(e,t,n){this.scene=e,this.uid=n,this.mesh=t,this.name="",this.data=null,this.showContour=!1}var c=u.prototype;c.handlePick=function(e){if(e.object===this.mesh){var t=e.data.index,n=this.data._meshX[t],r=this.data._meshY[t],i=this.data._meshZ[t],a=this.data._Ys.length,o=this.data._Zs.length,s=l(n,this.data._Xs).id,u=l(r,this.data._Ys).id,c=l(i,this.data._Zs).id,f=e.index=c+o*u+o*a*s;e.traceCoordinate=[this.data._meshX[f],this.data._meshY[f],this.data._meshZ[f],this.data._value[f]];var d=this.data.hovertext||this.data.text;return Array.isArray(d)&&void 0!==d[f]?e.textLabel=d[f]:d&&(e.textLabel=d),!0}},c.update=function(e){var t=this.scene,n=t.fullSceneLayout;function r(e,t,n,r){return t.map((function(t){return e.d2l(t,0,r)*n}))}this.data=d(e);var l={positions:s(r(n.xaxis,e._meshX,t.dataScale[0],e.xcalendar),r(n.yaxis,e._meshY,t.dataScale[1],e.ycalendar),r(n.zaxis,e._meshZ,t.dataScale[2],e.zcalendar)),cells:s(e._meshI,e._meshJ,e._meshK),lightPosition:[e.lightposition.x,e.lightposition.y,e.lightposition.z],ambient:e.lighting.ambient,diffuse:e.lighting.diffuse,specular:e.lighting.specular,roughness:e.lighting.roughness,fresnel:e.lighting.fresnel,vertexNormalsEpsilon:e.lighting.vertexnormalsepsilon,faceNormalsEpsilon:e.lighting.facenormalsepsilon,opacity:e.opacity,contourEnable:e.contour.show,contourColor:a(e.contour.color).slice(0,3),contourWidth:e.contour.width,useFacetNormals:e.flatshading},u=o(e);l.vertexIntensity=e._meshIntensity,l.vertexIntensityBounds=[u.min,u.max],l.colormap=i(e),this.mesh.update(l)},c.dispose=function(){this.scene.glplot.remove(this.mesh),this.mesh.dispose()};var f=["xyz","xzy","yxz","yzx","zxy","zyx"];function d(e){e._meshI=[],e._meshJ=[],e._meshK=[];var t,n,r,i,a,o,s,u=e.surface.show,c=e.spaceframe.show,d=e.surface.fill,h=e.spaceframe.fill,p=!1,g=!1,v=0,m=e._Xs,y=e._Ys,b=e._Zs,x=m.length,_=y.length,w=b.length,k=f.indexOf(e._gridFill.replace(/-/g,"").replace(/\+/g,"")),M=function(e,t,n){switch(k){case 5:return n+w*t+w*_*e;case 4:return n+w*e+w*x*t;case 3:return t+_*n+_*w*e;case 2:return t+_*e+_*x*n;case 1:return e+x*n+x*w*t;default:return e+x*t+x*_*n}},T=e._minValues,A=e._maxValues,E=e._vMin,S=e._vMax;function O(e,t,s){for(var l=o.length,u=n;u<l;u++)if(e===r[u]&&t===i[u]&&s===a[u])return u;return-1}function C(){n=t}function L(){r=[],i=[],a=[],o=[],t=0,C()}function R(e,n,s,l){return r.push(e),i.push(n),a.push(s),o.push(l),++t-1}function P(t,n,r){return e._meshI.push(t),e._meshJ.push(n),e._meshK.push(r),++v-1}function j(e,t,n){for(var r=[],i=0;i<e.length;i++)r[i]=(e[i]+t[i]+n[i])/3;return r}function z(e,t,n){for(var r=[],i=0;i<e.length;i++)r[i]=e[i]*(1-n)+n*t[i];return r}function I(e){s=e}function N(e,t){var n=e[0],r=e[1],i=e[2],a=j(n,r,i),o=Math.sqrt(1-s),l=z(a,n,o),u=z(a,r,o),c=z(a,i,o),f=t[0],d=t[1],h=t[2];return{xyzv:[[n,r,u],[u,l,n],[r,i,c],[c,u,r],[i,n,l],[l,c,i]],abc:[[f,d,-1],[-1,-1,f],[d,h,-1],[-1,-1,d],[h,f,-1],[-1,-1,h]]}}function D(e,t){return"all"===e||null===e||e.indexOf(t)>-1}function F(e,t){return null===e?t:e}function B(e,t,n){C();var r=[t],i=[n];if(s>=1)r=[t],i=[n];else if(s>0){var a=N(t,n);r=a.xyzv,i=a.abc}for(var o=0;o<r.length;o++){t=r[o],n=i[o];for(var l=[],u=0;u<3;u++){var c=t[u][0],f=t[u][1],d=t[u][2],h=t[u][3],p=n[u]>-1?n[u]:O(c,f,d);l[u]=p>-1?p:R(c,f,d,F(e,h))}P(l[0],l[1],l[2])}}function U(e,t,n){var r=function(r,i,a){B(e,[t[r],t[i],t[a]],[n[r],n[i],n[a]])};r(0,1,2),r(2,3,0)}function V(e,t,n){var r=function(r,i,a){B(e,[t[r],t[i],t[a]],[n[r],n[i],n[a]])};r(0,1,2),r(3,0,1),r(2,3,0),r(1,2,3)}function H(e,t,n,r){var i=e[3];i<n&&(i=n),i>r&&(i=r);for(var a=(e[3]-i)/(e[3]-t[3]+1e-9),o=[],s=0;s<4;s++)o[s]=(1-a)*e[s]+a*t[s];return o}function q(e,t,n){return e>=t&&e<=n}function W(e){var t=.001*(S-E);return e>=E-t&&e<=S+t}function G(t){for(var n=[],r=0;r<4;r++){var i=t[r];n.push([e._x[i],e._y[i],e._z[i],e._value[i]])}return n}var X=3;function Y(e,t,n,r,i,a){a||(a=1),n=[-1,-1,-1];var o=!1,s=[q(t[0][3],r,i),q(t[1][3],r,i),q(t[2][3],r,i)];if(!s[0]&&!s[1]&&!s[2])return!1;var l=function(e,t,n){return W(t[0][3])&&W(t[1][3])&&W(t[2][3])?(B(e,t,n),!0):a<X&&Y(e,t,n,E,S,++a)};if(s[0]&&s[1]&&s[2])return l(e,t,n)||o;var u=!1;return[[0,1,2],[2,0,1],[1,2,0]].forEach((function(a){if(s[a[0]]&&s[a[1]]&&!s[a[2]]){var c=t[a[0]],f=t[a[1]],d=t[a[2]],h=H(d,c,r,i),p=H(d,f,r,i);o=l(e,[p,h,c],[-1,-1,n[a[0]]])||o,o=l(e,[c,f,p],[n[a[0]],n[a[1]],-1])||o,u=!0}})),u||[[0,1,2],[1,2,0],[2,0,1]].forEach((function(a){if(s[a[0]]&&!s[a[1]]&&!s[a[2]]){var c=t[a[0]],f=t[a[1]],d=t[a[2]],h=H(f,c,r,i),p=H(d,c,r,i);o=l(e,[p,h,c],[-1,-1,n[a[0]]])||o,u=!0}})),o}function Z(e,t,n,r){var i=!1,a=G(t),o=[q(a[0][3],n,r),q(a[1][3],n,r),q(a[2][3],n,r),q(a[3][3],n,r)];if(!o[0]&&!o[1]&&!o[2]&&!o[3])return i;if(o[0]&&o[1]&&o[2]&&o[3])return g&&(i=V(e,a,t)||i),i;var s=!1;return[[0,1,2,3],[3,0,1,2],[2,3,0,1],[1,2,3,0]].forEach((function(l){if(o[l[0]]&&o[l[1]]&&o[l[2]]&&!o[l[3]]){var u=a[l[0]],c=a[l[1]],f=a[l[2]],d=a[l[3]];if(g)i=B(e,[u,c,f],[t[l[0]],t[l[1]],t[l[2]]])||i;else{var h=H(d,u,n,r),p=H(d,c,n,r),v=H(d,f,n,r);i=B(null,[h,p,v],[-1,-1,-1])||i}s=!0}})),s||([[0,1,2,3],[1,2,3,0],[2,3,0,1],[3,0,1,2],[0,2,3,1],[1,3,2,0]].forEach((function(l){if(o[l[0]]&&o[l[1]]&&!o[l[2]]&&!o[l[3]]){var u=a[l[0]],c=a[l[1]],f=a[l[2]],d=a[l[3]],h=H(f,u,n,r),p=H(f,c,n,r),v=H(d,c,n,r),m=H(d,u,n,r);g?(i=B(e,[u,m,h],[t[l[0]],-1,-1])||i,i=B(e,[c,p,v],[t[l[1]],-1,-1])||i):i=U(null,[h,p,v,m],[-1,-1,-1,-1])||i,s=!0}})),s||[[0,1,2,3],[1,2,3,0],[2,3,0,1],[3,0,1,2]].forEach((function(l){if(o[l[0]]&&!o[l[1]]&&!o[l[2]]&&!o[l[3]]){var u=a[l[0]],c=a[l[1]],f=a[l[2]],d=a[l[3]],h=H(c,u,n,r),p=H(f,u,n,r),v=H(d,u,n,r);g?(i=B(e,[u,h,p],[t[l[0]],-1,-1])||i,i=B(e,[u,p,v],[t[l[0]],-1,-1])||i,i=B(e,[u,v,h],[t[l[0]],-1,-1])||i):i=B(null,[h,p,v],[-1,-1,-1])||i,s=!0}}))),i}function $(e,t,n,r,i,a,o,s,l,u,c){var f=!1;return p&&(D(e,"A")&&(f=Z(null,[t,n,r,a],u,c)||f),D(e,"B")&&(f=Z(null,[n,r,i,l],u,c)||f),D(e,"C")&&(f=Z(null,[n,a,o,l],u,c)||f),D(e,"D")&&(f=Z(null,[r,a,s,l],u,c)||f),D(e,"E")&&(f=Z(null,[n,r,a,l],u,c)||f)),g&&(f=Z(e,[n,r,a,l],u,c)||f),f}function K(e,t,n,r,i,a,o,s){return[!0===s[0]||Y(e,G([t,n,r]),[t,n,r],a,o),!0===s[1]||Y(e,G([r,i,t]),[r,i,t],a,o)]}function Q(e,t,n,r,i,a,o,s,l){return s?K(e,t,n,i,r,a,o,l):K(e,n,i,r,t,a,o,l)}function J(e,t,n,r,i,a,o){var s,l,u,c,f=!1,d=function(){f=Y(e,[s,l,u],[-1,-1,-1],i,a)||f,f=Y(e,[u,c,s],[-1,-1,-1],i,a)||f},h=o[0],p=o[1],g=o[2];return h&&(s=z(G([M(t,n-0,r-0)])[0],G([M(t-1,n-0,r-0)])[0],h),l=z(G([M(t,n-0,r-1)])[0],G([M(t-1,n-0,r-1)])[0],h),u=z(G([M(t,n-1,r-1)])[0],G([M(t-1,n-1,r-1)])[0],h),c=z(G([M(t,n-1,r-0)])[0],G([M(t-1,n-1,r-0)])[0],h),d()),p&&(s=z(G([M(t-0,n,r-0)])[0],G([M(t-0,n-1,r-0)])[0],p),l=z(G([M(t-0,n,r-1)])[0],G([M(t-0,n-1,r-1)])[0],p),u=z(G([M(t-1,n,r-1)])[0],G([M(t-1,n-1,r-1)])[0],p),c=z(G([M(t-1,n,r-0)])[0],G([M(t-1,n-1,r-0)])[0],p),d()),g&&(s=z(G([M(t-0,n-0,r)])[0],G([M(t-0,n-0,r-1)])[0],g),l=z(G([M(t-0,n-1,r)])[0],G([M(t-0,n-1,r-1)])[0],g),u=z(G([M(t-1,n-1,r)])[0],G([M(t-1,n-1,r-1)])[0],g),c=z(G([M(t-1,n-0,r)])[0],G([M(t-1,n-0,r-1)])[0],g),d()),f}function ee(e,t,n,r,i,a,o,s,l,u,c,f){var d=e;return f?(p&&"even"===e&&(d=null),$(d,t,n,r,i,a,o,s,l,u,c)):(p&&"odd"===e&&(d=null),$(d,l,s,o,a,i,r,n,t,u,c))}function te(e,t,n,r,i){for(var a=[],o=0,s=0;s<t.length;s++)for(var l=t[s],u=1;u<w;u++)for(var c=1;c<_;c++)a.push(Q(e,M(l,c-1,u-1),M(l,c-1,u),M(l,c,u-1),M(l,c,u),n,r,(l+c+u)%2,i&&i[o]?i[o]:[])),o++;return a}function ne(e,t,n,r,i){for(var a=[],o=0,s=0;s<t.length;s++)for(var l=t[s],u=1;u<x;u++)for(var c=1;c<w;c++)a.push(Q(e,M(u-1,l,c-1),M(u,l,c-1),M(u-1,l,c),M(u,l,c),n,r,(u+l+c)%2,i&&i[o]?i[o]:[])),o++;return a}function re(e,t,n,r,i){for(var a=[],o=0,s=0;s<t.length;s++)for(var l=t[s],u=1;u<_;u++)for(var c=1;c<x;c++)a.push(Q(e,M(c-1,u-1,l),M(c-1,u,l),M(c,u-1,l),M(c,u,l),n,r,(c+u+l)%2,i&&i[o]?i[o]:[])),o++;return a}function ie(e,t,n){for(var r=1;r<w;r++)for(var i=1;i<_;i++)for(var a=1;a<x;a++)ee(e,M(a-1,i-1,r-1),M(a-1,i-1,r),M(a-1,i,r-1),M(a-1,i,r),M(a,i-1,r-1),M(a,i-1,r),M(a,i,r-1),M(a,i,r),t,n,(a+i+r)%2)}function ae(e,t,n){g=!0,ie(e,t,n),g=!1}function oe(e,t,n){p=!0,ie(e,t,n),p=!1}function se(e,t,n,r,i,a){for(var o=[],s=0,l=0;l<t.length;l++)for(var u=t[l],c=1;c<w;c++)for(var f=1;f<_;f++)o.push(J(e,u,f,c,n,r,i[l],a&&a[s]?a[s]:[])),s++;return o}function le(e,t,n,r,i,a){for(var o=[],s=0,l=0;l<t.length;l++)for(var u=t[l],c=1;c<x;c++)for(var f=1;f<w;f++)o.push(J(e,c,u,f,n,r,i[l],a&&a[s]?a[s]:[])),s++;return o}function ue(e,t,n,r,i,a){for(var o=[],s=0,l=0;l<t.length;l++)for(var u=t[l],c=1;c<_;c++)for(var f=1;f<x;f++)o.push(J(e,f,c,u,n,r,i[l],a&&a[s]?a[s]:[])),s++;return o}function ce(e,t){for(var n=[],r=e;r<t;r++)n.push(r);return n}function fe(){for(var t=0;t<x;t++)for(var n=0;n<_;n++)for(var r=0;r<w;r++){var i=M(t,n,r);R(e._x[i],e._y[i],e._z[i],e._value[i])}}function de(){L(),fe();var t=null;if(c&&h&&(I(h),ae(t,E,S)),u&&d){I(d);for(var n=e.surface.pattern,s=e.surface.count,f=0;f<s;f++){var p=1===s?.5:f/(s-1),g=(1-p)*E+p*S,k=Math.abs(g-T)>Math.abs(g-A)?[T,g]:[g,A];oe(n,k[0],k[1])}}var M=[[Math.min(E,A),Math.max(E,A)],[Math.min(T,S),Math.max(T,S)]];["x","y","z"].forEach((function(n){for(var r=[],i=0;i<M.length;i++){var a=0,o=M[i][0],s=M[i][1],u=e.slices[n];if(u.show&&u.fill){I(u.fill);var c=[],f=[],d=[];if(u.locations.length)for(var h=0;h<u.locations.length;h++){var p=l(u.locations[h],"x"===n?m:"y"===n?y:b);0===p.distRatio?c.push(p.id):p.id>0&&(f.push(p.id),"x"===n?d.push([p.distRatio,0,0]):"y"===n?d.push([0,p.distRatio,0]):d.push([0,0,p.distRatio]))}else c=ce(1,"x"===n?x-1:"y"===n?_-1:w-1);f.length>0&&(r[a]="x"===n?se(t,f,o,s,d,r[a]):"y"===n?le(t,f,o,s,d,r[a]):ue(t,f,o,s,d,r[a]),a++),c.length>0&&(r[a]="x"===n?te(t,c,o,s,r[a]):"y"===n?ne(t,c,o,s,r[a]):re(t,c,o,s,r[a]),a++)}var g=e.caps[n];g.show&&g.fill&&(I(g.fill),r[a]="x"===n?te(t,[0,x-1],o,s,r[a]):"y"===n?ne(t,[0,_-1],o,s,r[a]):re(t,[0,w-1],o,s,r[a]),a++)}})),0===v&&L(),e._meshX=r,e._meshY=i,e._meshZ=a,e._meshIntensity=o,e._Xs=m,e._Ys=y,e._Zs=b}return de(),e}function h(e,t){var n=e.glplot.gl,i=r({gl:n}),a=new u(e,i,t.uid);return i._trace=a,a.update(t),e.glplot.add(i),a}t.exports={findNearestOnAxis:l,generateIsoMeshes:d,createIsosurfaceTrace:h}},{"../../components/colorscale":406,"../../lib/gl_format_color":521,"../../lib/str2rgbarray":547,"../../plots/gl3d/zip3":614,"gl-mesh3d":153}],645:[function(e,t,n){"use strict";var r=e("../../lib"),i=e("../../registry"),a=e("./attributes"),o=e("../../components/colorscale/defaults");function s(e,t,n,i){function o(n,i){return r.coerce(e,t,a,n,i)}l(e,t,n,i,o)}function l(e,t,n,r,a){var s=a("isomin"),l=a("isomax");void 0!==l&&null!==l&&void 0!==s&&null!==s&&s>l&&(t.isomin=null,t.isomax=null);var u=a("x"),c=a("y"),f=a("z"),d=a("value");u&&u.length&&c&&c.length&&f&&f.length&&d&&d.length?(i.getComponentMethod("calendars","handleTraceDefaults")(e,t,["x","y","z"],r),["x","y","z"].forEach((function(e){var t="caps."+e;a(t+".show")&&a(t+".fill");var n="slices."+e;a(n+".show")&&(a(n+".fill"),a(n+".locations"))})),a("spaceframe.show")&&a("spaceframe.fill"),a("surface.show")&&(a("surface.count"),a("surface.fill"),a("surface.pattern")),a("contour.show")&&(a("contour.color"),a("contour.width")),["text","hovertext","hovertemplate","lighting.ambient","lighting.diffuse","lighting.specular","lighting.roughness","lighting.fresnel","lighting.vertexnormalsepsilon","lighting.facenormalsepsilon","lightposition.x","lightposition.y","lightposition.z","flatshading","opacity"].forEach((function(e){a(e)})),o(e,t,r,a,{prefix:"",cLetter:"c"}),t._length=null):t.visible=!1}t.exports={supplyDefaults:s,supplyIsoDefaults:l}},{"../../components/colorscale/defaults":404,"../../lib":524,"../../registry":626,"./attributes":642}],646:[function(e,t,n){"use strict";t.exports={attributes:e("./attributes"),supplyDefaults:e("./defaults").supplyDefaults,calc:e("./calc"),colorbar:{min:"cmin",max:"cmax"},plot:e("./convert").createIsosurfaceTrace,moduleType:"trace",name:"isosurface",basePlotModule:e("../../plots/gl3d"),categories:["gl3d","showLegend"],meta:{}}},{"../../plots/gl3d":603,"./attributes":642,"./calc":643,"./convert":644,"./defaults":645}],647:[function(e,t,n){"use strict";var r=e("../../components/colorscale/attributes"),i=e("../../plots/template_attributes").hovertemplateAttrs,a=e("../surface/attributes"),o=e("../../plots/attributes"),s=e("../../lib/extend").extendFlat;t.exports=s({x:{valType:"data_array",editType:"calc+clearAxisTypes"},y:{valType:"data_array",editType:"calc+clearAxisTypes"},z:{valType:"data_array",editType:"calc+clearAxisTypes"},i:{valType:"data_array",editType:"calc"},j:{valType:"data_array",editType:"calc"},k:{valType:"data_array",editType:"calc"},text:{valType:"string",dflt:"",arrayOk:!0,editType:"calc"},hovertext:{valType:"string",dflt:"",arrayOk:!0,editType:"calc"},hovertemplate:i({editType:"calc"}),delaunayaxis:{valType:"enumerated",values:["x","y","z"],dflt:"z",editType:"calc"},alphahull:{valType:"number",dflt:-1,editType:"calc"},intensity:{valType:"data_array",editType:"calc"},intensitymode:{valType:"enumerated",values:["vertex","cell"],dflt:"vertex",editType:"calc"},color:{valType:"color",editType:"calc"},vertexcolor:{valType:"data_array",editType:"calc"},facecolor:{valType:"data_array",editType:"calc"},transforms:void 0},r("",{colorAttr:"`intensity`",showScaleDflt:!0,editTypeOverride:"calc"}),{opacity:a.opacity,flatshading:{valType:"boolean",dflt:!1,editType:"calc"},contour:{show:s({},a.contours.x.show,{}),color:a.contours.x.color,width:a.contours.x.width,editType:"calc"},lightposition:{x:s({},a.lightposition.x,{dflt:1e5}),y:s({},a.lightposition.y,{dflt:1e5}),z:s({},a.lightposition.z,{dflt:0}),editType:"calc"},lighting:s({vertexnormalsepsilon:{valType:"number",min:0,max:1,dflt:1e-12,editType:"calc"},facenormalsepsilon:{valType:"number",min:0,max:1,dflt:1e-6,editType:"calc"},editType:"calc"},a.lighting),hoverinfo:s({},o.hoverinfo,{editType:"calc"}),showlegend:s({},o.showlegend,{dflt:!1})})},{"../../components/colorscale/attributes":401,"../../lib/extend":517,"../../plots/attributes":568,"../../plots/template_attributes":625,"../surface/attributes":694}],648:[function(e,t,n){"use strict";var r=e("../../components/colorscale/calc");t.exports=function(e,t){t.intensity&&r(e,t,{vals:t.intensity,containerStr:"",cLetter:"c"})}},{"../../components/colorscale/calc":402}],649:[function(e,t,n){"use strict";var r=e("gl-mesh3d"),i=e("delaunay-triangulate"),a=e("alpha-shape"),o=e("convex-hull"),s=e("../../lib/gl_format_color").parseColorScale,l=e("../../lib/str2rgbarray"),u=e("../../components/colorscale").extractOpts,c=e("../../plots/gl3d/zip3");function f(e,t,n){this.scene=e,this.uid=n,this.mesh=t,this.name="",this.color="#fff",this.data=null,this.showContour=!1}var d=f.prototype;function h(e){for(var t=[],n=e.length,r=0;r<n;r++)t[r]=l(e[r]);return t}function p(e,t,n,r){for(var i=[],a=t.length,o=0;o<a;o++)i[o]=e.d2l(t[o],0,r)*n;return i}function g(e){for(var t=[],n=e.length,r=0;r<n;r++)t[r]=Math.round(e[r]);return t}function v(e,t){for(var n=["x","y","z"].indexOf(e),r=[],a=t.length,o=0;o<a;o++)r[o]=[t[o][(n+1)%3],t[o][(n+2)%3]];return i(r)}function m(e,t){for(var n=e.length,r=0;r<n;r++)if(e[r]<=-.5||e[r]>=t-.5)return!1;return!0}function y(e,t){var n=e.glplot.gl,i=r({gl:n}),a=new f(e,i,t.uid);return i._trace=a,a.update(t),e.glplot.add(i),a}d.handlePick=function(e){if(e.object===this.mesh){var t=e.index=e.data.index;e.data._cellCenter?e.traceCoordinate=e.data.dataCoordinate:e.traceCoordinate=[this.data.x[t],this.data.y[t],this.data.z[t]];var n=this.data.hovertext||this.data.text;return Array.isArray(n)&&void 0!==n[t]?e.textLabel=n[t]:n&&(e.textLabel=n),!0}},d.update=function(e){var t=this.scene,n=t.fullSceneLayout;this.data=e;var r,i=e.x.length,f=c(p(n.xaxis,e.x,t.dataScale[0],e.xcalendar),p(n.yaxis,e.y,t.dataScale[1],e.ycalendar),p(n.zaxis,e.z,t.dataScale[2],e.zcalendar));if(e.i&&e.j&&e.k){if(e.i.length!==e.j.length||e.j.length!==e.k.length||!m(e.i,i)||!m(e.j,i)||!m(e.k,i))return;r=c(g(e.i),g(e.j),g(e.k))}else r=0===e.alphahull?o(f):e.alphahull>0?a(e.alphahull,f):v(e.delaunayaxis,f);var d={positions:f,cells:r,lightPosition:[e.lightposition.x,e.lightposition.y,e.lightposition.z],ambient:e.lighting.ambient,diffuse:e.lighting.diffuse,specular:e.lighting.specular,roughness:e.lighting.roughness,fresnel:e.lighting.fresnel,vertexNormalsEpsilon:e.lighting.vertexnormalsepsilon,faceNormalsEpsilon:e.lighting.facenormalsepsilon,opacity:e.opacity,contourEnable:e.contour.show,contourColor:l(e.contour.color).slice(0,3),contourWidth:e.contour.width,useFacetNormals:e.flatshading};if(e.intensity){var y=u(e);this.color="#fff";var b=e.intensitymode;d[b+"Intensity"]=e.intensity,d[b+"IntensityBounds"]=[y.min,y.max],d.colormap=s(e)}else e.vertexcolor?(this.color=e.vertexcolor[0],d.vertexColors=h(e.vertexcolor)):e.facecolor?(this.color=e.facecolor[0],d.cellColors=h(e.facecolor)):(this.color=e.color,d.meshColor=l(e.color));this.mesh.update(d)},d.dispose=function(){this.scene.glplot.remove(this.mesh),this.mesh.dispose()},t.exports=y},{"../../components/colorscale":406,"../../lib/gl_format_color":521,"../../lib/str2rgbarray":547,"../../plots/gl3d/zip3":614,"alpha-shape":16,"convex-hull":72,"delaunay-triangulate":84,"gl-mesh3d":153}],650:[function(e,t,n){"use strict";var r=e("../../registry"),i=e("../../lib"),a=e("../../components/colorscale/defaults"),o=e("./attributes");t.exports=function(e,t,n,s){function l(n,r){return i.coerce(e,t,o,n,r)}function u(e){var t=e.map((function(e){var t=l(e);return t&&i.isArrayOrTypedArray(t)?t:null}));return t.every((function(e){return e&&e.length===t[0].length}))&&t}u(["x","y","z"])?(u(["i","j","k"]),(!t.i||t.j&&t.k)&&(!t.j||t.k&&t.i)&&(!t.k||t.i&&t.j)?(r.getComponentMethod("calendars","handleTraceDefaults")(e,t,["x","y","z"],s),["lighting.ambient","lighting.diffuse","lighting.specular","lighting.roughness","lighting.fresnel","lighting.vertexnormalsepsilon","lighting.facenormalsepsilon","lightposition.x","lightposition.y","lightposition.z","flatshading","alphahull","delaunayaxis","opacity"].forEach((function(e){l(e)})),l("contour.show")&&(l("contour.color"),l("contour.width")),"intensity"in e?(l("intensity"),l("intensitymode"),a(e,t,s,l,{prefix:"",cLetter:"c"})):(t.showscale=!1,"facecolor"in e?l("facecolor"):"vertexcolor"in e?l("vertexcolor"):l("color",n)),l("text"),l("hovertext"),l("hovertemplate"),t._length=null):t.visible=!1):t.visible=!1}},{"../../components/colorscale/defaults":404,"../../lib":524,"../../registry":626,"./attributes":647}],651:[function(e,t,n){"use strict";t.exports={attributes:e("./attributes"),supplyDefaults:e("./defaults"),calc:e("./calc"),colorbar:{min:"cmin",max:"cmax"},plot:e("./convert"),moduleType:"trace",name:"mesh3d",basePlotModule:e("../../plots/gl3d"),categories:["gl3d","showLegend"],meta:{}}},{"../../plots/gl3d":603,"./attributes":647,"./calc":648,"./convert":649,"./defaults":650}],652:[function(e,t,n){"use strict";var r=e("../../lib");function i(e){return-1!==e.indexOf("e")?e.replace(/[.]?0+e/,"e"):-1!==e.indexOf(".")?e.replace(/[.]?0+$/,""):e}n.formatPiePercent=function(e,t){var n=i((100*e).toPrecision(3));return r.numSeparate(n,t)+"%"},n.formatPieValue=function(e,t){var n=i(e.toPrecision(10));return r.numSeparate(n,t)},n.getFirstFilled=function(e,t){if(Array.isArray(e))for(var n=0;n<t.length;n++){var r=e[t[n]];if(r||0===r||""===r)return r}},n.castOption=function(e,t){return Array.isArray(e)?n.getFirstFilled(e,t):e||void 0},n.getRotationAngle=function(e){return("auto"===e?0:e)*Math.PI/180}},{"../../lib":524}],653:[function(e,t,n){"use strict";var r=e("../../components/color"),i=e("./helpers").castOption;t.exports=function(e,t,n){var a=n.marker.line,o=i(a.color,t.pts)||r.defaultLine,s=i(a.width,t.pts)||0;e.style("stroke-width",s).call(r.fill,t.color).call(r.stroke,o)}},{"../../components/color":394,"./helpers":652}],654:[function(e,t,n){"use strict";var r=e("../../lib");t.exports=function(e,t){for(var n=0;n<e.length;n++)e[n].i=n;r.mergeArray(t.text,e,"tx"),r.mergeArray(t.texttemplate,e,"txt"),r.mergeArray(t.hovertext,e,"htx"),r.mergeArray(t.customdata,e,"data"),r.mergeArray(t.textposition,e,"tp"),t.textfont&&(r.mergeArrayCastPositive(t.textfont.size,e,"ts"),r.mergeArray(t.textfont.color,e,"tc"),r.mergeArray(t.textfont.family,e,"tf"));var i=t.marker;if(i){r.mergeArrayCastPositive(i.size,e,"ms"),r.mergeArrayCastPositive(i.opacity,e,"mo"),r.mergeArray(i.symbol,e,"mx"),r.mergeArray(i.color,e,"mc");var a=i.line;i.line&&(r.mergeArray(a.color,e,"mlc"),r.mergeArrayCastPositive(a.width,e,"mlw"));var o=i.gradient;o&&"none"!==o.type&&(r.mergeArray(o.type,e,"mgt"),r.mergeArray(o.color,e,"mgc"))}}},{"../../lib":524}],655:[function(e,t,n){"use strict";var r=e("../../plots/template_attributes").texttemplateAttrs,i=e("../../plots/template_attributes").hovertemplateAttrs,a=e("../../components/colorscale/attributes"),o=e("../../plots/font_attributes"),s=e("../../components/drawing/attributes").dash,l=e("../../components/drawing"),u=e("./constants"),c=e("../../lib/extend").extendFlat;function f(e){return{valType:"any",dflt:0,editType:"calc"}}function d(e){return{valType:"any",editType:"calc"}}function h(e){return{valType:"enumerated",values:["start","middle","end"],dflt:"middle",editType:"calc"}}t.exports={x:{valType:"data_array",editType:"calc+clearAxisTypes",anim:!0},x0:{valType:"any",dflt:0,editType:"calc+clearAxisTypes",anim:!0},dx:{valType:"number",dflt:1,editType:"calc",anim:!0},y:{valType:"data_array",editType:"calc+clearAxisTypes",anim:!0},y0:{valType:"any",dflt:0,editType:"calc+clearAxisTypes",anim:!0},dy:{valType:"number",dflt:1,editType:"calc",anim:!0},xperiod:f("x"),yperiod:f("y"),xperiod0:d("x0"),yperiod0:d("y0"),xperiodalignment:h("x"),yperiodalignment:h("y"),stackgroup:{valType:"string",dflt:"",editType:"calc"},orientation:{valType:"enumerated",values:["v","h"],editType:"calc"},groupnorm:{valType:"enumerated",values:["","fraction","percent"],dflt:"",editType:"calc"},stackgaps:{valType:"enumerated",values:["infer zero","interpolate"],dflt:"infer zero",editType:"calc"},text:{valType:"string",dflt:"",arrayOk:!0,editType:"calc"},texttemplate:r({},{}),hovertext:{valType:"string",dflt:"",arrayOk:!0,editType:"style"},mode:{valType:"flaglist",flags:["lines","markers","text"],extras:["none"],editType:"calc"},hoveron:{valType:"flaglist",flags:["points","fills"],editType:"style"},hovertemplate:i({},{keys:u.eventDataKeys}),line:{color:{valType:"color",editType:"style",anim:!0},width:{valType:"number",min:0,dflt:2,editType:"style",anim:!0},shape:{valType:"enumerated",values:["linear","spline","hv","vh","hvh","vhv"],dflt:"linear",editType:"plot"},smoothing:{valType:"number",min:0,max:1.3,dflt:1,editType:"plot"},dash:c({},s,{editType:"style"}),simplify:{valType:"boolean",dflt:!0,editType:"plot"},editType:"plot"},connectgaps:{valType:"boolean",dflt:!1,editType:"calc"},cliponaxis:{valType:"boolean",dflt:!0,editType:"plot"},fill:{valType:"enumerated",values:["none","tozeroy","tozerox","tonexty","tonextx","toself","tonext"],editType:"calc"},fillcolor:{valType:"color",editType:"style",anim:!0},marker:c({symbol:{valType:"enumerated",values:l.symbolList,dflt:"circle",arrayOk:!0,editType:"style"},opacity:{valType:"number",min:0,max:1,arrayOk:!0,editType:"style",anim:!0},size:{valType:"number",min:0,dflt:6,arrayOk:!0,editType:"calc",anim:!0},maxdisplayed:{valType:"number",min:0,dflt:0,editType:"plot"},sizeref:{valType:"number",dflt:1,editType:"calc"},sizemin:{valType:"number",min:0,dflt:0,editType:"calc"},sizemode:{valType:"enumerated",values:["diameter","area"],dflt:"diameter",editType:"calc"},line:c({width:{valType:"number",min:0,arrayOk:!0,editType:"style",anim:!0},editType:"calc"},a("marker.line",{anim:!0})),gradient:{type:{valType:"enumerated",values:["radial","horizontal","vertical","none"],arrayOk:!0,dflt:"none",editType:"calc"},color:{valType:"color",arrayOk:!0,editType:"calc"},editType:"calc"},editType:"calc"},a("marker",{anim:!0})),selected:{marker:{opacity:{valType:"number",min:0,max:1,editType:"style"},color:{valType:"color",editType:"style"},size:{valType:"number",min:0,editType:"style"},editType:"style"},textfont:{color:{valType:"color",editType:"style"},editType:"style"},editType:"style"},unselected:{marker:{opacity:{valType:"number",min:0,max:1,editType:"style"},color:{valType:"color",editType:"style"},size:{valType:"number",min:0,editType:"style"},editType:"style"},textfont:{color:{valType:"color",editType:"style"},editType:"style"},editType:"style"},textposition:{valType:"enumerated",values:["top left","top center","top right","middle left","middle center","middle right","bottom left","bottom center","bottom right"],dflt:"middle center",arrayOk:!0,editType:"calc"},textfont:o({editType:"calc",colorEditType:"style",arrayOk:!0}),r:{valType:"data_array",editType:"calc"},t:{valType:"data_array",editType:"calc"}}},{"../../components/colorscale/attributes":401,"../../components/drawing":416,"../../components/drawing/attributes":415,"../../lib/extend":517,"../../plots/font_attributes":600,"../../plots/template_attributes":625,"./constants":659}],656:[function(e,t,n){"use strict";var r=e("fast-isnumeric"),i=e("../../lib"),a=e("../../plots/cartesian/axes"),o=e("../../plots/cartesian/align_period"),s=e("../../constants/numerical").BADNUM,l=e("./subtypes"),u=e("./colorscale_calc"),c=e("./arrays_to_calcdata"),f=e("./calc_selection");function d(e,t){var n,l,d,v,y,b,x=e._fullLayout,_=a.getFromId(e,t.xaxis||"x"),w=a.getFromId(e,t.yaxis||"y"),k=_.makeCalcdata(t,"x"),M=w.makeCalcdata(t,"y"),T=o(t,_,"x",k),A=o(t,w,"y",M),E=t._length,S=new Array(E),O=t.ids,C=m(t,x,_,w),L=!1;g(x,t);var R,P="x",j="y";C?(i.pushUnique(C.traceIndices,t._expandedIndex),(n="v"===C.orientation)?(j="s",R="x"):(P="s",R="y"),y="interpolate"===C.stackgaps):h(e,t,_,w,T,A,p(t,E));var z=!!t.xperiodalignment,I=!!t.yperiodalignment;for(l=0;l<E;l++){var N=S[l]={},D=r(T[l]),F=r(A[l]);D&&F?(N[P]=T[l],N[j]=A[l],z&&(N.orig_x=k[l]),I&&(N.orig_y=M[l])):C&&(n?D:F)?(N[R]=n?T[l]:A[l],N.gap=!0,y?(N.s=s,L=!0):N.s=0):N[P]=N[j]=s,O&&(N.id=String(O[l]))}if(c(S,t),u(e,t),f(S,t),C){for(l=0;l<S.length;)S[l][R]===s?S.splice(l,1):l++;if(i.sort(S,(function(e,t){return e[R]-t[R]||e.i-t.i})),L){for(l=0;l<S.length-1&&S[l].gap;)l++;for((b=S[l].s)||(b=S[l].s=0),d=0;d<l;d++)S[d].s=b;for(v=S.length-1;v>l&&S[v].gap;)v--;for(b=S[v].s,d=S.length-1;d>v;d--)S[d].s=b;for(;l<v;)if(S[++l].gap){for(d=l+1;S[d].gap;)d++;for(var B=S[l-1][R],U=S[l-1].s,V=(S[d].s-U)/(S[d][R]-B);l<d;)S[l].s=U+(S[l][R]-B)*V,l++}}}return S}function h(e,t,n,r,i,o,s){var u=t._length,c=e._fullLayout,f=n._id,d=r._id,h=c._firstScatter[v(t)]===t.uid,p=(m(t,c,n,r)||{}).orientation,g=t.fill;n._minDtick=0,r._minDtick=0;var y={padded:!0},b={padded:!0};s&&(y.ppad=b.ppad=s);var x=u<2||i[0]!==i[u-1]||o[0]!==o[u-1];x&&("tozerox"===g||"tonextx"===g&&(h||"h"===p))?y.tozero=!0:(t.error_y||{}).visible||"tonexty"!==g&&"tozeroy"!==g&&(l.hasMarkers(t)||l.hasText(t))||(y.padded=!1,y.ppad=0),x&&("tozeroy"===g||"tonexty"===g&&(h||"v"===p))?b.tozero=!0:"tonextx"!==g&&"tozerox"!==g||(b.padded=!1),f&&(t._extremes[f]=a.findExtremes(n,i,y)),d&&(t._extremes[d]=a.findExtremes(r,o,b))}function p(e,t){if(l.hasMarkers(e)){var n,r=e.marker,o=1.6*(e.marker.sizeref||1);if(n="area"===e.marker.sizemode?function(e){return Math.max(Math.sqrt((e||0)/o),3)}:function(e){return Math.max((e||0)/o,3)},i.isArrayOrTypedArray(r.size)){var s={type:"linear"};a.setConvert(s);for(var u=s.makeCalcdata(e.marker,"size"),c=new Array(t),f=0;f<t;f++)c[f]=n(u[f]);return c}return n(r.size)}}function g(e,t){var n=v(t),r=e._firstScatter;r[n]||(r[n]=t.uid)}function v(e){var t=e.stackgroup;return e.xaxis+e.yaxis+e.type+(t?"-"+t:"")}function m(e,t,n,r){var i=e.stackgroup;if(i){var a=t._scatterStackOpts[n._id+r._id][i],o="v"===a.orientation?r:n;return"linear"===o.type||"log"===o.type?a:void 0}}t.exports={calc:d,calcMarkerSize:p,calcAxisExpansion:h,setFirstScatter:g,getStackOpts:m}},{"../../constants/numerical":502,"../../lib":524,"../../plots/cartesian/align_period":569,"../../plots/cartesian/axes":572,"./arrays_to_calcdata":654,"./calc_selection":657,"./colorscale_calc":658,"./subtypes":680,"fast-isnumeric":91}],657:[function(e,t,n){"use strict";var r=e("../../lib");t.exports=function(e,t){r.isArrayOrTypedArray(t.selectedpoints)&&r.tagSelected(e,t)}},{"../../lib":524}],658:[function(e,t,n){"use strict";var r=e("../../components/colorscale/helpers").hasColorscale,i=e("../../components/colorscale/calc"),a=e("./subtypes");t.exports=function(e,t){a.hasLines(t)&&r(t,"line")&&i(e,t,{vals:t.line.color,containerStr:"line",cLetter:"c"}),a.hasMarkers(t)&&(r(t,"marker")&&i(e,t,{vals:t.marker.color,containerStr:"marker",cLetter:"c"}),r(t,"marker.line")&&i(e,t,{vals:t.marker.line.color,containerStr:"marker.line",cLetter:"c"}))}},{"../../components/colorscale/calc":402,"../../components/colorscale/helpers":405,"./subtypes":680}],659:[function(e,t,n){"use strict";t.exports={PTS_LINESONLY:20,minTolerance:.2,toleranceGrowth:10,maxScreensAway:20,eventDataKeys:[]}},{}],660:[function(e,t,n){"use strict";var r=e("./calc");function i(e,t,n,r,i,o,s){i[r]=!0;var l={i:null,gap:!0,s:0};if(l[s]=n,e.splice(t,0,l),t&&n===e[t-1][s]){var u=e[t-1];l.s=u.s,l.i=u.i,l.gap=u.gap}else o&&(l.s=a(e,t,n,s));t||(e[0].t=e[1].t,e[0].trace=e[1].trace,delete e[1].t,delete e[1].trace)}function a(e,t,n,r){var i=e[t-1],a=e[t+1];return a?i?i.s+(a.s-i.s)*(n-i[r])/(a[r]-i[r]):a.s:i.s}t.exports=function(e,t){var n=t.xaxis,a=t.yaxis,o=n._id+a._id,s=e._fullLayout._scatterStackOpts[o];if(s){var l,u,c,f,d,h,p,g,v,m,y,b,x,_,w,k=e.calcdata;for(var M in s){var T=(m=s[M]).traceIndices;if(T.length){for(y="interpolate"===m.stackgaps,b=m.groupnorm,"v"===m.orientation?(x="x",_="y"):(x="y",_="x"),w=new Array(T.length),l=0;l<w.length;l++)w[l]=!1;h=k[T[0]];var A=new Array(h.length);for(l=0;l<h.length;l++)A[l]=h[l][x];for(l=1;l<T.length;l++){for(d=k[T[l]],u=c=0;u<d.length;u++){for(p=d[u][x];p>A[c]&&c<A.length;c++)i(d,u,A[c],l,w,y,x),u++;if(p!==A[c]){for(f=0;f<l;f++)i(k[T[f]],c,p,f,w,y,x);A.splice(c,0,p)}c++}for(;c<A.length;c++)i(d,u,A[c],l,w,y,x),u++}var E=A.length;for(u=0;u<h.length;u++){for(g=h[u][_]=h[u].s,l=1;l<T.length;l++)(d=k[T[l]])[0].trace._rawLength=d[0].trace._length,d[0].trace._length=E,g+=d[u].s,d[u][_]=g;if(b)for(v=("fraction"===b?g:g/100)||1,l=0;l<T.length;l++){var S=k[T[l]][u];S[_]/=v,S.sNorm=S.s/v}}for(l=0;l<T.length;l++){var O=(d=k[T[l]])[0].trace,C=r.calcMarkerSize(O,O._rawLength),L=Array.isArray(C);if(C&&w[l]||L){var R=C;for(C=new Array(E),u=0;u<E;u++)C[u]=d[u].gap?0:L?R[d[u].i]:R}var P=new Array(E),j=new Array(E);for(u=0;u<E;u++)P[u]=d[u].x,j[u]=d[u].y;r.calcAxisExpansion(e,O,n,a,P,j,C),d[0].t.orientation=m.orientation}}}}}},{"./calc":656}],661:[function(e,t,n){"use strict";t.exports=function(e){for(var t=0;t<e.length;t++){var n=e[t];if("scatter"===n.type){var r=n.fill;if("none"!==r&&"toself"!==r&&(n.opacity=void 0,"tonexty"===r||"tonextx"===r))for(var i=t-1;i>=0;i--){var a=e[i];if("scatter"===a.type&&a.xaxis===n.xaxis&&a.yaxis===n.yaxis){a.opacity=void 0;break}}}}}},{}],662:[function(e,t,n){"use strict";var r=e("../../lib"),i=e("../../registry"),a=e("./attributes"),o=e("./constants"),s=e("./subtypes"),l=e("./xy_defaults"),u=e("./period_defaults"),c=e("./stack_defaults"),f=e("./marker_defaults"),d=e("./line_defaults"),h=e("./line_shape_defaults"),p=e("./text_defaults"),g=e("./fillcolor_defaults");t.exports=function(e,t,n,v){function m(n,i){return r.coerce(e,t,a,n,i)}var y=l(e,t,v,m);if(y||(t.visible=!1),t.visible){u(e,t,v,m);var b=c(e,t,v,m),x=!b&&y<o.PTS_LINESONLY?"lines+markers":"lines";m("text"),m("hovertext"),m("mode",x),s.hasLines(t)&&(d(e,t,n,v,m),h(e,t,m),m("connectgaps"),m("line.simplify")),s.hasMarkers(t)&&f(e,t,n,v,m,{gradient:!0}),s.hasText(t)&&(m("texttemplate"),p(e,t,v,m));var _=[];(s.hasMarkers(t)||s.hasText(t))&&(m("cliponaxis"),m("marker.maxdisplayed"),_.push("points")),m("fill",b?b.fillDflt:"none"),"none"!==t.fill&&(g(e,t,n,m),s.hasLines(t)||h(e,t,m));var w=(t.line||{}).color,k=(t.marker||{}).color;"tonext"!==t.fill&&"toself"!==t.fill||_.push("fills"),m("hoveron",_.join("+")||"points"),"fills"!==t.hoveron&&m("hovertemplate");var M=i.getComponentMethod("errorbars","supplyDefaults");M(e,t,w||k||n,{axis:"y"}),M(e,t,w||k||n,{axis:"x",inherit:"y"}),r.coerceSelectionMarkerOpacity(t,m)}}},{"../../lib":524,"../../registry":626,"./attributes":655,"./constants":659,"./fillcolor_defaults":663,"./line_defaults":668,"./line_shape_defaults":670,"./marker_defaults":674,"./period_defaults":675,"./stack_defaults":678,"./subtypes":680,"./text_defaults":681,"./xy_defaults":682}],663:[function(e,t,n){"use strict";var r=e("../../components/color"),i=e("../../lib").isArrayOrTypedArray;t.exports=function(e,t,n,a){var o=!1;if(t.marker){var s=t.marker.color,l=(t.marker.line||{}).color;s&&!i(s)?o=s:l&&!i(l)&&(o=l)}a("fillcolor",r.addOpacity((t.line||{}).color||o||n,.5))}},{"../../components/color":394,"../../lib":524}],664:[function(e,t,n){"use strict";var r=e("../../plots/cartesian/axes");t.exports=function(e,t,n){var i={},a={_fullLayout:n},o=r.getFromTrace(a,t,"x"),s=r.getFromTrace(a,t,"y");return i.xLabel=r.tickText(o,e.x,!0).text,i.yLabel=r.tickText(s,e.y,!0).text,i}},{"../../plots/cartesian/axes":572}],665:[function(e,t,n){"use strict";var r=e("../../components/color"),i=e("./subtypes");t.exports=function(e,t){var n,a;if("lines"===e.mode)return(n=e.line.color)&&r.opacity(n)?n:e.fillcolor;if("none"===e.mode)return e.fill?e.fillcolor:"";var o=t.mcc||(e.marker||{}).color,s=t.mlcc||((e.marker||{}).line||{}).color;return(a=o&&r.opacity(o)?o:s&&r.opacity(s)&&(t.mlw||((e.marker||{}).line||{}).width)?s:"")?r.opacity(a)<.3?r.addOpacity(a,.3):a:(n=(e.line||{}).color)&&r.opacity(n)&&i.hasLines(e)&&e.line.width?n:e.fillcolor}},{"../../components/color":394,"./subtypes":680}],666:[function(e,t,n){"use strict";var r=e("../../lib"),i=e("../../components/fx"),a=e("../../registry"),o=e("./get_trace_color"),s=e("../../components/color"),l=r.fillText;t.exports=function(e,t,n,u){var c=e.cd,f=c[0].trace,d=e.xa,h=e.ya,p=d.c2p(t),g=h.c2p(n),v=[p,g],m=f.hoveron||"",y=-1!==f.mode.indexOf("markers")?3:.5;if(-1!==m.indexOf("points")){var b=function(e){var t=Math.max(3,e.mrc||0),n=1-1/t,r=Math.abs(d.c2p(e.x)-p);return r<t?n*r/t:r-t+n},x=function(e){var t=Math.max(3,e.mrc||0),n=1-1/t,r=Math.abs(h.c2p(e.y)-g);return r<t?n*r/t:r-t+n},_=function(e){var t=Math.max(y,e.mrc||0),n=d.c2p(e.x)-p,r=h.c2p(e.y)-g;return Math.max(Math.sqrt(n*n+r*r)-t,1-y/t)},w=i.getDistanceFunction(u,b,x,_);if(i.getClosest(c,w,e),!1!==e.index){var k=c[e.index],M=d.c2p(k.x,!0),T=h.c2p(k.y,!0),A=k.mrc||1;e.index=k.i;var E=c[0].t.orientation,S=E&&(k.sNorm||k.s),O="h"===E?S:void 0!==k.orig_x?k.orig_x:k.x,C="v"===E?S:void 0!==k.orig_y?k.orig_y:k.y;return r.extendFlat(e,{color:o(f,k),x0:M-A,x1:M+A,xLabelVal:O,y0:T-A,y1:T+A,yLabelVal:C,spikeDistance:_(k),hovertemplate:f.hovertemplate}),l(k,f,e),a.getComponentMethod("errorbars","hoverInfo")(k,f,e),[e]}}if(-1!==m.indexOf("fills")&&f._polygons){var L,R,P,j,z,I,N,D,F,B=f._polygons,U=[],V=!1,H=1/0,q=-1/0,W=1/0,G=-1/0;for(L=0;L<B.length;L++)(P=B[L]).contains(v)&&(V=!V,U.push(P),W=Math.min(W,P.ymin),G=Math.max(G,P.ymax));if(V){var X=((W=Math.max(W,0))+(G=Math.min(G,h._length)))/2;for(L=0;L<U.length;L++)for(j=U[L].pts,R=1;R<j.length;R++)(D=j[R-1][1])>X!==(F=j[R][1])>=X&&(I=j[R-1][0],N=j[R][0],F-D&&(z=I+(N-I)*(X-D)/(F-D),H=Math.min(H,z),q=Math.max(q,z)));H=Math.max(H,0),q=Math.min(q,d._length);var Y=s.defaultLine;return s.opacity(f.fillcolor)?Y=f.fillcolor:s.opacity((f.line||{}).color)&&(Y=f.line.color),r.extendFlat(e,{distance:e.maxHoverDistance,x0:H,x1:q,y0:X,y1:X,color:Y,hovertemplate:!1}),delete e.index,f.text&&!Array.isArray(f.text)?e.text=String(f.text):e.text=f.name,[e]}}}},{"../../components/color":394,"../../components/fx":434,"../../lib":524,"../../registry":626,"./get_trace_color":665}],667:[function(e,t,n){"use strict";var r=e("./subtypes");t.exports={hasLines:r.hasLines,hasMarkers:r.hasMarkers,hasText:r.hasText,isBubble:r.isBubble,attributes:e("./attributes"),supplyDefaults:e("./defaults"),crossTraceDefaults:e("./cross_trace_defaults"),calc:e("./calc").calc,crossTraceCalc:e("./cross_trace_calc"),arraysToCalcdata:e("./arrays_to_calcdata"),plot:e("./plot"),colorbar:e("./marker_colorbar"),formatLabels:e("./format_labels"),style:e("./style").style,styleOnSelect:e("./style").styleOnSelect,hoverPoints:e("./hover"),selectPoints:e("./select"),animatable:!0,moduleType:"trace",name:"scatter",basePlotModule:e("../../plots/cartesian"),categories:["cartesian","svg","symbols","errorBarsOK","showLegend","scatter-like","zoomScale"],meta:{}}},{"../../plots/cartesian":585,"./arrays_to_calcdata":654,"./attributes":655,"./calc":656,"./cross_trace_calc":660,"./cross_trace_defaults":661,"./defaults":662,"./format_labels":664,"./hover":666,"./marker_colorbar":673,"./plot":676,"./select":677,"./style":679,"./subtypes":680}],668:[function(e,t,n){"use strict";var r=e("../../lib").isArrayOrTypedArray,i=e("../../components/colorscale/helpers").hasColorscale,a=e("../../components/colorscale/defaults");t.exports=function(e,t,n,o,s,l){var u=(e.marker||{}).color;s("line.color",n),i(e,"line")?a(e,t,o,s,{prefix:"line.",cLetter:"c"}):s("line.color",!r(u)&&u||n),s("line.width"),(l||{}).noDash||s("line.dash")}},{"../../components/colorscale/defaults":404,"../../components/colorscale/helpers":405,"../../lib":524}],669:[function(e,t,n){"use strict";var r=e("../../constants/numerical"),i=r.BADNUM,a=r.LOG_CLIP,o=a+.5,s=a-.5,l=e("../../lib"),u=l.segmentsIntersect,c=l.constrain,f=e("./constants");t.exports=function(e,t){var n,r,a,d,h,p,g,v,m,y,b,x,_,w,k,M,T,A,E=t.xaxis,S=t.yaxis,O="log"===E.type,C="log"===S.type,L=E._length,R=S._length,P=t.connectGaps,j=t.baseTolerance,z=t.shape,I="linear"===z,N=t.fill&&"none"!==t.fill,D=[],F=f.minTolerance,B=e.length,U=new Array(B),V=0;function H(n){var r=e[n];if(!r)return!1;var a=t.linearized?E.l2p(r.x):E.c2p(r.x),l=t.linearized?S.l2p(r.y):S.c2p(r.y);if(a===i){if(O&&(a=E.c2p(r.x,!0)),a===i)return!1;C&&l===i&&(a*=Math.abs(E._m*R*(E._m>0?o:s)/(S._m*L*(S._m>0?o:s)))),a*=1e3}if(l===i){if(C&&(l=S.c2p(r.y,!0)),l===i)return!1;l*=1e3}return[a,l]}function q(e,t,n,r){var i=n-e,a=r-t,o=.5-e,s=.5-t,l=i*i+a*a,u=i*o+a*s;if(u>0&&u<l){var c=o*a-s*i;if(c*c<l)return!0}}function W(e,t){var n=e[0]/L,r=e[1]/R,i=Math.max(0,-n,n-1,-r,r-1);return i&&void 0!==T&&q(n,r,T,A)&&(i=0),i&&t&&q(n,r,t[0]/L,t[1]/R)&&(i=0),(1+f.toleranceGrowth*i)*j}function G(e,t){var n=e[0]-t[0],r=e[1]-t[1];return Math.sqrt(n*n+r*r)}var X,Y,Z,$,K,Q,J,ee=f.maxScreensAway,te=-L*ee,ne=L*(1+ee),re=-R*ee,ie=R*(1+ee),ae=[[te,re,ne,re],[ne,re,ne,ie],[ne,ie,te,ie],[te,ie,te,re]];function oe(e,t){for(var n=[],r=0,i=0;i<4;i++){var a=ae[i],o=u(e[0],e[1],t[0],t[1],a[0],a[1],a[2],a[3]);o&&(!r||Math.abs(o.x-n[0][0])>1||Math.abs(o.y-n[0][1])>1)&&(o=[o.x,o.y],r&&G(o,e)<G(n[0],e)?n.unshift(o):n.push(o),r++)}return n}function se(e){if(e[0]<te||e[0]>ne||e[1]<re||e[1]>ie)return[c(e[0],te,ne),c(e[1],re,ie)]}function le(e,t){return e[0]===t[0]&&(e[0]===te||e[0]===ne)||e[1]===t[1]&&(e[1]===re||e[1]===ie)||void 0}function ue(e,t){var n=[],r=se(e),i=se(t);return r&&i&&le(r,i)||(r&&n.push(r),i&&n.push(i)),n}function ce(e,t,n){return function(r,i){var a=se(r),o=se(i),s=[];if(a&&o&&le(a,o))return s;a&&s.push(a),o&&s.push(o);var u=2*l.constrain((r[e]+i[e])/2,t,n)-((a||r)[e]+(o||i)[e]);return u&&((a&&o?u>0===a[e]>o[e]?a:o:a||o)[e]+=u),s}}function fe(e,t){var n=t[0]-e[0],r=(t[1]-e[1])/n;return(e[1]*t[0]-t[1]*e[0])/n>0?[r>0?te:ne,ie]:[r>0?ne:te,re]}function de(e){var t=e[0],n=e[1],r=t===U[V-1][0],i=n===U[V-1][1];if(!r||!i)if(V>1){var a=t===U[V-2][0],o=n===U[V-2][1];r&&(t===te||t===ne)&&a?o?V--:U[V-1]=e:i&&(n===re||n===ie)&&o?a?V--:U[V-1]=e:U[V++]=e}else U[V++]=e}function he(e){U[V-1][0]!==e[0]&&U[V-1][1]!==e[1]&&de([Z,$]),de(e),K=null,Z=$=0}function pe(e){if(T=e[0]/L,A=e[1]/R,X=e[0]<te?te:e[0]>ne?ne:0,Y=e[1]<re?re:e[1]>ie?ie:0,X||Y){if(V)if(K){var t=J(K,e);t.length>1&&(he(t[0]),U[V++]=t[1])}else Q=J(U[V-1],e)[0],U[V++]=Q;else U[V++]=[X||e[0],Y||e[1]];var n=U[V-1];X&&Y&&(n[0]!==X||n[1]!==Y)?(K&&(Z!==X&&$!==Y?de(Z&&$?fe(K,e):[Z||X,$||Y]):Z&&$&&de([Z,$])),de([X,Y])):Z-X&&$-Y&&de([X||Z,Y||$]),K=e,Z=X,$=Y}else K&&he(J(K,e)[0]),U[V++]=e}for("linear"===z||"spline"===z?J=oe:"hv"===z||"vh"===z?J=ue:"hvh"===z?J=ce(0,te,ne):"vhv"===z&&(J=ce(1,re,ie)),n=0;n<B;n++)if(r=H(n)){for(V=0,K=null,pe(r),n++;n<B;n++){if(!(d=H(n))){if(P)continue;break}if(I&&t.simplify){var ge=H(n+1);if(y=G(d,r),N&&(0===V||V===B-1)||!(y<W(d,ge)*F)){for(v=[(d[0]-r[0])/y,(d[1]-r[1])/y],h=r,b=y,x=w=k=0,g=!1,a=d,n++;n<e.length;n++){if(p=ge,ge=H(n+1),!p){if(P)continue;break}if(M=(m=[p[0]-r[0],p[1]-r[1]])[0]*v[1]-m[1]*v[0],w=Math.min(w,M),(k=Math.max(k,M))-w>W(p,ge))break;a=p,(_=m[0]*v[0]+m[1]*v[1])>b?(b=_,d=p,g=!1):_<x&&(x=_,h=p,g=!0)}if(g?(pe(d),a!==h&&pe(h)):(h!==r&&pe(h),a!==d&&pe(d)),pe(a),n>=e.length||!p)break;pe(p),r=p}}else pe(d)}K&&de([Z||K[0],$||K[1]]),D.push(U.slice(0,V))}return D}},{"../../constants/numerical":502,"../../lib":524,"./constants":659}],670:[function(e,t,n){"use strict";t.exports=function(e,t,n){"spline"===n("line.shape")&&n("line.smoothing")}},{}],671:[function(e,t,n){"use strict";var r={tonextx:1,tonexty:1,tonext:1};t.exports=function(e,t,n){var i,a,o,s,l,u={},c=!1,f=-1,d=0,h=-1;for(a=0;a<n.length;a++)(o=(i=n[a][0].trace).stackgroup||"")?o in u?l=u[o]:(l=u[o]=d,d++):i.fill in r&&h>=0?l=h:(l=h=d,d++),l<f&&(c=!0),i._groupIndex=f=l;var p=n.slice();c&&p.sort((function(e,t){var n=e[0].trace,r=t[0].trace;return n._groupIndex-r._groupIndex||n.index-r.index}));var g={};for(a=0;a<p.length;a++)o=(i=p[a][0].trace).stackgroup||"",!0===i.visible?(i._nexttrace=null,i.fill in r&&(s=g[o],i._prevtrace=s||null,s&&(s._nexttrace=i)),i._ownfill=i.fill&&("tozero"===i.fill.substr(0,6)||"toself"===i.fill||"to"===i.fill.substr(0,2)&&!i._prevtrace),g[o]=i):i._prevtrace=i._nexttrace=i._ownfill=null;return p}},{}],672:[function(e,t,n){"use strict";var r=e("fast-isnumeric");t.exports=function(e){var t=e.marker,n=t.sizeref||1,i=t.sizemin||0,a="area"===t.sizemode?function(e){return Math.sqrt(e/n)}:function(e){return e/n};return function(e){var t=a(e/2);return r(t)&&t>0?Math.max(t,i):0}}},{"fast-isnumeric":91}],673:[function(e,t,n){"use strict";t.exports={container:"marker",min:"cmin",max:"cmax"}},{}],674:[function(e,t,n){"use strict";var r=e("../../components/color"),i=e("../../components/colorscale/helpers").hasColorscale,a=e("../../components/colorscale/defaults"),o=e("./subtypes");t.exports=function(e,t,n,s,l,u){var c=o.isBubble(e),f=(e.line||{}).color;u=u||{},f&&(n=f),l("marker.symbol"),l("marker.opacity",c?.7:1),l("marker.size"),l("marker.color",n),i(e,"marker")&&a(e,t,s,l,{prefix:"marker.",cLetter:"c"}),u.noSelect||(l("selected.marker.color"),l("unselected.marker.color"),l("selected.marker.size"),l("unselected.marker.size")),u.noLine||(l("marker.line.color",f&&!Array.isArray(f)&&t.marker.color!==f?f:c?r.background:r.defaultLine),i(e,"marker.line")&&a(e,t,s,l,{prefix:"marker.line.",cLetter:"c"}),l("marker.line.width",c?1:0)),c&&(l("marker.sizeref"),l("marker.sizemin"),l("marker.sizemode")),u.gradient&&"none"!==l("marker.gradient.type")&&l("marker.gradient.color")}},{"../../components/color":394,"../../components/colorscale/defaults":404,"../../components/colorscale/helpers":405,"./subtypes":680}],675:[function(e,t,n){"use strict";var r=e("../../lib").dateTick0,i=e("../../constants/numerical").ONEWEEK;function a(e,t){return r(t,e%i===0?1:0)}t.exports=function(e,t,n,r,i){if(i||(i={x:!0,y:!0}),i.x){var o=r("xperiod");o&&(r("xperiod0",a(o,t.xcalendar)),r("xperiodalignment"))}if(i.y){var s=r("yperiod");s&&(r("yperiod0",a(s,t.ycalendar)),r("yperiodalignment"))}}},{"../../constants/numerical":502,"../../lib":524}],676:[function(e,t,n){"use strict";var r=e("d3"),i=e("../../registry"),a=e("../../lib"),o=a.ensureSingle,s=a.identity,l=e("../../components/drawing"),u=e("./subtypes"),c=e("./line_points"),f=e("./link_traces"),d=e("../../lib/polygon").tester;function h(e,t,n){t.each((function(t){var i=o(r.select(this),"g","fills");l.setClipUrl(i,n.layerClipId,e);var a=t[0].trace,u=[];a._ownfill&&u.push("_ownFill"),a._nexttrace&&u.push("_nextFill");var c=i.selectAll("g").data(u,s);c.enter().append("g"),c.exit().each((function(e){a[e]=null})).remove(),c.order().each((function(e){a[e]=o(r.select(this),"path","js-fill")}))}))}function p(e,t,n,f,h,p,v){var m;g(e,t,n,f,h);var y=!!v&&v.duration>0;function b(e){return y?e.transition():e}var x=n.xaxis,_=n.yaxis,w=f[0].trace,k=w.line,M=r.select(p),T=o(M,"g","errorbars"),A=o(M,"g","lines"),E=o(M,"g","points"),S=o(M,"g","text");if(i.getComponentMethod("errorbars","plot")(e,T,n,v),!0===w.visible){var O,C;b(M).style("opacity",w.opacity);var L=w.fill.charAt(w.fill.length-1);"x"!==L&&"y"!==L&&(L=""),f[0][n.isRangePlot?"nodeRangePlot3":"node3"]=M;var R,P,j="",z=[],I=w._prevtrace;I&&(j=I._prevRevpath||"",C=I._nextFill,z=I._polygons);var N,D,F,B,U,V,H,q="",W="",G=[],X=a.noop;if(O=w._ownFill,u.hasLines(w)||"none"!==w.fill){for(C&&C.datum(f),-1!==["hv","vh","hvh","vhv"].indexOf(k.shape)?(N=l.steps(k.shape),D=l.steps(k.shape.split("").reverse().join(""))):N=D="spline"===k.shape?function(e){var t=e[e.length-1];return e.length>1&&e[0][0]===t[0]&&e[0][1]===t[1]?l.smoothclosed(e.slice(1),k.smoothing):l.smoothopen(e,k.smoothing)}:function(e){return"M"+e.join("L")},F=function(e){return D(e.reverse())},G=c(f,{xaxis:x,yaxis:_,connectGaps:w.connectgaps,baseTolerance:Math.max(k.width||1,3)/4,shape:k.shape,simplify:k.simplify,fill:w.fill}),H=w._polygons=new Array(G.length),m=0;m<G.length;m++)w._polygons[m]=d(G[m]);G.length&&(B=G[0][0],V=(U=G[G.length-1])[U.length-1]),X=function(e){return function(t){if(R=N(t),P=F(t),q?L?(q+="L"+R.substr(1),W=P+"L"+W.substr(1)):(q+="Z"+R,W=P+"Z"+W):(q=R,W=P),u.hasLines(w)&&t.length>1){var n=r.select(this);if(n.datum(f),e)b(n.style("opacity",0).attr("d",R).call(l.lineGroupStyle)).style("opacity",1);else{var i=b(n);i.attr("d",R),l.singleLineStyle(f,i)}}}}}var Y=A.selectAll(".js-line").data(G);b(Y.exit()).style("opacity",0).remove(),Y.each(X(!1)),Y.enter().append("path").classed("js-line",!0).style("vector-effect","non-scaling-stroke").call(l.lineGroupStyle).each(X(!0)),l.setClipUrl(Y,n.layerClipId,e),G.length?(O?(O.datum(f),B&&V&&(L?("y"===L?B[1]=V[1]=_.c2p(0,!0):"x"===L&&(B[0]=V[0]=x.c2p(0,!0)),b(O).attr("d","M"+V+"L"+B+"L"+q.substr(1)).call(l.singleFillStyle)):b(O).attr("d",q+"Z").call(l.singleFillStyle))):C&&("tonext"===w.fill.substr(0,6)&&q&&j?("tonext"===w.fill?b(C).attr("d",q+"Z"+j+"Z").call(l.singleFillStyle):b(C).attr("d",q+"L"+j.substr(1)+"Z").call(l.singleFillStyle),w._polygons=w._polygons.concat(z)):($(C),w._polygons=null)),w._prevRevpath=W,w._prevPolygons=H):(O?$(O):C&&$(C),w._polygons=w._prevRevpath=w._prevPolygons=null),E.datum(f),S.datum(f),re(E,S,f);var Z=!1===w.cliponaxis?null:n.layerClipId;l.setClipUrl(E,Z,e),l.setClipUrl(S,Z,e)}function $(e){b(e).attr("d","M0,0Z")}function K(e){return e.filter((function(e){return!e.gap&&e.vis}))}function Q(e){return e.filter((function(e){return e.vis}))}function J(e){return e.filter((function(e){return!e.gap}))}function ee(e){return e.id}function te(e){if(e.ids)return ee}function ne(){return!1}function re(t,i,a){var o,c=a[0].trace,f=u.hasMarkers(c),d=u.hasText(c),h=te(c),p=ne,g=ne;if(f||d){var v=s,m=c.stackgroup,w=m&&"infer zero"===e._fullLayout._scatterStackOpts[x._id+_._id][m].stackgaps;c.marker.maxdisplayed||c._needsCull?v=w?Q:K:m&&!w&&(v=J),f&&(p=v),d&&(g=v)}var k,M=(o=t.selectAll("path.point").data(p,h)).enter().append("path").classed("point",!0);y&&M.call(l.pointStyle,c,e).call(l.translatePoints,x,_).style("opacity",0).transition().style("opacity",1),o.order(),f&&(k=l.makePointStyleFns(c)),o.each((function(t){var i=r.select(this),a=b(i);l.translatePoint(t,a,x,_)?(l.singlePointStyle(t,a,c,k,e),n.layerClipId&&l.hideOutsideRangePoint(t,a,x,_,c.xcalendar,c.ycalendar),c.customdata&&i.classed("plotly-customdata",null!==t.data&&void 0!==t.data)):a.remove()})),y?o.exit().transition().style("opacity",0).remove():o.exit().remove(),(o=i.selectAll("g").data(g,h)).enter().append("g").classed("textpoint",!0).append("text"),o.order(),o.each((function(e){var t=r.select(this),i=b(t.select("text"));l.translatePoint(e,i,x,_)?n.layerClipId&&l.hideOutsideRangePoint(e,t,x,_,c.xcalendar,c.ycalendar):t.remove()})),o.selectAll("text").call(l.textPointStyle,c,e).each((function(e){var t=x.c2p(e.x),n=_.c2p(e.y);r.select(this).selectAll("tspan.line").each((function(){b(r.select(this)).attr({x:t,y:n})}))})),o.exit().remove()}}function g(e,t,n,i,o){var s=n.xaxis,l=n.yaxis,c=r.extent(a.simpleMap(s.range,s.r2c)),f=r.extent(a.simpleMap(l.range,l.r2c)),d=i[0].trace;if(u.hasMarkers(d)){var h=d.marker.maxdisplayed;if(0!==h){var p=i.filter((function(e){return e.x>=c[0]&&e.x<=c[1]&&e.y>=f[0]&&e.y<=f[1]})),g=Math.ceil(p.length/h),v=0;o.forEach((function(e,n){var r=e[0].trace;u.hasMarkers(r)&&r.marker.maxdisplayed>0&&n<t&&v++}));var m=Math.round(v*g/3+Math.floor(v/3)*g/7.1);i.forEach((function(e){delete e.vis})),p.forEach((function(e,t){0===Math.round((t+m)%g)&&(e.vis=!0)}))}}}t.exports=function(e,t,n,i,a,o){var s,l,u=!a,c=!!a&&a.duration>0,d=f(e,t,n);(s=i.selectAll("g.trace").data(d,(function(e){return e[0].trace.uid}))).enter().append("g").attr("class",(function(e){return"trace scatter trace"+e[0].trace.uid})).style("stroke-miterlimit",2),s.order(),h(e,s,t),c?(o&&(l=o()),r.transition().duration(a.duration).ease(a.easing).each("end",(function(){l&&l()})).each("interrupt",(function(){l&&l()})).each((function(){i.selectAll("g.trace").each((function(n,r){p(e,r,t,n,d,this,a)}))}))):s.each((function(n,r){p(e,r,t,n,d,this,a)})),u&&s.exit().remove(),i.selectAll("path:not([d])").remove()}},{"../../components/drawing":416,"../../lib":524,"../../lib/polygon":536,"../../registry":626,"./line_points":669,"./link_traces":671,"./subtypes":680,d3:82}],677:[function(e,t,n){"use strict";var r=e("./subtypes");t.exports=function(e,t){var n,i,a,o,s=e.cd,l=e.xaxis,u=e.yaxis,c=[],f=s[0].trace;if(!r.hasMarkers(f)&&!r.hasText(f))return[];if(!1===t)for(n=0;n<s.length;n++)s[n].selected=0;else for(n=0;n<s.length;n++)i=s[n],a=l.c2p(i.x),o=u.c2p(i.y),null!==i.i&&t.contains([a,o],!1,n,e)?(c.push({pointNumber:i.i,x:l.c2d(i.x),y:u.c2d(i.y)}),i.selected=1):i.selected=0;return c}},{"./subtypes":680}],678:[function(e,t,n){"use strict";var r=["orientation","groupnorm","stackgaps"];t.exports=function(e,t,n,i){var a=n._scatterStackOpts,o=i("stackgroup");if(o){var s=t.xaxis+t.yaxis,l=a[s];l||(l=a[s]={});var u=l[o],c=!1;u?u.traces.push(t):(u=l[o]={traceIndices:[],traces:[t]},c=!0);for(var f={orientation:t.x&&!t.y?"h":"v"},d=0;d<r.length;d++){var h=r[d],p=h+"Found";if(!u[p]){var g=void 0!==e[h],v="orientation"===h;if((g||c)&&(u[h]=i(h,f[h]),v&&(u.fillDflt="h"===u[h]?"tonextx":"tonexty"),g&&(u[p]=!0,!c&&(delete u.traces[0][h],v))))for(var m=0;m<u.traces.length-1;m++){var y=u.traces[m];y._input.fill!==y.fill&&(y.fill=u.fillDflt)}}}return u}}},{}],679:[function(e,t,n){"use strict";var r=e("d3"),i=e("../../components/drawing"),a=e("../../registry");function o(e){var t=r.select(e).selectAll("g.trace.scatter");t.style("opacity",(function(e){return e[0].trace.opacity})),t.selectAll("g.points").each((function(t){s(r.select(this),t.trace||t[0].trace,e)})),t.selectAll("g.text").each((function(t){l(r.select(this),t.trace||t[0].trace,e)})),t.selectAll("g.trace path.js-line").call(i.lineGroupStyle),t.selectAll("g.trace path.js-fill").call(i.fillGroupStyle),a.getComponentMethod("errorbars","style")(t)}function s(e,t,n){i.pointStyle(e.selectAll("path.point"),t,n)}function l(e,t,n){i.textPointStyle(e.selectAll("text"),t,n)}function u(e,t,n){var r=t[0].trace;r.selectedpoints?(i.selectedPointStyle(n.selectAll("path.point"),r),i.selectedTextStyle(n.selectAll("text"),r)):(s(n,r,e),l(n,r,e))}t.exports={style:o,stylePoints:s,styleText:l,styleOnSelect:u}},{"../../components/drawing":416,"../../registry":626,d3:82}],680:[function(e,t,n){"use strict";var r=e("../../lib");t.exports={hasLines:function(e){return e.visible&&e.mode&&-1!==e.mode.indexOf("lines")},hasMarkers:function(e){return e.visible&&(e.mode&&-1!==e.mode.indexOf("markers")||"splom"===e.type)},hasText:function(e){return e.visible&&e.mode&&-1!==e.mode.indexOf("text")},isBubble:function(e){return r.isPlainObject(e.marker)&&r.isArrayOrTypedArray(e.marker.size)}}},{"../../lib":524}],681:[function(e,t,n){"use strict";var r=e("../../lib");t.exports=function(e,t,n,i,a){a=a||{},i("textposition"),r.coerceFont(i,"textfont",n.font),a.noSelect||(i("selected.textfont.color"),i("unselected.textfont.color"))}},{"../../lib":524}],682:[function(e,t,n){"use strict";var r=e("../../lib"),i=e("../../registry");t.exports=function(e,t,n,a){var o,s=a("x"),l=a("y");if(i.getComponentMethod("calendars","handleTraceDefaults")(e,t,["x","y"],n),s){var u=r.minRowLength(s);l?o=Math.min(u,r.minRowLength(l)):(o=u,a("y0"),a("dy"))}else{if(!l)return 0;o=r.minRowLength(l),a("x0"),a("dx")}return t._length=o,o}},{"../../lib":524,"../../registry":626}],683:[function(e,t,n){"use strict";var r=e("../scatter/attributes"),i=e("../../components/colorscale/attributes"),a=e("../../plots/template_attributes").hovertemplateAttrs,o=e("../../plots/template_attributes").texttemplateAttrs,s=e("../../plots/attributes"),l=e("../../constants/gl3d_dashes"),u=e("../../constants/gl3d_markers"),c=e("../../lib/extend").extendFlat,f=e("../../plot_api/edit_types").overrideAll,d=r.line,h=r.marker,p=h.line,g=c({width:d.width,dash:{valType:"enumerated",values:Object.keys(l),dflt:"solid"}},i("line"));function v(e){return{show:{valType:"boolean",dflt:!1},opacity:{valType:"number",min:0,max:1,dflt:1},scale:{valType:"number",min:0,max:10,dflt:2/3}}}var m=t.exports=f({x:r.x,y:r.y,z:{valType:"data_array"},text:c({},r.text,{}),texttemplate:o({},{}),hovertext:c({},r.hovertext,{}),hovertemplate:a(),mode:c({},r.mode,{dflt:"lines+markers"}),surfaceaxis:{valType:"enumerated",values:[-1,0,1,2],dflt:-1},surfacecolor:{valType:"color"},projection:{x:v("x"),y:v("y"),z:v("z")},connectgaps:r.connectgaps,line:g,marker:c({symbol:{valType:"enumerated",values:Object.keys(u),dflt:"circle",arrayOk:!0},size:c({},h.size,{dflt:8}),sizeref:h.sizeref,sizemin:h.sizemin,sizemode:h.sizemode,opacity:c({},h.opacity,{arrayOk:!1}),colorbar:h.colorbar,line:c({width:c({},p.width,{arrayOk:!1})},i("marker.line"))},i("marker")),textposition:c({},r.textposition,{dflt:"top center"}),textfont:{color:r.textfont.color,size:r.textfont.size,family:c({},r.textfont.family,{arrayOk:!1})},hoverinfo:c({},s.hoverinfo)},"calc","nested");m.x.editType=m.y.editType=m.z.editType="calc+clearAxisTypes"},{"../../components/colorscale/attributes":401,"../../constants/gl3d_dashes":499,"../../constants/gl3d_markers":500,"../../lib/extend":517,"../../plot_api/edit_types":554,"../../plots/attributes":568,"../../plots/template_attributes":625,"../scatter/attributes":655}],684:[function(e,t,n){"use strict";var r=e("../scatter/arrays_to_calcdata"),i=e("../scatter/colorscale_calc");t.exports=function(e,t){var n=[{x:!1,y:!1,trace:t,t:{}}];return r(n,t),i(e,t),n}},{"../scatter/arrays_to_calcdata":654,"../scatter/colorscale_calc":658}],685:[function(e,t,n){"use strict";var r=e("../../registry");function i(e,t,n,i){if(!t||!t.visible)return null;for(var a=r.getComponentMethod("errorbars","makeComputeError")(t),o=new Array(e.length),s=0;s<e.length;s++){var l=a(+e[s],s);if("log"===i.type){var u=i.c2l(e[s]),c=e[s]-l[0],f=e[s]+l[1];if(o[s]=[(i.c2l(c,!0)-u)*n,(i.c2l(f,!0)-u)*n],c>0){var d=i.c2l(c);i._lowerLogErrorBound||(i._lowerLogErrorBound=d),i._lowerErrorBound=Math.min(i._lowerLogErrorBound,d)}}else o[s]=[-l[0]*n,l[1]*n]}return o}function a(e){for(var t=0;t<e.length;t++)if(e[t])return e[t].length;return 0}function o(e,t,n){var r=[i(e.x,e.error_x,t[0],n.xaxis),i(e.y,e.error_y,t[1],n.yaxis),i(e.z,e.error_z,t[2],n.zaxis)],o=a(r);if(0===o)return null;for(var s=new Array(o),l=0;l<o;l++){for(var u=[[0,0,0],[0,0,0]],c=0;c<3;c++)if(r[c])for(var f=0;f<2;f++)u[f][c]=r[c][l][f];s[l]=u}return s}t.exports=o},{"../../registry":626}],686:[function(e,t,n){"use strict";var r=e("gl-line3d"),i=e("gl-scatter3d"),a=e("gl-error3d"),o=e("gl-mesh3d"),s=e("delaunay-triangulate"),l=e("../../lib"),u=e("../../lib/str2rgbarray"),c=e("../../lib/gl_format_color").formatColor,f=e("../scatter/make_bubble_size_func"),d=e("../../constants/gl3d_dashes"),h=e("../../constants/gl3d_markers"),p=e("../../plots/cartesian/axes"),g=e("../../components/fx/helpers").appendArrayPointValue,v=e("./calc_errors");function m(e,t){this.scene=e,this.uid=t,this.linePlot=null,this.scatterPlot=null,this.errorBars=null,this.textMarkers=null,this.delaunayMesh=null,this.color=null,this.mode="",this.dataPoints=[],this.axesBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.textLabels=null,this.data=null}var y=m.prototype;function b(e,t,n){var r,i=(n+1)%3,a=(n+2)%3,o=[],l=[];for(r=0;r<e.length;++r){var u=e[r];!isNaN(u[i])&&isFinite(u[i])&&!isNaN(u[a])&&isFinite(u[a])&&(o.push([u[i],u[a]]),l.push(r))}var c=s(o);for(r=0;r<c.length;++r)for(var f=c[r],d=0;d<f.length;++d)f[d]=l[f[d]];return{positions:e,cells:c,meshColor:t}}function x(e){for(var t=[0,0,0],n=[[0,0,0],[0,0,0],[0,0,0]],r=[1,1,1],i=0;i<3;i++){var a=e[i];a&&!1!==a.copy_zstyle&&!1!==e[2].visible&&(a=e[2]),a&&a.visible&&(t[i]=a.width/2,n[i]=u(a.color),r[i]=a.thickness)}return{capSize:t,color:n,lineWidth:r}}function _(e){return null===e||void 0===e?0:e.indexOf("left")>-1?-1:e.indexOf("right")>-1?1:0}function w(e){return null===e||void 0===e?0:e.indexOf("top")>-1?-1:e.indexOf("bottom")>-1?1:0}function k(e){var t=0,n=0,r=[t,n];if(Array.isArray(e))for(var i=0;i<e.length;i++)r[i]=[t,n],e[i]&&(r[i][0]=_(e[i]),r[i][1]=w(e[i]));else r[0]=_(e),r[1]=w(e);return r}function M(e,t){return t(4*e)}function T(e){return h[e]}function A(e,t,n,r,i){var a=null;if(l.isArrayOrTypedArray(e)){a=[];for(var o=0;o<t;o++)void 0===e[o]?a[o]=r:a[o]=n(e[o],i)}else a=n(e,l.identity);return a}function E(e,t){var n,r,i,a,o,s,d=[],h=e.fullSceneLayout,m=e.dataScale,y=h.xaxis,b=h.yaxis,_=h.zaxis,w=t.marker,E=t.line,S=t.x||[],O=t.y||[],C=t.z||[],L=S.length,R=t.xcalendar,P=t.ycalendar,j=t.zcalendar;for(o=0;o<L;o++)n=y.d2l(S[o],0,R)*m[0],r=b.d2l(O[o],0,P)*m[1],i=_.d2l(C[o],0,j)*m[2],d[o]=[n,r,i];if(Array.isArray(t.text))s=t.text;else if(void 0!==t.text)for(s=new Array(L),o=0;o<L;o++)s[o]=t.text;function z(e,t){var n=h[e];return p.tickText(n,n.d2l(t),!0).text}var I=t.texttemplate;if(I){var N=e.fullLayout._d3locale,D=Array.isArray(I),F=D?Math.min(I.length,L):L,B=D?function(e){return I[e]}:function(){return I};for(s=new Array(F),o=0;o<F;o++){var U={x:S[o],y:O[o],z:C[o]},V={xLabel:z("xaxis",S[o]),yLabel:z("yaxis",O[o]),zLabel:z("zaxis",C[o])},H={};g(H,t,o);var q=t._meta||{};s[o]=l.texttemplateString(B(o),V,N,H,U,q)}}if(a={position:d,mode:t.mode,text:s},"line"in t&&(a.lineColor=c(E,1,L),a.lineWidth=E.width,a.lineDashes=E.dash),"marker"in t){var W=f(t);a.scatterColor=c(w,1,L),a.scatterSize=A(w.size,L,M,20,W),a.scatterMarker=A(w.symbol,L,T,"\u25cf"),a.scatterLineWidth=w.line.width,a.scatterLineColor=c(w.line,1,L),a.scatterAngle=0}"textposition"in t&&(a.textOffset=k(t.textposition),a.textColor=c(t.textfont,1,L),a.textSize=A(t.textfont.size,L,l.identity,12),a.textFont=t.textfont.family,a.textAngle=0);var G=["x","y","z"];for(a.project=[!1,!1,!1],a.projectScale=[1,1,1],a.projectOpacity=[1,1,1],o=0;o<3;++o){var X=t.projection[G[o]];(a.project[o]=X.show)&&(a.projectOpacity[o]=X.opacity,a.projectScale[o]=X.scale)}a.errorBounds=v(t,m,h);var Y=x([t.error_x,t.error_y,t.error_z]);return a.errorColor=Y.color,a.errorLineWidth=Y.lineWidth,a.errorCapSize=Y.capSize,a.delaunayAxis=t.surfaceaxis,a.delaunayColor=u(t.surfacecolor),a}function S(e){if(l.isArrayOrTypedArray(e)){var t=e[0];return l.isArrayOrTypedArray(t)&&(e=t),"rgb("+e.slice(0,3).map((function(e){return Math.round(255*e)}))+")"}return null}function O(e){return l.isArrayOrTypedArray(e)?4===e.length&&"number"===typeof e[0]?S(e):e.map(S):null}function C(e,t){var n=new m(e,t.uid);return n.update(t),n}y.handlePick=function(e){if(e.object&&(e.object===this.linePlot||e.object===this.delaunayMesh||e.object===this.textMarkers||e.object===this.scatterPlot)){var t=e.index=e.data.index;return e.object.highlight&&e.object.highlight(null),this.scatterPlot&&(e.object=this.scatterPlot,this.scatterPlot.highlight(e.data)),e.textLabel="",this.textLabels&&(Array.isArray(this.textLabels)?(this.textLabels[t]||0===this.textLabels[t])&&(e.textLabel=this.textLabels[t]):e.textLabel=this.textLabels),e.traceCoordinate=[this.data.x[t],this.data.y[t],this.data.z[t]],!0}},y.update=function(e){var t,n,s,l,u=this.scene.glplot.gl,c=d.solid;this.data=e;var f=E(this.scene,e);"mode"in f&&(this.mode=f.mode),"lineDashes"in f&&f.lineDashes in d&&(c=d[f.lineDashes]),this.color=O(f.scatterColor)||O(f.lineColor),this.dataPoints=f.position,t={gl:this.scene.glplot.gl,position:f.position,color:f.lineColor,lineWidth:f.lineWidth||1,dashes:c[0],dashScale:c[1],opacity:e.opacity,connectGaps:e.connectgaps},-1!==this.mode.indexOf("lines")?this.linePlot?this.linePlot.update(t):(this.linePlot=r(t),this.linePlot._trace=this,this.scene.glplot.add(this.linePlot)):this.linePlot&&(this.scene.glplot.remove(this.linePlot),this.linePlot.dispose(),this.linePlot=null);var h=e.opacity;if(e.marker&&e.marker.opacity&&(h*=e.marker.opacity),n={gl:this.scene.glplot.gl,position:f.position,color:f.scatterColor,size:f.scatterSize,glyph:f.scatterMarker,opacity:h,orthographic:!0,lineWidth:f.scatterLineWidth,lineColor:f.scatterLineColor,project:f.project,projectScale:f.projectScale,projectOpacity:f.projectOpacity},-1!==this.mode.indexOf("markers")?this.scatterPlot?this.scatterPlot.update(n):(this.scatterPlot=i(n),this.scatterPlot._trace=this,this.scatterPlot.highlightScale=1,this.scene.glplot.add(this.scatterPlot)):this.scatterPlot&&(this.scene.glplot.remove(this.scatterPlot),this.scatterPlot.dispose(),this.scatterPlot=null),l={gl:this.scene.glplot.gl,position:f.position,glyph:f.text,color:f.textColor,size:f.textSize,angle:f.textAngle,alignment:f.textOffset,font:f.textFont,orthographic:!0,lineWidth:0,project:!1,opacity:e.opacity},this.textLabels=e.hovertext||e.text,-1!==this.mode.indexOf("text")?this.textMarkers?this.textMarkers.update(l):(this.textMarkers=i(l),this.textMarkers._trace=this,this.textMarkers.highlightScale=1,this.scene.glplot.add(this.textMarkers)):this.textMarkers&&(this.scene.glplot.remove(this.textMarkers),this.textMarkers.dispose(),this.textMarkers=null),s={gl:this.scene.glplot.gl,position:f.position,color:f.errorColor,error:f.errorBounds,lineWidth:f.errorLineWidth,capSize:f.errorCapSize,opacity:e.opacity},this.errorBars?f.errorBounds?this.errorBars.update(s):(this.scene.glplot.remove(this.errorBars),this.errorBars.dispose(),this.errorBars=null):f.errorBounds&&(this.errorBars=a(s),this.errorBars._trace=this,this.scene.glplot.add(this.errorBars)),f.delaunayAxis>=0){var p=b(f.position,f.delaunayColor,f.delaunayAxis);p.opacity=e.opacity,this.delaunayMesh?this.delaunayMesh.update(p):(p.gl=u,this.delaunayMesh=o(p),this.delaunayMesh._trace=this,this.scene.glplot.add(this.delaunayMesh))}else this.delaunayMesh&&(this.scene.glplot.remove(this.delaunayMesh),this.delaunayMesh.dispose(),this.delaunayMesh=null)},y.dispose=function(){this.linePlot&&(this.scene.glplot.remove(this.linePlot),this.linePlot.dispose()),this.scatterPlot&&(this.scene.glplot.remove(this.scatterPlot),this.scatterPlot.dispose()),this.errorBars&&(this.scene.glplot.remove(this.errorBars),this.errorBars.dispose()),this.textMarkers&&(this.scene.glplot.remove(this.textMarkers),this.textMarkers.dispose()),this.delaunayMesh&&(this.scene.glplot.remove(this.delaunayMesh),this.delaunayMesh.dispose())},t.exports=C},{"../../components/fx/helpers":430,"../../constants/gl3d_dashes":499,"../../constants/gl3d_markers":500,"../../lib":524,"../../lib/gl_format_color":521,"../../lib/str2rgbarray":547,"../../plots/cartesian/axes":572,"../scatter/make_bubble_size_func":672,"./calc_errors":685,"delaunay-triangulate":84,"gl-error3d":113,"gl-line3d":119,"gl-mesh3d":153,"gl-scatter3d":164}],687:[function(e,t,n){"use strict";var r=e("../../registry"),i=e("../../lib"),a=e("../scatter/subtypes"),o=e("../scatter/marker_defaults"),s=e("../scatter/line_defaults"),l=e("../scatter/text_defaults"),u=e("./attributes");function c(e,t,n,i){var a=0,o=n("x"),s=n("y"),l=n("z");return r.getComponentMethod("calendars","handleTraceDefaults")(e,t,["x","y","z"],i),o&&s&&l&&(a=Math.min(o.length,s.length,l.length),t._length=t._xlength=t._ylength=t._zlength=a),a}t.exports=function(e,t,n,f){function d(n,r){return i.coerce(e,t,u,n,r)}if(c(e,t,d,f)){d("text"),d("hovertext"),d("hovertemplate"),d("mode"),a.hasLines(t)&&(d("connectgaps"),s(e,t,n,f,d)),a.hasMarkers(t)&&o(e,t,n,f,d,{noSelect:!0}),a.hasText(t)&&(d("texttemplate"),l(e,t,f,d,{noSelect:!0}));var h=(t.line||{}).color,p=(t.marker||{}).color;d("surfaceaxis")>=0&&d("surfacecolor",h||p);for(var g=["x","y","z"],v=0;v<3;++v){var m="projection."+g[v];d(m+".show")&&(d(m+".opacity"),d(m+".scale"))}var y=r.getComponentMethod("errorbars","supplyDefaults");y(e,t,h||p||n,{axis:"z"}),y(e,t,h||p||n,{axis:"y",inherit:"z"}),y(e,t,h||p||n,{axis:"x",inherit:"z"})}else t.visible=!1}},{"../../lib":524,"../../registry":626,"../scatter/line_defaults":668,"../scatter/marker_defaults":674,"../scatter/subtypes":680,"../scatter/text_defaults":681,"./attributes":683}],688:[function(e,t,n){"use strict";t.exports={plot:e("./convert"),attributes:e("./attributes"),markerSymbols:e("../../constants/gl3d_markers"),supplyDefaults:e("./defaults"),colorbar:[{container:"marker",min:"cmin",max:"cmax"},{container:"line",min:"cmin",max:"cmax"}],calc:e("./calc"),moduleType:"trace",name:"scatter3d",basePlotModule:e("../../plots/gl3d"),categories:["gl3d","symbols","showLegend","scatter-like"],meta:{}}},{"../../constants/gl3d_markers":500,"../../plots/gl3d":603,"./attributes":683,"./calc":684,"./convert":686,"./defaults":687}],689:[function(e,t,n){"use strict";var r=e("../../components/colorscale/attributes"),i=e("../../plots/template_attributes").hovertemplateAttrs,a=e("../mesh3d/attributes"),o=e("../../plots/attributes"),s=e("../../lib/extend").extendFlat,l={x:{valType:"data_array",editType:"calc+clearAxisTypes"},y:{valType:"data_array",editType:"calc+clearAxisTypes"},z:{valType:"data_array",editType:"calc+clearAxisTypes"},u:{valType:"data_array",editType:"calc"},v:{valType:"data_array",editType:"calc"},w:{valType:"data_array",editType:"calc"},starts:{x:{valType:"data_array",editType:"calc"},y:{valType:"data_array",editType:"calc"},z:{valType:"data_array",editType:"calc"},editType:"calc"},maxdisplayed:{valType:"integer",min:0,dflt:1e3,editType:"calc"},sizeref:{valType:"number",editType:"calc",min:0,dflt:1},text:{valType:"string",dflt:"",editType:"calc"},hovertext:{valType:"string",dflt:"",editType:"calc"},hovertemplate:i({editType:"calc"},{keys:["tubex","tubey","tubez","tubeu","tubev","tubew","norm","divergence"]}),showlegend:s({},o.showlegend,{dflt:!1})};s(l,r("",{colorAttr:"u/v/w norm",showScaleDflt:!0,editTypeOverride:"calc"})),["opacity","lightposition","lighting"].forEach((function(e){l[e]=a[e]})),l.hoverinfo=s({},o.hoverinfo,{editType:"calc",flags:["x","y","z","u","v","w","norm","divergence","text","name"],dflt:"x+y+z+norm+text+name"}),l.transforms=void 0,t.exports=l},{"../../components/colorscale/attributes":401,"../../lib/extend":517,"../../plots/attributes":568,"../../plots/template_attributes":625,"../mesh3d/attributes":647}],690:[function(e,t,n){"use strict";var r=e("../../lib"),i=e("../../components/colorscale/calc");function a(e,t){t._len=Math.min(t.u.length,t.v.length,t.w.length,t.x.length,t.y.length,t.z.length),t._u=l(t.u,t._len),t._v=l(t.v,t._len),t._w=l(t.w,t._len),t._x=l(t.x,t._len),t._y=l(t.y,t._len),t._z=l(t.z,t._len);var n=o(t);t._gridFill=n.fill,t._Xs=n.Xs,t._Ys=n.Ys,t._Zs=n.Zs,t._len=n.len;var r,a,s,u=0;t.starts&&(r=l(t.starts.x||[]),a=l(t.starts.y||[]),s=l(t.starts.z||[]),u=Math.min(r.length,a.length,s.length)),t._startsX=r||[],t._startsY=a||[],t._startsZ=s||[];var c,f=0,d=1/0;for(c=0;c<t._len;c++){var h=t._u[c],p=t._v[c],g=t._w[c],v=Math.sqrt(h*h+p*p+g*g);f=Math.max(f,v),d=Math.min(d,v)}for(i(e,t,{vals:[d,f],containerStr:"",cLetter:"c"}),c=0;c<u;c++){var m=r[c];n.xMax=Math.max(n.xMax,m),n.xMin=Math.min(n.xMin,m);var y=a[c];n.yMax=Math.max(n.yMax,y),n.yMin=Math.min(n.yMin,y);var b=s[c];n.zMax=Math.max(n.zMax,b),n.zMin=Math.min(n.zMin,b)}t._slen=u,t._normMax=f,t._xbnds=[n.xMin,n.xMax],t._ybnds=[n.yMin,n.yMax],t._zbnds=[n.zMin,n.zMax]}function o(e){var t,n,i,a,o,l,u,c,f,d,h,p,g=e._x,v=e._y,m=e._z,y=e._len,b=-1/0,x=1/0,_=-1/0,w=1/0,k=-1/0,M=1/0,T="";for(y&&(u=g[0],f=v[0],h=m[0]),y>1&&(c=g[y-1],d=v[y-1],p=m[y-1]),t=0;t<y;t++)b=Math.max(b,g[t]),x=Math.min(x,g[t]),_=Math.max(_,v[t]),w=Math.min(w,v[t]),k=Math.max(k,m[t]),M=Math.min(M,m[t]),a||g[t]===u||(a=!0,T+="x"),o||v[t]===f||(o=!0,T+="y"),l||m[t]===h||(l=!0,T+="z");a||(T+="x"),o||(T+="y"),l||(T+="z");var A=s(e._x),E=s(e._y),S=s(e._z);T=(T=(T=T.replace("x",(u>c?"-":"+")+"x")).replace("y",(f>d?"-":"+")+"y")).replace("z",(h>p?"-":"+")+"z");var O=function(){y=0,A=[],E=[],S=[]};(!y||y<A.length*E.length*S.length)&&O();var C=function(e){return"x"===e?g:"y"===e?v:m},L=function(e){return"x"===e?A:"y"===e?E:S},R=function(e){return e[y-1]<e[0]?-1:1},P=C(T[1]),j=C(T[3]),z=C(T[5]),I=L(T[1]).length,N=L(T[3]).length,D=L(T[5]).length,F=!1,B=function(e,t,n){return I*(N*e+t)+n},U=R(C(T[1])),V=R(C(T[3])),H=R(C(T[5]));for(t=0;t<D-1;t++){for(n=0;n<N-1;n++){for(i=0;i<I-1;i++){var q=B(t,n,i),W=B(t,n,i+1),G=B(t,n+1,i),X=B(t+1,n,i);if(P[q]*U<P[W]*U&&j[q]*V<j[G]*V&&z[q]*H<z[X]*H||(F=!0),F)break}if(F)break}if(F)break}return F&&(r.warn("Encountered arbitrary coordinates! Unable to input data grid."),O()),{xMin:x,yMin:w,zMin:M,xMax:b,yMax:_,zMax:k,Xs:A,Ys:E,Zs:S,len:y,fill:T}}function s(e){return r.distinctVals(e).vals}function l(e,t){if(void 0===t&&(t=e.length),r.isTypedArray(e))return e.subarray(0,t);for(var n=[],i=0;i<t;i++)n[i]=+e[i];return n}t.exports={calc:a,filter:l,processGrid:o}},{"../../components/colorscale/calc":402,"../../lib":524}],691:[function(e,t,n){"use strict";var r=e("gl-streamtube3d"),i=r.createTubeMesh,a=e("../../lib"),o=e("../../lib/gl_format_color").parseColorScale,s=e("../../components/colorscale").extractOpts,l=e("../../plots/gl3d/zip3"),u={xaxis:0,yaxis:1,zaxis:2};function c(e,t){this.scene=e,this.uid=t,this.mesh=null,this.data=null}var f=c.prototype;function d(e){var t=e.length;return t>2?e.slice(1,t-1):2===t?[(e[0]+e[1])/2]:e}function h(e){var t=e.length;return 1===t?[.5,.5]:[e[1]-e[0],e[t-1]-e[t-2]]}function p(e,t){var n=e.fullSceneLayout,i=e.dataScale,c=t._len,f={};function p(e,t){var r=n[t],o=i[u[t]];return a.simpleMap(e,(function(e){return r.d2l(e)*o}))}if(f.vectors=l(p(t._u,"xaxis"),p(t._v,"yaxis"),p(t._w,"zaxis"),c),!c)return{positions:[],cells:[]};var g=p(t._Xs,"xaxis"),v=p(t._Ys,"yaxis"),m=p(t._Zs,"zaxis");if(f.meshgrid=[g,v,m],f.gridFill=t._gridFill,t._slen)f.startingPositions=l(p(t._startsX,"xaxis"),p(t._startsY,"yaxis"),p(t._startsZ,"zaxis"));else{for(var y=v[0],b=d(g),x=d(m),_=new Array(b.length*x.length),w=0,k=0;k<b.length;k++)for(var M=0;M<x.length;M++)_[w++]=[b[k],y,x[M]];f.startingPositions=_}f.colormap=o(t),f.tubeSize=t.sizeref,f.maxLength=t.maxdisplayed;var T=p(t._xbnds,"xaxis"),A=p(t._ybnds,"yaxis"),E=p(t._zbnds,"zaxis"),S=h(g),O=h(v),C=h(m),L=[[T[0]-S[0],A[0]-O[0],E[0]-C[0]],[T[1]+S[1],A[1]+O[1],E[1]+C[1]]],R=r(f,L),P=s(t);R.vertexIntensityBounds=[P.min/t._normMax,P.max/t._normMax];var j=t.lightposition;return R.lightPosition=[j.x,j.y,j.z],R.ambient=t.lighting.ambient,R.diffuse=t.lighting.diffuse,R.specular=t.lighting.specular,R.roughness=t.lighting.roughness,R.fresnel=t.lighting.fresnel,R.opacity=t.opacity,t._pad=R.tubeScale*t.sizeref*2,R}function g(e,t){var n=e.glplot.gl,r=p(e,t),a=i(n,r),o=new c(e,t.uid);return o.mesh=a,o.data=t,a._trace=o,e.glplot.add(a),o}f.handlePick=function(e){var t=this.scene.fullSceneLayout,n=this.scene.dataScale;function r(e,r){var i=t[r],a=n[u[r]];return i.l2c(e)/a}if(e.object===this.mesh){var i=e.data.position,a=e.data.velocity;return e.traceCoordinate=[r(i[0],"xaxis"),r(i[1],"yaxis"),r(i[2],"zaxis"),r(a[0],"xaxis"),r(a[1],"yaxis"),r(a[2],"zaxis"),e.data.intensity*this.data._normMax,e.data.divergence],e.textLabel=this.data.hovertext||this.data.text,!0}},f.update=function(e){this.data=e;var t=p(this.scene,e);this.mesh.update(t)},f.dispose=function(){this.scene.glplot.remove(this.mesh),this.mesh.dispose()},t.exports=g},{"../../components/colorscale":406,"../../lib":524,"../../lib/gl_format_color":521,"../../plots/gl3d/zip3":614,"gl-streamtube3d":178}],692:[function(e,t,n){"use strict";var r=e("../../lib"),i=e("../../components/colorscale/defaults"),a=e("./attributes");t.exports=function(e,t,n,o){function s(n,i){return r.coerce(e,t,a,n,i)}var l=s("u"),u=s("v"),c=s("w"),f=s("x"),d=s("y"),h=s("z");l&&l.length&&u&&u.length&&c&&c.length&&f&&f.length&&d&&d.length&&h&&h.length?(s("starts.x"),s("starts.y"),s("starts.z"),s("maxdisplayed"),s("sizeref"),s("lighting.ambient"),s("lighting.diffuse"),s("lighting.specular"),s("lighting.roughness"),s("lighting.fresnel"),s("lightposition.x"),s("lightposition.y"),s("lightposition.z"),i(e,t,o,s,{prefix:"",cLetter:"c"}),s("text"),s("hovertext"),s("hovertemplate"),t._length=null):t.visible=!1}},{"../../components/colorscale/defaults":404,"../../lib":524,"./attributes":689}],693:[function(e,t,n){"use strict";t.exports={moduleType:"trace",name:"streamtube",basePlotModule:e("../../plots/gl3d"),categories:["gl3d","showLegend"],attributes:e("./attributes"),supplyDefaults:e("./defaults"),colorbar:{min:"cmin",max:"cmax"},calc:e("./calc").calc,plot:e("./convert"),eventData:function(e,t){return e.tubex=e.x,e.tubey=e.y,e.tubez=e.z,e.tubeu=t.traceCoordinate[3],e.tubev=t.traceCoordinate[4],e.tubew=t.traceCoordinate[5],e.norm=t.traceCoordinate[6],e.divergence=t.traceCoordinate[7],delete e.x,delete e.y,delete e.z,e},meta:{}}},{"../../plots/gl3d":603,"./attributes":689,"./calc":690,"./convert":691,"./defaults":692}],694:[function(e,t,n){"use strict";var r=e("../../components/color"),i=e("../../components/colorscale/attributes"),a=e("../../plots/template_attributes").hovertemplateAttrs,o=e("../../plots/attributes"),s=e("../../lib/extend").extendFlat,l=e("../../plot_api/edit_types").overrideAll;function u(e){return{valType:"boolean",dflt:!1}}function c(e){return{show:{valType:"boolean",dflt:!1},start:{valType:"number",dflt:null,editType:"plot"},end:{valType:"number",dflt:null,editType:"plot"},size:{valType:"number",dflt:null,min:0,editType:"plot"},project:{x:u("x"),y:u("y"),z:u("z")},color:{valType:"color",dflt:r.defaultLine},usecolormap:{valType:"boolean",dflt:!1},width:{valType:"number",min:1,max:16,dflt:2},highlight:{valType:"boolean",dflt:!0},highlightcolor:{valType:"color",dflt:r.defaultLine},highlightwidth:{valType:"number",min:1,max:16,dflt:2}}}var f=t.exports=l(s({z:{valType:"data_array"},x:{valType:"data_array"},y:{valType:"data_array"},text:{valType:"string",dflt:"",arrayOk:!0},hovertext:{valType:"string",dflt:"",arrayOk:!0},hovertemplate:a(),connectgaps:{valType:"boolean",dflt:!1,editType:"calc"},surfacecolor:{valType:"data_array"}},i("",{colorAttr:"z or surfacecolor",showScaleDflt:!0,autoColorDflt:!1,editTypeOverride:"calc"}),{contours:{x:c("x"),y:c("y"),z:c("z")},hidesurface:{valType:"boolean",dflt:!1},lightposition:{x:{valType:"number",min:-1e5,max:1e5,dflt:10},y:{valType:"number",min:-1e5,max:1e5,dflt:1e4},z:{valType:"number",min:-1e5,max:1e5,dflt:0}},lighting:{ambient:{valType:"number",min:0,max:1,dflt:.8},diffuse:{valType:"number",min:0,max:1,dflt:.8},specular:{valType:"number",min:0,max:2,dflt:.05},roughness:{valType:"number",min:0,max:1,dflt:.5},fresnel:{valType:"number",min:0,max:5,dflt:.2}},opacity:{valType:"number",min:0,max:1,dflt:1},opacityscale:{valType:"any",editType:"calc"},_deprecated:{zauto:s({},i.zauto,{}),zmin:s({},i.zmin,{}),zmax:s({},i.zmax,{})},hoverinfo:s({},o.hoverinfo),showlegend:s({},o.showlegend,{dflt:!1})}),"calc","nested");f.x.editType=f.y.editType=f.z.editType="calc+clearAxisTypes",f.transforms=void 0},{"../../components/color":394,"../../components/colorscale/attributes":401,"../../lib/extend":517,"../../plot_api/edit_types":554,"../../plots/attributes":568,"../../plots/template_attributes":625}],695:[function(e,t,n){"use strict";var r=e("../../components/colorscale/calc");t.exports=function(e,t){t.surfacecolor?r(e,t,{vals:t.surfacecolor,containerStr:"",cLetter:"c"}):r(e,t,{vals:t.z,containerStr:"",cLetter:"c"})}},{"../../components/colorscale/calc":402}],696:[function(e,t,n){"use strict";var r=e("gl-surface3d"),i=e("ndarray"),a=e("ndarray-linear-interpolate").d2,o=e("../heatmap/interp2d"),s=e("../heatmap/find_empties"),l=e("../../lib").isArrayOrTypedArray,u=e("../../lib/gl_format_color").parseColorScale,c=e("../../lib/str2rgbarray"),f=e("../../components/colorscale").extractOpts;function d(e,t,n){this.scene=e,this.uid=n,this.surface=t,this.data=null,this.showContour=[!1,!1,!1],this.contourStart=[null,null,null],this.contourEnd=[null,null,null],this.contourSize=[0,0,0],this.minValues=[1/0,1/0,1/0],this.maxValues=[-1/0,-1/0,-1/0],this.dataScaleX=1,this.dataScaleY=1,this.refineData=!0,this.objectOffset=[0,0,0]}var h=d.prototype;function p(e){var t=e[0].rgb,n=e[e.length-1].rgb;return t[0]===n[0]&&t[1]===n[1]&&t[2]===n[2]&&t[3]===n[3]}h.getXat=function(e,t,n,r){var i=l(this.data.x)?l(this.data.x[0])?this.data.x[t][e]:this.data.x[e]:e;return void 0===n?i:r.d2l(i,0,n)},h.getYat=function(e,t,n,r){var i=l(this.data.y)?l(this.data.y[0])?this.data.y[t][e]:this.data.y[t]:t;return void 0===n?i:r.d2l(i,0,n)},h.getZat=function(e,t,n,r){var i=this.data.z[t][e];return null===i&&this.data.connectgaps&&this.data._interpolatedZ&&(i=this.data._interpolatedZ[t][e]),void 0===n?i:r.d2l(i,0,n)},h.handlePick=function(e){if(e.object===this.surface){var t=(e.data.index[0]-1)/this.dataScaleX-1,n=(e.data.index[1]-1)/this.dataScaleY-1,r=Math.max(Math.min(Math.round(t),this.data.z[0].length-1),0),i=Math.max(Math.min(Math.round(n),this.data._ylength-1),0);e.index=[r,i],e.traceCoordinate=[this.getXat(r,i),this.getYat(r,i),this.getZat(r,i)],e.dataCoordinate=[this.getXat(r,i,this.data.xcalendar,this.scene.fullSceneLayout.xaxis),this.getYat(r,i,this.data.ycalendar,this.scene.fullSceneLayout.yaxis),this.getZat(r,i,this.data.zcalendar,this.scene.fullSceneLayout.zaxis)];for(var a=0;a<3;a++){var o=e.dataCoordinate[a];null!==o&&void 0!==o&&(e.dataCoordinate[a]*=this.scene.dataScale[a])}var s=this.data.hovertext||this.data.text;return Array.isArray(s)&&s[i]&&void 0!==s[i][r]?e.textLabel=s[i][r]:e.textLabel=s||"",e.data.dataCoordinate=e.dataCoordinate.slice(),this.surface.highlight(e.data),this.scene.glplot.spikes.position=e.dataCoordinate,!0}};var g=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509,521,523,541,547,557,563,569,571,577,587,593,599,601,607,613,617,619,631,641,643,647,653,659,661,673,677,683,691,701,709,719,727,733,739,743,751,757,761,769,773,787,797,809,811,821,823,827,829,839,853,857,859,863,877,881,883,887,907,911,919,929,937,941,947,953,967,971,977,983,991,997,1009,1013,1019,1021,1031,1033,1039,1049,1051,1061,1063,1069,1087,1091,1093,1097,1103,1109,1117,1123,1129,1151,1153,1163,1171,1181,1187,1193,1201,1213,1217,1223,1229,1231,1237,1249,1259,1277,1279,1283,1289,1291,1297,1301,1303,1307,1319,1321,1327,1361,1367,1373,1381,1399,1409,1423,1427,1429,1433,1439,1447,1451,1453,1459,1471,1481,1483,1487,1489,1493,1499,1511,1523,1531,1543,1549,1553,1559,1567,1571,1579,1583,1597,1601,1607,1609,1613,1619,1621,1627,1637,1657,1663,1667,1669,1693,1697,1699,1709,1721,1723,1733,1741,1747,1753,1759,1777,1783,1787,1789,1801,1811,1823,1831,1847,1861,1867,1871,1873,1877,1879,1889,1901,1907,1913,1931,1933,1949,1951,1973,1979,1987,1993,1997,1999,2003,2011,2017,2027,2029,2039,2053,2063,2069,2081,2083,2087,2089,2099,2111,2113,2129,2131,2137,2141,2143,2153,2161,2179,2203,2207,2213,2221,2237,2239,2243,2251,2267,2269,2273,2281,2287,2293,2297,2309,2311,2333,2339,2341,2347,2351,2357,2371,2377,2381,2383,2389,2393,2399,2411,2417,2423,2437,2441,2447,2459,2467,2473,2477,2503,2521,2531,2539,2543,2549,2551,2557,2579,2591,2593,2609,2617,2621,2633,2647,2657,2659,2663,2671,2677,2683,2687,2689,2693,2699,2707,2711,2713,2719,2729,2731,2741,2749,2753,2767,2777,2789,2791,2797,2801,2803,2819,2833,2837,2843,2851,2857,2861,2879,2887,2897,2903,2909,2917,2927,2939,2953,2957,2963,2969,2971,2999];function v(e,t){if(e<t)return 0;for(var n=0;0===Math.floor(e%t);)e/=t,n++;return n}function m(e){for(var t=[],n=0;n<g.length;n++){var r=g[n];t.push(v(e,r))}return t}function y(e){for(var t=m(e),n=e,r=0;r<g.length;r++)if(t[r]>0){n=g[r];break}return n}function b(e,t){if(!(e<1||t<1)){for(var n=m(e),r=m(t),i=1,a=0;a<g.length;a++)i*=Math.pow(g[a],Math.max(n[a],r[a]));return i}}function x(e){if(0!==e.length){for(var t=1,n=0;n<e.length;n++)t=b(t,e[n]);return t}}h.calcXnums=function(e){var t,n=[];for(t=1;t<e;t++){var r=this.getXat(t-1,0),i=this.getXat(t,0);n[t-1]=i!==r&&void 0!==r&&null!==r&&void 0!==i&&null!==i?Math.abs(i-r):0}var a=0;for(t=1;t<e;t++)a+=n[t-1];for(t=1;t<e;t++)0===n[t-1]?n[t-1]=1:n[t-1]=Math.round(a/n[t-1]);return n},h.calcYnums=function(e){var t,n=[];for(t=1;t<e;t++){var r=this.getYat(0,t-1),i=this.getYat(0,t);n[t-1]=i!==r&&void 0!==r&&null!==r&&void 0!==i&&null!==i?Math.abs(i-r):0}var a=0;for(t=1;t<e;t++)a+=n[t-1];for(t=1;t<e;t++)0===n[t-1]?n[t-1]=1:n[t-1]=Math.round(a/n[t-1]);return n};var _=[1,2,4,6,12,24,36,48,60,120,180,240,360,720,840,1260],w=_[9],k=_[13];function M(e,t,n){var r=n[8]+n[2]*t[0]+n[5]*t[1];return e[0]=(n[6]+n[0]*t[0]+n[3]*t[1])/r,e[1]=(n[7]+n[1]*t[0]+n[4]*t[1])/r,e}function T(e,t,n){return A(e,t,M,n),e}function A(e,t,n,r){for(var i=[0,0],o=e.shape[0],s=e.shape[1],l=0;l<o;l++)for(var u=0;u<s;u++)n(i,[l,u],r),e.set(l,u,a(t,i[0],i[1]));return e}function E(e,t){for(var n=!1,r=0;r<e.length;r++)if(t===e[r]){n=!0;break}!1===n&&e.push(t)}function S(e,t){var n=e.glplot.gl,i=r({gl:n}),a=new d(e,i,t.uid);return i._trace=a,a.update(t),e.glplot.add(i),a}h.estimateScale=function(e,t){for(var n=1+x(0===t?this.calcXnums(e):this.calcYnums(e));n<w;)n*=2;for(;n>k;)n--,n/=y(n),++n<w&&(n=k);var r=Math.round(n/e);return r>1?r:1},h.refineCoords=function(e){for(var t=this.dataScaleX,n=this.dataScaleY,r=e[0].shape[0],a=e[0].shape[1],o=0|Math.floor(e[0].shape[0]*t+1),s=0|Math.floor(e[0].shape[1]*n+1),l=1+r+1,u=1+a+1,c=i(new Float32Array(l*u),[l,u]),f=[1/t,0,0,0,1/n,0,0,0,1],d=0;d<e.length;++d){this.surface.padField(c,e[d]);var h=i(new Float32Array(o*s),[o,s]);T(h,c,f),e[d]=h}},h.setContourLevels=function(){var e,t,n,r=[[],[],[]],i=[!1,!1,!1],a=!1;for(e=0;e<3;++e)if(this.showContour[e]&&(a=!0,this.contourSize[e]>0&&null!==this.contourStart[e]&&null!==this.contourEnd[e]&&this.contourEnd[e]>this.contourStart[e]))for(i[e]=!0,t=this.contourStart[e];t<this.contourEnd[e];t+=this.contourSize[e])n=t*this.scene.dataScale[e],E(r[e],n);if(a){var o=[[],[],[]];for(e=0;e<3;++e)this.showContour[e]&&(o[e]=i[e]?r[e]:this.scene.contourLevels[e]);this.surface.update({levels:o})}},h.update=function(e){var t,n,r,a,l=this.scene,d=l.fullSceneLayout,h=this.surface,g=u(e),v=l.dataScale,m=e.z[0].length,y=e._ylength,b=l.contourLevels;this.data=e;var x=[];for(t=0;t<3;t++)for(x[t]=[],n=0;n<m;n++)x[t][n]=[];for(n=0;n<m;n++)for(r=0;r<y;r++)x[0][n][r]=this.getXat(n,r,e.xcalendar,d.xaxis),x[1][n][r]=this.getYat(n,r,e.ycalendar,d.yaxis),x[2][n][r]=this.getZat(n,r,e.zcalendar,d.zaxis);if(e.connectgaps)for(e._emptypoints=s(x[2]),o(x[2],e._emptypoints),e._interpolatedZ=[],n=0;n<m;n++)for(e._interpolatedZ[n]=[],r=0;r<y;r++)e._interpolatedZ[n][r]=x[2][n][r];for(t=0;t<3;t++)for(n=0;n<m;n++)for(r=0;r<y;r++)null===(a=x[t][n][r])||void 0===a?x[t][n][r]=NaN:a=x[t][n][r]*=v[t];for(t=0;t<3;t++)for(n=0;n<m;n++)for(r=0;r<y;r++)null!==(a=x[t][n][r])&&void 0!==a&&(this.minValues[t]>a&&(this.minValues[t]=a),this.maxValues[t]<a&&(this.maxValues[t]=a));for(t=0;t<3;t++)this.objectOffset[t]=.5*(this.minValues[t]+this.maxValues[t]);for(t=0;t<3;t++)for(n=0;n<m;n++)for(r=0;r<y;r++)null!==(a=x[t][n][r])&&void 0!==a&&(x[t][n][r]-=this.objectOffset[t]);var _=[i(new Float32Array(m*y),[m,y]),i(new Float32Array(m*y),[m,y]),i(new Float32Array(m*y),[m,y])];for(t=0;t<3;t++)for(n=0;n<m;n++)for(r=0;r<y;r++)_[t].set(n,r,x[t][n][r]);x=[];var w={colormap:g,levels:[[],[],[]],showContour:[!0,!0,!0],showSurface:!e.hidesurface,contourProject:[[!1,!1,!1],[!1,!1,!1],[!1,!1,!1]],contourWidth:[1,1,1],contourColor:[[1,1,1,1],[1,1,1,1],[1,1,1,1]],contourTint:[1,1,1],dynamicColor:[[1,1,1,1],[1,1,1,1],[1,1,1,1]],dynamicWidth:[1,1,1],dynamicTint:[1,1,1],opacityscale:e.opacityscale,opacity:e.opacity},M=f(e);if(w.intensityBounds=[M.min,M.max],e.surfacecolor){var T=i(new Float32Array(m*y),[m,y]);for(n=0;n<m;n++)for(r=0;r<y;r++)T.set(n,r,e.surfacecolor[r][n]);_.push(T)}else w.intensityBounds[0]*=v[2],w.intensityBounds[1]*=v[2];(k<_[0].shape[0]||k<_[0].shape[1])&&(this.refineData=!1),!0===this.refineData&&(this.dataScaleX=this.estimateScale(_[0].shape[0],0),this.dataScaleY=this.estimateScale(_[0].shape[1],1),1===this.dataScaleX&&1===this.dataScaleY||this.refineCoords(_)),e.surfacecolor&&(w.intensity=_.pop());var A=[!0,!0,!0],E=["x","y","z"];for(t=0;t<3;++t){var S=e.contours[E[t]];A[t]=S.highlight,w.showContour[t]=S.show||S.highlight,w.showContour[t]&&(w.contourProject[t]=[S.project.x,S.project.y,S.project.z],S.show?(this.showContour[t]=!0,w.levels[t]=b[t],h.highlightColor[t]=w.contourColor[t]=c(S.color),S.usecolormap?h.highlightTint[t]=w.contourTint[t]=0:h.highlightTint[t]=w.contourTint[t]=1,w.contourWidth[t]=S.width,this.contourStart[t]=S.start,this.contourEnd[t]=S.end,this.contourSize[t]=S.size):(this.showContour[t]=!1,this.contourStart[t]=null,this.contourEnd[t]=null,this.contourSize[t]=0),S.highlight&&(w.dynamicColor[t]=c(S.highlightcolor),w.dynamicWidth[t]=S.highlightwidth))}p(g)&&(w.vertexColor=!0),w.objectOffset=this.objectOffset,w.coords=_,h.update(w),h.visible=e.visible,h.enableDynamic=A,h.enableHighlight=A,h.snapToData=!0,"lighting"in e&&(h.ambientLight=e.lighting.ambient,h.diffuseLight=e.lighting.diffuse,h.specularLight=e.lighting.specular,h.roughness=e.lighting.roughness,h.fresnel=e.lighting.fresnel),"lightposition"in e&&(h.lightPosition=[e.lightposition.x,e.lightposition.y,e.lightposition.z])},h.dispose=function(){this.scene.glplot.remove(this.surface),this.surface.dispose()},t.exports=S},{"../../components/colorscale":406,"../../lib":524,"../../lib/gl_format_color":521,"../../lib/str2rgbarray":547,"../heatmap/find_empties":640,"../heatmap/interp2d":641,"gl-surface3d":181,ndarray:301,"ndarray-linear-interpolate":295}],697:[function(e,t,n){"use strict";var r=e("../../registry"),i=e("../../lib"),a=e("../../components/colorscale/defaults"),o=e("./attributes"),s=.1;function l(e,t){for(var n=[],r=32,i=0;i<r;i++){var a=i/(r-1),o=t+(1-t)*(1-Math.pow(Math.sin(e*a*Math.PI),2));n.push([a,Math.max(0,Math.min(1,o))])}return n}function u(e){var t=0;if(!Array.isArray(e)||e.length<2)return!1;if(!e[0]||!e[e.length-1])return!1;if(0!==+e[0][0]||1!==+e[e.length-1][0])return!1;for(var n=0;n<e.length;n++){var r=e[n];if(2!==r.length||+r[0]<t)return!1;t=+r[0]}return!0}function c(e,t,n,s){var l,u;function c(n,r){return i.coerce(e,t,o,n,r)}var h=c("x"),p=c("y"),g=c("z");if(!g||!g.length||h&&h.length<1||p&&p.length<1)t.visible=!1;else{t._xlength=Array.isArray(h)&&i.isArrayOrTypedArray(h[0])?g.length:g[0].length,t._ylength=g.length,r.getComponentMethod("calendars","handleTraceDefaults")(e,t,["x","y","z"],s),c("text"),c("hovertext"),c("hovertemplate"),["lighting.ambient","lighting.diffuse","lighting.specular","lighting.roughness","lighting.fresnel","lightposition.x","lightposition.y","lightposition.z","hidesurface","connectgaps","opacity"].forEach((function(e){c(e)}));var v=c("surfacecolor"),m=["x","y","z"];for(l=0;l<3;++l){var y="contours."+m[l],b=c(y+".show"),x=c(y+".highlight");if(b||x)for(u=0;u<3;++u)c(y+".project."+m[u]);b&&(c(y+".color"),c(y+".width"),c(y+".usecolormap")),x&&(c(y+".highlightcolor"),c(y+".highlightwidth")),c(y+".start"),c(y+".end"),c(y+".size")}v||(d(e,"zmin","cmin"),d(e,"zmax","cmax"),d(e,"zauto","cauto")),a(e,t,s,c,{prefix:"",cLetter:"c"}),f(e,t,s,c),t._length=null}}function f(e,t,n,r){var i=r("opacityscale");"max"===i?t.opacityscale=[[0,s],[1,1]]:"min"===i?t.opacityscale=[[0,1],[1,s]]:"extremes"===i?t.opacityscale=l(1,s):u(i)||(t.opacityscale=void 0)}function d(e,t,n){t in e&&!(n in e)&&(e[n]=e[t])}t.exports={supplyDefaults:c,opacityscaleDefaults:f}},{"../../components/colorscale/defaults":404,"../../lib":524,"../../registry":626,"./attributes":694}],698:[function(e,t,n){"use strict";t.exports={attributes:e("./attributes"),supplyDefaults:e("./defaults").supplyDefaults,colorbar:{min:"cmin",max:"cmax"},calc:e("./calc"),plot:e("./convert"),moduleType:"trace",name:"surface",basePlotModule:e("../../plots/gl3d"),categories:["gl3d","2dMap","showLegend"],meta:{}}},{"../../plots/gl3d":603,"./attributes":694,"./calc":695,"./convert":696,"./defaults":697}],699:[function(e,t,n){"use strict";var r=e("../../components/colorscale/attributes"),i=e("../isosurface/attributes"),a=e("../surface/attributes"),o=e("../../plots/attributes"),s=e("../../lib/extend").extendFlat,l=e("../../plot_api/edit_types").overrideAll,u=t.exports=l(s({x:i.x,y:i.y,z:i.z,value:i.value,isomin:i.isomin,isomax:i.isomax,surface:i.surface,spaceframe:{show:{valType:"boolean",dflt:!1},fill:{valType:"number",min:0,max:1,dflt:1}},slices:i.slices,caps:i.caps,text:i.text,hovertext:i.hovertext,hovertemplate:i.hovertemplate},r("",{colorAttr:"`value`",showScaleDflt:!0,editTypeOverride:"calc"}),{colorbar:i.colorbar,opacity:i.opacity,opacityscale:a.opacityscale,lightposition:i.lightposition,lighting:i.lighting,flatshading:i.flatshading,contour:i.contour,hoverinfo:s({},o.hoverinfo),showlegend:s({},o.showlegend,{dflt:!1})}),"calc","nested");u.x.editType=u.y.editType=u.z.editType=u.value.editType="calc+clearAxisTypes",u.transforms=void 0},{"../../components/colorscale/attributes":401,"../../lib/extend":517,"../../plot_api/edit_types":554,"../../plots/attributes":568,"../isosurface/attributes":642,"../surface/attributes":694}],700:[function(e,t,n){"use strict";var r=e("gl-mesh3d"),i=e("../../lib/gl_format_color").parseColorScale,a=e("../../lib/str2rgbarray"),o=e("../../components/colorscale").extractOpts,s=e("../../plots/gl3d/zip3"),l=e("../isosurface/convert").findNearestOnAxis,u=e("../isosurface/convert").generateIsoMeshes;function c(e,t,n){this.scene=e,this.uid=n,this.mesh=t,this.name="",this.data=null,this.showContour=!1}var f=c.prototype;function d(e,t){var n=e.glplot.gl,i=r({gl:n}),a=new c(e,i,t.uid);return i._trace=a,a.update(t),e.glplot.add(i),a}f.handlePick=function(e){if(e.object===this.mesh){var t=e.data.index,n=this.data._meshX[t],r=this.data._meshY[t],i=this.data._meshZ[t],a=this.data._Ys.length,o=this.data._Zs.length,s=l(n,this.data._Xs).id,u=l(r,this.data._Ys).id,c=l(i,this.data._Zs).id,f=e.index=c+o*u+o*a*s;e.traceCoordinate=[this.data._meshX[f],this.data._meshY[f],this.data._meshZ[f],this.data._value[f]];var d=this.data.hovertext||this.data.text;return Array.isArray(d)&&void 0!==d[f]?e.textLabel=d[f]:d&&(e.textLabel=d),!0}},f.update=function(e){var t=this.scene,n=t.fullSceneLayout;function r(e,t,n,r){return t.map((function(t){return e.d2l(t,0,r)*n}))}this.data=u(e);var l={positions:s(r(n.xaxis,e._meshX,t.dataScale[0],e.xcalendar),r(n.yaxis,e._meshY,t.dataScale[1],e.ycalendar),r(n.zaxis,e._meshZ,t.dataScale[2],e.zcalendar)),cells:s(e._meshI,e._meshJ,e._meshK),lightPosition:[e.lightposition.x,e.lightposition.y,e.lightposition.z],ambient:e.lighting.ambient,diffuse:e.lighting.diffuse,specular:e.lighting.specular,roughness:e.lighting.roughness,fresnel:e.lighting.fresnel,vertexNormalsEpsilon:e.lighting.vertexnormalsepsilon,faceNormalsEpsilon:e.lighting.facenormalsepsilon,opacity:e.opacity,opacityscale:e.opacityscale,contourEnable:e.contour.show,contourColor:a(e.contour.color).slice(0,3),contourWidth:e.contour.width,useFacetNormals:e.flatshading},c=o(e);l.vertexIntensity=e._meshIntensity,l.vertexIntensityBounds=[c.min,c.max],l.colormap=i(e),this.mesh.update(l)},f.dispose=function(){this.scene.glplot.remove(this.mesh),this.mesh.dispose()},t.exports=d},{"../../components/colorscale":406,"../../lib/gl_format_color":521,"../../lib/str2rgbarray":547,"../../plots/gl3d/zip3":614,"../isosurface/convert":644,"gl-mesh3d":153}],701:[function(e,t,n){"use strict";var r=e("../../lib"),i=e("./attributes"),a=e("../isosurface/defaults").supplyIsoDefaults,o=e("../surface/defaults").opacityscaleDefaults;t.exports=function(e,t,n,s){function l(n,a){return r.coerce(e,t,i,n,a)}a(e,t,n,s,l),o(e,t,s,l)}},{"../../lib":524,"../isosurface/defaults":645,"../surface/defaults":697,"./attributes":699}],702:[function(e,t,n){"use strict";t.exports={attributes:e("./attributes"),supplyDefaults:e("./defaults"),calc:e("../isosurface/calc"),colorbar:{min:"cmin",max:"cmax"},plot:e("./convert"),moduleType:"trace",name:"volume",basePlotModule:e("../../plots/gl3d"),categories:["gl3d","showLegend"],meta:{}}},{"../../plots/gl3d":603,"../isosurface/calc":643,"./attributes":699,"./convert":700,"./defaults":701}],703:[function(e,t,n){"use strict";n.version="1.58.4"},{}]},{},[4])(4)}()}).call(this,n(56))},function(e,t,n){"use strict";function r(e){return(r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=function(t){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&u(e,t)}(r,t);var n=function(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=d(e);if(t){var i=d(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return c(this,n)}}(r);function r(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),(t=n.call(this,e)).p=Promise.resolve(),t.resizeHandler=null,t.handlers={},t.syncWindowResize=t.syncWindowResize.bind(f(t)),t.syncEventHandlers=t.syncEventHandlers.bind(f(t)),t.attachUpdateEvents=t.attachUpdateEvents.bind(f(t)),t.getRef=t.getRef.bind(f(t)),t.handleUpdate=t.handleUpdate.bind(f(t)),t.figureCallback=t.figureCallback.bind(f(t)),t.updatePlotly=t.updatePlotly.bind(f(t)),t}return function(e,t,n){t&&l(e.prototype,t);n&&l(e,n)}(r,[{key:"updatePlotly",value:function(t,n,r){var i=this;this.p=this.p.then((function(){if(!i.unmounting){if(!i.el)throw new Error("Missing element reference");return e.react(i.el,{data:i.props.data,layout:i.props.layout,config:i.props.config,frames:i.props.frames})}})).then((function(){i.unmounting||(i.syncWindowResize(t),i.syncEventHandlers(),i.figureCallback(n),r&&i.attachUpdateEvents())})).catch((function(e){i.props.onError&&i.props.onError(e)}))}},{key:"componentDidMount",value:function(){this.unmounting=!1,this.updatePlotly(!0,this.props.onInitialized,!0)}},{key:"componentDidUpdate",value:function(e){this.unmounting=!1;var t=e.frames&&e.frames.length?e.frames.length:0,n=this.props.frames&&this.props.frames.length?this.props.frames.length:0,r=!(e.layout===this.props.layout&&e.data===this.props.data&&e.config===this.props.config&&n===t),i=void 0!==e.revision,a=e.revision!==this.props.revision;(r||i&&(!i||a))&&this.updatePlotly(!1,this.props.onUpdate,!1)}},{key:"componentWillUnmount",value:function(){this.unmounting=!0,this.figureCallback(this.props.onPurge),this.resizeHandler&&g&&(window.removeEventListener("resize",this.resizeHandler),this.resizeHandler=null),this.removeUpdateEvents(),e.purge(this.el)}},{key:"attachUpdateEvents",value:function(){var e=this;this.el&&this.el.removeListener&&p.forEach((function(t){e.el.on(t,e.handleUpdate)}))}},{key:"removeUpdateEvents",value:function(){var e=this;this.el&&this.el.removeListener&&p.forEach((function(t){e.el.removeListener(t,e.handleUpdate)}))}},{key:"handleUpdate",value:function(){this.figureCallback(this.props.onUpdate)}},{key:"figureCallback",value:function(e){if("function"===typeof e){var t=this.el;e({data:t.data,layout:t.layout,frames:this.el._transitionData?this.el._transitionData._frames:null},this.el)}}},{key:"syncWindowResize",value:function(t){var n=this;g&&(this.props.useResizeHandler&&!this.resizeHandler?(this.resizeHandler=function(){return e.Plots.resize(n.el)},window.addEventListener("resize",this.resizeHandler),t&&this.resizeHandler()):!this.props.useResizeHandler&&this.resizeHandler&&(window.removeEventListener("resize",this.resizeHandler),this.resizeHandler=null))}},{key:"getRef",value:function(e){this.el=e,this.props.debug&&g&&(window.gd=this.el)}},{key:"syncEventHandlers",value:function(){var e=this;h.forEach((function(t){var n=e.props["on"+t],r=e.handlers[t],i=Boolean(r);n&&!i?e.addEventHandler(t,n):!n&&i?e.removeEventHandler(t):n&&i&&n!==r&&(e.removeEventHandler(t),e.addEventHandler(t,n))}))}},{key:"addEventHandler",value:function(e,t){this.handlers[e]=t,this.el.on(this.getPlotlyEventName(e),this.handlers[e])}},{key:"removeEventHandler",value:function(e){this.el.removeListener(this.getPlotlyEventName(e),this.handlers[e]),delete this.handlers[e]}},{key:"getPlotlyEventName",value:function(e){return"plotly_"+e.toLowerCase()}},{key:"render",value:function(){return a.default.createElement("div",{id:this.props.divId,style:this.props.style,ref:this.getRef,className:this.props.className})}}]),r}(a.Component);return t.propTypes={data:o.default.arrayOf(o.default.object),config:o.default.object,layout:o.default.object,frames:o.default.arrayOf(o.default.object),revision:o.default.number,onInitialized:o.default.func,onPurge:o.default.func,onError:o.default.func,onUpdate:o.default.func,debug:o.default.bool,style:o.default.object,className:o.default.string,useResizeHandler:o.default.bool,divId:o.default.string},h.forEach((function(e){t.propTypes["on"+e]=o.default.func})),t.defaultProps={debug:!1,useResizeHandler:!1,data:[],style:{position:"relative",display:"inline-block"}},t};var i,a=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!==typeof e)return{default:e};var t=s();if(t&&t.has(e))return t.get(e);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){var o=i?Object.getOwnPropertyDescriptor(e,a):null;o&&(o.get||o.set)?Object.defineProperty(n,a,o):n[a]=e[a]}n.default=e,t&&t.set(e,n);return n}(n(0)),o=(i=n(5))&&i.__esModule?i:{default:i};function s(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return s=function(){return e},e}function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function u(e,t){return(u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function c(e,t){return!t||"object"!==r(t)&&"function"!==typeof t?f(e):t}function f(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var h=["AfterExport","AfterPlot","Animated","AnimatingFrame","AnimationInterrupted","AutoSize","BeforeExport","BeforeHover","ButtonClicked","Click","ClickAnnotation","Deselect","DoubleClick","Framework","Hover","LegendClick","LegendDoubleClick","Relayout","Relayouting","Restyle","Redraw","Selected","Selecting","SliderChange","SliderEnd","SliderStart","SunburstClick","Transitioning","TransitionInterrupted","Unhover"],p=["plotly_restyle","plotly_redraw","plotly_relayout","plotly_relayouting","plotly_doubleclick","plotly_animated","plotly_sunburstclick"],g="undefined"!==typeof window},function(e,t,n){"use strict";function r(e){return function(t){var n=t.dispatch,r=t.getState;return function(t){return function(i){return"function"===typeof i?i(n,r,e):t(i)}}}}var i=r();i.withExtraArgument=r,t.a=i},function(e,t,n){"use strict";var r=n(17),i=n(3),a=n(96),o=n(26),s=n(1);function l(e,t,n){var i;return Object(s.a)({gutters:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(s.a)({paddingLeft:t(2),paddingRight:t(2)},n,Object(r.a)({},e.up("sm"),Object(s.a)({paddingLeft:t(3),paddingRight:t(3)},n[e.up("sm")])))},toolbar:(i={minHeight:56},Object(r.a)(i,"".concat(e.up("xs")," and (orientation: landscape)"),{minHeight:48}),Object(r.a)(i,e.up("sm"),{minHeight:64}),i)},n)}var u=n(73),c={black:"#000",white:"#fff"},f={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#d5d5d5",A200:"#aaaaaa",A400:"#303030",A700:"#616161"},d={50:"#e8eaf6",100:"#c5cae9",200:"#9fa8da",300:"#7986cb",400:"#5c6bc0",500:"#3f51b5",600:"#3949ab",700:"#303f9f",800:"#283593",900:"#1a237e",A100:"#8c9eff",A200:"#536dfe",A400:"#3d5afe",A700:"#304ffe"},h={50:"#fce4ec",100:"#f8bbd0",200:"#f48fb1",300:"#f06292",400:"#ec407a",500:"#e91e63",600:"#d81b60",700:"#c2185b",800:"#ad1457",900:"#880e4f",A100:"#ff80ab",A200:"#ff4081",A400:"#f50057",A700:"#c51162"},p={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"},g={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"},v={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"},m={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"},y=n(13),b={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.54)",disabled:"rgba(0, 0, 0, 0.38)",hint:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:c.white,default:f[50]},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},x={text:{primary:c.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",hint:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:f[800],default:"#303030"},action:{active:c.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function _(e,t,n,r){var i=r.light||r,a=r.dark||1.5*r;e[t]||(e.hasOwnProperty(n)?e[t]=e[n]:"light"===t?e.light=Object(y.d)(e.main,i):"dark"===t&&(e.dark=Object(y.a)(e.main,a)))}function w(e){var t=e.primary,n=void 0===t?{light:d[300],main:d[500],dark:d[700]}:t,r=e.secondary,o=void 0===r?{light:h.A200,main:h.A400,dark:h.A700}:r,l=e.error,w=void 0===l?{light:p[300],main:p[500],dark:p[700]}:l,k=e.warning,M=void 0===k?{light:g[300],main:g[500],dark:g[700]}:k,T=e.info,A=void 0===T?{light:v[300],main:v[500],dark:v[700]}:T,E=e.success,S=void 0===E?{light:m[300],main:m[500],dark:m[700]}:E,O=e.type,C=void 0===O?"light":O,L=e.contrastThreshold,R=void 0===L?3:L,P=e.tonalOffset,j=void 0===P?.2:P,z=Object(i.a)(e,["primary","secondary","error","warning","info","success","type","contrastThreshold","tonalOffset"]);function I(e){return Object(y.c)(e,x.text.primary)>=R?x.text.primary:b.text.primary}var N=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:500,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:300,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:700;if(!(e=Object(s.a)({},e)).main&&e[t]&&(e.main=e[t]),!e.main)throw new Error(Object(u.a)(4,t));if("string"!==typeof e.main)throw new Error(Object(u.a)(5,JSON.stringify(e.main)));return _(e,"light",n,j),_(e,"dark",r,j),e.contrastText||(e.contrastText=I(e.main)),e},D={dark:x,light:b};return Object(a.a)(Object(s.a)({common:c,type:C,primary:N(n),secondary:N(o,"A400","A200","A700"),error:N(w),warning:N(M),info:N(A),success:N(S),grey:f,contrastThreshold:R,getContrastText:I,augmentColor:N,tonalOffset:j},D[C]),z)}function k(e){return Math.round(1e5*e)/1e5}var M={textTransform:"uppercase"},T='"Roboto", "Helvetica", "Arial", sans-serif';function A(e,t){var n="function"===typeof t?t(e):t,r=n.fontFamily,o=void 0===r?T:r,l=n.fontSize,u=void 0===l?14:l,c=n.fontWeightLight,f=void 0===c?300:c,d=n.fontWeightRegular,h=void 0===d?400:d,p=n.fontWeightMedium,g=void 0===p?500:p,v=n.fontWeightBold,m=void 0===v?700:v,y=n.htmlFontSize,b=void 0===y?16:y,x=n.allVariants,_=n.pxToRem,w=Object(i.a)(n,["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"]);var A=u/14,E=_||function(e){return"".concat(e/b*A,"rem")},S=function(e,t,n,r,i){return Object(s.a)({fontFamily:o,fontWeight:e,fontSize:E(t),lineHeight:n},o===T?{letterSpacing:"".concat(k(r/t),"em")}:{},i,x)},O={h1:S(f,96,1.167,-1.5),h2:S(f,60,1.2,-.5),h3:S(h,48,1.167,0),h4:S(h,34,1.235,.25),h5:S(h,24,1.334,0),h6:S(g,20,1.6,.15),subtitle1:S(h,16,1.75,.15),subtitle2:S(g,14,1.57,.1),body1:S(h,16,1.5,.15),body2:S(h,14,1.43,.15),button:S(g,14,1.75,.4,M),caption:S(h,12,1.66,.4),overline:S(h,12,2.66,1,M)};return Object(a.a)(Object(s.a)({htmlFontSize:b,pxToRem:E,round:k,fontFamily:o,fontSize:u,fontWeightLight:f,fontWeightRegular:h,fontWeightMedium:g,fontWeightBold:m},O),w,{clone:!1})}function E(){return["".concat(arguments.length<=0?void 0:arguments[0],"px ").concat(arguments.length<=1?void 0:arguments[1],"px ").concat(arguments.length<=2?void 0:arguments[2],"px ").concat(arguments.length<=3?void 0:arguments[3],"px rgba(0,0,0,").concat(.2,")"),"".concat(arguments.length<=4?void 0:arguments[4],"px ").concat(arguments.length<=5?void 0:arguments[5],"px ").concat(arguments.length<=6?void 0:arguments[6],"px ").concat(arguments.length<=7?void 0:arguments[7],"px rgba(0,0,0,").concat(.14,")"),"".concat(arguments.length<=8?void 0:arguments[8],"px ").concat(arguments.length<=9?void 0:arguments[9],"px ").concat(arguments.length<=10?void 0:arguments[10],"px ").concat(arguments.length<=11?void 0:arguments[11],"px rgba(0,0,0,").concat(.12,")")].join(",")}var S=["none",E(0,2,1,-1,0,1,1,0,0,1,3,0),E(0,3,1,-2,0,2,2,0,0,1,5,0),E(0,3,3,-2,0,3,4,0,0,1,8,0),E(0,2,4,-1,0,4,5,0,0,1,10,0),E(0,3,5,-1,0,5,8,0,0,1,14,0),E(0,3,5,-1,0,6,10,0,0,1,18,0),E(0,4,5,-2,0,7,10,1,0,2,16,1),E(0,5,5,-3,0,8,10,1,0,3,14,2),E(0,5,6,-3,0,9,12,1,0,3,16,2),E(0,6,6,-3,0,10,14,1,0,4,18,3),E(0,6,7,-4,0,11,15,1,0,4,20,3),E(0,7,8,-4,0,12,17,2,0,5,22,4),E(0,7,8,-4,0,13,19,2,0,5,24,4),E(0,7,9,-4,0,14,21,2,0,5,26,4),E(0,8,9,-5,0,15,22,2,0,6,28,5),E(0,8,10,-5,0,16,24,2,0,6,30,5),E(0,8,11,-5,0,17,26,2,0,6,32,5),E(0,9,11,-5,0,18,28,2,0,7,34,6),E(0,9,12,-6,0,19,29,2,0,7,36,6),E(0,10,13,-6,0,20,31,3,0,8,38,7),E(0,10,13,-6,0,21,33,3,0,8,40,7),E(0,10,14,-6,0,22,35,3,0,8,42,7),E(0,11,14,-7,0,23,36,3,0,9,44,8),E(0,11,15,-7,0,24,38,3,0,9,46,8)],O={borderRadius:4},C=n(157);function L(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:8;if(e.mui)return e;var t=Object(C.a)({spacing:e}),n=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return 0===n.length?t(1):1===n.length?t(n[0]):n.map((function(e){if("string"===typeof e)return e;var n=t(e);return"number"===typeof n?"".concat(n,"px"):n})).join(" ")};return Object.defineProperty(n,"unit",{get:function(){return e}}),n.mui=!0,n}var R=n(25),P=n(50);t.a=function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.breakpoints,n=void 0===t?{}:t,r=e.mixins,s=void 0===r?{}:r,u=e.palette,c=void 0===u?{}:u,f=e.spacing,d=e.typography,h=void 0===d?{}:d,p=Object(i.a)(e,["breakpoints","mixins","palette","spacing","typography"]),g=w(c),v=Object(o.a)(n),m=L(f),y=Object(a.a)({breakpoints:v,direction:"ltr",mixins:l(v,m,s),overrides:{},palette:g,props:{},shadows:S,typography:A(g,h),spacing:m,shape:O,transitions:R.a,zIndex:P.a},p),b=arguments.length,x=new Array(b>1?b-1:0),_=1;_<b;_++)x[_-1]=arguments[_];return y=x.reduce((function(e,t){return Object(a.a)(e,t)}),y)}},function(e,t,n){"use strict";function r(e){for(var t="https://material-ui.com/production-error/?code="+e,n=1;n<arguments.length;n+=1)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified Material-UI error #"+e+"; visit "+t+" for the full message."}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";var r=n(1),i=n(3),a=n(0),o=n.n(a),s=(n(5),n(12)),l=n(4),u=n(9),c=n(18),f=n(7),d=n(33),h=n(20),p=n(31),g=n(44),v=n(37),m=n(43);function y(e,t){var n=Object.create(null);return e&&a.Children.map(e,(function(e){return e})).forEach((function(e){n[e.key]=function(e){return t&&Object(a.isValidElement)(e)?t(e):e}(e)})),n}function b(e,t,n){return null!=n[t]?n[t]:e.props[t]}function x(e,t,n){var r=y(e.children),i=function(e,t){function n(n){return n in t?t[n]:e[n]}e=e||{},t=t||{};var r,i=Object.create(null),a=[];for(var o in e)o in t?a.length&&(i[o]=a,a=[]):a.push(o);var s={};for(var l in t){if(i[l])for(r=0;r<i[l].length;r++){var u=i[l][r];s[i[l][r]]=n(u)}s[l]=n(l)}for(r=0;r<a.length;r++)s[a[r]]=n(a[r]);return s}(t,r);return Object.keys(i).forEach((function(o){var s=i[o];if(Object(a.isValidElement)(s)){var l=o in t,u=o in r,c=t[o],f=Object(a.isValidElement)(c)&&!c.props.in;!u||l&&!f?u||!l||f?u&&l&&Object(a.isValidElement)(c)&&(i[o]=Object(a.cloneElement)(s,{onExited:n.bind(null,s),in:c.props.in,exit:b(s,"exit",e),enter:b(s,"enter",e)})):i[o]=Object(a.cloneElement)(s,{in:!1}):i[o]=Object(a.cloneElement)(s,{onExited:n.bind(null,s),in:!0,exit:b(s,"exit",e),enter:b(s,"enter",e)})}})),i}var _=Object.values||function(e){return Object.keys(e).map((function(t){return e[t]}))},w=function(e){function t(t,n){var r,i=(r=e.call(this,t,n)||this).handleExited.bind(Object(g.a)(r));return r.state={contextValue:{isMounting:!0},handleExited:i,firstRender:!0},r}Object(v.a)(t,e);var n=t.prototype;return n.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},n.componentWillUnmount=function(){this.mounted=!1},t.getDerivedStateFromProps=function(e,t){var n,r,i=t.children,o=t.handleExited;return{children:t.firstRender?(n=e,r=o,y(n.children,(function(e){return Object(a.cloneElement)(e,{onExited:r.bind(null,e),in:!0,appear:b(e,"appear",n),enter:b(e,"enter",n),exit:b(e,"exit",n)})}))):x(e,i,o),firstRender:!1}},n.handleExited=function(e,t){var n=y(this.props.children);e.key in n||(e.props.onExited&&e.props.onExited(t),this.mounted&&this.setState((function(t){var n=Object(r.a)({},t.children);return delete n[e.key],{children:n}})))},n.render=function(){var e=this.props,t=e.component,n=e.childFactory,r=Object(p.a)(e,["component","childFactory"]),i=this.state.contextValue,a=_(this.state.children).map(n);return delete r.appear,delete r.enter,delete r.exit,null===t?o.a.createElement(m.a.Provider,{value:i},a):o.a.createElement(m.a.Provider,{value:i},o.a.createElement(t,r,a))},t}(o.a.Component);w.propTypes={},w.defaultProps={component:"div",childFactory:function(e){return e}};var k=w,M="undefined"===typeof window?a.useEffect:a.useLayoutEffect;var T=function(e){var t=e.classes,n=e.pulsate,r=void 0!==n&&n,i=e.rippleX,o=e.rippleY,s=e.rippleSize,u=e.in,f=e.onExited,d=void 0===f?function(){}:f,h=e.timeout,p=a.useState(!1),g=p[0],v=p[1],m=Object(l.a)(t.ripple,t.rippleVisible,r&&t.ripplePulsate),y={width:s,height:s,top:-s/2+o,left:-s/2+i},b=Object(l.a)(t.child,g&&t.childLeaving,r&&t.childPulsate),x=Object(c.a)(d);return M((function(){if(!u){v(!0);var e=setTimeout(x,h);return function(){clearTimeout(e)}}}),[x,u,h]),a.createElement("span",{className:m,style:y},a.createElement("span",{className:b}))},A=a.forwardRef((function(e,t){var n=e.center,o=void 0!==n&&n,s=e.classes,u=e.className,c=Object(i.a)(e,["center","classes","className"]),f=a.useState([]),d=f[0],p=f[1],g=a.useRef(0),v=a.useRef(null);a.useEffect((function(){v.current&&(v.current(),v.current=null)}),[d]);var m=a.useRef(!1),y=a.useRef(null),b=a.useRef(null),x=a.useRef(null);a.useEffect((function(){return function(){clearTimeout(y.current)}}),[]);var _=a.useCallback((function(e){var t=e.pulsate,n=e.rippleX,r=e.rippleY,i=e.rippleSize,o=e.cb;p((function(e){return[].concat(Object(h.a)(e),[a.createElement(T,{key:g.current,classes:s,timeout:550,pulsate:t,rippleX:n,rippleY:r,rippleSize:i})])})),g.current+=1,v.current=o}),[s]),w=a.useCallback((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0,r=t.pulsate,i=void 0!==r&&r,a=t.center,s=void 0===a?o||t.pulsate:a,l=t.fakeElement,u=void 0!==l&&l;if("mousedown"===e.type&&m.current)m.current=!1;else{"touchstart"===e.type&&(m.current=!0);var c,f,d,h=u?null:x.current,p=h?h.getBoundingClientRect():{width:0,height:0,left:0,top:0};if(s||0===e.clientX&&0===e.clientY||!e.clientX&&!e.touches)c=Math.round(p.width/2),f=Math.round(p.height/2);else{var g=e.touches?e.touches[0]:e,v=g.clientX,w=g.clientY;c=Math.round(v-p.left),f=Math.round(w-p.top)}if(s)(d=Math.sqrt((2*Math.pow(p.width,2)+Math.pow(p.height,2))/3))%2===0&&(d+=1);else{var k=2*Math.max(Math.abs((h?h.clientWidth:0)-c),c)+2,M=2*Math.max(Math.abs((h?h.clientHeight:0)-f),f)+2;d=Math.sqrt(Math.pow(k,2)+Math.pow(M,2))}e.touches?null===b.current&&(b.current=function(){_({pulsate:i,rippleX:c,rippleY:f,rippleSize:d,cb:n})},y.current=setTimeout((function(){b.current&&(b.current(),b.current=null)}),80)):_({pulsate:i,rippleX:c,rippleY:f,rippleSize:d,cb:n})}}),[o,_]),M=a.useCallback((function(){w({},{pulsate:!0})}),[w]),A=a.useCallback((function(e,t){if(clearTimeout(y.current),"touchend"===e.type&&b.current)return e.persist(),b.current(),b.current=null,void(y.current=setTimeout((function(){A(e,t)})));b.current=null,p((function(e){return e.length>0?e.slice(1):e})),v.current=t}),[]);return a.useImperativeHandle(t,(function(){return{pulsate:M,start:w,stop:A}}),[M,w,A]),a.createElement("span",Object(r.a)({className:Object(l.a)(s.root,u),ref:x},c),a.createElement(k,{component:null,exit:!0},d))})),E=Object(f.a)((function(e){return{root:{overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"},ripple:{opacity:0,position:"absolute"},rippleVisible:{opacity:.3,transform:"scale(1)",animation:"$enter ".concat(550,"ms ").concat(e.transitions.easing.easeInOut)},ripplePulsate:{animationDuration:"".concat(e.transitions.duration.shorter,"ms")},child:{opacity:1,display:"block",width:"100%",height:"100%",borderRadius:"50%",backgroundColor:"currentColor"},childLeaving:{opacity:0,animation:"$exit ".concat(550,"ms ").concat(e.transitions.easing.easeInOut)},childPulsate:{position:"absolute",left:0,top:0,animation:"$pulsate 2500ms ".concat(e.transitions.easing.easeInOut," 200ms infinite")},"@keyframes enter":{"0%":{transform:"scale(0)",opacity:.1},"100%":{transform:"scale(1)",opacity:.3}},"@keyframes exit":{"0%":{opacity:1},"100%":{opacity:0}},"@keyframes pulsate":{"0%":{transform:"scale(1)"},"50%":{transform:"scale(0.92)"},"100%":{transform:"scale(1)"}}}}),{flip:!1,name:"MuiTouchRipple"})(a.memo(A)),S=a.forwardRef((function(e,t){var n=e.action,o=e.buttonRef,f=e.centerRipple,h=void 0!==f&&f,p=e.children,g=e.classes,v=e.className,m=e.component,y=void 0===m?"button":m,b=e.disabled,x=void 0!==b&&b,_=e.disableRipple,w=void 0!==_&&_,k=e.disableTouchRipple,M=void 0!==k&&k,T=e.focusRipple,A=void 0!==T&&T,S=e.focusVisibleClassName,O=e.onBlur,C=e.onClick,L=e.onFocus,R=e.onFocusVisible,P=e.onKeyDown,j=e.onKeyUp,z=e.onMouseDown,I=e.onMouseLeave,N=e.onMouseUp,D=e.onTouchEnd,F=e.onTouchMove,B=e.onTouchStart,U=e.onDragLeave,V=e.tabIndex,H=void 0===V?0:V,q=e.TouchRippleProps,W=e.type,G=void 0===W?"button":W,X=Object(i.a)(e,["action","buttonRef","centerRipple","children","classes","className","component","disabled","disableRipple","disableTouchRipple","focusRipple","focusVisibleClassName","onBlur","onClick","onFocus","onFocusVisible","onKeyDown","onKeyUp","onMouseDown","onMouseLeave","onMouseUp","onTouchEnd","onTouchMove","onTouchStart","onDragLeave","tabIndex","TouchRippleProps","type"]),Y=a.useRef(null);var Z=a.useRef(null),$=a.useState(!1),K=$[0],Q=$[1];x&&K&&Q(!1);var J=Object(d.a)(),ee=J.isFocusVisible,te=J.onBlurVisible,ne=J.ref;function re(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:M;return Object(c.a)((function(r){return t&&t(r),!n&&Z.current&&Z.current[e](r),!0}))}a.useImperativeHandle(n,(function(){return{focusVisible:function(){Q(!0),Y.current.focus()}}}),[]),a.useEffect((function(){K&&A&&!w&&Z.current.pulsate()}),[w,A,K]);var ie=re("start",z),ae=re("stop",U),oe=re("stop",N),se=re("stop",(function(e){K&&e.preventDefault(),I&&I(e)})),le=re("start",B),ue=re("stop",D),ce=re("stop",F),fe=re("stop",(function(e){K&&(te(e),Q(!1)),O&&O(e)}),!1),de=Object(c.a)((function(e){Y.current||(Y.current=e.currentTarget),ee(e)&&(Q(!0),R&&R(e)),L&&L(e)})),he=function(){var e=s.findDOMNode(Y.current);return y&&"button"!==y&&!("A"===e.tagName&&e.href)},pe=a.useRef(!1),ge=Object(c.a)((function(e){A&&!pe.current&&K&&Z.current&&" "===e.key&&(pe.current=!0,e.persist(),Z.current.stop(e,(function(){Z.current.start(e)}))),e.target===e.currentTarget&&he()&&" "===e.key&&e.preventDefault(),P&&P(e),e.target===e.currentTarget&&he()&&"Enter"===e.key&&!x&&(e.preventDefault(),C&&C(e))})),ve=Object(c.a)((function(e){A&&" "===e.key&&Z.current&&K&&!e.defaultPrevented&&(pe.current=!1,e.persist(),Z.current.stop(e,(function(){Z.current.pulsate(e)}))),j&&j(e),C&&e.target===e.currentTarget&&he()&&" "===e.key&&!e.defaultPrevented&&C(e)})),me=y;"button"===me&&X.href&&(me="a");var ye={};"button"===me?(ye.type=G,ye.disabled=x):("a"===me&&X.href||(ye.role="button"),ye["aria-disabled"]=x);var be=Object(u.a)(o,t),xe=Object(u.a)(ne,Y),_e=Object(u.a)(be,xe),we=a.useState(!1),ke=we[0],Me=we[1];a.useEffect((function(){Me(!0)}),[]);var Te=ke&&!w&&!x;return a.createElement(me,Object(r.a)({className:Object(l.a)(g.root,v,K&&[g.focusVisible,S],x&&g.disabled),onBlur:fe,onClick:C,onFocus:de,onKeyDown:ge,onKeyUp:ve,onMouseDown:ie,onMouseLeave:se,onMouseUp:oe,onDragLeave:ae,onTouchEnd:ue,onTouchMove:ce,onTouchStart:le,ref:_e,tabIndex:x?-1:H},ye,X),p,Te?a.createElement(E,Object(r.a)({ref:Z,center:h},q)):null)}));t.a=Object(f.a)({root:{display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle","-moz-appearance":"none","-webkit-appearance":"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"},"&$disabled":{pointerEvents:"none",cursor:"default"},"@media print":{colorAdjust:"exact"}},disabled:{},focusVisible:{}},{name:"MuiButtonBase"})(S)},function(e,t,n){"use strict";var r=n(31),i=n(37),a=(n(5),n(0)),o=n.n(a),s=n(12),l=n.n(s),u=!1,c=n(43),f="unmounted",d="exited",h="entering",p="entered",g="exiting",v=function(e){function t(t,n){var r;r=e.call(this,t,n)||this;var i,a=n&&!n.isMounting?t.enter:t.appear;return r.appearStatus=null,t.in?a?(i=d,r.appearStatus=h):i=p:i=t.unmountOnExit||t.mountOnEnter?f:d,r.state={status:i},r.nextCallback=null,r}Object(i.a)(t,e),t.getDerivedStateFromProps=function(e,t){return e.in&&t.status===f?{status:d}:null};var n=t.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(e){var t=null;if(e!==this.props){var n=this.state.status;this.props.in?n!==h&&n!==p&&(t=h):n!==h&&n!==p||(t=g)}this.updateStatus(!1,t)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var e,t,n,r=this.props.timeout;return e=t=n=r,null!=r&&"number"!==typeof r&&(e=r.exit,t=r.enter,n=void 0!==r.appear?r.appear:t),{exit:e,enter:t,appear:n}},n.updateStatus=function(e,t){void 0===e&&(e=!1),null!==t?(this.cancelNextCallback(),t===h?this.performEnter(e):this.performExit()):this.props.unmountOnExit&&this.state.status===d&&this.setState({status:f})},n.performEnter=function(e){var t=this,n=this.props.enter,r=this.context?this.context.isMounting:e,i=this.props.nodeRef?[r]:[l.a.findDOMNode(this),r],a=i[0],o=i[1],s=this.getTimeouts(),c=r?s.appear:s.enter;!e&&!n||u?this.safeSetState({status:p},(function(){t.props.onEntered(a)})):(this.props.onEnter(a,o),this.safeSetState({status:h},(function(){t.props.onEntering(a,o),t.onTransitionEnd(c,(function(){t.safeSetState({status:p},(function(){t.props.onEntered(a,o)}))}))})))},n.performExit=function(){var e=this,t=this.props.exit,n=this.getTimeouts(),r=this.props.nodeRef?void 0:l.a.findDOMNode(this);t&&!u?(this.props.onExit(r),this.safeSetState({status:g},(function(){e.props.onExiting(r),e.onTransitionEnd(n.exit,(function(){e.safeSetState({status:d},(function(){e.props.onExited(r)}))}))}))):this.safeSetState({status:d},(function(){e.props.onExited(r)}))},n.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(e,t){t=this.setNextCallback(t),this.setState(e,t)},n.setNextCallback=function(e){var t=this,n=!0;return this.nextCallback=function(r){n&&(n=!1,t.nextCallback=null,e(r))},this.nextCallback.cancel=function(){n=!1},this.nextCallback},n.onTransitionEnd=function(e,t){this.setNextCallback(t);var n=this.props.nodeRef?this.props.nodeRef.current:l.a.findDOMNode(this),r=null==e&&!this.props.addEndListener;if(n&&!r){if(this.props.addEndListener){var i=this.props.nodeRef?[this.nextCallback]:[n,this.nextCallback],a=i[0],o=i[1];this.props.addEndListener(a,o)}null!=e&&setTimeout(this.nextCallback,e)}else setTimeout(this.nextCallback,0)},n.render=function(){var e=this.state.status;if(e===f)return null;var t=this.props,n=t.children,i=(t.in,t.mountOnEnter,t.unmountOnExit,t.appear,t.enter,t.exit,t.timeout,t.addEndListener,t.onEnter,t.onEntering,t.onEntered,t.onExit,t.onExiting,t.onExited,t.nodeRef,Object(r.a)(t,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]));return o.a.createElement(c.a.Provider,{value:null},"function"===typeof n?n(e,i):o.a.cloneElement(o.a.Children.only(n),i))},t}(o.a.Component);function m(){}v.contextType=c.a,v.propTypes={},v.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:m,onEntering:m,onEntered:m,onExit:m,onExiting:m,onExited:m},v.UNMOUNTED=f,v.EXITED=d,v.ENTERING=h,v.ENTERED=p,v.EXITING=g;t.a=v},,,,,,,,,,function(e,t,n){"use strict";n(55);var r=n(0),i=60103;if(t.Fragment=60107,"function"===typeof Symbol&&Symbol.for){var a=Symbol.for;i=a("react.element"),t.Fragment=a("react.fragment")}var o=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s=Object.prototype.hasOwnProperty,l={key:!0,ref:!0,__self:!0,__source:!0};function u(e,t,n){var r,a={},u=null,c=null;for(r in void 0!==n&&(u=""+n),void 0!==t.key&&(u=""+t.key),void 0!==t.ref&&(c=t.ref),t)s.call(t,r)&&!l.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===a[r]&&(a[r]=t[r]);return{$$typeof:i,type:e,key:u,ref:c,props:a,_owner:o.current}}t.jsx=u,t.jsxs=u},function(e,t,n){"use strict";var r=n(55),i=60103,a=60106;t.Fragment=60107,t.StrictMode=60108,t.Profiler=60114;var o=60109,s=60110,l=60112;t.Suspense=60113;var u=60115,c=60116;if("function"===typeof Symbol&&Symbol.for){var f=Symbol.for;i=f("react.element"),a=f("react.portal"),t.Fragment=f("react.fragment"),t.StrictMode=f("react.strict_mode"),t.Profiler=f("react.profiler"),o=f("react.provider"),s=f("react.context"),l=f("react.forward_ref"),t.Suspense=f("react.suspense"),u=f("react.memo"),c=f("react.lazy")}var d="function"===typeof Symbol&&Symbol.iterator;function h(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},g={};function v(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}function m(){}function y(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}v.prototype.isReactComponent={},v.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error(h(85));this.updater.enqueueSetState(this,e,t,"setState")},v.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},m.prototype=v.prototype;var b=y.prototype=new m;b.constructor=y,r(b,v.prototype),b.isPureReactComponent=!0;var x={current:null},_=Object.prototype.hasOwnProperty,w={key:!0,ref:!0,__self:!0,__source:!0};function k(e,t,n){var r,a={},o=null,s=null;if(null!=t)for(r in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(o=""+t.key),t)_.call(t,r)&&!w.hasOwnProperty(r)&&(a[r]=t[r]);var l=arguments.length-2;if(1===l)a.children=n;else if(1<l){for(var u=Array(l),c=0;c<l;c++)u[c]=arguments[c+2];a.children=u}if(e&&e.defaultProps)for(r in l=e.defaultProps)void 0===a[r]&&(a[r]=l[r]);return{$$typeof:i,type:e,key:o,ref:s,props:a,_owner:x.current}}function M(e){return"object"===typeof e&&null!==e&&e.$$typeof===i}var T=/\/+/g;function A(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function E(e,t,n,r,o){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var l=!1;if(null===e)l=!0;else switch(s){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case i:case a:l=!0}}if(l)return o=o(l=e),e=""===r?"."+A(l,0):r,Array.isArray(o)?(n="",null!=e&&(n=e.replace(T,"$&/")+"/"),E(o,t,n,"",(function(e){return e}))):null!=o&&(M(o)&&(o=function(e,t){return{$$typeof:i,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,n+(!o.key||l&&l.key===o.key?"":(""+o.key).replace(T,"$&/")+"/")+e)),t.push(o)),1;if(l=0,r=""===r?".":r+":",Array.isArray(e))for(var u=0;u<e.length;u++){var c=r+A(s=e[u],u);l+=E(s,t,n,c,o)}else if("function"===typeof(c=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=d&&e[d]||e["@@iterator"])?e:null}(e)))for(e=c.call(e),u=0;!(s=e.next()).done;)l+=E(s=s.value,t,n,c=r+A(s,u++),o);else if("object"===s)throw t=""+e,Error(h(31,"[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t));return l}function S(e,t,n){if(null==e)return e;var r=[],i=0;return E(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function O(e){if(-1===e._status){var t=e._result;t=t(),e._status=0,e._result=t,t.then((function(t){0===e._status&&(t=t.default,e._status=1,e._result=t)}),(function(t){0===e._status&&(e._status=2,e._result=t)}))}if(1===e._status)return e._result;throw e._result}var C={current:null};function L(){var e=C.current;if(null===e)throw Error(h(321));return e}var R={ReactCurrentDispatcher:C,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:x,IsSomeRendererActing:{current:!1},assign:r};t.Children={map:S,forEach:function(e,t,n){S(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return S(e,(function(){t++})),t},toArray:function(e){return S(e,(function(e){return e}))||[]},only:function(e){if(!M(e))throw Error(h(143));return e}},t.Component=v,t.PureComponent=y,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=R,t.cloneElement=function(e,t,n){if(null===e||void 0===e)throw Error(h(267,e));var a=r({},e.props),o=e.key,s=e.ref,l=e._owner;if(null!=t){if(void 0!==t.ref&&(s=t.ref,l=x.current),void 0!==t.key&&(o=""+t.key),e.type&&e.type.defaultProps)var u=e.type.defaultProps;for(c in t)_.call(t,c)&&!w.hasOwnProperty(c)&&(a[c]=void 0===t[c]&&void 0!==u?u[c]:t[c])}var c=arguments.length-2;if(1===c)a.children=n;else if(1<c){u=Array(c);for(var f=0;f<c;f++)u[f]=arguments[f+2];a.children=u}return{$$typeof:i,type:e.type,key:o,ref:s,props:a,_owner:l}},t.createContext=function(e,t){return void 0===t&&(t=null),(e={$$typeof:s,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:o,_context:e},e.Consumer=e},t.createElement=k,t.createFactory=function(e){var t=k.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:l,render:e}},t.isValidElement=M,t.lazy=function(e){return{$$typeof:c,_payload:{_status:-1,_result:e},_init:O}},t.memo=function(e,t){return{$$typeof:u,type:e,compare:void 0===t?null:t}},t.useCallback=function(e,t){return L().useCallback(e,t)},t.useContext=function(e,t){return L().useContext(e,t)},t.useDebugValue=function(){},t.useEffect=function(e,t){return L().useEffect(e,t)},t.useImperativeHandle=function(e,t,n){return L().useImperativeHandle(e,t,n)},t.useLayoutEffect=function(e,t){return L().useLayoutEffect(e,t)},t.useMemo=function(e,t){return L().useMemo(e,t)},t.useReducer=function(e,t,n){return L().useReducer(e,t,n)},t.useRef=function(e){return L().useRef(e)},t.useState=function(e){return L().useState(e)},t.version="17.0.1"},function(e,t,n){"use strict";var r=n(0),i=n(55),a=n(88);function o(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!r)throw Error(o(227));var s=new Set,l={};function u(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(l[e]=t,e=0;e<t.length;e++)s.add(t[e])}var f=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),d=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,h=Object.prototype.hasOwnProperty,p={},g={};function v(e,t,n,r,i,a,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var m={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){m[e]=new v(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];m[t]=new v(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){m[e]=new v(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){m[e]=new v(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){m[e]=new v(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){m[e]=new v(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){m[e]=new v(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){m[e]=new v(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){m[e]=new v(e,5,!1,e.toLowerCase(),null,!1,!1)}));var y=/[\-:]([a-z])/g;function b(e){return e[1].toUpperCase()}function x(e,t,n,r){var i=m.hasOwnProperty(t)?m[t]:null;(null!==i?0===i.type:!r&&(2<t.length&&("o"===t[0]||"O"===t[0])&&("n"===t[1]||"N"===t[1])))||(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!h.call(g,e)||!h.call(p,e)&&(d.test(e)?g[e]=!0:(p[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(y,b);m[t]=new v(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(y,b);m[t]=new v(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(y,b);m[t]=new v(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){m[e]=new v(e,1,!1,e.toLowerCase(),null,!1,!1)})),m.xlinkHref=new v("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){m[e]=new v(e,1,!1,e.toLowerCase(),null,!0,!0)}));var _=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,w=60103,k=60106,M=60107,T=60108,A=60114,E=60109,S=60110,O=60112,C=60113,L=60120,R=60115,P=60116,j=60121,z=60128,I=60129,N=60130,D=60131;if("function"===typeof Symbol&&Symbol.for){var F=Symbol.for;w=F("react.element"),k=F("react.portal"),M=F("react.fragment"),T=F("react.strict_mode"),A=F("react.profiler"),E=F("react.provider"),S=F("react.context"),O=F("react.forward_ref"),C=F("react.suspense"),L=F("react.suspense_list"),R=F("react.memo"),P=F("react.lazy"),j=F("react.block"),F("react.scope"),z=F("react.opaque.id"),I=F("react.debug_trace_mode"),N=F("react.offscreen"),D=F("react.legacy_hidden")}var B,U="function"===typeof Symbol&&Symbol.iterator;function V(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=U&&e[U]||e["@@iterator"])?e:null}function H(e){if(void 0===B)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);B=t&&t[1]||""}return"\n"+B+e}var q=!1;function W(e,t){if(!e||q)return"";q=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(l){var r=l}Reflect.construct(e,[],t)}else{try{t.call()}catch(l){r=l}e.call(t.prototype)}else{try{throw Error()}catch(l){r=l}e()}}catch(l){if(l&&r&&"string"===typeof l.stack){for(var i=l.stack.split("\n"),a=r.stack.split("\n"),o=i.length-1,s=a.length-1;1<=o&&0<=s&&i[o]!==a[s];)s--;for(;1<=o&&0<=s;o--,s--)if(i[o]!==a[s]){if(1!==o||1!==s)do{if(o--,0>--s||i[o]!==a[s])return"\n"+i[o].replace(" at new "," at ")}while(1<=o&&0<=s);break}}}finally{q=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?H(e):""}function G(e){switch(e.tag){case 5:return H(e.type);case 16:return H("Lazy");case 13:return H("Suspense");case 19:return H("SuspenseList");case 0:case 2:case 15:return e=W(e.type,!1);case 11:return e=W(e.type.render,!1);case 22:return e=W(e.type._render,!1);case 1:return e=W(e.type,!0);default:return""}}function X(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case M:return"Fragment";case k:return"Portal";case A:return"Profiler";case T:return"StrictMode";case C:return"Suspense";case L:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case S:return(e.displayName||"Context")+".Consumer";case E:return(e._context.displayName||"Context")+".Provider";case O:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case R:return X(e.type);case j:return X(e._render);case P:t=e._payload,e=e._init;try{return X(e(t))}catch(n){}}return null}function Y(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}function Z(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function $(e){e._valueTracker||(e._valueTracker=function(e){var t=Z(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function K(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Z(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function Q(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function J(e,t){var n=t.checked;return i({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function ee(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=Y(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function te(e,t){null!=(t=t.checked)&&x(e,"checked",t,!1)}function ne(e,t){te(e,t);var n=Y(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ie(e,t.type,n):t.hasOwnProperty("defaultValue")&&ie(e,t.type,Y(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function re(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ie(e,t,n){"number"===t&&Q(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}function ae(e,t){return e=i({children:void 0},t),(t=function(e){var t="";return r.Children.forEach(e,(function(e){null!=e&&(t+=e)})),t}(t.children))&&(e.children=t),e}function oe(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Y(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function se(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(o(91));return i({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function le(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(o(92));if(Array.isArray(n)){if(!(1>=n.length))throw Error(o(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:Y(n)}}function ue(e,t){var n=Y(t.value),r=Y(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function ce(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}var fe="http://www.w3.org/1999/xhtml",de="http://www.w3.org/2000/svg";function he(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function pe(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?he(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ge,ve,me=(ve=function(e,t){if(e.namespaceURI!==de||"innerHTML"in e)e.innerHTML=t;else{for((ge=ge||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ge.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return ve(e,t)}))}:ve);function ye(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var be={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},xe=["Webkit","ms","Moz","O"];function _e(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||be.hasOwnProperty(e)&&be[e]?(""+t).trim():t+"px"}function we(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=_e(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(be).forEach((function(e){xe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),be[t]=be[e]}))}));var ke=i({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Me(e,t){if(t){if(ke[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(o(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(o(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(o(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(o(62))}}function Te(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function Ae(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Ee=null,Se=null,Oe=null;function Ce(e){if(e=ei(e)){if("function"!==typeof Ee)throw Error(o(280));var t=e.stateNode;t&&(t=ni(t),Ee(e.stateNode,e.type,t))}}function Le(e){Se?Oe?Oe.push(e):Oe=[e]:Se=e}function Re(){if(Se){var e=Se,t=Oe;if(Oe=Se=null,Ce(e),t)for(e=0;e<t.length;e++)Ce(t[e])}}function Pe(e,t){return e(t)}function je(e,t,n,r,i){return e(t,n,r,i)}function ze(){}var Ie=Pe,Ne=!1,De=!1;function Fe(){null===Se&&null===Oe||(ze(),Re())}function Be(e,t){var n=e.stateNode;if(null===n)return null;var r=ni(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(o(231,t,typeof n));return n}var Ue=!1;if(f)try{var Ve={};Object.defineProperty(Ve,"passive",{get:function(){Ue=!0}}),window.addEventListener("test",Ve,Ve),window.removeEventListener("test",Ve,Ve)}catch(ve){Ue=!1}function He(e,t,n,r,i,a,o,s,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(c){this.onError(c)}}var qe=!1,We=null,Ge=!1,Xe=null,Ye={onError:function(e){qe=!0,We=e}};function Ze(e,t,n,r,i,a,o,s,l){qe=!1,We=null,He.apply(Ye,arguments)}function $e(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(1026&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function Ke(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function Qe(e){if($e(e)!==e)throw Error(o(188))}function Je(e){if(!(e=function(e){var t=e.alternate;if(!t){if(null===(t=$e(e)))throw Error(o(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var a=i.alternate;if(null===a){if(null!==(r=i.return)){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return Qe(i),e;if(a===r)return Qe(i),t;a=a.sibling}throw Error(o(188))}if(n.return!==r.return)n=i,r=a;else{for(var s=!1,l=i.child;l;){if(l===n){s=!0,n=i,r=a;break}if(l===r){s=!0,r=i,n=a;break}l=l.sibling}if(!s){for(l=a.child;l;){if(l===n){s=!0,n=a,r=i;break}if(l===r){s=!0,r=a,n=i;break}l=l.sibling}if(!s)throw Error(o(189))}}if(n.alternate!==r)throw Error(o(190))}if(3!==n.tag)throw Error(o(188));return n.stateNode.current===n?e:t}(e)))return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}function et(e,t){for(var n=e.alternate;null!==t;){if(t===e||t===n)return!0;t=t.return}return!1}var tt,nt,rt,it,at=!1,ot=[],st=null,lt=null,ut=null,ct=new Map,ft=new Map,dt=[],ht="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function pt(e,t,n,r,i){return{blockedOn:e,domEventName:t,eventSystemFlags:16|n,nativeEvent:i,targetContainers:[r]}}function gt(e,t){switch(e){case"focusin":case"focusout":st=null;break;case"dragenter":case"dragleave":lt=null;break;case"mouseover":case"mouseout":ut=null;break;case"pointerover":case"pointerout":ct.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ft.delete(t.pointerId)}}function vt(e,t,n,r,i,a){return null===e||e.nativeEvent!==a?(e=pt(t,n,r,i,a),null!==t&&(null!==(t=ei(t))&&nt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function mt(e){var t=Jr(e.target);if(null!==t){var n=$e(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=Ke(n)))return e.blockedOn=t,void it(e.lanePriority,(function(){a.unstable_runWithPriority(e.priority,(function(){rt(n)}))}))}else if(3===t&&n.stateNode.hydrate)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function yt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Jt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=ei(n))&&nt(t),e.blockedOn=n,!1;t.shift()}return!0}function bt(e,t,n){yt(e)&&n.delete(t)}function xt(){for(at=!1;0<ot.length;){var e=ot[0];if(null!==e.blockedOn){null!==(e=ei(e.blockedOn))&&tt(e);break}for(var t=e.targetContainers;0<t.length;){var n=Jt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n){e.blockedOn=n;break}t.shift()}null===e.blockedOn&&ot.shift()}null!==st&&yt(st)&&(st=null),null!==lt&&yt(lt)&&(lt=null),null!==ut&&yt(ut)&&(ut=null),ct.forEach(bt),ft.forEach(bt)}function _t(e,t){e.blockedOn===t&&(e.blockedOn=null,at||(at=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,xt)))}function wt(e){function t(t){return _t(t,e)}if(0<ot.length){_t(ot[0],e);for(var n=1;n<ot.length;n++){var r=ot[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==st&&_t(st,e),null!==lt&&_t(lt,e),null!==ut&&_t(ut,e),ct.forEach(t),ft.forEach(t),n=0;n<dt.length;n++)(r=dt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<dt.length&&null===(n=dt[0]).blockedOn;)mt(n),null===n.blockedOn&&dt.shift()}function kt(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Mt={animationend:kt("Animation","AnimationEnd"),animationiteration:kt("Animation","AnimationIteration"),animationstart:kt("Animation","AnimationStart"),transitionend:kt("Transition","TransitionEnd")},Tt={},At={};function Et(e){if(Tt[e])return Tt[e];if(!Mt[e])return e;var t,n=Mt[e];for(t in n)if(n.hasOwnProperty(t)&&t in At)return Tt[e]=n[t];return e}f&&(At=document.createElement("div").style,"AnimationEvent"in window||(delete Mt.animationend.animation,delete Mt.animationiteration.animation,delete Mt.animationstart.animation),"TransitionEvent"in window||delete Mt.transitionend.transition);var St=Et("animationend"),Ot=Et("animationiteration"),Ct=Et("animationstart"),Lt=Et("transitionend"),Rt=new Map,Pt=new Map,jt=["abort","abort",St,"animationEnd",Ot,"animationIteration",Ct,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",Lt,"transitionEnd","waiting","waiting"];function zt(e,t){for(var n=0;n<e.length;n+=2){var r=e[n],i=e[n+1];i="on"+(i[0].toUpperCase()+i.slice(1)),Pt.set(r,t),Rt.set(r,i),u(i,[r])}}(0,a.unstable_now)();var It=8;function Nt(e){if(0!==(1&e))return It=15,1;if(0!==(2&e))return It=14,2;if(0!==(4&e))return It=13,4;var t=24&e;return 0!==t?(It=12,t):0!==(32&e)?(It=11,32):0!==(t=192&e)?(It=10,t):0!==(256&e)?(It=9,256):0!==(t=3584&e)?(It=8,t):0!==(4096&e)?(It=7,4096):0!==(t=4186112&e)?(It=6,t):0!==(t=62914560&e)?(It=5,t):67108864&e?(It=4,67108864):0!==(134217728&e)?(It=3,134217728):0!==(t=805306368&e)?(It=2,t):0!==(1073741824&e)?(It=1,1073741824):(It=8,e)}function Dt(e,t){var n=e.pendingLanes;if(0===n)return It=0;var r=0,i=0,a=e.expiredLanes,o=e.suspendedLanes,s=e.pingedLanes;if(0!==a)r=a,i=It=15;else if(0!==(a=134217727&n)){var l=a&~o;0!==l?(r=Nt(l),i=It):0!==(s&=a)&&(r=Nt(s),i=It)}else 0!==(a=n&~o)?(r=Nt(a),i=It):0!==s&&(r=Nt(s),i=It);if(0===r)return 0;if(r=n&((0>(r=31-qt(r))?0:1<<r)<<1)-1,0!==t&&t!==r&&0===(t&o)){if(Nt(t),i<=It)return t;It=i}if(0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-qt(t)),r|=e[n],t&=~i;return r}function Ft(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function Bt(e,t){switch(e){case 15:return 1;case 14:return 2;case 12:return 0===(e=Ut(24&~t))?Bt(10,t):e;case 10:return 0===(e=Ut(192&~t))?Bt(8,t):e;case 8:return 0===(e=Ut(3584&~t))&&(0===(e=Ut(4186112&~t))&&(e=512)),e;case 2:return 0===(t=Ut(805306368&~t))&&(t=268435456),t}throw Error(o(358,e))}function Ut(e){return e&-e}function Vt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Ht(e,t,n){e.pendingLanes|=t;var r=t-1;e.suspendedLanes&=r,e.pingedLanes&=r,(e=e.eventTimes)[t=31-qt(t)]=n}var qt=Math.clz32?Math.clz32:function(e){return 0===e?32:31-(Wt(e)/Gt|0)|0},Wt=Math.log,Gt=Math.LN2;var Xt=a.unstable_UserBlockingPriority,Yt=a.unstable_runWithPriority,Zt=!0;function $t(e,t,n,r){Ne||ze();var i=Qt,a=Ne;Ne=!0;try{je(i,e,t,n,r)}finally{(Ne=a)||Fe()}}function Kt(e,t,n,r){Yt(Xt,Qt.bind(null,e,t,n,r))}function Qt(e,t,n,r){var i;if(Zt)if((i=0===(4&t))&&0<ot.length&&-1<ht.indexOf(e))e=pt(null,e,t,n,r),ot.push(e);else{var a=Jt(e,t,n,r);if(null===a)i&&gt(e,r);else{if(i){if(-1<ht.indexOf(e))return e=pt(a,e,t,n,r),void ot.push(e);if(function(e,t,n,r,i){switch(t){case"focusin":return st=vt(st,e,t,n,r,i),!0;case"dragenter":return lt=vt(lt,e,t,n,r,i),!0;case"mouseover":return ut=vt(ut,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return ct.set(a,vt(ct.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,ft.set(a,vt(ft.get(a)||null,e,t,n,r,i)),!0}return!1}(a,e,t,n,r))return;gt(e,r)}Rr(e,t,r,null,n)}}}function Jt(e,t,n,r){var i=Ae(r);if(null!==(i=Jr(i))){var a=$e(i);if(null===a)i=null;else{var o=a.tag;if(13===o){if(null!==(i=Ke(a)))return i;i=null}else if(3===o){if(a.stateNode.hydrate)return 3===a.tag?a.stateNode.containerInfo:null;i=null}else a!==i&&(i=null)}}return Rr(e,t,r,i,n),null}var en=null,tn=null,nn=null;function rn(){if(nn)return nn;var e,t,n=tn,r=n.length,i="value"in en?en.value:en.textContent,a=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[a-t];t++);return nn=i.slice(e,1<t?1-t:void 0)}function an(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function on(){return!0}function sn(){return!1}function ln(e){function t(t,n,r,i,a){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?on:sn,this.isPropagationStopped=sn,this}return i(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=on)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=on)},persist:function(){},isPersistent:on}),t}var un,cn,fn,dn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},hn=ln(dn),pn=i({},dn,{view:0,detail:0}),gn=ln(pn),vn=i({},pn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:En,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==fn&&(fn&&"mousemove"===e.type?(un=e.screenX-fn.screenX,cn=e.screenY-fn.screenY):cn=un=0,fn=e),un)},movementY:function(e){return"movementY"in e?e.movementY:cn}}),mn=ln(vn),yn=ln(i({},vn,{dataTransfer:0})),bn=ln(i({},pn,{relatedTarget:0})),xn=ln(i({},dn,{animationName:0,elapsedTime:0,pseudoElement:0})),_n=ln(i({},dn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}})),wn=ln(i({},dn,{data:0})),kn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Mn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Tn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function An(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Tn[e])&&!!t[e]}function En(){return An}var Sn=ln(i({},pn,{key:function(e){if(e.key){var t=kn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=an(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?Mn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:En,charCode:function(e){return"keypress"===e.type?an(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?an(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}})),On=ln(i({},vn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Cn=ln(i({},pn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:En})),Ln=ln(i({},dn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Rn=ln(i({},vn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0})),Pn=[9,13,27,32],jn=f&&"CompositionEvent"in window,zn=null;f&&"documentMode"in document&&(zn=document.documentMode);var In=f&&"TextEvent"in window&&!zn,Nn=f&&(!jn||zn&&8<zn&&11>=zn),Dn=String.fromCharCode(32),Fn=!1;function Bn(e,t){switch(e){case"keyup":return-1!==Pn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Un(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Vn=!1;var Hn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function qn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Hn[e.type]:"textarea"===t}function Wn(e,t,n,r){Le(r),0<(t=jr(t,"onChange")).length&&(n=new hn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Gn=null,Xn=null;function Yn(e){Ar(e,0)}function Zn(e){if(K(ti(e)))return e}function $n(e,t){if("change"===e)return t}var Kn=!1;if(f){var Qn;if(f){var Jn="oninput"in document;if(!Jn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Jn="function"===typeof er.oninput}Qn=Jn}else Qn=!1;Kn=Qn&&(!document.documentMode||9<document.documentMode)}function tr(){Gn&&(Gn.detachEvent("onpropertychange",nr),Xn=Gn=null)}function nr(e){if("value"===e.propertyName&&Zn(Xn)){var t=[];if(Wn(t,Xn,e,Ae(e)),e=Yn,Ne)e(t);else{Ne=!0;try{Pe(e,t)}finally{Ne=!1,Fe()}}}}function rr(e,t,n){"focusin"===e?(tr(),Xn=n,(Gn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Zn(Xn)}function ar(e,t){if("click"===e)return Zn(t)}function or(e,t){if("input"===e||"change"===e)return Zn(t)}var sr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},lr=Object.prototype.hasOwnProperty;function ur(e,t){if(sr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++)if(!lr.call(t,n[r])||!sr(e[n[r]],t[n[r]]))return!1;return!0}function cr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function fr(e,t){var n,r=cr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cr(r)}}function dr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?dr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function hr(){for(var e=window,t=Q();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=Q((e=t.contentWindow).document)}return t}function pr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var gr=f&&"documentMode"in document&&11>=document.documentMode,vr=null,mr=null,yr=null,br=!1;function xr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;br||null==vr||vr!==Q(r)||("selectionStart"in(r=vr)&&pr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},yr&&ur(yr,r)||(yr=r,0<(r=jr(mr,"onSelect")).length&&(t=new hn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=vr)))}zt("cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focusin focus focusout blur input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0),zt("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1),zt(jt,2);for(var _r="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),wr=0;wr<_r.length;wr++)Pt.set(_r[wr],0);c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),u("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),u("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),u("onBeforeInput",["compositionend","keypress","textInput","paste"]),u("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var kr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Mr=new Set("cancel close invalid load scroll toggle".split(" ").concat(kr));function Tr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,a,s,l,u){if(Ze.apply(this,arguments),qe){if(!qe)throw Error(o(198));var c=We;qe=!1,We=null,Ge||(Ge=!0,Xe=c)}}(r,t,void 0,e),e.currentTarget=null}function Ar(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var o=r.length-1;0<=o;o--){var s=r[o],l=s.instance,u=s.currentTarget;if(s=s.listener,l!==a&&i.isPropagationStopped())break e;Tr(i,s,u),a=l}else for(o=0;o<r.length;o++){if(l=(s=r[o]).instance,u=s.currentTarget,s=s.listener,l!==a&&i.isPropagationStopped())break e;Tr(i,s,u),a=l}}}if(Ge)throw e=Xe,Ge=!1,Xe=null,e}function Er(e,t){var n=ri(t),r=e+"__bubble";n.has(r)||(Lr(t,e,2,!1),n.add(r))}var Sr="_reactListening"+Math.random().toString(36).slice(2);function Or(e){e[Sr]||(e[Sr]=!0,s.forEach((function(t){Mr.has(t)||Cr(t,!1,e,null),Cr(t,!0,e,null)})))}function Cr(e,t,n,r){var i=4<arguments.length&&void 0!==arguments[4]?arguments[4]:0,a=n;if("selectionchange"===e&&9!==n.nodeType&&(a=n.ownerDocument),null!==r&&!t&&Mr.has(e)){if("scroll"!==e)return;i|=2,a=r}var o=ri(a),s=e+"__"+(t?"capture":"bubble");o.has(s)||(t&&(i|=4),Lr(a,e,i,t),o.add(s))}function Lr(e,t,n,r){var i=Pt.get(t);switch(void 0===i?2:i){case 0:i=$t;break;case 1:i=Kt;break;default:i=Qt}n=i.bind(null,t,n,e),i=void 0,!Ue||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Rr(e,t,n,r,i){var a=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var s=r.stateNode.containerInfo;if(s===i||8===s.nodeType&&s.parentNode===i)break;if(4===o)for(o=r.return;null!==o;){var l=o.tag;if((3===l||4===l)&&((l=o.stateNode.containerInfo)===i||8===l.nodeType&&l.parentNode===i))return;o=o.return}for(;null!==s;){if(null===(o=Jr(s)))return;if(5===(l=o.tag)||6===l){r=a=o;continue e}s=s.parentNode}}r=r.return}!function(e,t,n){if(De)return e(t,n);De=!0;try{Ie(e,t,n)}finally{De=!1,Fe()}}((function(){var r=a,i=Ae(n),o=[];e:{var s=Rt.get(e);if(void 0!==s){var l=hn,u=e;switch(e){case"keypress":if(0===an(n))break e;case"keydown":case"keyup":l=Sn;break;case"focusin":u="focus",l=bn;break;case"focusout":u="blur",l=bn;break;case"beforeblur":case"afterblur":l=bn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=mn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=yn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=Cn;break;case St:case Ot:case Ct:l=xn;break;case Lt:l=Ln;break;case"scroll":l=gn;break;case"wheel":l=Rn;break;case"copy":case"cut":case"paste":l=_n;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=On}var c=0!==(4&t),f=!c&&"scroll"===e,d=c?null!==s?s+"Capture":null:s;c=[];for(var h,p=r;null!==p;){var g=(h=p).stateNode;if(5===h.tag&&null!==g&&(h=g,null!==d&&(null!=(g=Be(p,d))&&c.push(Pr(p,g,h)))),f)break;p=p.return}0<c.length&&(s=new l(s,u,null,n,i),o.push({event:s,listeners:c}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||0!==(16&t)||!(u=n.relatedTarget||n.fromElement)||!Jr(u)&&!u[Kr])&&(l||s)&&(s=i.window===i?i:(s=i.ownerDocument)?s.defaultView||s.parentWindow:window,l?(l=r,null!==(u=(u=n.relatedTarget||n.toElement)?Jr(u):null)&&(u!==(f=$e(u))||5!==u.tag&&6!==u.tag)&&(u=null)):(l=null,u=r),l!==u)){if(c=mn,g="onMouseLeave",d="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(c=On,g="onPointerLeave",d="onPointerEnter",p="pointer"),f=null==l?s:ti(l),h=null==u?s:ti(u),(s=new c(g,p+"leave",l,n,i)).target=f,s.relatedTarget=h,g=null,Jr(i)===r&&((c=new c(d,p+"enter",u,n,i)).target=h,c.relatedTarget=f,g=c),f=g,l&&u)e:{for(d=u,p=0,h=c=l;h;h=zr(h))p++;for(h=0,g=d;g;g=zr(g))h++;for(;0<p-h;)c=zr(c),p--;for(;0<h-p;)d=zr(d),h--;for(;p--;){if(c===d||null!==d&&c===d.alternate)break e;c=zr(c),d=zr(d)}c=null}else c=null;null!==l&&Ir(o,s,l,c,!1),null!==u&&null!==f&&Ir(o,f,u,c,!0)}if("select"===(l=(s=r?ti(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===l&&"file"===s.type)var v=$n;else if(qn(s))if(Kn)v=or;else{v=ir;var m=rr}else(l=s.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(v=ar);switch(v&&(v=v(e,r))?Wn(o,v,n,i):(m&&m(e,s,r),"focusout"===e&&(m=s._wrapperState)&&m.controlled&&"number"===s.type&&ie(s,"number",s.value)),m=r?ti(r):window,e){case"focusin":(qn(m)||"true"===m.contentEditable)&&(vr=m,mr=r,yr=null);break;case"focusout":yr=mr=vr=null;break;case"mousedown":br=!0;break;case"contextmenu":case"mouseup":case"dragend":br=!1,xr(o,n,i);break;case"selectionchange":if(gr)break;case"keydown":case"keyup":xr(o,n,i)}var y;if(jn)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Vn?Bn(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(Nn&&"ko"!==n.locale&&(Vn||"onCompositionStart"!==b?"onCompositionEnd"===b&&Vn&&(y=rn()):(tn="value"in(en=i)?en.value:en.textContent,Vn=!0)),0<(m=jr(r,b)).length&&(b=new wn(b,e,null,n,i),o.push({event:b,listeners:m}),y?b.data=y:null!==(y=Un(n))&&(b.data=y))),(y=In?function(e,t){switch(e){case"compositionend":return Un(t);case"keypress":return 32!==t.which?null:(Fn=!0,Dn);case"textInput":return(e=t.data)===Dn&&Fn?null:e;default:return null}}(e,n):function(e,t){if(Vn)return"compositionend"===e||!jn&&Bn(e,t)?(e=rn(),nn=tn=en=null,Vn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Nn&&"ko"!==t.locale?null:t.data;default:return null}}(e,n))&&(0<(r=jr(r,"onBeforeInput")).length&&(i=new wn("onBeforeInput","beforeinput",null,n,i),o.push({event:i,listeners:r}),i.data=y))}Ar(o,t)}))}function Pr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function jr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,a=i.stateNode;5===i.tag&&null!==a&&(i=a,null!=(a=Be(e,n))&&r.unshift(Pr(e,a,i)),null!=(a=Be(e,t))&&r.push(Pr(e,a,i))),e=e.return}return r}function zr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Ir(e,t,n,r,i){for(var a=t._reactName,o=[];null!==n&&n!==r;){var s=n,l=s.alternate,u=s.stateNode;if(null!==l&&l===r)break;5===s.tag&&null!==u&&(s=u,i?null!=(l=Be(n,a))&&o.unshift(Pr(n,l,s)):i||null!=(l=Be(n,a))&&o.push(Pr(n,l,s))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}function Nr(){}var Dr=null,Fr=null;function Br(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}function Ur(e,t){return"textarea"===e||"option"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var Vr="function"===typeof setTimeout?setTimeout:void 0,Hr="function"===typeof clearTimeout?clearTimeout:void 0;function qr(e){1===e.nodeType?e.textContent="":9===e.nodeType&&(null!=(e=e.body)&&(e.textContent=""))}function Wr(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break}return e}function Gr(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var Xr=0;var Yr=Math.random().toString(36).slice(2),Zr="__reactFiber$"+Yr,$r="__reactProps$"+Yr,Kr="__reactContainer$"+Yr,Qr="__reactEvents$"+Yr;function Jr(e){var t=e[Zr];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Kr]||n[Zr]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=Gr(e);null!==e;){if(n=e[Zr])return n;e=Gr(e)}return t}n=(e=n).parentNode}return null}function ei(e){return!(e=e[Zr]||e[Kr])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function ti(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(o(33))}function ni(e){return e[$r]||null}function ri(e){var t=e[Qr];return void 0===t&&(t=e[Qr]=new Set),t}var ii=[],ai=-1;function oi(e){return{current:e}}function si(e){0>ai||(e.current=ii[ai],ii[ai]=null,ai--)}function li(e,t){ai++,ii[ai]=e.current,e.current=t}var ui={},ci=oi(ui),fi=oi(!1),di=ui;function hi(e,t){var n=e.type.contextTypes;if(!n)return ui;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,a={};for(i in n)a[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function pi(e){return null!==(e=e.childContextTypes)&&void 0!==e}function gi(){si(fi),si(ci)}function vi(e,t,n){if(ci.current!==ui)throw Error(o(168));li(ci,t),li(fi,n)}function mi(e,t,n){var r=e.stateNode;if(e=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var a in r=r.getChildContext())if(!(a in e))throw Error(o(108,X(t)||"Unknown",a));return i({},n,r)}function yi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||ui,di=ci.current,li(ci,e),li(fi,fi.current),!0}function bi(e,t,n){var r=e.stateNode;if(!r)throw Error(o(169));n?(e=mi(e,t,di),r.__reactInternalMemoizedMergedChildContext=e,si(fi),si(ci),li(ci,e)):si(fi),li(fi,n)}var xi=null,_i=null,wi=a.unstable_runWithPriority,ki=a.unstable_scheduleCallback,Mi=a.unstable_cancelCallback,Ti=a.unstable_shouldYield,Ai=a.unstable_requestPaint,Ei=a.unstable_now,Si=a.unstable_getCurrentPriorityLevel,Oi=a.unstable_ImmediatePriority,Ci=a.unstable_UserBlockingPriority,Li=a.unstable_NormalPriority,Ri=a.unstable_LowPriority,Pi=a.unstable_IdlePriority,ji={},zi=void 0!==Ai?Ai:function(){},Ii=null,Ni=null,Di=!1,Fi=Ei(),Bi=1e4>Fi?Ei:function(){return Ei()-Fi};function Ui(){switch(Si()){case Oi:return 99;case Ci:return 98;case Li:return 97;case Ri:return 96;case Pi:return 95;default:throw Error(o(332))}}function Vi(e){switch(e){case 99:return Oi;case 98:return Ci;case 97:return Li;case 96:return Ri;case 95:return Pi;default:throw Error(o(332))}}function Hi(e,t){return e=Vi(e),wi(e,t)}function qi(e,t,n){return e=Vi(e),ki(e,t,n)}function Wi(){if(null!==Ni){var e=Ni;Ni=null,Mi(e)}Gi()}function Gi(){if(!Di&&null!==Ii){Di=!0;var e=0;try{var t=Ii;Hi(99,(function(){for(;e<t.length;e++){var n=t[e];do{n=n(!0)}while(null!==n)}})),Ii=null}catch(n){throw null!==Ii&&(Ii=Ii.slice(e+1)),ki(Oi,Wi),n}finally{Di=!1}}}var Xi=_.ReactCurrentBatchConfig;function Yi(e,t){if(e&&e.defaultProps){for(var n in t=i({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var Zi=oi(null),$i=null,Ki=null,Qi=null;function Ji(){Qi=Ki=$i=null}function ea(e){var t=Zi.current;si(Zi),e.type._context._currentValue=t}function ta(e,t){for(;null!==e;){var n=e.alternate;if((e.childLanes&t)===t){if(null===n||(n.childLanes&t)===t)break;n.childLanes|=t}else e.childLanes|=t,null!==n&&(n.childLanes|=t);e=e.return}}function na(e,t){$i=e,Qi=Ki=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(jo=!0),e.firstContext=null)}function ra(e,t){if(Qi!==e&&!1!==t&&0!==t)if("number"===typeof t&&1073741823!==t||(Qi=e,t=1073741823),t={context:e,observedBits:t,next:null},null===Ki){if(null===$i)throw Error(o(308));Ki=t,$i.dependencies={lanes:0,firstContext:t,responders:null}}else Ki=Ki.next=t;return e._currentValue}var ia=!1;function aa(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}function oa(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function sa(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function la(e,t){if(null!==(e=e.updateQueue)){var n=(e=e.shared).pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}}function ua(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===a?i=a=o:a=a.next=o,n=n.next}while(null!==n);null===a?i=a=t:a=a.next=t}else i=a=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function ca(e,t,n,r){var a=e.updateQueue;ia=!1;var o=a.firstBaseUpdate,s=a.lastBaseUpdate,l=a.shared.pending;if(null!==l){a.shared.pending=null;var u=l,c=u.next;u.next=null,null===s?o=c:s.next=c,s=u;var f=e.alternate;if(null!==f){var d=(f=f.updateQueue).lastBaseUpdate;d!==s&&(null===d?f.firstBaseUpdate=c:d.next=c,f.lastBaseUpdate=u)}}if(null!==o){for(d=a.baseState,s=0,f=c=u=null;;){l=o.lane;var h=o.eventTime;if((r&l)===l){null!==f&&(f=f.next={eventTime:h,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var p=e,g=o;switch(l=t,h=n,g.tag){case 1:if("function"===typeof(p=g.payload)){d=p.call(h,d,l);break e}d=p;break e;case 3:p.flags=-4097&p.flags|64;case 0:if(null===(l="function"===typeof(p=g.payload)?p.call(h,d,l):p)||void 0===l)break e;d=i({},d,l);break e;case 2:ia=!0}}null!==o.callback&&(e.flags|=32,null===(l=a.effects)?a.effects=[o]:l.push(o))}else h={eventTime:h,lane:l,tag:o.tag,payload:o.payload,callback:o.callback,next:null},null===f?(c=f=h,u=d):f=f.next=h,s|=l;if(null===(o=o.next)){if(null===(l=a.shared.pending))break;o=l.next,l.next=null,a.lastBaseUpdate=l,a.shared.pending=null}}null===f&&(u=d),a.baseState=u,a.firstBaseUpdate=c,a.lastBaseUpdate=f,Ds|=s,e.lanes=s,e.memoizedState=d}}function fa(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(o(191,i));i.call(r)}}}var da=(new r.Component).refs;function ha(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:i({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var pa={isMounted:function(e){return!!(e=e._reactInternals)&&$e(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=ul(),i=cl(e),a=sa(r,i);a.payload=t,void 0!==n&&null!==n&&(a.callback=n),la(e,a),fl(e,i,r)},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=ul(),i=cl(e),a=sa(r,i);a.tag=1,a.payload=t,void 0!==n&&null!==n&&(a.callback=n),la(e,a),fl(e,i,r)},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ul(),r=cl(e),i=sa(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),la(e,i),fl(e,r,n)}};function ga(e,t,n,r,i,a,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,o):!t.prototype||!t.prototype.isPureReactComponent||(!ur(n,r)||!ur(i,a))}function va(e,t,n){var r=!1,i=ui,a=t.contextType;return"object"===typeof a&&null!==a?a=ra(a):(i=pi(t)?di:ci.current,a=(r=null!==(r=t.contextTypes)&&void 0!==r)?hi(e,i):ui),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=pa,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function ma(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&pa.enqueueReplaceState(t,t.state,null)}function ya(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=da,aa(e);var a=t.contextType;"object"===typeof a&&null!==a?i.context=ra(a):(a=pi(t)?di:ci.current,i.context=hi(e,a)),ca(e,n,i,r),i.state=e.memoizedState,"function"===typeof(a=t.getDerivedStateFromProps)&&(ha(e,t,a,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&pa.enqueueReplaceState(i,i.state,null),ca(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4)}var ba=Array.isArray;function xa(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(o(309));var r=n.stateNode}if(!r)throw Error(o(147,e));var i=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===i?t.ref:((t=function(e){var t=r.refs;t===da&&(t=r.refs={}),null===e?delete t[i]:t[i]=e})._stringRef=i,t)}if("string"!==typeof e)throw Error(o(284));if(!n._owner)throw Error(o(290,e))}return e}function _a(e,t){if("textarea"!==e.type)throw Error(o(31,"[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t))}function wa(e){function t(t,n){if(e){var r=t.lastEffect;null!==r?(r.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n,n.nextEffect=null,n.flags=8}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Hl(e,t)).index=0,e.sibling=null,e}function a(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags=2,n):r:(t.flags=2,n):n}function s(t){return e&&null===t.alternate&&(t.flags=2),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=Xl(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function u(e,t,n,r){return null!==t&&t.elementType===n.type?((r=i(t,n.props)).ref=xa(e,t,n),r.return=e,r):((r=ql(n.type,n.key,n.props,null,e.mode,r)).ref=xa(e,t,n),r.return=e,r)}function c(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Yl(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function f(e,t,n,r,a){return null===t||7!==t.tag?((t=Wl(n,e.mode,r,a)).return=e,t):((t=i(t,n)).return=e,t)}function d(e,t,n){if("string"===typeof t||"number"===typeof t)return(t=Xl(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case w:return(n=ql(t.type,t.key,t.props,null,e.mode,n)).ref=xa(e,null,t),n.return=e,n;case k:return(t=Yl(t,e.mode,n)).return=e,t}if(ba(t)||V(t))return(t=Wl(t,e.mode,n,null)).return=e,t;_a(e,t)}return null}function h(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n||"number"===typeof n)return null!==i?null:l(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case w:return n.key===i?n.type===M?f(e,t,n.props.children,r,i):u(e,t,n,r):null;case k:return n.key===i?c(e,t,n,r):null}if(ba(n)||V(n))return null!==i?null:f(e,t,n,r,null);_a(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r||"number"===typeof r)return l(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case w:return e=e.get(null===r.key?n:r.key)||null,r.type===M?f(t,e,r.props.children,i,r.key):u(t,e,r,i);case k:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i)}if(ba(r)||V(r))return f(t,e=e.get(n)||null,r,i,null);_a(t,r)}return null}function g(i,o,s,l){for(var u=null,c=null,f=o,g=o=0,v=null;null!==f&&g<s.length;g++){f.index>g?(v=f,f=null):v=f.sibling;var m=h(i,f,s[g],l);if(null===m){null===f&&(f=v);break}e&&f&&null===m.alternate&&t(i,f),o=a(m,o,g),null===c?u=m:c.sibling=m,c=m,f=v}if(g===s.length)return n(i,f),u;if(null===f){for(;g<s.length;g++)null!==(f=d(i,s[g],l))&&(o=a(f,o,g),null===c?u=f:c.sibling=f,c=f);return u}for(f=r(i,f);g<s.length;g++)null!==(v=p(f,i,g,s[g],l))&&(e&&null!==v.alternate&&f.delete(null===v.key?g:v.key),o=a(v,o,g),null===c?u=v:c.sibling=v,c=v);return e&&f.forEach((function(e){return t(i,e)})),u}function v(i,s,l,u){var c=V(l);if("function"!==typeof c)throw Error(o(150));if(null==(l=c.call(l)))throw Error(o(151));for(var f=c=null,g=s,v=s=0,m=null,y=l.next();null!==g&&!y.done;v++,y=l.next()){g.index>v?(m=g,g=null):m=g.sibling;var b=h(i,g,y.value,u);if(null===b){null===g&&(g=m);break}e&&g&&null===b.alternate&&t(i,g),s=a(b,s,v),null===f?c=b:f.sibling=b,f=b,g=m}if(y.done)return n(i,g),c;if(null===g){for(;!y.done;v++,y=l.next())null!==(y=d(i,y.value,u))&&(s=a(y,s,v),null===f?c=y:f.sibling=y,f=y);return c}for(g=r(i,g);!y.done;v++,y=l.next())null!==(y=p(g,i,v,y.value,u))&&(e&&null!==y.alternate&&g.delete(null===y.key?v:y.key),s=a(y,s,v),null===f?c=y:f.sibling=y,f=y);return e&&g.forEach((function(e){return t(i,e)})),c}return function(e,r,a,l){var u="object"===typeof a&&null!==a&&a.type===M&&null===a.key;u&&(a=a.props.children);var c="object"===typeof a&&null!==a;if(c)switch(a.$$typeof){case w:e:{for(c=a.key,u=r;null!==u;){if(u.key===c){switch(u.tag){case 7:if(a.type===M){n(e,u.sibling),(r=i(u,a.props.children)).return=e,e=r;break e}break;default:if(u.elementType===a.type){n(e,u.sibling),(r=i(u,a.props)).ref=xa(e,u,a),r.return=e,e=r;break e}}n(e,u);break}t(e,u),u=u.sibling}a.type===M?((r=Wl(a.props.children,e.mode,l,a.key)).return=e,e=r):((l=ql(a.type,a.key,a.props,null,e.mode,l)).ref=xa(e,r,a),l.return=e,e=l)}return s(e);case k:e:{for(u=a.key;null!==r;){if(r.key===u){if(4===r.tag&&r.stateNode.containerInfo===a.containerInfo&&r.stateNode.implementation===a.implementation){n(e,r.sibling),(r=i(r,a.children||[])).return=e,e=r;break e}n(e,r);break}t(e,r),r=r.sibling}(r=Yl(a,e.mode,l)).return=e,e=r}return s(e)}if("string"===typeof a||"number"===typeof a)return a=""+a,null!==r&&6===r.tag?(n(e,r.sibling),(r=i(r,a)).return=e,e=r):(n(e,r),(r=Xl(a,e.mode,l)).return=e,e=r),s(e);if(ba(a))return g(e,r,a,l);if(V(a))return v(e,r,a,l);if(c&&_a(e,a),"undefined"===typeof a&&!u)switch(e.tag){case 1:case 22:case 0:case 11:case 15:throw Error(o(152,X(e.type)||"Component"))}return n(e,r)}}var ka=wa(!0),Ma=wa(!1),Ta={},Aa=oi(Ta),Ea=oi(Ta),Sa=oi(Ta);function Oa(e){if(e===Ta)throw Error(o(174));return e}function Ca(e,t){switch(li(Sa,t),li(Ea,e),li(Aa,Ta),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:pe(null,"");break;default:t=pe(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}si(Aa),li(Aa,t)}function La(){si(Aa),si(Ea),si(Sa)}function Ra(e){Oa(Sa.current);var t=Oa(Aa.current),n=pe(t,e.type);t!==n&&(li(Ea,e),li(Aa,n))}function Pa(e){Ea.current===e&&(si(Aa),si(Ea))}var ja=oi(0);function za(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(64&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Ia=null,Na=null,Da=!1;function Fa(e,t){var n=Ul(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=t,n.return=e,n.flags=8,null!==e.lastEffect?(e.lastEffect.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n}function Ba(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,!0);case 13:default:return!1}}function Ua(e){if(Da){var t=Na;if(t){var n=t;if(!Ba(e,t)){if(!(t=Wr(n.nextSibling))||!Ba(e,t))return e.flags=-1025&e.flags|2,Da=!1,void(Ia=e);Fa(Ia,n)}Ia=e,Na=Wr(t.firstChild)}else e.flags=-1025&e.flags|2,Da=!1,Ia=e}}function Va(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;Ia=e}function Ha(e){if(e!==Ia)return!1;if(!Da)return Va(e),Da=!0,!1;var t=e.type;if(5!==e.tag||"head"!==t&&"body"!==t&&!Ur(t,e.memoizedProps))for(t=Na;t;)Fa(e,t),t=Wr(t.nextSibling);if(Va(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(o(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){Na=Wr(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}Na=null}}else Na=Ia?Wr(e.stateNode.nextSibling):null;return!0}function qa(){Na=Ia=null,Da=!1}var Wa=[];function Ga(){for(var e=0;e<Wa.length;e++)Wa[e]._workInProgressVersionPrimary=null;Wa.length=0}var Xa=_.ReactCurrentDispatcher,Ya=_.ReactCurrentBatchConfig,Za=0,$a=null,Ka=null,Qa=null,Ja=!1,eo=!1;function to(){throw Error(o(321))}function no(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!sr(e[n],t[n]))return!1;return!0}function ro(e,t,n,r,i,a){if(Za=a,$a=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Xa.current=null===e||null===e.memoizedState?Co:Lo,e=n(r,i),eo){a=0;do{if(eo=!1,!(25>a))throw Error(o(301));a+=1,Qa=Ka=null,t.updateQueue=null,Xa.current=Ro,e=n(r,i)}while(eo)}if(Xa.current=Oo,t=null!==Ka&&null!==Ka.next,Za=0,Qa=Ka=$a=null,Ja=!1,t)throw Error(o(300));return e}function io(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===Qa?$a.memoizedState=Qa=e:Qa=Qa.next=e,Qa}function ao(){if(null===Ka){var e=$a.alternate;e=null!==e?e.memoizedState:null}else e=Ka.next;var t=null===Qa?$a.memoizedState:Qa.next;if(null!==t)Qa=t,Ka=e;else{if(null===e)throw Error(o(310));e={memoizedState:(Ka=e).memoizedState,baseState:Ka.baseState,baseQueue:Ka.baseQueue,queue:Ka.queue,next:null},null===Qa?$a.memoizedState=Qa=e:Qa=Qa.next=e}return Qa}function oo(e,t){return"function"===typeof t?t(e):t}function so(e){var t=ao(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=Ka,i=r.baseQueue,a=n.pending;if(null!==a){if(null!==i){var s=i.next;i.next=a.next,a.next=s}r.baseQueue=i=a,n.pending=null}if(null!==i){i=i.next,r=r.baseState;var l=s=a=null,u=i;do{var c=u.lane;if((Za&c)===c)null!==l&&(l=l.next={lane:0,action:u.action,eagerReducer:u.eagerReducer,eagerState:u.eagerState,next:null}),r=u.eagerReducer===e?u.eagerState:e(r,u.action);else{var f={lane:c,action:u.action,eagerReducer:u.eagerReducer,eagerState:u.eagerState,next:null};null===l?(s=l=f,a=r):l=l.next=f,$a.lanes|=c,Ds|=c}u=u.next}while(null!==u&&u!==i);null===l?a=r:l.next=s,sr(r,t.memoizedState)||(jo=!0),t.memoizedState=r,t.baseState=a,t.baseQueue=l,n.lastRenderedState=r}return[t.memoizedState,n.dispatch]}function lo(e){var t=ao(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,a=t.memoizedState;if(null!==i){n.pending=null;var s=i=i.next;do{a=e(a,s.action),s=s.next}while(s!==i);sr(a,t.memoizedState)||(jo=!0),t.memoizedState=a,null===t.baseQueue&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function uo(e,t,n){var r=t._getVersion;r=r(t._source);var i=t._workInProgressVersionPrimary;if(null!==i?e=i===r:(e=e.mutableReadLanes,(e=(Za&e)===e)&&(t._workInProgressVersionPrimary=r,Wa.push(t))),e)return n(t._source);throw Wa.push(t),Error(o(350))}function co(e,t,n,r){var i=Cs;if(null===i)throw Error(o(349));var a=t._getVersion,s=a(t._source),l=Xa.current,u=l.useState((function(){return uo(i,t,n)})),c=u[1],f=u[0];u=Qa;var d=e.memoizedState,h=d.refs,p=h.getSnapshot,g=d.source;d=d.subscribe;var v=$a;return e.memoizedState={refs:h,source:t,subscribe:r},l.useEffect((function(){h.getSnapshot=n,h.setSnapshot=c;var e=a(t._source);if(!sr(s,e)){e=n(t._source),sr(f,e)||(c(e),e=cl(v),i.mutableReadLanes|=e&i.pendingLanes),e=i.mutableReadLanes,i.entangledLanes|=e;for(var r=i.entanglements,o=e;0<o;){var l=31-qt(o),u=1<<l;r[l]|=e,o&=~u}}}),[n,t,r]),l.useEffect((function(){return r(t._source,(function(){var e=h.getSnapshot,n=h.setSnapshot;try{n(e(t._source));var r=cl(v);i.mutableReadLanes|=r&i.pendingLanes}catch(a){n((function(){throw a}))}}))}),[t,r]),sr(p,n)&&sr(g,t)&&sr(d,r)||((e={pending:null,dispatch:null,lastRenderedReducer:oo,lastRenderedState:f}).dispatch=c=So.bind(null,$a,e),u.queue=e,u.baseQueue=null,f=uo(i,t,n),u.memoizedState=u.baseState=f),f}function fo(e,t,n){return co(ao(),e,t,n)}function ho(e){var t=io();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e=(e=t.queue={pending:null,dispatch:null,lastRenderedReducer:oo,lastRenderedState:e}).dispatch=So.bind(null,$a,e),[t.memoizedState,e]}function po(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=$a.updateQueue)?(t={lastEffect:null},$a.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function go(e){return e={current:e},io().memoizedState=e}function vo(){return ao().memoizedState}function mo(e,t,n,r){var i=io();$a.flags|=e,i.memoizedState=po(1|t,n,void 0,void 0===r?null:r)}function yo(e,t,n,r){var i=ao();r=void 0===r?null:r;var a=void 0;if(null!==Ka){var o=Ka.memoizedState;if(a=o.destroy,null!==r&&no(r,o.deps))return void po(t,n,a,r)}$a.flags|=e,i.memoizedState=po(1|t,n,a,r)}function bo(e,t){return mo(516,4,e,t)}function xo(e,t){return yo(516,4,e,t)}function _o(e,t){return yo(4,2,e,t)}function wo(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function ko(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,yo(4,2,wo.bind(null,t,e),n)}function Mo(){}function To(e,t){var n=ao();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&no(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Ao(e,t){var n=ao();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&no(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Eo(e,t){var n=Ui();Hi(98>n?98:n,(function(){e(!0)})),Hi(97<n?97:n,(function(){var n=Ya.transition;Ya.transition=1;try{e(!1),t()}finally{Ya.transition=n}}))}function So(e,t,n){var r=ul(),i=cl(e),a={lane:i,action:n,eagerReducer:null,eagerState:null,next:null},o=t.pending;if(null===o?a.next=a:(a.next=o.next,o.next=a),t.pending=a,o=e.alternate,e===$a||null!==o&&o===$a)eo=Ja=!0;else{if(0===e.lanes&&(null===o||0===o.lanes)&&null!==(o=t.lastRenderedReducer))try{var s=t.lastRenderedState,l=o(s,n);if(a.eagerReducer=o,a.eagerState=l,sr(l,s))return}catch(u){}fl(e,i,r)}}var Oo={readContext:ra,useCallback:to,useContext:to,useEffect:to,useImperativeHandle:to,useLayoutEffect:to,useMemo:to,useReducer:to,useRef:to,useState:to,useDebugValue:to,useDeferredValue:to,useTransition:to,useMutableSource:to,useOpaqueIdentifier:to,unstable_isNewReconciler:!1},Co={readContext:ra,useCallback:function(e,t){return io().memoizedState=[e,void 0===t?null:t],e},useContext:ra,useEffect:bo,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,mo(4,2,wo.bind(null,t,e),n)},useLayoutEffect:function(e,t){return mo(4,2,e,t)},useMemo:function(e,t){var n=io();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=io();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e=(e=r.queue={pending:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:t}).dispatch=So.bind(null,$a,e),[r.memoizedState,e]},useRef:go,useState:ho,useDebugValue:Mo,useDeferredValue:function(e){var t=ho(e),n=t[0],r=t[1];return bo((function(){var t=Ya.transition;Ya.transition=1;try{r(e)}finally{Ya.transition=t}}),[e]),n},useTransition:function(){var e=ho(!1),t=e[0];return go(e=Eo.bind(null,e[1])),[e,t]},useMutableSource:function(e,t,n){var r=io();return r.memoizedState={refs:{getSnapshot:t,setSnapshot:null},source:e,subscribe:n},co(r,e,t,n)},useOpaqueIdentifier:function(){if(Da){var e=!1,t=function(e){return{$$typeof:z,toString:e,valueOf:e}}((function(){throw e||(e=!0,n("r:"+(Xr++).toString(36))),Error(o(355))})),n=ho(t)[1];return 0===(2&$a.mode)&&($a.flags|=516,po(5,(function(){n("r:"+(Xr++).toString(36))}),void 0,null)),t}return ho(t="r:"+(Xr++).toString(36)),t},unstable_isNewReconciler:!1},Lo={readContext:ra,useCallback:To,useContext:ra,useEffect:xo,useImperativeHandle:ko,useLayoutEffect:_o,useMemo:Ao,useReducer:so,useRef:vo,useState:function(){return so(oo)},useDebugValue:Mo,useDeferredValue:function(e){var t=so(oo),n=t[0],r=t[1];return xo((function(){var t=Ya.transition;Ya.transition=1;try{r(e)}finally{Ya.transition=t}}),[e]),n},useTransition:function(){var e=so(oo)[0];return[vo().current,e]},useMutableSource:fo,useOpaqueIdentifier:function(){return so(oo)[0]},unstable_isNewReconciler:!1},Ro={readContext:ra,useCallback:To,useContext:ra,useEffect:xo,useImperativeHandle:ko,useLayoutEffect:_o,useMemo:Ao,useReducer:lo,useRef:vo,useState:function(){return lo(oo)},useDebugValue:Mo,useDeferredValue:function(e){var t=lo(oo),n=t[0],r=t[1];return xo((function(){var t=Ya.transition;Ya.transition=1;try{r(e)}finally{Ya.transition=t}}),[e]),n},useTransition:function(){var e=lo(oo)[0];return[vo().current,e]},useMutableSource:fo,useOpaqueIdentifier:function(){return lo(oo)[0]},unstable_isNewReconciler:!1},Po=_.ReactCurrentOwner,jo=!1;function zo(e,t,n,r){t.child=null===e?Ma(t,null,n,r):ka(t,e.child,n,r)}function Io(e,t,n,r,i){n=n.render;var a=t.ref;return na(t,i),r=ro(e,t,n,r,a,i),null===e||jo?(t.flags|=1,zo(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,ns(e,t,i))}function No(e,t,n,r,i,a){if(null===e){var o=n.type;return"function"!==typeof o||Vl(o)||void 0!==o.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=ql(n.type,null,r,t,t.mode,a)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=o,Do(e,t,o,r,i,a))}return o=e.child,0===(i&a)&&(i=o.memoizedProps,(n=null!==(n=n.compare)?n:ur)(i,r)&&e.ref===t.ref)?ns(e,t,a):(t.flags|=1,(e=Hl(o,r)).ref=t.ref,e.return=t,t.child=e)}function Do(e,t,n,r,i,a){if(null!==e&&ur(e.memoizedProps,r)&&e.ref===t.ref){if(jo=!1,0===(a&i))return t.lanes=e.lanes,ns(e,t,a);0!==(16384&e.flags)&&(jo=!0)}return Uo(e,t,n,r,a)}function Fo(e,t,n){var r=t.pendingProps,i=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode||"unstable-defer-without-hiding"===r.mode)if(0===(4&t.mode))t.memoizedState={baseLanes:0},bl(t,n);else{if(0===(1073741824&n))return e=null!==a?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e},bl(t,e),null;t.memoizedState={baseLanes:0},bl(t,null!==a?a.baseLanes:n)}else null!==a?(r=a.baseLanes|n,t.memoizedState=null):r=n,bl(t,r);return zo(e,t,i,n),t.child}function Bo(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=128)}function Uo(e,t,n,r,i){var a=pi(n)?di:ci.current;return a=hi(t,a),na(t,i),n=ro(e,t,n,r,a,i),null===e||jo?(t.flags|=1,zo(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,ns(e,t,i))}function Vo(e,t,n,r,i){if(pi(n)){var a=!0;yi(t)}else a=!1;if(na(t,i),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),va(t,n,r),ya(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,s=t.memoizedProps;o.props=s;var l=o.context,u=n.contextType;"object"===typeof u&&null!==u?u=ra(u):u=hi(t,u=pi(n)?di:ci.current);var c=n.getDerivedStateFromProps,f="function"===typeof c||"function"===typeof o.getSnapshotBeforeUpdate;f||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==r||l!==u)&&ma(t,o,r,u),ia=!1;var d=t.memoizedState;o.state=d,ca(t,r,o,i),l=t.memoizedState,s!==r||d!==l||fi.current||ia?("function"===typeof c&&(ha(t,n,c,r),l=t.memoizedState),(s=ia||ga(t,n,s,r,d,l,u))?(f||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4)):("function"===typeof o.componentDidMount&&(t.flags|=4),t.memoizedProps=r,t.memoizedState=l),o.props=r,o.state=l,o.context=u,r=s):("function"===typeof o.componentDidMount&&(t.flags|=4),r=!1)}else{o=t.stateNode,oa(e,t),s=t.memoizedProps,u=t.type===t.elementType?s:Yi(t.type,s),o.props=u,f=t.pendingProps,d=o.context,"object"===typeof(l=n.contextType)&&null!==l?l=ra(l):l=hi(t,l=pi(n)?di:ci.current);var h=n.getDerivedStateFromProps;(c="function"===typeof h||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==f||d!==l)&&ma(t,o,r,l),ia=!1,d=t.memoizedState,o.state=d,ca(t,r,o,i);var p=t.memoizedState;s!==f||d!==p||fi.current||ia?("function"===typeof h&&(ha(t,n,h,r),p=t.memoizedState),(u=ia||ga(t,n,u,r,d,p,l))?(c||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,p,l),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,p,l)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=256)):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=256),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=l,r=u):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=256),r=!1)}return Ho(e,t,n,r,a,i)}function Ho(e,t,n,r,i,a){Bo(e,t);var o=0!==(64&t.flags);if(!r&&!o)return i&&bi(t,n,!1),ns(e,t,a);r=t.stateNode,Po.current=t;var s=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=ka(t,e.child,null,a),t.child=ka(t,null,s,a)):zo(e,t,s,a),t.memoizedState=r.state,i&&bi(t,n,!0),t.child}function qo(e){var t=e.stateNode;t.pendingContext?vi(0,t.pendingContext,t.pendingContext!==t.context):t.context&&vi(0,t.context,!1),Ca(e,t.containerInfo)}var Wo,Go,Xo,Yo={dehydrated:null,retryLane:0};function Zo(e,t,n){var r,i=t.pendingProps,a=ja.current,o=!1;return(r=0!==(64&t.flags))||(r=(null===e||null!==e.memoizedState)&&0!==(2&a)),r?(o=!0,t.flags&=-65):null!==e&&null===e.memoizedState||void 0===i.fallback||!0===i.unstable_avoidThisFallback||(a|=1),li(ja,1&a),null===e?(void 0!==i.fallback&&Ua(t),e=i.children,a=i.fallback,o?(e=$o(t,e,a,n),t.child.memoizedState={baseLanes:n},t.memoizedState=Yo,e):"number"===typeof i.unstable_expectedLoadTime?(e=$o(t,e,a,n),t.child.memoizedState={baseLanes:n},t.memoizedState=Yo,t.lanes=33554432,e):((n=Gl({mode:"visible",children:e},t.mode,n,null)).return=t,t.child=n)):(e.memoizedState,o?(i=Qo(e,t,i.children,i.fallback,n),o=t.child,a=e.child.memoizedState,o.memoizedState=null===a?{baseLanes:n}:{baseLanes:a.baseLanes|n},o.childLanes=e.childLanes&~n,t.memoizedState=Yo,i):(n=Ko(e,t,i.children,n),t.memoizedState=null,n))}function $o(e,t,n,r){var i=e.mode,a=e.child;return t={mode:"hidden",children:t},0===(2&i)&&null!==a?(a.childLanes=0,a.pendingProps=t):a=Gl(t,i,0,null),n=Wl(n,i,r,null),a.return=e,n.return=e,a.sibling=n,e.child=a,n}function Ko(e,t,n,r){var i=e.child;return e=i.sibling,n=Hl(i,{mode:"visible",children:n}),0===(2&t.mode)&&(n.lanes=r),n.return=t,n.sibling=null,null!==e&&(e.nextEffect=null,e.flags=8,t.firstEffect=t.lastEffect=e),t.child=n}function Qo(e,t,n,r,i){var a=t.mode,o=e.child;e=o.sibling;var s={mode:"hidden",children:n};return 0===(2&a)&&t.child!==o?((n=t.child).childLanes=0,n.pendingProps=s,null!==(o=n.lastEffect)?(t.firstEffect=n.firstEffect,t.lastEffect=o,o.nextEffect=null):t.firstEffect=t.lastEffect=null):n=Hl(o,s),null!==e?r=Hl(e,r):(r=Wl(r,a,i,null)).flags|=2,r.return=t,n.return=t,n.sibling=r,t.child=n,r}function Jo(e,t){e.lanes|=t;var n=e.alternate;null!==n&&(n.lanes|=t),ta(e.return,t)}function es(e,t,n,r,i,a){var o=e.memoizedState;null===o?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i,lastEffect:a}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i,o.lastEffect=a)}function ts(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(zo(e,t,r.children,n),0!==(2&(r=ja.current)))r=1&r|2,t.flags|=64;else{if(null!==e&&0!==(64&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Jo(e,n);else if(19===e.tag)Jo(e,n);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(li(ja,r),0===(2&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===za(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),es(t,!1,i,n,a,t.lastEffect);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===za(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}es(t,!0,n,null,a,t.lastEffect);break;case"together":es(t,!1,null,null,void 0,t.lastEffect);break;default:t.memoizedState=null}return t.child}function ns(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Ds|=t.lanes,0!==(n&t.childLanes)){if(null!==e&&t.child!==e.child)throw Error(o(153));if(null!==t.child){for(n=Hl(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Hl(e,e.pendingProps)).return=t;n.sibling=null}return t.child}return null}function rs(e,t){if(!Da)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function is(e,t,n){var r=t.pendingProps;switch(t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:return pi(t.type)&&gi(),null;case 3:return La(),si(fi),si(ci),Ga(),(r=t.stateNode).pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(Ha(t)?t.flags|=4:r.hydrate||(t.flags|=256)),null;case 5:Pa(t);var a=Oa(Sa.current);if(n=t.type,null!==e&&null!=t.stateNode)Go(e,t,n,r),e.ref!==t.ref&&(t.flags|=128);else{if(!r){if(null===t.stateNode)throw Error(o(166));return null}if(e=Oa(Aa.current),Ha(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[Zr]=t,r[$r]=s,n){case"dialog":Er("cancel",r),Er("close",r);break;case"iframe":case"object":case"embed":Er("load",r);break;case"video":case"audio":for(e=0;e<kr.length;e++)Er(kr[e],r);break;case"source":Er("error",r);break;case"img":case"image":case"link":Er("error",r),Er("load",r);break;case"details":Er("toggle",r);break;case"input":ee(r,s),Er("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Er("invalid",r);break;case"textarea":le(r,s),Er("invalid",r)}for(var u in Me(n,s),e=null,s)s.hasOwnProperty(u)&&(a=s[u],"children"===u?"string"===typeof a?r.textContent!==a&&(e=["children",a]):"number"===typeof a&&r.textContent!==""+a&&(e=["children",""+a]):l.hasOwnProperty(u)&&null!=a&&"onScroll"===u&&Er("scroll",r));switch(n){case"input":$(r),re(r,s,!0);break;case"textarea":$(r),ce(r);break;case"select":case"option":break;default:"function"===typeof s.onClick&&(r.onclick=Nr)}r=e,t.updateQueue=r,null!==r&&(t.flags|=4)}else{switch(u=9===a.nodeType?a:a.ownerDocument,e===fe&&(e=he(n)),e===fe?"script"===n?((e=u.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=u.createElement(n,{is:r.is}):(e=u.createElement(n),"select"===n&&(u=e,r.multiple?u.multiple=!0:r.size&&(u.size=r.size))):e=u.createElementNS(e,n),e[Zr]=t,e[$r]=r,Wo(e,t),t.stateNode=e,u=Te(n,r),n){case"dialog":Er("cancel",e),Er("close",e),a=r;break;case"iframe":case"object":case"embed":Er("load",e),a=r;break;case"video":case"audio":for(a=0;a<kr.length;a++)Er(kr[a],e);a=r;break;case"source":Er("error",e),a=r;break;case"img":case"image":case"link":Er("error",e),Er("load",e),a=r;break;case"details":Er("toggle",e),a=r;break;case"input":ee(e,r),a=J(e,r),Er("invalid",e);break;case"option":a=ae(e,r);break;case"select":e._wrapperState={wasMultiple:!!r.multiple},a=i({},r,{value:void 0}),Er("invalid",e);break;case"textarea":le(e,r),a=se(e,r),Er("invalid",e);break;default:a=r}Me(n,a);var c=a;for(s in c)if(c.hasOwnProperty(s)){var f=c[s];"style"===s?we(e,f):"dangerouslySetInnerHTML"===s?null!=(f=f?f.__html:void 0)&&me(e,f):"children"===s?"string"===typeof f?("textarea"!==n||""!==f)&&ye(e,f):"number"===typeof f&&ye(e,""+f):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(l.hasOwnProperty(s)?null!=f&&"onScroll"===s&&Er("scroll",e):null!=f&&x(e,s,f,u))}switch(n){case"input":$(e),re(e,r,!1);break;case"textarea":$(e),ce(e);break;case"option":null!=r.value&&e.setAttribute("value",""+Y(r.value));break;case"select":e.multiple=!!r.multiple,null!=(s=r.value)?oe(e,!!r.multiple,s,!1):null!=r.defaultValue&&oe(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof a.onClick&&(e.onclick=Nr)}Br(n,r)&&(t.flags|=4)}null!==t.ref&&(t.flags|=128)}return null;case 6:if(e&&null!=t.stateNode)Xo(0,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(o(166));n=Oa(Sa.current),Oa(Aa.current),Ha(t)?(r=t.stateNode,n=t.memoizedProps,r[Zr]=t,r.nodeValue!==n&&(t.flags|=4)):((r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[Zr]=t,t.stateNode=r)}return null;case 13:return si(ja),r=t.memoizedState,0!==(64&t.flags)?(t.lanes=n,t):(r=null!==r,n=!1,null===e?void 0!==t.memoizedProps.fallback&&Ha(t):n=null!==e.memoizedState,r&&!n&&0!==(2&t.mode)&&(null===e&&!0!==t.memoizedProps.unstable_avoidThisFallback||0!==(1&ja.current)?0===zs&&(zs=3):(0!==zs&&3!==zs||(zs=4),null===Cs||0===(134217727&Ds)&&0===(134217727&Fs)||gl(Cs,Rs))),(r||n)&&(t.flags|=4),null);case 4:return La(),null===e&&Or(t.stateNode.containerInfo),null;case 10:return ea(t),null;case 17:return pi(t.type)&&gi(),null;case 19:if(si(ja),null===(r=t.memoizedState))return null;if(s=0!==(64&t.flags),null===(u=r.rendering))if(s)rs(r,!1);else{if(0!==zs||null!==e&&0!==(64&e.flags))for(e=t.child;null!==e;){if(null!==(u=za(e))){for(t.flags|=64,rs(r,!1),null!==(s=u.updateQueue)&&(t.updateQueue=s,t.flags|=4),null===r.lastEffect&&(t.firstEffect=null),t.lastEffect=r.lastEffect,r=n,n=t.child;null!==n;)e=r,(s=n).flags&=2,s.nextEffect=null,s.firstEffect=null,s.lastEffect=null,null===(u=s.alternate)?(s.childLanes=0,s.lanes=e,s.child=null,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=u.childLanes,s.lanes=u.lanes,s.child=u.child,s.memoizedProps=u.memoizedProps,s.memoizedState=u.memoizedState,s.updateQueue=u.updateQueue,s.type=u.type,e=u.dependencies,s.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return li(ja,1&ja.current|2),t.child}e=e.sibling}null!==r.tail&&Bi()>Hs&&(t.flags|=64,s=!0,rs(r,!1),t.lanes=33554432)}else{if(!s)if(null!==(e=za(u))){if(t.flags|=64,s=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),rs(r,!0),null===r.tail&&"hidden"===r.tailMode&&!u.alternate&&!Da)return null!==(t=t.lastEffect=r.lastEffect)&&(t.nextEffect=null),null}else 2*Bi()-r.renderingStartTime>Hs&&1073741824!==n&&(t.flags|=64,s=!0,rs(r,!1),t.lanes=33554432);r.isBackwards?(u.sibling=t.child,t.child=u):(null!==(n=r.last)?n.sibling=u:t.child=u,r.last=u)}return null!==r.tail?(n=r.tail,r.rendering=n,r.tail=n.sibling,r.lastEffect=t.lastEffect,r.renderingStartTime=Bi(),n.sibling=null,t=ja.current,li(ja,s?1&t|2:1&t),n):null;case 23:case 24:return xl(),null!==e&&null!==e.memoizedState!==(null!==t.memoizedState)&&"unstable-defer-without-hiding"!==r.mode&&(t.flags|=4),null}throw Error(o(156,t.tag))}function as(e){switch(e.tag){case 1:pi(e.type)&&gi();var t=e.flags;return 4096&t?(e.flags=-4097&t|64,e):null;case 3:if(La(),si(fi),si(ci),Ga(),0!==(64&(t=e.flags)))throw Error(o(285));return e.flags=-4097&t|64,e;case 5:return Pa(e),null;case 13:return si(ja),4096&(t=e.flags)?(e.flags=-4097&t|64,e):null;case 19:return si(ja),null;case 4:return La(),null;case 10:return ea(e),null;case 23:case 24:return xl(),null;default:return null}}function os(e,t){try{var n="",r=t;do{n+=G(r),r=r.return}while(r);var i=n}catch(a){i="\nError generating stack: "+a.message+"\n"+a.stack}return{value:e,source:t,stack:i}}function ss(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}Wo=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Go=function(e,t,n,r){var a=e.memoizedProps;if(a!==r){e=t.stateNode,Oa(Aa.current);var o,s=null;switch(n){case"input":a=J(e,a),r=J(e,r),s=[];break;case"option":a=ae(e,a),r=ae(e,r),s=[];break;case"select":a=i({},a,{value:void 0}),r=i({},r,{value:void 0}),s=[];break;case"textarea":a=se(e,a),r=se(e,r),s=[];break;default:"function"!==typeof a.onClick&&"function"===typeof r.onClick&&(e.onclick=Nr)}for(f in Me(n,r),n=null,a)if(!r.hasOwnProperty(f)&&a.hasOwnProperty(f)&&null!=a[f])if("style"===f){var u=a[f];for(o in u)u.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else"dangerouslySetInnerHTML"!==f&&"children"!==f&&"suppressContentEditableWarning"!==f&&"suppressHydrationWarning"!==f&&"autoFocus"!==f&&(l.hasOwnProperty(f)?s||(s=[]):(s=s||[]).push(f,null));for(f in r){var c=r[f];if(u=null!=a?a[f]:void 0,r.hasOwnProperty(f)&&c!==u&&(null!=c||null!=u))if("style"===f)if(u){for(o in u)!u.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&u[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(s||(s=[]),s.push(f,n)),n=c;else"dangerouslySetInnerHTML"===f?(c=c?c.__html:void 0,u=u?u.__html:void 0,null!=c&&u!==c&&(s=s||[]).push(f,c)):"children"===f?"string"!==typeof c&&"number"!==typeof c||(s=s||[]).push(f,""+c):"suppressContentEditableWarning"!==f&&"suppressHydrationWarning"!==f&&(l.hasOwnProperty(f)?(null!=c&&"onScroll"===f&&Er("scroll",e),s||u===c||(s=[])):"object"===typeof c&&null!==c&&c.$$typeof===z?c.toString():(s=s||[]).push(f,c))}n&&(s=s||[]).push("style",n);var f=s;(t.updateQueue=f)&&(t.flags|=4)}},Xo=function(e,t,n,r){n!==r&&(t.flags|=4)};var ls="function"===typeof WeakMap?WeakMap:Map;function us(e,t,n){(n=sa(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Xs||(Xs=!0,Ys=r),ss(0,t)},n}function cs(e,t,n){(n=sa(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return ss(0,t),r(i)}}var a=e.stateNode;return null!==a&&"function"===typeof a.componentDidCatch&&(n.callback=function(){"function"!==typeof r&&(null===Zs?Zs=new Set([this]):Zs.add(this),ss(0,t));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}var fs="function"===typeof WeakSet?WeakSet:Set;function ds(e){var t=e.ref;if(null!==t)if("function"===typeof t)try{t(null)}catch(n){Nl(e,n)}else t.current=null}function hs(e,t){switch(t.tag){case 0:case 11:case 15:case 22:return;case 1:if(256&t.flags&&null!==e){var n=e.memoizedProps,r=e.memoizedState;t=(e=t.stateNode).getSnapshotBeforeUpdate(t.elementType===t.type?n:Yi(t.type,n),r),e.__reactInternalSnapshotBeforeUpdate=t}return;case 3:return void(256&t.flags&&qr(t.stateNode.containerInfo));case 5:case 6:case 4:case 17:return}throw Error(o(163))}function ps(e,t,n){switch(n.tag){case 0:case 11:case 15:case 22:if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{if(3===(3&e.tag)){var r=e.create;e.destroy=r()}e=e.next}while(e!==t)}if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{var i=e;r=i.next,0!==(4&(i=i.tag))&&0!==(1&i)&&(jl(n,e),Pl(n,e)),e=r}while(e!==t)}return;case 1:return e=n.stateNode,4&n.flags&&(null===t?e.componentDidMount():(r=n.elementType===n.type?t.memoizedProps:Yi(n.type,t.memoizedProps),e.componentDidUpdate(r,t.memoizedState,e.__reactInternalSnapshotBeforeUpdate))),void(null!==(t=n.updateQueue)&&fa(n,t,e));case 3:if(null!==(t=n.updateQueue)){if(e=null,null!==n.child)switch(n.child.tag){case 5:e=n.child.stateNode;break;case 1:e=n.child.stateNode}fa(n,t,e)}return;case 5:return e=n.stateNode,void(null===t&&4&n.flags&&Br(n.type,n.memoizedProps)&&e.focus());case 6:case 4:case 12:return;case 13:return void(null===n.memoizedState&&(n=n.alternate,null!==n&&(n=n.memoizedState,null!==n&&(n=n.dehydrated,null!==n&&wt(n)))));case 19:case 17:case 20:case 21:case 23:case 24:return}throw Error(o(163))}function gs(e,t){for(var n=e;;){if(5===n.tag){var r=n.stateNode;if(t)"function"===typeof(r=r.style).setProperty?r.setProperty("display","none","important"):r.display="none";else{r=n.stateNode;var i=n.memoizedProps.style;i=void 0!==i&&null!==i&&i.hasOwnProperty("display")?i.display:null,r.style.display=_e("display",i)}}else if(6===n.tag)n.stateNode.nodeValue=t?"":n.memoizedProps;else if((23!==n.tag&&24!==n.tag||null===n.memoizedState||n===e)&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}}function vs(e,t){if(_i&&"function"===typeof _i.onCommitFiberUnmount)try{_i.onCommitFiberUnmount(xi,t)}catch(a){}switch(t.tag){case 0:case 11:case 14:case 15:case 22:if(null!==(e=t.updateQueue)&&null!==(e=e.lastEffect)){var n=e=e.next;do{var r=n,i=r.destroy;if(r=r.tag,void 0!==i)if(0!==(4&r))jl(t,n);else{r=t;try{i()}catch(a){Nl(r,a)}}n=n.next}while(n!==e)}break;case 1:if(ds(t),"function"===typeof(e=t.stateNode).componentWillUnmount)try{e.props=t.memoizedProps,e.state=t.memoizedState,e.componentWillUnmount()}catch(a){Nl(t,a)}break;case 5:ds(t);break;case 4:ws(e,t)}}function ms(e){e.alternate=null,e.child=null,e.dependencies=null,e.firstEffect=null,e.lastEffect=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.return=null,e.updateQueue=null}function ys(e){return 5===e.tag||3===e.tag||4===e.tag}function bs(e){e:{for(var t=e.return;null!==t;){if(ys(t))break e;t=t.return}throw Error(o(160))}var n=t;switch(t=n.stateNode,n.tag){case 5:var r=!1;break;case 3:case 4:t=t.containerInfo,r=!0;break;default:throw Error(o(161))}16&n.flags&&(ye(t,""),n.flags&=-17);e:t:for(n=e;;){for(;null===n.sibling;){if(null===n.return||ys(n.return)){n=null;break e}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag&&18!==n.tag;){if(2&n.flags)continue t;if(null===n.child||4===n.tag)continue t;n.child.return=n,n=n.child}if(!(2&n.flags)){n=n.stateNode;break e}}r?xs(e,n,t):_s(e,n,t)}function xs(e,t,n){var r=e.tag,i=5===r||6===r;if(i)e=i?e.stateNode:e.stateNode.instance,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Nr));else if(4!==r&&null!==(e=e.child))for(xs(e,t,n),e=e.sibling;null!==e;)xs(e,t,n),e=e.sibling}function _s(e,t,n){var r=e.tag,i=5===r||6===r;if(i)e=i?e.stateNode:e.stateNode.instance,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(_s(e,t,n),e=e.sibling;null!==e;)_s(e,t,n),e=e.sibling}function ws(e,t){for(var n,r,i=t,a=!1;;){if(!a){a=i.return;e:for(;;){if(null===a)throw Error(o(160));switch(n=a.stateNode,a.tag){case 5:r=!1;break e;case 3:case 4:n=n.containerInfo,r=!0;break e}a=a.return}a=!0}if(5===i.tag||6===i.tag){e:for(var s=e,l=i,u=l;;)if(vs(s,u),null!==u.child&&4!==u.tag)u.child.return=u,u=u.child;else{if(u===l)break e;for(;null===u.sibling;){if(null===u.return||u.return===l)break e;u=u.return}u.sibling.return=u.return,u=u.sibling}r?(s=n,l=i.stateNode,8===s.nodeType?s.parentNode.removeChild(l):s.removeChild(l)):n.removeChild(i.stateNode)}else if(4===i.tag){if(null!==i.child){n=i.stateNode.containerInfo,r=!0,i.child.return=i,i=i.child;continue}}else if(vs(e,i),null!==i.child){i.child.return=i,i=i.child;continue}if(i===t)break;for(;null===i.sibling;){if(null===i.return||i.return===t)return;4===(i=i.return).tag&&(a=!1)}i.sibling.return=i.return,i=i.sibling}}function ks(e,t){switch(t.tag){case 0:case 11:case 14:case 15:case 22:var n=t.updateQueue;if(null!==(n=null!==n?n.lastEffect:null)){var r=n=n.next;do{3===(3&r.tag)&&(e=r.destroy,r.destroy=void 0,void 0!==e&&e()),r=r.next}while(r!==n)}return;case 1:return;case 5:if(null!=(n=t.stateNode)){r=t.memoizedProps;var i=null!==e?e.memoizedProps:r;e=t.type;var a=t.updateQueue;if(t.updateQueue=null,null!==a){for(n[$r]=r,"input"===e&&"radio"===r.type&&null!=r.name&&te(n,r),Te(e,i),t=Te(e,r),i=0;i<a.length;i+=2){var s=a[i],l=a[i+1];"style"===s?we(n,l):"dangerouslySetInnerHTML"===s?me(n,l):"children"===s?ye(n,l):x(n,s,l,t)}switch(e){case"input":ne(n,r);break;case"textarea":ue(n,r);break;case"select":e=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!r.multiple,null!=(a=r.value)?oe(n,!!r.multiple,a,!1):e!==!!r.multiple&&(null!=r.defaultValue?oe(n,!!r.multiple,r.defaultValue,!0):oe(n,!!r.multiple,r.multiple?[]:"",!1))}}}return;case 6:if(null===t.stateNode)throw Error(o(162));return void(t.stateNode.nodeValue=t.memoizedProps);case 3:return void((n=t.stateNode).hydrate&&(n.hydrate=!1,wt(n.containerInfo)));case 12:return;case 13:return null!==t.memoizedState&&(Vs=Bi(),gs(t.child,!0)),void Ms(t);case 19:return void Ms(t);case 17:return;case 23:case 24:return void gs(t,null!==t.memoizedState)}throw Error(o(163))}function Ms(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new fs),t.forEach((function(t){var r=Fl.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function Ts(e,t){return null!==e&&(null===(e=e.memoizedState)||null!==e.dehydrated)&&(null!==(t=t.memoizedState)&&null===t.dehydrated)}var As=Math.ceil,Es=_.ReactCurrentDispatcher,Ss=_.ReactCurrentOwner,Os=0,Cs=null,Ls=null,Rs=0,Ps=0,js=oi(0),zs=0,Is=null,Ns=0,Ds=0,Fs=0,Bs=0,Us=null,Vs=0,Hs=1/0;function qs(){Hs=Bi()+500}var Ws,Gs=null,Xs=!1,Ys=null,Zs=null,$s=!1,Ks=null,Qs=90,Js=[],el=[],tl=null,nl=0,rl=null,il=-1,al=0,ol=0,sl=null,ll=!1;function ul(){return 0!==(48&Os)?Bi():-1!==il?il:il=Bi()}function cl(e){if(0===(2&(e=e.mode)))return 1;if(0===(4&e))return 99===Ui()?1:2;if(0===al&&(al=Ns),0!==Xi.transition){0!==ol&&(ol=null!==Us?Us.pendingLanes:0),e=al;var t=4186112&~ol;return 0===(t&=-t)&&(0===(t=(e=4186112&~e)&-e)&&(t=8192)),t}return e=Ui(),0!==(4&Os)&&98===e?e=Bt(12,al):e=Bt(e=function(e){switch(e){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}(e),al),e}function fl(e,t,n){if(50<nl)throw nl=0,rl=null,Error(o(185));if(null===(e=dl(e,t)))return null;Ht(e,t,n),e===Cs&&(Fs|=t,4===zs&&gl(e,Rs));var r=Ui();1===t?0!==(8&Os)&&0===(48&Os)?vl(e):(hl(e,n),0===Os&&(qs(),Wi())):(0===(4&Os)||98!==r&&99!==r||(null===tl?tl=new Set([e]):tl.add(e)),hl(e,n)),Us=e}function dl(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}function hl(e,t){for(var n=e.callbackNode,r=e.suspendedLanes,i=e.pingedLanes,a=e.expirationTimes,s=e.pendingLanes;0<s;){var l=31-qt(s),u=1<<l,c=a[l];if(-1===c){if(0===(u&r)||0!==(u&i)){c=t,Nt(u);var f=It;a[l]=10<=f?c+250:6<=f?c+5e3:-1}}else c<=t&&(e.expiredLanes|=u);s&=~u}if(r=Dt(e,e===Cs?Rs:0),t=It,0===r)null!==n&&(n!==ji&&Mi(n),e.callbackNode=null,e.callbackPriority=0);else{if(null!==n){if(e.callbackPriority===t)return;n!==ji&&Mi(n)}15===t?(n=vl.bind(null,e),null===Ii?(Ii=[n],Ni=ki(Oi,Gi)):Ii.push(n),n=ji):14===t?n=qi(99,vl.bind(null,e)):n=qi(n=function(e){switch(e){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error(o(358,e))}}(t),pl.bind(null,e)),e.callbackPriority=t,e.callbackNode=n}}function pl(e){if(il=-1,ol=al=0,0!==(48&Os))throw Error(o(327));var t=e.callbackNode;if(Rl()&&e.callbackNode!==t)return null;var n=Dt(e,e===Cs?Rs:0);if(0===n)return null;var r=n,i=Os;Os|=16;var a=kl();for(Cs===e&&Rs===r||(qs(),_l(e,r));;)try{Al();break}catch(l){wl(e,l)}if(Ji(),Es.current=a,Os=i,null!==Ls?r=0:(Cs=null,Rs=0,r=zs),0!==(Ns&Fs))_l(e,0);else if(0!==r){if(2===r&&(Os|=64,e.hydrate&&(e.hydrate=!1,qr(e.containerInfo)),0!==(n=Ft(e))&&(r=Ml(e,n))),1===r)throw t=Is,_l(e,0),gl(e,n),hl(e,Bi()),t;switch(e.finishedWork=e.current.alternate,e.finishedLanes=n,r){case 0:case 1:throw Error(o(345));case 2:Ol(e);break;case 3:if(gl(e,n),(62914560&n)===n&&10<(r=Vs+500-Bi())){if(0!==Dt(e,0))break;if(((i=e.suspendedLanes)&n)!==n){ul(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=Vr(Ol.bind(null,e),r);break}Ol(e);break;case 4:if(gl(e,n),(4186112&n)===n)break;for(r=e.eventTimes,i=-1;0<n;){var s=31-qt(n);a=1<<s,(s=r[s])>i&&(i=s),n&=~a}if(n=i,10<(n=(120>(n=Bi()-n)?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*As(n/1960))-n)){e.timeoutHandle=Vr(Ol.bind(null,e),n);break}Ol(e);break;case 5:Ol(e);break;default:throw Error(o(329))}}return hl(e,Bi()),e.callbackNode===t?pl.bind(null,e):null}function gl(e,t){for(t&=~Bs,t&=~Fs,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-qt(t),r=1<<n;e[n]=-1,t&=~r}}function vl(e){if(0!==(48&Os))throw Error(o(327));if(Rl(),e===Cs&&0!==(e.expiredLanes&Rs)){var t=Rs,n=Ml(e,t);0!==(Ns&Fs)&&(n=Ml(e,t=Dt(e,t)))}else n=Ml(e,t=Dt(e,0));if(0!==e.tag&&2===n&&(Os|=64,e.hydrate&&(e.hydrate=!1,qr(e.containerInfo)),0!==(t=Ft(e))&&(n=Ml(e,t))),1===n)throw n=Is,_l(e,0),gl(e,t),hl(e,Bi()),n;return e.finishedWork=e.current.alternate,e.finishedLanes=t,Ol(e),hl(e,Bi()),null}function ml(e,t){var n=Os;Os|=1;try{return e(t)}finally{0===(Os=n)&&(qs(),Wi())}}function yl(e,t){var n=Os;Os&=-2,Os|=8;try{return e(t)}finally{0===(Os=n)&&(qs(),Wi())}}function bl(e,t){li(js,Ps),Ps|=t,Ns|=t}function xl(){Ps=js.current,si(js)}function _l(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,Hr(n)),null!==Ls)for(n=Ls.return;null!==n;){var r=n;switch(r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&gi();break;case 3:La(),si(fi),si(ci),Ga();break;case 5:Pa(r);break;case 4:La();break;case 13:case 19:si(ja);break;case 10:ea(r);break;case 23:case 24:xl()}n=n.return}Cs=e,Ls=Hl(e.current,null),Rs=Ps=Ns=t,zs=0,Is=null,Bs=Fs=Ds=0}function wl(e,t){for(;;){var n=Ls;try{if(Ji(),Xa.current=Oo,Ja){for(var r=$a.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}Ja=!1}if(Za=0,Qa=Ka=$a=null,eo=!1,Ss.current=null,null===n||null===n.return){zs=1,Is=t,Ls=null;break}e:{var a=e,o=n.return,s=n,l=t;if(t=Rs,s.flags|=2048,s.firstEffect=s.lastEffect=null,null!==l&&"object"===typeof l&&"function"===typeof l.then){var u=l;if(0===(2&s.mode)){var c=s.alternate;c?(s.updateQueue=c.updateQueue,s.memoizedState=c.memoizedState,s.lanes=c.lanes):(s.updateQueue=null,s.memoizedState=null)}var f=0!==(1&ja.current),d=o;do{var h;if(h=13===d.tag){var p=d.memoizedState;if(null!==p)h=null!==p.dehydrated;else{var g=d.memoizedProps;h=void 0!==g.fallback&&(!0!==g.unstable_avoidThisFallback||!f)}}if(h){var v=d.updateQueue;if(null===v){var m=new Set;m.add(u),d.updateQueue=m}else v.add(u);if(0===(2&d.mode)){if(d.flags|=64,s.flags|=16384,s.flags&=-2981,1===s.tag)if(null===s.alternate)s.tag=17;else{var y=sa(-1,1);y.tag=2,la(s,y)}s.lanes|=1;break e}l=void 0,s=t;var b=a.pingCache;if(null===b?(b=a.pingCache=new ls,l=new Set,b.set(u,l)):void 0===(l=b.get(u))&&(l=new Set,b.set(u,l)),!l.has(s)){l.add(s);var x=Dl.bind(null,a,u,s);u.then(x,x)}d.flags|=4096,d.lanes=t;break e}d=d.return}while(null!==d);l=Error((X(s.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.")}5!==zs&&(zs=2),l=os(l,s),d=o;do{switch(d.tag){case 3:a=l,d.flags|=4096,t&=-t,d.lanes|=t,ua(d,us(0,a,t));break e;case 1:a=l;var _=d.type,w=d.stateNode;if(0===(64&d.flags)&&("function"===typeof _.getDerivedStateFromError||null!==w&&"function"===typeof w.componentDidCatch&&(null===Zs||!Zs.has(w)))){d.flags|=4096,t&=-t,d.lanes|=t,ua(d,cs(d,a,t));break e}}d=d.return}while(null!==d)}Sl(n)}catch(k){t=k,Ls===n&&null!==n&&(Ls=n=n.return);continue}break}}function kl(){var e=Es.current;return Es.current=Oo,null===e?Oo:e}function Ml(e,t){var n=Os;Os|=16;var r=kl();for(Cs===e&&Rs===t||_l(e,t);;)try{Tl();break}catch(i){wl(e,i)}if(Ji(),Os=n,Es.current=r,null!==Ls)throw Error(o(261));return Cs=null,Rs=0,zs}function Tl(){for(;null!==Ls;)El(Ls)}function Al(){for(;null!==Ls&&!Ti();)El(Ls)}function El(e){var t=Ws(e.alternate,e,Ps);e.memoizedProps=e.pendingProps,null===t?Sl(e):Ls=t,Ss.current=null}function Sl(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(2048&t.flags)){if(null!==(n=is(n,t,Ps)))return void(Ls=n);if(24!==(n=t).tag&&23!==n.tag||null===n.memoizedState||0!==(1073741824&Ps)||0===(4&n.mode)){for(var r=0,i=n.child;null!==i;)r|=i.lanes|i.childLanes,i=i.sibling;n.childLanes=r}null!==e&&0===(2048&e.flags)&&(null===e.firstEffect&&(e.firstEffect=t.firstEffect),null!==t.lastEffect&&(null!==e.lastEffect&&(e.lastEffect.nextEffect=t.firstEffect),e.lastEffect=t.lastEffect),1<t.flags&&(null!==e.lastEffect?e.lastEffect.nextEffect=t:e.firstEffect=t,e.lastEffect=t))}else{if(null!==(n=as(t)))return n.flags&=2047,void(Ls=n);null!==e&&(e.firstEffect=e.lastEffect=null,e.flags|=2048)}if(null!==(t=t.sibling))return void(Ls=t);Ls=t=e}while(null!==t);0===zs&&(zs=5)}function Ol(e){var t=Ui();return Hi(99,Cl.bind(null,e,t)),null}function Cl(e,t){do{Rl()}while(null!==Ks);if(0!==(48&Os))throw Error(o(327));var n=e.finishedWork;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(o(177));e.callbackNode=null;var r=n.lanes|n.childLanes,i=r,a=e.pendingLanes&~i;e.pendingLanes=i,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=i,e.mutableReadLanes&=i,e.entangledLanes&=i,i=e.entanglements;for(var s=e.eventTimes,l=e.expirationTimes;0<a;){var u=31-qt(a),c=1<<u;i[u]=0,s[u]=-1,l[u]=-1,a&=~c}if(null!==tl&&0===(24&r)&&tl.has(e)&&tl.delete(e),e===Cs&&(Ls=Cs=null,Rs=0),1<n.flags?null!==n.lastEffect?(n.lastEffect.nextEffect=n,r=n.firstEffect):r=n:r=n.firstEffect,null!==r){if(i=Os,Os|=32,Ss.current=null,Dr=Zt,pr(s=hr())){if("selectionStart"in s)l={start:s.selectionStart,end:s.selectionEnd};else e:if(l=(l=s.ownerDocument)&&l.defaultView||window,(c=l.getSelection&&l.getSelection())&&0!==c.rangeCount){l=c.anchorNode,a=c.anchorOffset,u=c.focusNode,c=c.focusOffset;try{l.nodeType,u.nodeType}catch(A){l=null;break e}var f=0,d=-1,h=-1,p=0,g=0,v=s,m=null;t:for(;;){for(var y;v!==l||0!==a&&3!==v.nodeType||(d=f+a),v!==u||0!==c&&3!==v.nodeType||(h=f+c),3===v.nodeType&&(f+=v.nodeValue.length),null!==(y=v.firstChild);)m=v,v=y;for(;;){if(v===s)break t;if(m===l&&++p===a&&(d=f),m===u&&++g===c&&(h=f),null!==(y=v.nextSibling))break;m=(v=m).parentNode}v=y}l=-1===d||-1===h?null:{start:d,end:h}}else l=null;l=l||{start:0,end:0}}else l=null;Fr={focusedElem:s,selectionRange:l},Zt=!1,sl=null,ll=!1,Gs=r;do{try{Ll()}catch(A){if(null===Gs)throw Error(o(330));Nl(Gs,A),Gs=Gs.nextEffect}}while(null!==Gs);sl=null,Gs=r;do{try{for(s=e;null!==Gs;){var b=Gs.flags;if(16&b&&ye(Gs.stateNode,""),128&b){var x=Gs.alternate;if(null!==x){var _=x.ref;null!==_&&("function"===typeof _?_(null):_.current=null)}}switch(1038&b){case 2:bs(Gs),Gs.flags&=-3;break;case 6:bs(Gs),Gs.flags&=-3,ks(Gs.alternate,Gs);break;case 1024:Gs.flags&=-1025;break;case 1028:Gs.flags&=-1025,ks(Gs.alternate,Gs);break;case 4:ks(Gs.alternate,Gs);break;case 8:ws(s,l=Gs);var w=l.alternate;ms(l),null!==w&&ms(w)}Gs=Gs.nextEffect}}catch(A){if(null===Gs)throw Error(o(330));Nl(Gs,A),Gs=Gs.nextEffect}}while(null!==Gs);if(_=Fr,x=hr(),b=_.focusedElem,s=_.selectionRange,x!==b&&b&&b.ownerDocument&&dr(b.ownerDocument.documentElement,b)){null!==s&&pr(b)&&(x=s.start,void 0===(_=s.end)&&(_=x),"selectionStart"in b?(b.selectionStart=x,b.selectionEnd=Math.min(_,b.value.length)):(_=(x=b.ownerDocument||document)&&x.defaultView||window).getSelection&&(_=_.getSelection(),l=b.textContent.length,w=Math.min(s.start,l),s=void 0===s.end?w:Math.min(s.end,l),!_.extend&&w>s&&(l=s,s=w,w=l),l=fr(b,w),a=fr(b,s),l&&a&&(1!==_.rangeCount||_.anchorNode!==l.node||_.anchorOffset!==l.offset||_.focusNode!==a.node||_.focusOffset!==a.offset)&&((x=x.createRange()).setStart(l.node,l.offset),_.removeAllRanges(),w>s?(_.addRange(x),_.extend(a.node,a.offset)):(x.setEnd(a.node,a.offset),_.addRange(x))))),x=[];for(_=b;_=_.parentNode;)1===_.nodeType&&x.push({element:_,left:_.scrollLeft,top:_.scrollTop});for("function"===typeof b.focus&&b.focus(),b=0;b<x.length;b++)(_=x[b]).element.scrollLeft=_.left,_.element.scrollTop=_.top}Zt=!!Dr,Fr=Dr=null,e.current=n,Gs=r;do{try{for(b=e;null!==Gs;){var k=Gs.flags;if(36&k&&ps(b,Gs.alternate,Gs),128&k){x=void 0;var M=Gs.ref;if(null!==M){var T=Gs.stateNode;switch(Gs.tag){case 5:x=T;break;default:x=T}"function"===typeof M?M(x):M.current=x}}Gs=Gs.nextEffect}}catch(A){if(null===Gs)throw Error(o(330));Nl(Gs,A),Gs=Gs.nextEffect}}while(null!==Gs);Gs=null,zi(),Os=i}else e.current=n;if($s)$s=!1,Ks=e,Qs=t;else for(Gs=r;null!==Gs;)t=Gs.nextEffect,Gs.nextEffect=null,8&Gs.flags&&((k=Gs).sibling=null,k.stateNode=null),Gs=t;if(0===(r=e.pendingLanes)&&(Zs=null),1===r?e===rl?nl++:(nl=0,rl=e):nl=0,n=n.stateNode,_i&&"function"===typeof _i.onCommitFiberRoot)try{_i.onCommitFiberRoot(xi,n,void 0,64===(64&n.current.flags))}catch(A){}if(hl(e,Bi()),Xs)throw Xs=!1,e=Ys,Ys=null,e;return 0!==(8&Os)||Wi(),null}function Ll(){for(;null!==Gs;){var e=Gs.alternate;ll||null===sl||(0!==(8&Gs.flags)?et(Gs,sl)&&(ll=!0):13===Gs.tag&&Ts(e,Gs)&&et(Gs,sl)&&(ll=!0));var t=Gs.flags;0!==(256&t)&&hs(e,Gs),0===(512&t)||$s||($s=!0,qi(97,(function(){return Rl(),null}))),Gs=Gs.nextEffect}}function Rl(){if(90!==Qs){var e=97<Qs?97:Qs;return Qs=90,Hi(e,zl)}return!1}function Pl(e,t){Js.push(t,e),$s||($s=!0,qi(97,(function(){return Rl(),null})))}function jl(e,t){el.push(t,e),$s||($s=!0,qi(97,(function(){return Rl(),null})))}function zl(){if(null===Ks)return!1;var e=Ks;if(Ks=null,0!==(48&Os))throw Error(o(331));var t=Os;Os|=32;var n=el;el=[];for(var r=0;r<n.length;r+=2){var i=n[r],a=n[r+1],s=i.destroy;if(i.destroy=void 0,"function"===typeof s)try{s()}catch(u){if(null===a)throw Error(o(330));Nl(a,u)}}for(n=Js,Js=[],r=0;r<n.length;r+=2){i=n[r],a=n[r+1];try{var l=i.create;i.destroy=l()}catch(u){if(null===a)throw Error(o(330));Nl(a,u)}}for(l=e.current.firstEffect;null!==l;)e=l.nextEffect,l.nextEffect=null,8&l.flags&&(l.sibling=null,l.stateNode=null),l=e;return Os=t,Wi(),!0}function Il(e,t,n){la(e,t=us(0,t=os(n,t),1)),t=ul(),null!==(e=dl(e,1))&&(Ht(e,1,t),hl(e,t))}function Nl(e,t){if(3===e.tag)Il(e,e,t);else for(var n=e.return;null!==n;){if(3===n.tag){Il(n,e,t);break}if(1===n.tag){var r=n.stateNode;if("function"===typeof n.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Zs||!Zs.has(r))){var i=cs(n,e=os(t,e),1);if(la(n,i),i=ul(),null!==(n=dl(n,1)))Ht(n,1,i),hl(n,i);else if("function"===typeof r.componentDidCatch&&(null===Zs||!Zs.has(r)))try{r.componentDidCatch(t,e)}catch(a){}break}}n=n.return}}function Dl(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=ul(),e.pingedLanes|=e.suspendedLanes&n,Cs===e&&(Rs&n)===n&&(4===zs||3===zs&&(62914560&Rs)===Rs&&500>Bi()-Vs?_l(e,0):Bs|=n),hl(e,t)}function Fl(e,t){var n=e.stateNode;null!==n&&n.delete(t),0===(t=0)&&(0===(2&(t=e.mode))?t=1:0===(4&t)?t=99===Ui()?1:2:(0===al&&(al=Ns),0===(t=Ut(62914560&~al))&&(t=4194304))),n=ul(),null!==(e=dl(e,t))&&(Ht(e,t,n),hl(e,n))}function Bl(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.flags=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childLanes=this.lanes=0,this.alternate=null}function Ul(e,t,n,r){return new Bl(e,t,n,r)}function Vl(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Hl(e,t){var n=e.alternate;return null===n?((n=Ul(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function ql(e,t,n,r,i,a){var s=2;if(r=e,"function"===typeof e)Vl(e)&&(s=1);else if("string"===typeof e)s=5;else e:switch(e){case M:return Wl(n.children,i,a,t);case I:s=8,i|=16;break;case T:s=8,i|=1;break;case A:return(e=Ul(12,n,t,8|i)).elementType=A,e.type=A,e.lanes=a,e;case C:return(e=Ul(13,n,t,i)).type=C,e.elementType=C,e.lanes=a,e;case L:return(e=Ul(19,n,t,i)).elementType=L,e.lanes=a,e;case N:return Gl(n,i,a,t);case D:return(e=Ul(24,n,t,i)).elementType=D,e.lanes=a,e;default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case E:s=10;break e;case S:s=9;break e;case O:s=11;break e;case R:s=14;break e;case P:s=16,r=null;break e;case j:s=22;break e}throw Error(o(130,null==e?e:typeof e,""))}return(t=Ul(s,n,t,i)).elementType=e,t.type=r,t.lanes=a,t}function Wl(e,t,n,r){return(e=Ul(7,e,r,t)).lanes=n,e}function Gl(e,t,n,r){return(e=Ul(23,e,r,t)).elementType=N,e.lanes=n,e}function Xl(e,t,n){return(e=Ul(6,e,null,t)).lanes=n,e}function Yl(e,t,n){return(t=Ul(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Zl(e,t,n){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=null,this.callbackPriority=0,this.eventTimes=Vt(0),this.expirationTimes=Vt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Vt(0),this.mutableSourceEagerHydrationData=null}function $l(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:k,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}function Kl(e,t,n,r){var i=t.current,a=ul(),s=cl(i);e:if(n){t:{if($e(n=n._reactInternals)!==n||1!==n.tag)throw Error(o(170));var l=n;do{switch(l.tag){case 3:l=l.stateNode.context;break t;case 1:if(pi(l.type)){l=l.stateNode.__reactInternalMemoizedMergedChildContext;break t}}l=l.return}while(null!==l);throw Error(o(171))}if(1===n.tag){var u=n.type;if(pi(u)){n=mi(n,u,l);break e}}n=l}else n=ui;return null===t.context?t.context=n:t.pendingContext=n,(t=sa(a,s)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),la(i,t),fl(i,s,a),s}function Ql(e){if(!(e=e.current).child)return null;switch(e.child.tag){case 5:default:return e.child.stateNode}}function Jl(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function eu(e,t){Jl(e,t),(e=e.alternate)&&Jl(e,t)}function tu(e,t,n){var r=null!=n&&null!=n.hydrationOptions&&n.hydrationOptions.mutableSources||null;if(n=new Zl(e,t,null!=n&&!0===n.hydrate),t=Ul(3,null,null,2===t?7:1===t?3:0),n.current=t,t.stateNode=n,aa(t),e[Kr]=n.current,Or(8===e.nodeType?e.parentNode:e),r)for(e=0;e<r.length;e++){var i=(t=r[e])._getVersion;i=i(t._source),null==n.mutableSourceEagerHydrationData?n.mutableSourceEagerHydrationData=[t,i]:n.mutableSourceEagerHydrationData.push(t,i)}this._internalRoot=n}function nu(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function ru(e,t,n,r,i){var a=n._reactRootContainer;if(a){var o=a._internalRoot;if("function"===typeof i){var s=i;i=function(){var e=Ql(o);s.call(e)}}Kl(t,o,e,i)}else{if(a=n._reactRootContainer=function(e,t){if(t||(t=!(!(t=e?9===e.nodeType?e.documentElement:e.firstChild:null)||1!==t.nodeType||!t.hasAttribute("data-reactroot"))),!t)for(var n;n=e.lastChild;)e.removeChild(n);return new tu(e,0,t?{hydrate:!0}:void 0)}(n,r),o=a._internalRoot,"function"===typeof i){var l=i;i=function(){var e=Ql(o);l.call(e)}}yl((function(){Kl(t,o,e,i)}))}return Ql(o)}function iu(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!nu(t))throw Error(o(200));return $l(e,t,null,n)}Ws=function(e,t,n){var r=t.lanes;if(null!==e)if(e.memoizedProps!==t.pendingProps||fi.current)jo=!0;else{if(0===(n&r)){switch(jo=!1,t.tag){case 3:qo(t),qa();break;case 5:Ra(t);break;case 1:pi(t.type)&&yi(t);break;case 4:Ca(t,t.stateNode.containerInfo);break;case 10:r=t.memoizedProps.value;var i=t.type._context;li(Zi,i._currentValue),i._currentValue=r;break;case 13:if(null!==t.memoizedState)return 0!==(n&t.child.childLanes)?Zo(e,t,n):(li(ja,1&ja.current),null!==(t=ns(e,t,n))?t.sibling:null);li(ja,1&ja.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(64&e.flags)){if(r)return ts(e,t,n);t.flags|=64}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),li(ja,ja.current),r)break;return null;case 23:case 24:return t.lanes=0,Fo(e,t,n)}return ns(e,t,n)}jo=0!==(16384&e.flags)}else jo=!1;switch(t.lanes=0,t.tag){case 2:if(r=t.type,null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,i=hi(t,ci.current),na(t,n),i=ro(null,t,r,e,i,n),t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof){if(t.tag=1,t.memoizedState=null,t.updateQueue=null,pi(r)){var a=!0;yi(t)}else a=!1;t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,aa(t);var s=r.getDerivedStateFromProps;"function"===typeof s&&ha(t,r,s,e),i.updater=pa,t.stateNode=i,i._reactInternals=t,ya(t,r,e,n),t=Ho(null,t,r,!0,a,n)}else t.tag=0,zo(null,t,i,n),t=t.child;return t;case 16:i=t.elementType;e:{switch(null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,i=(a=i._init)(i._payload),t.type=i,a=t.tag=function(e){if("function"===typeof e)return Vl(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===O)return 11;if(e===R)return 14}return 2}(i),e=Yi(i,e),a){case 0:t=Uo(null,t,i,e,n);break e;case 1:t=Vo(null,t,i,e,n);break e;case 11:t=Io(null,t,i,e,n);break e;case 14:t=No(null,t,i,Yi(i.type,e),r,n);break e}throw Error(o(306,i,""))}return t;case 0:return r=t.type,i=t.pendingProps,Uo(e,t,r,i=t.elementType===r?i:Yi(r,i),n);case 1:return r=t.type,i=t.pendingProps,Vo(e,t,r,i=t.elementType===r?i:Yi(r,i),n);case 3:if(qo(t),r=t.updateQueue,null===e||null===r)throw Error(o(282));if(r=t.pendingProps,i=null!==(i=t.memoizedState)?i.element:null,oa(e,t),ca(t,r,null,n),(r=t.memoizedState.element)===i)qa(),t=ns(e,t,n);else{if((a=(i=t.stateNode).hydrate)&&(Na=Wr(t.stateNode.containerInfo.firstChild),Ia=t,a=Da=!0),a){if(null!=(e=i.mutableSourceEagerHydrationData))for(i=0;i<e.length;i+=2)(a=e[i])._workInProgressVersionPrimary=e[i+1],Wa.push(a);for(n=Ma(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|1024,n=n.sibling}else zo(e,t,r,n),qa();t=t.child}return t;case 5:return Ra(t),null===e&&Ua(t),r=t.type,i=t.pendingProps,a=null!==e?e.memoizedProps:null,s=i.children,Ur(r,i)?s=null:null!==a&&Ur(r,a)&&(t.flags|=16),Bo(e,t),zo(e,t,s,n),t.child;case 6:return null===e&&Ua(t),null;case 13:return Zo(e,t,n);case 4:return Ca(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=ka(t,null,r,n):zo(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,Io(e,t,r,i=t.elementType===r?i:Yi(r,i),n);case 7:return zo(e,t,t.pendingProps,n),t.child;case 8:case 12:return zo(e,t,t.pendingProps.children,n),t.child;case 10:e:{r=t.type._context,i=t.pendingProps,s=t.memoizedProps,a=i.value;var l=t.type._context;if(li(Zi,l._currentValue),l._currentValue=a,null!==s)if(l=s.value,0===(a=sr(l,a)?0:0|("function"===typeof r._calculateChangedBits?r._calculateChangedBits(l,a):1073741823))){if(s.children===i.children&&!fi.current){t=ns(e,t,n);break e}}else for(null!==(l=t.child)&&(l.return=t);null!==l;){var u=l.dependencies;if(null!==u){s=l.child;for(var c=u.firstContext;null!==c;){if(c.context===r&&0!==(c.observedBits&a)){1===l.tag&&((c=sa(-1,n&-n)).tag=2,la(l,c)),l.lanes|=n,null!==(c=l.alternate)&&(c.lanes|=n),ta(l.return,n),u.lanes|=n;break}c=c.next}}else s=10===l.tag&&l.type===t.type?null:l.child;if(null!==s)s.return=l;else for(s=l;null!==s;){if(s===t){s=null;break}if(null!==(l=s.sibling)){l.return=s.return,s=l;break}s=s.return}l=s}zo(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=(a=t.pendingProps).children,na(t,n),r=r(i=ra(i,a.unstable_observedBits)),t.flags|=1,zo(e,t,r,n),t.child;case 14:return a=Yi(i=t.type,t.pendingProps),No(e,t,i,a=Yi(i.type,a),r,n);case 15:return Do(e,t,t.type,t.pendingProps,r,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Yi(r,i),null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),t.tag=1,pi(r)?(e=!0,yi(t)):e=!1,na(t,n),va(t,r,i),ya(t,r,i,n),Ho(null,t,r,!0,e,n);case 19:return ts(e,t,n);case 23:case 24:return Fo(e,t,n)}throw Error(o(156,t.tag))},tu.prototype.render=function(e){Kl(e,this._internalRoot,null,null)},tu.prototype.unmount=function(){var e=this._internalRoot,t=e.containerInfo;Kl(null,e,null,(function(){t[Kr]=null}))},tt=function(e){13===e.tag&&(fl(e,4,ul()),eu(e,4))},nt=function(e){13===e.tag&&(fl(e,67108864,ul()),eu(e,67108864))},rt=function(e){if(13===e.tag){var t=ul(),n=cl(e);fl(e,n,t),eu(e,n)}},it=function(e,t){return t()},Ee=function(e,t,n){switch(t){case"input":if(ne(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=ni(r);if(!i)throw Error(o(90));K(r),ne(r,i)}}}break;case"textarea":ue(e,n);break;case"select":null!=(t=n.value)&&oe(e,!!n.multiple,t,!1)}},Pe=ml,je=function(e,t,n,r,i){var a=Os;Os|=4;try{return Hi(98,e.bind(null,t,n,r,i))}finally{0===(Os=a)&&(qs(),Wi())}},ze=function(){0===(49&Os)&&(function(){if(null!==tl){var e=tl;tl=null,e.forEach((function(e){e.expiredLanes|=24&e.pendingLanes,hl(e,Bi())}))}Wi()}(),Rl())},Ie=function(e,t){var n=Os;Os|=2;try{return e(t)}finally{0===(Os=n)&&(qs(),Wi())}};var au={Events:[ei,ti,ni,Le,Re,Rl,{current:!1}]},ou={findFiberByHostInstance:Jr,bundleType:0,version:"17.0.1",rendererPackageName:"react-dom"},su={bundleType:ou.bundleType,version:ou.version,rendererPackageName:ou.rendererPackageName,rendererConfig:ou.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:_.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Je(e))?null:e.stateNode},findFiberByHostInstance:ou.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var lu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!lu.isDisabled&&lu.supportsFiber)try{xi=lu.inject(su),_i=lu}catch(ve){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=au,t.createPortal=iu,t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(o(188));throw Error(o(268,Object.keys(e)))}return e=null===(e=Je(t))?null:e.stateNode},t.flushSync=function(e,t){var n=Os;if(0!==(48&n))return e(t);Os|=1;try{if(e)return Hi(99,e.bind(null,t))}finally{Os=n,Wi()}},t.hydrate=function(e,t,n){if(!nu(t))throw Error(o(200));return ru(null,e,t,!0,n)},t.render=function(e,t,n){if(!nu(t))throw Error(o(200));return ru(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!nu(e))throw Error(o(40));return!!e._reactRootContainer&&(yl((function(){ru(null,null,e,!1,(function(){e._reactRootContainer=null,e[Kr]=null}))})),!0)},t.unstable_batchedUpdates=ml,t.unstable_createPortal=function(e,t){return iu(e,t,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null)},t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!nu(n))throw Error(o(200));if(null==e||void 0===e._reactInternals)throw Error(o(38));return ru(e,t,n,!1,r)},t.version="17.0.1"},function(e,t,n){"use strict";e.exports=n(89)},function(e,t,n){"use strict";var r,i,a,o;if("object"===typeof performance&&"function"===typeof performance.now){var s=performance;t.unstable_now=function(){return s.now()}}else{var l=Date,u=l.now();t.unstable_now=function(){return l.now()-u}}if("undefined"===typeof window||"function"!==typeof MessageChannel){var c=null,f=null,d=function e(){if(null!==c)try{var n=t.unstable_now();c(!0,n),c=null}catch(r){throw setTimeout(e,0),r}};r=function(e){null!==c?setTimeout(r,0,e):(c=e,setTimeout(d,0))},i=function(e,t){f=setTimeout(e,t)},a=function(){clearTimeout(f)},t.unstable_shouldYield=function(){return!1},o=t.unstable_forceFrameRate=function(){}}else{var h=window.setTimeout,p=window.clearTimeout;if("undefined"!==typeof console){var g=window.cancelAnimationFrame;"function"!==typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),"function"!==typeof g&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills")}var v=!1,m=null,y=-1,b=5,x=0;t.unstable_shouldYield=function(){return t.unstable_now()>=x},o=function(){},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):b=0<e?Math.floor(1e3/e):5};var _=new MessageChannel,w=_.port2;_.port1.onmessage=function(){if(null!==m){var e=t.unstable_now();x=e+b;try{m(!0,e)?w.postMessage(null):(v=!1,m=null)}catch(n){throw w.postMessage(null),n}}else v=!1},r=function(e){m=e,v||(v=!0,w.postMessage(null))},i=function(e,n){y=h((function(){e(t.unstable_now())}),n)},a=function(){p(y),y=-1}}function k(e,t){var n=e.length;e.push(t);e:for(;;){var r=n-1>>>1,i=e[r];if(!(void 0!==i&&0<A(i,t)))break e;e[r]=t,e[n]=i,n=r}}function M(e){return void 0===(e=e[0])?null:e}function T(e){var t=e[0];if(void 0!==t){var n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length;r<i;){var a=2*(r+1)-1,o=e[a],s=a+1,l=e[s];if(void 0!==o&&0>A(o,n))void 0!==l&&0>A(l,o)?(e[r]=l,e[s]=n,r=s):(e[r]=o,e[a]=n,r=a);else{if(!(void 0!==l&&0>A(l,n)))break e;e[r]=l,e[s]=n,r=s}}}return t}return null}function A(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}var E=[],S=[],O=1,C=null,L=3,R=!1,P=!1,j=!1;function z(e){for(var t=M(S);null!==t;){if(null===t.callback)T(S);else{if(!(t.startTime<=e))break;T(S),t.sortIndex=t.expirationTime,k(E,t)}t=M(S)}}function I(e){if(j=!1,z(e),!P)if(null!==M(E))P=!0,r(N);else{var t=M(S);null!==t&&i(I,t.startTime-e)}}function N(e,n){P=!1,j&&(j=!1,a()),R=!0;var r=L;try{for(z(n),C=M(E);null!==C&&(!(C.expirationTime>n)||e&&!t.unstable_shouldYield());){var o=C.callback;if("function"===typeof o){C.callback=null,L=C.priorityLevel;var s=o(C.expirationTime<=n);n=t.unstable_now(),"function"===typeof s?C.callback=s:C===M(E)&&T(E),z(n)}else T(E);C=M(E)}if(null!==C)var l=!0;else{var u=M(S);null!==u&&i(I,u.startTime-n),l=!1}return l}finally{C=null,L=r,R=!1}}var D=o;t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){P||R||(P=!0,r(N))},t.unstable_getCurrentPriorityLevel=function(){return L},t.unstable_getFirstCallbackNode=function(){return M(E)},t.unstable_next=function(e){switch(L){case 1:case 2:case 3:var t=3;break;default:t=L}var n=L;L=t;try{return e()}finally{L=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=D,t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=L;L=e;try{return t()}finally{L=n}},t.unstable_scheduleCallback=function(e,n,o){var s=t.unstable_now();switch("object"===typeof o&&null!==o?o="number"===typeof(o=o.delay)&&0<o?s+o:s:o=s,e){case 1:var l=-1;break;case 2:l=250;break;case 5:l=1073741823;break;case 4:l=1e4;break;default:l=5e3}return e={id:O++,callback:n,priorityLevel:e,startTime:o,expirationTime:l=o+l,sortIndex:-1},o>s?(e.sortIndex=o,k(S,e),null===M(E)&&e===M(S)&&(j?a():j=!0,i(I,o-s))):(e.sortIndex=l,k(E,e),P||R||(P=!0,r(N))),e},t.unstable_wrapCallback=function(e){var t=L;return function(){var n=L;L=t;try{return e.apply(this,arguments)}finally{L=n}}}},function(e,t,n){"use strict";var r=n(91);function i(){}function a(){}a.resetWarningCache=i,e.exports=function(){function e(e,t,n,i,a,o){if(o!==r){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:a,resetWarningCache:i};return n.PropTypes=n,n}},function(e,t,n){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(e,t,n){"use strict";var r="function"===typeof Symbol&&Symbol.for,i=r?Symbol.for("react.element"):60103,a=r?Symbol.for("react.portal"):60106,o=r?Symbol.for("react.fragment"):60107,s=r?Symbol.for("react.strict_mode"):60108,l=r?Symbol.for("react.profiler"):60114,u=r?Symbol.for("react.provider"):60109,c=r?Symbol.for("react.context"):60110,f=r?Symbol.for("react.async_mode"):60111,d=r?Symbol.for("react.concurrent_mode"):60111,h=r?Symbol.for("react.forward_ref"):60112,p=r?Symbol.for("react.suspense"):60113,g=r?Symbol.for("react.suspense_list"):60120,v=r?Symbol.for("react.memo"):60115,m=r?Symbol.for("react.lazy"):60116,y=r?Symbol.for("react.block"):60121,b=r?Symbol.for("react.fundamental"):60117,x=r?Symbol.for("react.responder"):60118,_=r?Symbol.for("react.scope"):60119;function w(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case i:switch(e=e.type){case f:case d:case o:case l:case s:case p:return e;default:switch(e=e&&e.$$typeof){case c:case h:case m:case v:case u:return e;default:return t}}case a:return t}}}function k(e){return w(e)===d}t.AsyncMode=f,t.ConcurrentMode=d,t.ContextConsumer=c,t.ContextProvider=u,t.Element=i,t.ForwardRef=h,t.Fragment=o,t.Lazy=m,t.Memo=v,t.Portal=a,t.Profiler=l,t.StrictMode=s,t.Suspense=p,t.isAsyncMode=function(e){return k(e)||w(e)===f},t.isConcurrentMode=k,t.isContextConsumer=function(e){return w(e)===c},t.isContextProvider=function(e){return w(e)===u},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===i},t.isForwardRef=function(e){return w(e)===h},t.isFragment=function(e){return w(e)===o},t.isLazy=function(e){return w(e)===m},t.isMemo=function(e){return w(e)===v},t.isPortal=function(e){return w(e)===a},t.isProfiler=function(e){return w(e)===l},t.isStrictMode=function(e){return w(e)===s},t.isSuspense=function(e){return w(e)===p},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===o||e===d||e===l||e===s||e===p||e===g||"object"===typeof e&&null!==e&&(e.$$typeof===m||e.$$typeof===v||e.$$typeof===u||e.$$typeof===c||e.$$typeof===h||e.$$typeof===b||e.$$typeof===x||e.$$typeof===_||e.$$typeof===y)},t.typeOf=w},function(e,t){e.exports=function(e){if(!e.webpackPolyfill){var t=Object.create(e);t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),Object.defineProperty(t,"exports",{enumerable:!0}),t.webpackPolyfill=1}return t}},function(e,t){e.exports=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}},,function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(1),i=n(36);function a(e){return e&&"object"===Object(i.a)(e)&&e.constructor===Object}function o(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{clone:!0},i=n.clone?Object(r.a)({},e):e;return a(e)&&a(t)&&Object.keys(t).forEach((function(r){"__proto__"!==r&&(a(t[r])&&r in e?i[r]=o(e[r],t[r],n):i[r]=t[r])})),i}},function(e,t,n){"use strict";function r(e){var t=e.theme,n=e.name,r=e.props;if(!t||!t.props||!t.props[n])return r;var i,a=t.props[n];for(i in a)void 0===r[i]&&(r[i]=a[i]);return r}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";var r=n(1),i=n(3),a=n(0),o=(n(5),n(4)),s=n(7),l=n(8),u={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p"},c=a.forwardRef((function(e,t){var n=e.align,s=void 0===n?"inherit":n,c=e.classes,f=e.className,d=e.color,h=void 0===d?"initial":d,p=e.component,g=e.display,v=void 0===g?"initial":g,m=e.gutterBottom,y=void 0!==m&&m,b=e.noWrap,x=void 0!==b&&b,_=e.paragraph,w=void 0!==_&&_,k=e.variant,M=void 0===k?"body1":k,T=e.variantMapping,A=void 0===T?u:T,E=Object(i.a)(e,["align","classes","className","color","component","display","gutterBottom","noWrap","paragraph","variant","variantMapping"]),S=p||(w?"p":A[M]||u[M])||"span";return a.createElement(S,Object(r.a)({className:Object(o.a)(c.root,f,"inherit"!==M&&c[M],"initial"!==h&&c["color".concat(Object(l.a)(h))],x&&c.noWrap,y&&c.gutterBottom,w&&c.paragraph,"inherit"!==s&&c["align".concat(Object(l.a)(s))],"initial"!==v&&c["display".concat(Object(l.a)(v))]),ref:t},E))}));t.a=Object(s.a)((function(e){return{root:{margin:0},body2:e.typography.body2,body1:e.typography.body1,caption:e.typography.caption,button:e.typography.button,h1:e.typography.h1,h2:e.typography.h2,h3:e.typography.h3,h4:e.typography.h4,h5:e.typography.h5,h6:e.typography.h6,subtitle1:e.typography.subtitle1,subtitle2:e.typography.subtitle2,overline:e.typography.overline,srOnly:{position:"absolute",height:1,width:1,overflow:"hidden"},alignLeft:{textAlign:"left"},alignCenter:{textAlign:"center"},alignRight:{textAlign:"right"},alignJustify:{textAlign:"justify"},noWrap:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},gutterBottom:{marginBottom:"0.35em"},paragraph:{marginBottom:16},colorInherit:{color:"inherit"},colorPrimary:{color:e.palette.primary.main},colorSecondary:{color:e.palette.secondary.main},colorTextPrimary:{color:e.palette.text.primary},colorTextSecondary:{color:e.palette.text.secondary},colorError:{color:e.palette.error.main},displayInline:{display:"inline"},displayBlock:{display:"block"}}}),{name:"MuiTypography"})(c)},function(e,t,n){"use strict";var r=n(3),i=n(1),a=n(0),o=(n(5),n(4)),s=n(7),l=a.forwardRef((function(e,t){var n=e.classes,s=e.className,l=e.component,u=void 0===l?"div":l,c=e.square,f=void 0!==c&&c,d=e.elevation,h=void 0===d?1:d,p=e.variant,g=void 0===p?"elevation":p,v=Object(r.a)(e,["classes","className","component","square","elevation","variant"]);return a.createElement(u,Object(i.a)({className:Object(o.a)(n.root,s,"outlined"===g?n.outlined:n["elevation".concat(h)],!f&&n.rounded),ref:t},v))}));t.a=Object(s.a)((function(e){var t={};return e.shadows.forEach((function(e,n){t["elevation".concat(n)]={boxShadow:e}})),Object(i.a)({root:{backgroundColor:e.palette.background.paper,color:e.palette.text.primary,transition:e.transitions.create("box-shadow")},rounded:{borderRadius:e.shape.borderRadius},outlined:{border:"1px solid ".concat(e.palette.divider)}},t)}),{name:"MuiPaper"})(l)},function(e,t,n){"use strict";var r=n(1),i=n(21),a=n(3),o=n(0),s=(n(5),n(75)),l=n(25),u=n(15),c=n(24),f=n(9),d={entering:{opacity:1},entered:{opacity:1}},h={enter:l.b.enteringScreen,exit:l.b.leavingScreen},p=o.forwardRef((function(e,t){var n=e.children,l=e.disableStrictModeCompat,p=void 0!==l&&l,g=e.in,v=e.onEnter,m=e.onEntered,y=e.onEntering,b=e.onExit,x=e.onExited,_=e.onExiting,w=e.style,k=e.TransitionComponent,M=void 0===k?s.a:k,T=e.timeout,A=void 0===T?h:T,E=Object(a.a)(e,["children","disableStrictModeCompat","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","TransitionComponent","timeout"]),S=Object(u.a)(),O=S.unstable_strictMode&&!p,C=o.useRef(null),L=Object(f.a)(n.ref,t),R=Object(f.a)(O?C:void 0,L),P=function(e){return function(t,n){if(e){var r=O?[C.current,t]:[t,n],a=Object(i.a)(r,2),o=a[0],s=a[1];void 0===s?e(o):e(o,s)}}},j=P(y),z=P((function(e,t){Object(c.b)(e);var n=Object(c.a)({style:w,timeout:A},{mode:"enter"});e.style.webkitTransition=S.transitions.create("opacity",n),e.style.transition=S.transitions.create("opacity",n),v&&v(e,t)})),I=P(m),N=P(_),D=P((function(e){var t=Object(c.a)({style:w,timeout:A},{mode:"exit"});e.style.webkitTransition=S.transitions.create("opacity",t),e.style.transition=S.transitions.create("opacity",t),b&&b(e)})),F=P(x);return o.createElement(M,Object(r.a)({appear:!0,in:g,nodeRef:O?C:void 0,onEnter:z,onEntered:I,onEntering:j,onExit:D,onExited:F,onExiting:N,timeout:A},E),(function(e,t){return o.cloneElement(n,Object(r.a)({style:Object(r.a)({opacity:0,visibility:"exited"!==e||g?void 0:"hidden"},d[e],w,n.props.style),ref:R},t))}))}));t.a=p},,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";var r=n(3),i=n(1),a=n(0),o=(n(5),n(4)),s=n(7),l=[0,1,2,3,4,5,6,7,8,9,10],u=["auto",!0,1,2,3,4,5,6,7,8,9,10,11,12];function c(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=parseFloat(e);return"".concat(n/t).concat(String(e).replace(String(n),"")||"px")}var f=a.forwardRef((function(e,t){var n=e.alignContent,s=void 0===n?"stretch":n,l=e.alignItems,u=void 0===l?"stretch":l,c=e.classes,f=e.className,d=e.component,h=void 0===d?"div":d,p=e.container,g=void 0!==p&&p,v=e.direction,m=void 0===v?"row":v,y=e.item,b=void 0!==y&&y,x=e.justify,_=void 0===x?"flex-start":x,w=e.lg,k=void 0!==w&&w,M=e.md,T=void 0!==M&&M,A=e.sm,E=void 0!==A&&A,S=e.spacing,O=void 0===S?0:S,C=e.wrap,L=void 0===C?"wrap":C,R=e.xl,P=void 0!==R&&R,j=e.xs,z=void 0!==j&&j,I=e.zeroMinWidth,N=void 0!==I&&I,D=Object(r.a)(e,["alignContent","alignItems","classes","className","component","container","direction","item","justify","lg","md","sm","spacing","wrap","xl","xs","zeroMinWidth"]),F=Object(o.a)(c.root,f,g&&[c.container,0!==O&&c["spacing-xs-".concat(String(O))]],b&&c.item,N&&c.zeroMinWidth,"row"!==m&&c["direction-xs-".concat(String(m))],"wrap"!==L&&c["wrap-xs-".concat(String(L))],"stretch"!==u&&c["align-items-xs-".concat(String(u))],"stretch"!==s&&c["align-content-xs-".concat(String(s))],"flex-start"!==_&&c["justify-xs-".concat(String(_))],!1!==z&&c["grid-xs-".concat(String(z))],!1!==E&&c["grid-sm-".concat(String(E))],!1!==T&&c["grid-md-".concat(String(T))],!1!==k&&c["grid-lg-".concat(String(k))],!1!==P&&c["grid-xl-".concat(String(P))]);return a.createElement(h,Object(i.a)({className:F,ref:t},D))})),d=Object(s.a)((function(e){return Object(i.a)({root:{},container:{boxSizing:"border-box",display:"flex",flexWrap:"wrap",width:"100%"},item:{boxSizing:"border-box",margin:"0"},zeroMinWidth:{minWidth:0},"direction-xs-column":{flexDirection:"column"},"direction-xs-column-reverse":{flexDirection:"column-reverse"},"direction-xs-row-reverse":{flexDirection:"row-reverse"},"wrap-xs-nowrap":{flexWrap:"nowrap"},"wrap-xs-wrap-reverse":{flexWrap:"wrap-reverse"},"align-items-xs-center":{alignItems:"center"},"align-items-xs-flex-start":{alignItems:"flex-start"},"align-items-xs-flex-end":{alignItems:"flex-end"},"align-items-xs-baseline":{alignItems:"baseline"},"align-content-xs-center":{alignContent:"center"},"align-content-xs-flex-start":{alignContent:"flex-start"},"align-content-xs-flex-end":{alignContent:"flex-end"},"align-content-xs-space-between":{alignContent:"space-between"},"align-content-xs-space-around":{alignContent:"space-around"},"justify-xs-center":{justifyContent:"center"},"justify-xs-flex-end":{justifyContent:"flex-end"},"justify-xs-space-between":{justifyContent:"space-between"},"justify-xs-space-around":{justifyContent:"space-around"},"justify-xs-space-evenly":{justifyContent:"space-evenly"}},function(e,t){var n={};return l.forEach((function(r){var i=e.spacing(r);0!==i&&(n["spacing-".concat(t,"-").concat(r)]={margin:"-".concat(c(i,2)),width:"calc(100% + ".concat(c(i),")"),"& > $item":{padding:c(i,2)}})})),n}(e,"xs"),e.breakpoints.keys.reduce((function(t,n){return function(e,t,n){var r={};u.forEach((function(e){var t="grid-".concat(n,"-").concat(e);if(!0!==e)if("auto"!==e){var i="".concat(Math.round(e/12*1e8)/1e6,"%");r[t]={flexBasis:i,flexGrow:0,maxWidth:i}}else r[t]={flexBasis:"auto",flexGrow:0,maxWidth:"none"};else r[t]={flexBasis:0,flexGrow:1,maxWidth:"100%"}})),"xs"===n?Object(i.a)(e,r):e[t.breakpoints.up(n)]=r}(t,e,n),t}),{}))}),{name:"MuiGrid"})(f);t.a=d},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(1);function i(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.baseClasses,n=e.newClasses;e.Component;if(!n)return t;var i=Object(r.a)({},t);return Object.keys(n).forEach((function(e){n[e]&&(i[e]="".concat(t[e]," ").concat(n[e]))})),i}},function(e,t,n){"use strict";var r=n(1),i=n(3),a=n(0),o=(n(5),n(4)),s=n(8),l=n(7),u=n(33),c=n(9),f=n(98),d=a.forwardRef((function(e,t){var n=e.classes,l=e.className,d=e.color,h=void 0===d?"primary":d,p=e.component,g=void 0===p?"a":p,v=e.onBlur,m=e.onFocus,y=e.TypographyClasses,b=e.underline,x=void 0===b?"hover":b,_=e.variant,w=void 0===_?"inherit":_,k=Object(i.a)(e,["classes","className","color","component","onBlur","onFocus","TypographyClasses","underline","variant"]),M=Object(u.a)(),T=M.isFocusVisible,A=M.onBlurVisible,E=M.ref,S=a.useState(!1),O=S[0],C=S[1],L=Object(c.a)(t,E);return a.createElement(f.a,Object(r.a)({className:Object(o.a)(n.root,n["underline".concat(Object(s.a)(x))],l,O&&n.focusVisible,"button"===g&&n.button),classes:y,color:h,component:g,onBlur:function(e){O&&(A(),C(!1)),v&&v(e)},onFocus:function(e){T(e)&&C(!0),m&&m(e)},ref:L,variant:w},k))}));t.a=Object(l.a)({root:{},underlineNone:{textDecoration:"none"},underlineHover:{textDecoration:"none","&:hover":{textDecoration:"underline"}},underlineAlways:{textDecoration:"underline"},button:{position:"relative",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle","-moz-appearance":"none","-webkit-appearance":"none","&::-moz-focus-inner":{borderStyle:"none"},"&$focusVisible":{outline:"auto"}},focusVisible:{}},{name:"MuiLink"})(d)},function(e,t,n){"use strict";var r=n(0),i=n(12),a=(n(5),n(22)),o=n(9);var s="undefined"!==typeof window?r.useLayoutEffect:r.useEffect,l=r.forwardRef((function(e,t){var n=e.children,l=e.container,u=e.disablePortal,c=void 0!==u&&u,f=e.onRendered,d=r.useState(null),h=d[0],p=d[1],g=Object(o.a)(r.isValidElement(n)?n.ref:null,t);return s((function(){c||p(function(e){return e="function"===typeof e?e():e,i.findDOMNode(e)}(l)||document.body)}),[l,c]),s((function(){if(h&&!c)return Object(a.a)(t,h),function(){Object(a.a)(t,null)}}),[t,h,c]),s((function(){f&&(h||c)&&f()}),[f,h,c]),c?r.isValidElement(n)?r.cloneElement(n,{ref:g}):n:h?i.createPortal(n,h):h}));t.a=l},function(e,t,n){"use strict";var r=n(1),i=n(3),a=n(0),o=(n(5),n(4)),s=n(7),l=n(100),u=a.forwardRef((function(e,t){var n=e.children,s=e.classes,u=e.className,c=e.invisible,f=void 0!==c&&c,d=e.open,h=e.transitionDuration,p=e.TransitionComponent,g=void 0===p?l.a:p,v=Object(i.a)(e,["children","classes","className","invisible","open","transitionDuration","TransitionComponent"]);return a.createElement(g,Object(r.a)({in:d,timeout:h},v),a.createElement("div",{className:Object(o.a)(s.root,u,f&&s.invisible),"aria-hidden":!0,ref:t},n))}));t.a=Object(s.a)({root:{zIndex:-1,position:"fixed",display:"flex",alignItems:"center",justifyContent:"center",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent"},invisible:{backgroundColor:"transparent"}},{name:"MuiBackdrop"})(u)},function(e,t,n){"use strict";var r=n(1),i=n(3),a=n(0),o=(n(5),n(4)),s=n(7),l=n(8),u=n(99),c=a.forwardRef((function(e,t){var n=e.classes,s=e.className,c=e.color,f=void 0===c?"primary":c,d=e.position,h=void 0===d?"fixed":d,p=Object(i.a)(e,["classes","className","color","position"]);return a.createElement(u.a,Object(r.a)({square:!0,component:"header",elevation:4,className:Object(o.a)(n.root,n["position".concat(Object(l.a)(h))],n["color".concat(Object(l.a)(f))],s,"fixed"===h&&"mui-fixed"),ref:t},p))}));t.a=Object(s.a)((function(e){var t="light"===e.palette.type?e.palette.grey[100]:e.palette.grey[900];return{root:{display:"flex",flexDirection:"column",width:"100%",boxSizing:"border-box",zIndex:e.zIndex.appBar,flexShrink:0},positionFixed:{position:"fixed",top:0,left:"auto",right:0,"@media print":{position:"absolute"}},positionAbsolute:{position:"absolute",top:0,left:"auto",right:0},positionSticky:{position:"sticky",top:0,left:"auto",right:0},positionStatic:{position:"static"},positionRelative:{position:"relative"},colorDefault:{backgroundColor:t,color:e.palette.getContrastText(t)},colorPrimary:{backgroundColor:e.palette.primary.main,color:e.palette.primary.contrastText},colorSecondary:{backgroundColor:e.palette.secondary.main,color:e.palette.secondary.contrastText},colorInherit:{color:"inherit"},colorTransparent:{backgroundColor:"transparent",color:"inherit"}}}),{name:"MuiAppBar"})(c)},function(e,t,n){"use strict";var r=n(1),i=n(3),a=n(17),o=n(0),s=(n(5),n(4)),l=n(7),u=o.forwardRef((function(e,t){var n=e.classes,a=e.className,l=e.component,u=void 0===l?"div":l,c=e.disableGutters,f=void 0!==c&&c,d=e.variant,h=void 0===d?"regular":d,p=Object(i.a)(e,["classes","className","component","disableGutters","variant"]);return o.createElement(u,Object(r.a)({className:Object(s.a)(n.root,n[h],a,!f&&n.gutters),ref:t},p))}));t.a=Object(l.a)((function(e){return{root:{position:"relative",display:"flex",alignItems:"center"},gutters:Object(a.a)({paddingLeft:e.spacing(2),paddingRight:e.spacing(2)},e.breakpoints.up("sm"),{paddingLeft:e.spacing(3),paddingRight:e.spacing(3)}),regular:e.mixins.toolbar,dense:{minHeight:48}}}),{name:"MuiToolbar"})(u)},function(e,t,n){"use strict";var r=n(1),i=n(21),a=n(3),o=n(0),s=(n(5),n(75)),l=n(15),u=n(24),c=n(9);function f(e){return"scale(".concat(e,", ").concat(Math.pow(e,2),")")}var d={entering:{opacity:1,transform:f(1)},entered:{opacity:1,transform:"none"}},h=o.forwardRef((function(e,t){var n=e.children,h=e.disableStrictModeCompat,p=void 0!==h&&h,g=e.in,v=e.onEnter,m=e.onEntered,y=e.onEntering,b=e.onExit,x=e.onExited,_=e.onExiting,w=e.style,k=e.timeout,M=void 0===k?"auto":k,T=e.TransitionComponent,A=void 0===T?s.a:T,E=Object(a.a)(e,["children","disableStrictModeCompat","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"]),S=o.useRef(),O=o.useRef(),C=Object(l.a)(),L=C.unstable_strictMode&&!p,R=o.useRef(null),P=Object(c.a)(n.ref,t),j=Object(c.a)(L?R:void 0,P),z=function(e){return function(t,n){if(e){var r=L?[R.current,t]:[t,n],a=Object(i.a)(r,2),o=a[0],s=a[1];void 0===s?e(o):e(o,s)}}},I=z(y),N=z((function(e,t){Object(u.b)(e);var n,r=Object(u.a)({style:w,timeout:M},{mode:"enter"}),i=r.duration,a=r.delay;"auto"===M?(n=C.transitions.getAutoHeightDuration(e.clientHeight),O.current=n):n=i,e.style.transition=[C.transitions.create("opacity",{duration:n,delay:a}),C.transitions.create("transform",{duration:.666*n,delay:a})].join(","),v&&v(e,t)})),D=z(m),F=z(_),B=z((function(e){var t,n=Object(u.a)({style:w,timeout:M},{mode:"exit"}),r=n.duration,i=n.delay;"auto"===M?(t=C.transitions.getAutoHeightDuration(e.clientHeight),O.current=t):t=r,e.style.transition=[C.transitions.create("opacity",{duration:t,delay:i}),C.transitions.create("transform",{duration:.666*t,delay:i||.333*t})].join(","),e.style.opacity="0",e.style.transform=f(.75),b&&b(e)})),U=z(x);return o.useEffect((function(){return function(){clearTimeout(S.current)}}),[]),o.createElement(A,Object(r.a)({appear:!0,in:g,nodeRef:L?R:void 0,onEnter:N,onEntered:D,onEntering:I,onExit:B,onExited:U,onExiting:F,addEndListener:function(e,t){var n=L?e:t;"auto"===M&&(S.current=setTimeout(n,O.current||0))},timeout:"auto"===M?null:M},E),(function(e,t){return o.cloneElement(n,Object(r.a)({style:Object(r.a)({opacity:0,transform:f(.75),visibility:"exited"!==e||g?void 0:"hidden"},d[e],w,n.props.style),ref:j},t))}))}));h.muiSupportAuto=!0,t.a=h},function(e,t,n){"use strict";var r=n(1),i=n(3),a=n(0),o=(n(5),n(4)),s=n(7),l=n(13),u=n(74),c=n(8),f=a.forwardRef((function(e,t){var n=e.edge,s=void 0!==n&&n,l=e.children,f=e.classes,d=e.className,h=e.color,p=void 0===h?"default":h,g=e.disabled,v=void 0!==g&&g,m=e.disableFocusRipple,y=void 0!==m&&m,b=e.size,x=void 0===b?"medium":b,_=Object(i.a)(e,["edge","children","classes","className","color","disabled","disableFocusRipple","size"]);return a.createElement(u.a,Object(r.a)({className:Object(o.a)(f.root,d,"default"!==p&&f["color".concat(Object(c.a)(p))],v&&f.disabled,"small"===x&&f["size".concat(Object(c.a)(x))],{start:f.edgeStart,end:f.edgeEnd}[s]),centerRipple:!0,focusRipple:!y,disabled:v,ref:t},_),a.createElement("span",{className:f.label},l))}));t.a=Object(s.a)((function(e){return{root:{textAlign:"center",flex:"0 0 auto",fontSize:e.typography.pxToRem(24),padding:12,borderRadius:"50%",overflow:"visible",color:e.palette.action.active,transition:e.transitions.create("background-color",{duration:e.transitions.duration.shortest}),"&:hover":{backgroundColor:Object(l.b)(e.palette.action.active,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},"&$disabled":{backgroundColor:"transparent",color:e.palette.action.disabled}},edgeStart:{marginLeft:-12,"$sizeSmall&":{marginLeft:-3}},edgeEnd:{marginRight:-12,"$sizeSmall&":{marginRight:-3}},colorInherit:{color:"inherit"},colorPrimary:{color:e.palette.primary.main,"&:hover":{backgroundColor:Object(l.b)(e.palette.primary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},colorSecondary:{color:e.palette.secondary.main,"&:hover":{backgroundColor:Object(l.b)(e.palette.secondary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},disabled:{},sizeSmall:{padding:3,fontSize:e.typography.pxToRem(18)},label:{width:"100%",display:"flex",alignItems:"inherit",justifyContent:"inherit"}}}),{name:"MuiIconButton"})(f)},function(e,t,n){"use strict";var r=n(0),i=n(27);t.a=Object(i.a)(r.createElement("path",{d:"M20 8.69V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12 20 8.69zM12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12s-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6c3.31 0 6 2.69 6 6s-2.69 6-6 6z"}),"Brightness4")},function(e,t,n){"use strict";var r=n(0),i=n(27);t.a=Object(i.a)(r.createElement("path",{d:"M12 .3a12 12 0 0 0-3.8 23.4c.6.1.8-.3.8-.6v-2c-3.3.7-4-1.6-4-1.6-.6-1.4-1.4-1.8-1.4-1.8-1-.7.1-.7.1-.7 1.2 0 1.9 1.2 1.9 1.2 1 1.8 2.8 1.3 3.5 1 0-.8.4-1.3.7-1.6-2.7-.3-5.5-1.3-5.5-6 0-1.2.5-2.3 1.3-3.1-.2-.4-.6-1.6 0-3.2 0 0 1-.3 3.4 1.2a11.5 11.5 0 0 1 6 0c2.3-1.5 3.3-1.2 3.3-1.2.6 1.6.2 2.8 0 3.2.9.8 1.3 1.9 1.3 3.2 0 4.6-2.8 5.6-5.5 5.9.5.4.9 1 .9 2.2v3.3c0 .3.1.7.8.6A12 12 0 0 0 12 .3"}),"GitHub")},function(e,t,n){"use strict";var r=n(0),i=n(27);t.a=Object(i.a)(r.createElement("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 17h-2v-2h2v2zm2.07-7.75l-.9.92C13.45 12.9 13 13.5 13 15h-2v-.5c0-1.1.45-2.1 1.17-2.83l1.24-1.26c.37-.36.59-.86.59-1.41 0-1.1-.9-2-2-2s-2 .9-2 2H8c0-2.21 1.79-4 4-4s4 1.79 4 4c0 .88-.36 1.68-.93 2.25z"}),"Help")},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(1),i=n(0),a=n(58),o=n(97);function s(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=Object(a.a)(),s=Object(o.a)({theme:n,name:"MuiUseMediaQuery",props:{}});var l="function"===typeof e?e(n):e;l=l.replace(/^@media( ?)/m,"");var u="undefined"!==typeof window&&"undefined"!==typeof window.matchMedia,c=Object(r.a)({},s,t),f=c.defaultMatches,d=void 0!==f&&f,h=c.matchMedia,p=void 0===h?u?window.matchMedia:null:h,g=c.noSsr,v=void 0!==g&&g,m=c.ssrMatchMedia,y=void 0===m?null:m,b=i.useState((function(){return v&&u?p(l).matches:y?y(l).matches:d})),x=b[0],_=b[1];return i.useEffect((function(){var e=!0;if(u){var t=p(l),n=function(){e&&_(t.matches)};return n(),t.addListener(n),function(){e=!1,t.removeListener(n)}}}),[l,p,u]),x}},function(e,t,n){"use strict";var r=n(0),i=n(27);t.a=Object(i.a)(r.createElement("path",{d:"M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"}),"Menu")},function(e,t,n){"use strict";var r=n(0),i=n(27);t.a=Object(i.a)(r.createElement("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close")},function(e,t,n){"use strict";var r=n(3),i=n(1),a=n(0),o=(n(5),n(4)),s=n(7),l=n(13),u=n(74),c=n(8),f=a.forwardRef((function(e,t){var n=e.children,s=e.classes,l=e.className,f=e.color,d=void 0===f?"default":f,h=e.component,p=void 0===h?"button":h,g=e.disabled,v=void 0!==g&&g,m=e.disableElevation,y=void 0!==m&&m,b=e.disableFocusRipple,x=void 0!==b&&b,_=e.endIcon,w=e.focusVisibleClassName,k=e.fullWidth,M=void 0!==k&&k,T=e.size,A=void 0===T?"medium":T,E=e.startIcon,S=e.type,O=void 0===S?"button":S,C=e.variant,L=void 0===C?"text":C,R=Object(r.a)(e,["children","classes","className","color","component","disabled","disableElevation","disableFocusRipple","endIcon","focusVisibleClassName","fullWidth","size","startIcon","type","variant"]),P=E&&a.createElement("span",{className:Object(o.a)(s.startIcon,s["iconSize".concat(Object(c.a)(A))])},E),j=_&&a.createElement("span",{className:Object(o.a)(s.endIcon,s["iconSize".concat(Object(c.a)(A))])},_);return a.createElement(u.a,Object(i.a)({className:Object(o.a)(s.root,s[L],l,"inherit"===d?s.colorInherit:"default"!==d&&s["".concat(L).concat(Object(c.a)(d))],"medium"!==A&&[s["".concat(L,"Size").concat(Object(c.a)(A))],s["size".concat(Object(c.a)(A))]],y&&s.disableElevation,v&&s.disabled,M&&s.fullWidth),component:p,disabled:v,focusRipple:!x,focusVisibleClassName:Object(o.a)(s.focusVisible,w),ref:t,type:O},R),a.createElement("span",{className:s.label},P,n,j))}));t.a=Object(s.a)((function(e){return{root:Object(i.a)({},e.typography.button,{boxSizing:"border-box",minWidth:64,padding:"6px 16px",borderRadius:e.shape.borderRadius,color:e.palette.text.primary,transition:e.transitions.create(["background-color","box-shadow","border"],{duration:e.transitions.duration.short}),"&:hover":{textDecoration:"none",backgroundColor:Object(l.b)(e.palette.text.primary,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"},"&$disabled":{backgroundColor:"transparent"}},"&$disabled":{color:e.palette.action.disabled}}),label:{width:"100%",display:"inherit",alignItems:"inherit",justifyContent:"inherit"},text:{padding:"6px 8px"},textPrimary:{color:e.palette.primary.main,"&:hover":{backgroundColor:Object(l.b)(e.palette.primary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},textSecondary:{color:e.palette.secondary.main,"&:hover":{backgroundColor:Object(l.b)(e.palette.secondary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},outlined:{padding:"5px 15px",border:"1px solid ".concat("light"===e.palette.type?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)"),"&$disabled":{border:"1px solid ".concat(e.palette.action.disabledBackground)}},outlinedPrimary:{color:e.palette.primary.main,border:"1px solid ".concat(Object(l.b)(e.palette.primary.main,.5)),"&:hover":{border:"1px solid ".concat(e.palette.primary.main),backgroundColor:Object(l.b)(e.palette.primary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},outlinedSecondary:{color:e.palette.secondary.main,border:"1px solid ".concat(Object(l.b)(e.palette.secondary.main,.5)),"&:hover":{border:"1px solid ".concat(e.palette.secondary.main),backgroundColor:Object(l.b)(e.palette.secondary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},"&$disabled":{border:"1px solid ".concat(e.palette.action.disabled)}},contained:{color:e.palette.getContrastText(e.palette.grey[300]),backgroundColor:e.palette.grey[300],boxShadow:e.shadows[2],"&:hover":{backgroundColor:e.palette.grey.A100,boxShadow:e.shadows[4],"@media (hover: none)":{boxShadow:e.shadows[2],backgroundColor:e.palette.grey[300]},"&$disabled":{backgroundColor:e.palette.action.disabledBackground}},"&$focusVisible":{boxShadow:e.shadows[6]},"&:active":{boxShadow:e.shadows[8]},"&$disabled":{color:e.palette.action.disabled,boxShadow:e.shadows[0],backgroundColor:e.palette.action.disabledBackground}},containedPrimary:{color:e.palette.primary.contrastText,backgroundColor:e.palette.primary.main,"&:hover":{backgroundColor:e.palette.primary.dark,"@media (hover: none)":{backgroundColor:e.palette.primary.main}}},containedSecondary:{color:e.palette.secondary.contrastText,backgroundColor:e.palette.secondary.main,"&:hover":{backgroundColor:e.palette.secondary.dark,"@media (hover: none)":{backgroundColor:e.palette.secondary.main}}},disableElevation:{boxShadow:"none","&:hover":{boxShadow:"none"},"&$focusVisible":{boxShadow:"none"},"&:active":{boxShadow:"none"},"&$disabled":{boxShadow:"none"}},focusVisible:{},disabled:{},colorInherit:{color:"inherit",borderColor:"currentColor"},textSizeSmall:{padding:"4px 5px",fontSize:e.typography.pxToRem(13)},textSizeLarge:{padding:"8px 11px",fontSize:e.typography.pxToRem(15)},outlinedSizeSmall:{padding:"3px 9px",fontSize:e.typography.pxToRem(13)},outlinedSizeLarge:{padding:"7px 21px",fontSize:e.typography.pxToRem(15)},containedSizeSmall:{padding:"4px 10px",fontSize:e.typography.pxToRem(13)},containedSizeLarge:{padding:"8px 22px",fontSize:e.typography.pxToRem(15)},sizeSmall:{},sizeLarge:{},fullWidth:{width:"100%"},startIcon:{display:"inherit",marginRight:8,marginLeft:-4,"&$iconSizeSmall":{marginLeft:-2}},endIcon:{display:"inherit",marginRight:-4,marginLeft:8,"&$iconSizeSmall":{marginRight:-2}},iconSizeSmall:{"& > *:first-child":{fontSize:18}},iconSizeMedium:{"& > *:first-child":{fontSize:20}},iconSizeLarge:{"& > *:first-child":{fontSize:22}}}}),{name:"MuiButton"})(f)},function(e,t,n){"use strict";var r=n(0),i=n(27);t.a=Object(i.a)(r.createElement("path",{d:"M6 6h2v12H6zm3.5 6l8.5 6V6z"}),"SkipPrevious")},function(e,t,n){"use strict";var r=n(0),i=n(27);t.a=Object(i.a)(r.createElement("path",{d:"M6 6h12v12H6z"}),"Stop")},function(e,t,n){"use strict";var r=n(0),i=n(27);t.a=Object(i.a)(r.createElement("path",{d:"M8 5v14l11-7z"}),"PlayArrow")},function(e,t,n){"use strict";var r=n(0),i=n(27);t.a=Object(i.a)(r.createElement("path",{d:"M6 18l8.5-6L6 6v12zM16 6v12h2V6h-2z"}),"SkipNext")},function(e,t,n){"use strict";var r=n(1),i=n(0),a=n.n(i),o=(n(5),n(46)),s=n(58),l=n(48);t.a=function(e){var t=e.children,n=e.theme,i=Object(s.a)(),u=a.a.useMemo((function(){var e=null===i?n:function(e,t){return"function"===typeof t?t(e):Object(r.a)({},e,t)}(i,n);return null!=e&&(e[l.a]=null!==i),e}),[n,i]);return a.a.createElement(o.a.Provider,{value:u},t)}},function(e,t,n){"use strict";var r=n(1),i=n(0),a=(n(5),n(7)),o={WebkitFontSmoothing:"antialiased",MozOsxFontSmoothing:"grayscale",boxSizing:"border-box"},s=function(e){return Object(r.a)({color:e.palette.text.primary},e.typography.body2,{backgroundColor:e.palette.background.default,"@media print":{backgroundColor:e.palette.common.white}})};t.a=Object(a.a)((function(e){return{"@global":{html:o,"*, *::before, *::after":{boxSizing:"inherit"},"strong, b":{fontWeight:e.typography.fontWeightBold},body:Object(r.a)({margin:0},s(e),{"&::backdrop":{backgroundColor:e.palette.background.default}})}}}),{name:"MuiCssBaseline"})((function(e){var t=e.children,n=void 0===t?null:t;return e.classes,i.createElement(i.Fragment,null,n)}))},function(e,t,n){"use strict";var r=n(1),i=n(3),a=n(0),o=(n(5),n(4)),s=n(73);function l(e){var t=e.props,n=e.states,r=e.muiFormControl;return n.reduce((function(e,n){return e[n]=t[n],r&&"undefined"===typeof t[n]&&(e[n]=r[n]),e}),{})}var u=a.createContext();var c=u,f=n(7),d=n(8),h=n(9),p=n(40);function g(e,t){return parseInt(e[t],10)||0}var v="undefined"!==typeof window?a.useLayoutEffect:a.useEffect,m={visibility:"hidden",position:"absolute",overflow:"hidden",height:0,top:0,left:0,transform:"translateZ(0)"},y=a.forwardRef((function(e,t){var n=e.onChange,o=e.rows,s=e.rowsMax,l=e.rowsMin,u=void 0===l?1:l,c=e.style,f=e.value,d=Object(i.a)(e,["onChange","rows","rowsMax","rowsMin","style","value"]),y=o||u,b=a.useRef(null!=f).current,x=a.useRef(null),_=Object(h.a)(t,x),w=a.useRef(null),k=a.useRef(0),M=a.useState({}),T=M[0],A=M[1],E=a.useCallback((function(){var t=x.current,n=window.getComputedStyle(t),r=w.current;r.style.width=n.width,r.value=t.value||e.placeholder||"x","\n"===r.value.slice(-1)&&(r.value+=" ");var i=n["box-sizing"],a=g(n,"padding-bottom")+g(n,"padding-top"),o=g(n,"border-bottom-width")+g(n,"border-top-width"),l=r.scrollHeight-a;r.value="x";var u=r.scrollHeight-a,c=l;y&&(c=Math.max(Number(y)*u,c)),s&&(c=Math.min(Number(s)*u,c));var f=(c=Math.max(c,u))+("border-box"===i?a+o:0),d=Math.abs(c-l)<=1;A((function(e){return k.current<20&&(f>0&&Math.abs((e.outerHeightStyle||0)-f)>1||e.overflow!==d)?(k.current+=1,{overflow:d,outerHeightStyle:f}):e}))}),[s,y,e.placeholder]);a.useEffect((function(){var e=Object(p.a)((function(){k.current=0,E()}));return window.addEventListener("resize",e),function(){e.clear(),window.removeEventListener("resize",e)}}),[E]),v((function(){E()})),a.useEffect((function(){k.current=0}),[f]);return a.createElement(a.Fragment,null,a.createElement("textarea",Object(r.a)({value:f,onChange:function(e){k.current=0,b||E(),n&&n(e)},ref:_,rows:y,style:Object(r.a)({height:T.outerHeightStyle,overflow:T.overflow?"hidden":null},c)},d)),a.createElement("textarea",{"aria-hidden":!0,className:e.className,readOnly:!0,ref:w,tabIndex:-1,style:Object(r.a)({},m,c)}))}));function b(e){return null!=e&&!(Array.isArray(e)&&0===e.length)}function x(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return e&&(b(e.value)&&""!==e.value||t&&b(e.defaultValue)&&""!==e.defaultValue)}var _="undefined"===typeof window?a.useEffect:a.useLayoutEffect,w=a.forwardRef((function(e,t){var n=e["aria-describedby"],f=e.autoComplete,p=e.autoFocus,g=e.classes,v=e.className,m=(e.color,e.defaultValue),b=e.disabled,w=e.endAdornment,k=(e.error,e.fullWidth),M=void 0!==k&&k,T=e.id,A=e.inputComponent,E=void 0===A?"input":A,S=e.inputProps,O=void 0===S?{}:S,C=e.inputRef,L=(e.margin,e.multiline),R=void 0!==L&&L,P=e.name,j=e.onBlur,z=e.onChange,I=e.onClick,N=e.onFocus,D=e.onKeyDown,F=e.onKeyUp,B=e.placeholder,U=e.readOnly,V=e.renderSuffix,H=e.rows,q=e.rowsMax,W=e.rowsMin,G=e.startAdornment,X=e.type,Y=void 0===X?"text":X,Z=e.value,$=Object(i.a)(e,["aria-describedby","autoComplete","autoFocus","classes","className","color","defaultValue","disabled","endAdornment","error","fullWidth","id","inputComponent","inputProps","inputRef","margin","multiline","name","onBlur","onChange","onClick","onFocus","onKeyDown","onKeyUp","placeholder","readOnly","renderSuffix","rows","rowsMax","rowsMin","startAdornment","type","value"]),K=null!=O.value?O.value:Z,Q=a.useRef(null!=K).current,J=a.useRef(),ee=a.useCallback((function(e){0}),[]),te=Object(h.a)(O.ref,ee),ne=Object(h.a)(C,te),re=Object(h.a)(J,ne),ie=a.useState(!1),ae=ie[0],oe=ie[1],se=a.useContext(u);var le=l({props:e,muiFormControl:se,states:["color","disabled","error","hiddenLabel","margin","required","filled"]});le.focused=se?se.focused:ae,a.useEffect((function(){!se&&b&&ae&&(oe(!1),j&&j())}),[se,b,ae,j]);var ue=se&&se.onFilled,ce=se&&se.onEmpty,fe=a.useCallback((function(e){x(e)?ue&&ue():ce&&ce()}),[ue,ce]);_((function(){Q&&fe({value:K})}),[K,fe,Q]);a.useEffect((function(){fe(J.current)}),[]);var de=E,he=Object(r.a)({},O,{ref:re});"string"!==typeof de?he=Object(r.a)({inputRef:re,type:Y},he,{ref:null}):R?!H||q||W?(he=Object(r.a)({rows:H,rowsMax:q},he),de=y):de="textarea":he=Object(r.a)({type:Y},he);return a.useEffect((function(){se&&se.setAdornedStart(Boolean(G))}),[se,G]),a.createElement("div",Object(r.a)({className:Object(o.a)(g.root,g["color".concat(Object(d.a)(le.color||"primary"))],v,le.disabled&&g.disabled,le.error&&g.error,M&&g.fullWidth,le.focused&&g.focused,se&&g.formControl,R&&g.multiline,G&&g.adornedStart,w&&g.adornedEnd,"dense"===le.margin&&g.marginDense),onClick:function(e){J.current&&e.currentTarget===e.target&&J.current.focus(),I&&I(e)},ref:t},$),G,a.createElement(c.Provider,{value:null},a.createElement(de,Object(r.a)({"aria-invalid":le.error,"aria-describedby":n,autoComplete:f,autoFocus:p,defaultValue:m,disabled:le.disabled,id:T,onAnimationStart:function(e){fe("mui-auto-fill-cancel"===e.animationName?J.current:{value:"x"})},name:P,placeholder:B,readOnly:U,required:le.required,rows:H,value:K,onKeyDown:D,onKeyUp:F},he,{className:Object(o.a)(g.input,O.className,le.disabled&&g.disabled,R&&g.inputMultiline,le.hiddenLabel&&g.inputHiddenLabel,G&&g.inputAdornedStart,w&&g.inputAdornedEnd,"search"===Y&&g.inputTypeSearch,"dense"===le.margin&&g.inputMarginDense),onBlur:function(e){j&&j(e),O.onBlur&&O.onBlur(e),se&&se.onBlur?se.onBlur(e):oe(!1)},onChange:function(e){if(!Q){var t=e.target||J.current;if(null==t)throw new Error(Object(s.a)(1));fe({value:t.value})}for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];O.onChange&&O.onChange.apply(O,[e].concat(r)),z&&z.apply(void 0,[e].concat(r))},onFocus:function(e){le.disabled?e.stopPropagation():(N&&N(e),O.onFocus&&O.onFocus(e),se&&se.onFocus?se.onFocus(e):oe(!0))}}))),w,V?V(Object(r.a)({},le,{startAdornment:G})):null)})),k=Object(f.a)((function(e){var t="light"===e.palette.type,n={color:"currentColor",opacity:t?.42:.5,transition:e.transitions.create("opacity",{duration:e.transitions.duration.shorter})},i={opacity:"0 !important"},a={opacity:t?.42:.5};return{"@global":{"@keyframes mui-auto-fill":{},"@keyframes mui-auto-fill-cancel":{}},root:Object(r.a)({},e.typography.body1,{color:e.palette.text.primary,lineHeight:"1.1876em",boxSizing:"border-box",position:"relative",cursor:"text",display:"inline-flex",alignItems:"center","&$disabled":{color:e.palette.text.disabled,cursor:"default"}}),formControl:{},focused:{},disabled:{},adornedStart:{},adornedEnd:{},error:{},marginDense:{},multiline:{padding:"".concat(6,"px 0 ").concat(7,"px"),"&$marginDense":{paddingTop:3}},colorSecondary:{},fullWidth:{width:"100%"},input:{font:"inherit",letterSpacing:"inherit",color:"currentColor",padding:"".concat(6,"px 0 ").concat(7,"px"),border:0,boxSizing:"content-box",background:"none",height:"1.1876em",margin:0,WebkitTapHighlightColor:"transparent",display:"block",minWidth:0,width:"100%",animationName:"mui-auto-fill-cancel",animationDuration:"10ms","&::-webkit-input-placeholder":n,"&::-moz-placeholder":n,"&:-ms-input-placeholder":n,"&::-ms-input-placeholder":n,"&:focus":{outline:0},"&:invalid":{boxShadow:"none"},"&::-webkit-search-decoration":{"-webkit-appearance":"none"},"label[data-shrink=false] + $formControl &":{"&::-webkit-input-placeholder":i,"&::-moz-placeholder":i,"&:-ms-input-placeholder":i,"&::-ms-input-placeholder":i,"&:focus::-webkit-input-placeholder":a,"&:focus::-moz-placeholder":a,"&:focus:-ms-input-placeholder":a,"&:focus::-ms-input-placeholder":a},"&$disabled":{opacity:1},"&:-webkit-autofill":{animationDuration:"5000s",animationName:"mui-auto-fill"}},inputMarginDense:{paddingTop:3},inputMultiline:{height:"auto",resize:"none",padding:0},inputTypeSearch:{"-moz-appearance":"textfield","-webkit-appearance":"textfield"},inputAdornedStart:{},inputAdornedEnd:{},inputHiddenLabel:{}}}),{name:"MuiInputBase"})(w),M=a.forwardRef((function(e,t){var n=e.disableUnderline,s=e.classes,l=e.fullWidth,u=void 0!==l&&l,c=e.inputComponent,f=void 0===c?"input":c,d=e.multiline,h=void 0!==d&&d,p=e.type,g=void 0===p?"text":p,v=Object(i.a)(e,["disableUnderline","classes","fullWidth","inputComponent","multiline","type"]);return a.createElement(k,Object(r.a)({classes:Object(r.a)({},s,{root:Object(o.a)(s.root,!n&&s.underline),underline:null}),fullWidth:u,inputComponent:f,multiline:h,ref:t,type:g},v))}));M.muiName="Input";var T=Object(f.a)((function(e){var t="light"===e.palette.type?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)";return{root:{position:"relative"},formControl:{"label + &":{marginTop:16}},focused:{},disabled:{},colorSecondary:{"&$underline:after":{borderBottomColor:e.palette.secondary.main}},underline:{"&:after":{borderBottom:"2px solid ".concat(e.palette.primary.main),left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:e.transitions.create("transform",{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut}),pointerEvents:"none"},"&$focused:after":{transform:"scaleX(1)"},"&$error:after":{borderBottomColor:e.palette.error.main,transform:"scaleX(1)"},"&:before":{borderBottom:"1px solid ".concat(t),left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:e.transitions.create("border-bottom-color",{duration:e.transitions.duration.shorter}),pointerEvents:"none"},"&:hover:not($disabled):before":{borderBottom:"2px solid ".concat(e.palette.text.primary),"@media (hover: none)":{borderBottom:"1px solid ".concat(t)}},"&$disabled:before":{borderBottomStyle:"dotted"}},error:{},marginDense:{},multiline:{},fullWidth:{},input:{},inputMarginDense:{},inputMultiline:{},inputTypeSearch:{}}}),{name:"MuiInput"})(M),A=a.forwardRef((function(e,t){var n=e.disableUnderline,s=e.classes,l=e.fullWidth,u=void 0!==l&&l,c=e.inputComponent,f=void 0===c?"input":c,d=e.multiline,h=void 0!==d&&d,p=e.type,g=void 0===p?"text":p,v=Object(i.a)(e,["disableUnderline","classes","fullWidth","inputComponent","multiline","type"]);return a.createElement(k,Object(r.a)({classes:Object(r.a)({},s,{root:Object(o.a)(s.root,!n&&s.underline),underline:null}),fullWidth:u,inputComponent:f,multiline:h,ref:t,type:g},v))}));A.muiName="Input";var E=Object(f.a)((function(e){var t="light"===e.palette.type,n=t?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)",r=t?"rgba(0, 0, 0, 0.09)":"rgba(255, 255, 255, 0.09)";return{root:{position:"relative",backgroundColor:r,borderTopLeftRadius:e.shape.borderRadius,borderTopRightRadius:e.shape.borderRadius,transition:e.transitions.create("background-color",{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut}),"&:hover":{backgroundColor:t?"rgba(0, 0, 0, 0.13)":"rgba(255, 255, 255, 0.13)","@media (hover: none)":{backgroundColor:r}},"&$focused":{backgroundColor:t?"rgba(0, 0, 0, 0.09)":"rgba(255, 255, 255, 0.09)"},"&$disabled":{backgroundColor:t?"rgba(0, 0, 0, 0.12)":"rgba(255, 255, 255, 0.12)"}},colorSecondary:{"&$underline:after":{borderBottomColor:e.palette.secondary.main}},underline:{"&:after":{borderBottom:"2px solid ".concat(e.palette.primary.main),left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:e.transitions.create("transform",{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut}),pointerEvents:"none"},"&$focused:after":{transform:"scaleX(1)"},"&$error:after":{borderBottomColor:e.palette.error.main,transform:"scaleX(1)"},"&:before":{borderBottom:"1px solid ".concat(n),left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:e.transitions.create("border-bottom-color",{duration:e.transitions.duration.shorter}),pointerEvents:"none"},"&:hover:before":{borderBottom:"1px solid ".concat(e.palette.text.primary)},"&$disabled:before":{borderBottomStyle:"dotted"}},focused:{},disabled:{},adornedStart:{paddingLeft:12},adornedEnd:{paddingRight:12},error:{},marginDense:{},multiline:{padding:"27px 12px 10px","&$marginDense":{paddingTop:23,paddingBottom:6}},input:{padding:"27px 12px 10px","&:-webkit-autofill":{WebkitBoxShadow:"light"===e.palette.type?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:"light"===e.palette.type?null:"#fff",caretColor:"light"===e.palette.type?null:"#fff",borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"}},inputMarginDense:{paddingTop:23,paddingBottom:6},inputHiddenLabel:{paddingTop:18,paddingBottom:19,"&$inputMarginDense":{paddingTop:10,paddingBottom:11}},inputMultiline:{padding:0},inputAdornedStart:{paddingLeft:0},inputAdornedEnd:{paddingRight:0}}}),{name:"MuiFilledInput"})(A),S=n(17),O=n(15),C=a.forwardRef((function(e,t){e.children;var n=e.classes,s=e.className,l=e.label,u=e.labelWidth,c=e.notched,f=e.style,h=Object(i.a)(e,["children","classes","className","label","labelWidth","notched","style"]),p="rtl"===Object(O.a)().direction?"right":"left";if(void 0!==l)return a.createElement("fieldset",Object(r.a)({"aria-hidden":!0,className:Object(o.a)(n.root,s),ref:t,style:f},h),a.createElement("legend",{className:Object(o.a)(n.legendLabelled,c&&n.legendNotched)},l?a.createElement("span",null,l):a.createElement("span",{dangerouslySetInnerHTML:{__html:"&#8203;"}})));var g=u>0?.75*u+8:.01;return a.createElement("fieldset",Object(r.a)({"aria-hidden":!0,style:Object(r.a)(Object(S.a)({},"padding".concat(Object(d.a)(p)),8),f),className:Object(o.a)(n.root,s),ref:t},h),a.createElement("legend",{className:n.legend,style:{width:c?g:.01}},a.createElement("span",{dangerouslySetInnerHTML:{__html:"&#8203;"}})))})),L=Object(f.a)((function(e){return{root:{position:"absolute",bottom:0,right:0,top:-5,left:0,margin:0,padding:"0 8px",pointerEvents:"none",borderRadius:"inherit",borderStyle:"solid",borderWidth:1,overflow:"hidden"},legend:{textAlign:"left",padding:0,lineHeight:"11px",transition:e.transitions.create("width",{duration:150,easing:e.transitions.easing.easeOut})},legendLabelled:{display:"block",width:"auto",textAlign:"left",padding:0,height:11,fontSize:"0.75em",visibility:"hidden",maxWidth:.01,transition:e.transitions.create("max-width",{duration:50,easing:e.transitions.easing.easeOut}),"& > span":{paddingLeft:5,paddingRight:5,display:"inline-block"}},legendNotched:{maxWidth:1e3,transition:e.transitions.create("max-width",{duration:100,easing:e.transitions.easing.easeOut,delay:50})}}}),{name:"PrivateNotchedOutline"})(C),R=a.forwardRef((function(e,t){var n=e.classes,s=e.fullWidth,l=void 0!==s&&s,u=e.inputComponent,c=void 0===u?"input":u,f=e.label,d=e.labelWidth,h=void 0===d?0:d,p=e.multiline,g=void 0!==p&&p,v=e.notched,m=e.type,y=void 0===m?"text":m,b=Object(i.a)(e,["classes","fullWidth","inputComponent","label","labelWidth","multiline","notched","type"]);return a.createElement(k,Object(r.a)({renderSuffix:function(e){return a.createElement(L,{className:n.notchedOutline,label:f,labelWidth:h,notched:"undefined"!==typeof v?v:Boolean(e.startAdornment||e.filled||e.focused)})},classes:Object(r.a)({},n,{root:Object(o.a)(n.root,n.underline),notchedOutline:null}),fullWidth:l,inputComponent:c,multiline:g,ref:t,type:y},b))}));R.muiName="Input";var P=Object(f.a)((function(e){var t="light"===e.palette.type?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{root:{position:"relative",borderRadius:e.shape.borderRadius,"&:hover $notchedOutline":{borderColor:e.palette.text.primary},"@media (hover: none)":{"&:hover $notchedOutline":{borderColor:t}},"&$focused $notchedOutline":{borderColor:e.palette.primary.main,borderWidth:2},"&$error $notchedOutline":{borderColor:e.palette.error.main},"&$disabled $notchedOutline":{borderColor:e.palette.action.disabled}},colorSecondary:{"&$focused $notchedOutline":{borderColor:e.palette.secondary.main}},focused:{},disabled:{},adornedStart:{paddingLeft:14},adornedEnd:{paddingRight:14},error:{},marginDense:{},multiline:{padding:"18.5px 14px","&$marginDense":{paddingTop:10.5,paddingBottom:10.5}},notchedOutline:{borderColor:t},input:{padding:"18.5px 14px","&:-webkit-autofill":{WebkitBoxShadow:"light"===e.palette.type?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:"light"===e.palette.type?null:"#fff",caretColor:"light"===e.palette.type?null:"#fff",borderRadius:"inherit"}},inputMarginDense:{paddingTop:10.5,paddingBottom:10.5},inputMultiline:{padding:0},inputAdornedStart:{paddingLeft:0},inputAdornedEnd:{paddingRight:0}}}),{name:"MuiOutlinedInput"})(R);function j(){return a.useContext(c)}var z=a.forwardRef((function(e,t){var n=e.children,s=e.classes,u=e.className,c=(e.color,e.component),f=void 0===c?"label":c,h=(e.disabled,e.error,e.filled,e.focused,e.required,Object(i.a)(e,["children","classes","className","color","component","disabled","error","filled","focused","required"])),p=l({props:e,muiFormControl:j(),states:["color","required","focused","disabled","error","filled"]});return a.createElement(f,Object(r.a)({className:Object(o.a)(s.root,s["color".concat(Object(d.a)(p.color||"primary"))],u,p.disabled&&s.disabled,p.error&&s.error,p.filled&&s.filled,p.focused&&s.focused,p.required&&s.required),ref:t},h),n,p.required&&a.createElement("span",{"aria-hidden":!0,className:Object(o.a)(s.asterisk,p.error&&s.error)},"\u2009","*"))})),I=Object(f.a)((function(e){return{root:Object(r.a)({color:e.palette.text.secondary},e.typography.body1,{lineHeight:1,padding:0,"&$focused":{color:e.palette.primary.main},"&$disabled":{color:e.palette.text.disabled},"&$error":{color:e.palette.error.main}}),colorSecondary:{"&$focused":{color:e.palette.secondary.main}},focused:{},disabled:{},error:{},filled:{},required:{},asterisk:{"&$error":{color:e.palette.error.main}}}}),{name:"MuiFormLabel"})(z),N=a.forwardRef((function(e,t){var n=e.classes,s=e.className,u=e.disableAnimation,c=void 0!==u&&u,f=(e.margin,e.shrink),d=(e.variant,Object(i.a)(e,["classes","className","disableAnimation","margin","shrink","variant"])),h=j(),p=f;"undefined"===typeof p&&h&&(p=h.filled||h.focused||h.adornedStart);var g=l({props:e,muiFormControl:h,states:["margin","variant"]});return a.createElement(I,Object(r.a)({"data-shrink":p,className:Object(o.a)(n.root,s,h&&n.formControl,!c&&n.animated,p&&n.shrink,"dense"===g.margin&&n.marginDense,{filled:n.filled,outlined:n.outlined}[g.variant]),classes:{focused:n.focused,disabled:n.disabled,error:n.error,required:n.required,asterisk:n.asterisk},ref:t},d))})),D=Object(f.a)((function(e){return{root:{display:"block",transformOrigin:"top left"},focused:{},disabled:{},error:{},required:{},asterisk:{},formControl:{position:"absolute",left:0,top:0,transform:"translate(0, 24px) scale(1)"},marginDense:{transform:"translate(0, 21px) scale(1)"},shrink:{transform:"translate(0, 1.5px) scale(0.75)",transformOrigin:"top left"},animated:{transition:e.transitions.create(["color","transform"],{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut})},filled:{zIndex:1,pointerEvents:"none",transform:"translate(12px, 20px) scale(1)","&$marginDense":{transform:"translate(12px, 17px) scale(1)"},"&$shrink":{transform:"translate(12px, 10px) scale(0.75)","&$marginDense":{transform:"translate(12px, 7px) scale(0.75)"}}},outlined:{zIndex:1,pointerEvents:"none",transform:"translate(14px, 20px) scale(1)","&$marginDense":{transform:"translate(14px, 12px) scale(1)"},"&$shrink":{transform:"translate(14px, -6px) scale(0.75)"}}}}),{name:"MuiInputLabel"})(N);function F(e,t){return a.isValidElement(e)&&-1!==t.indexOf(e.type.muiName)}var B=a.forwardRef((function(e,t){var n=e.children,s=e.classes,l=e.className,u=e.color,f=void 0===u?"primary":u,h=e.component,p=void 0===h?"div":h,g=e.disabled,v=void 0!==g&&g,m=e.error,y=void 0!==m&&m,b=e.fullWidth,_=void 0!==b&&b,w=e.focused,k=e.hiddenLabel,M=void 0!==k&&k,T=e.margin,A=void 0===T?"none":T,E=e.required,S=void 0!==E&&E,O=e.size,C=e.variant,L=void 0===C?"standard":C,R=Object(i.a)(e,["children","classes","className","color","component","disabled","error","fullWidth","focused","hiddenLabel","margin","required","size","variant"]),P=a.useState((function(){var e=!1;return n&&a.Children.forEach(n,(function(t){if(F(t,["Input","Select"])){var n=F(t,["Select"])?t.props.input:t;n&&n.props.startAdornment&&(e=!0)}})),e})),j=P[0],z=P[1],I=a.useState((function(){var e=!1;return n&&a.Children.forEach(n,(function(t){F(t,["Input","Select"])&&x(t.props,!0)&&(e=!0)})),e})),N=I[0],D=I[1],B=a.useState(!1),U=B[0],V=B[1],H=void 0!==w?w:U;v&&H&&V(!1);var q=a.useCallback((function(){D(!0)}),[]),W={adornedStart:j,setAdornedStart:z,color:f,disabled:v,error:y,filled:N,focused:H,fullWidth:_,hiddenLabel:M,margin:("small"===O?"dense":void 0)||A,onBlur:function(){V(!1)},onEmpty:a.useCallback((function(){D(!1)}),[]),onFilled:q,onFocus:function(){V(!0)},registerEffect:undefined,required:S,variant:L};return a.createElement(c.Provider,{value:W},a.createElement(p,Object(r.a)({className:Object(o.a)(s.root,l,"none"!==A&&s["margin".concat(Object(d.a)(A))],_&&s.fullWidth),ref:t},R),n))})),U=Object(f.a)({root:{display:"inline-flex",flexDirection:"column",position:"relative",minWidth:0,padding:0,margin:0,border:0,verticalAlign:"top"},marginNormal:{marginTop:16,marginBottom:8},marginDense:{marginTop:8,marginBottom:4},fullWidth:{width:"100%"}},{name:"MuiFormControl"})(B),V=a.forwardRef((function(e,t){var n=e.children,s=e.classes,u=e.className,c=e.component,f=void 0===c?"p":c,d=(e.disabled,e.error,e.filled,e.focused,e.margin,e.required,e.variant,Object(i.a)(e,["children","classes","className","component","disabled","error","filled","focused","margin","required","variant"])),h=l({props:e,muiFormControl:j(),states:["variant","margin","disabled","error","filled","focused","required"]});return a.createElement(f,Object(r.a)({className:Object(o.a)(s.root,("filled"===h.variant||"outlined"===h.variant)&&s.contained,u,h.disabled&&s.disabled,h.error&&s.error,h.filled&&s.filled,h.focused&&s.focused,h.required&&s.required,"dense"===h.margin&&s.marginDense),ref:t},d)," "===n?a.createElement("span",{dangerouslySetInnerHTML:{__html:"&#8203;"}}):n)})),H=Object(f.a)((function(e){return{root:Object(r.a)({color:e.palette.text.secondary},e.typography.caption,{textAlign:"left",marginTop:3,margin:0,"&$disabled":{color:e.palette.text.disabled},"&$error":{color:e.palette.error.main}}),error:{},disabled:{},marginDense:{marginTop:4},contained:{marginLeft:14,marginRight:14},focused:{},filled:{},required:{}}}),{name:"MuiFormHelperText"})(V),q=n(128),W=n(21),G=n(36),X=(n(38),n(16)),Y=n(12),Z=n(51),$=n(35),K=n(152),Q=n(134),J=n(99);function ee(e,t){var n=0;return"number"===typeof t?n=t:"center"===t?n=e.height/2:"bottom"===t&&(n=e.height),n}function te(e,t){var n=0;return"number"===typeof t?n=t:"center"===t?n=e.width/2:"right"===t&&(n=e.width),n}function ne(e){return[e.horizontal,e.vertical].map((function(e){return"number"===typeof e?"".concat(e,"px"):e})).join(" ")}function re(e){return"function"===typeof e?e():e}var ie=a.forwardRef((function(e,t){var n=e.action,s=e.anchorEl,l=e.anchorOrigin,u=void 0===l?{vertical:"top",horizontal:"left"}:l,c=e.anchorPosition,f=e.anchorReference,d=void 0===f?"anchorEl":f,h=e.children,g=e.classes,v=e.className,m=e.container,y=e.elevation,b=void 0===y?8:y,x=e.getContentAnchorEl,_=e.marginThreshold,w=void 0===_?16:_,k=e.onEnter,M=e.onEntered,T=e.onEntering,A=e.onExit,E=e.onExited,S=e.onExiting,O=e.open,C=e.PaperProps,L=void 0===C?{}:C,R=e.transformOrigin,P=void 0===R?{vertical:"top",horizontal:"left"}:R,j=e.TransitionComponent,z=void 0===j?Q.a:j,I=e.transitionDuration,N=void 0===I?"auto":I,D=e.TransitionProps,F=void 0===D?{}:D,B=Object(i.a)(e,["action","anchorEl","anchorOrigin","anchorPosition","anchorReference","children","classes","className","container","elevation","getContentAnchorEl","marginThreshold","onEnter","onEntered","onEntering","onExit","onExited","onExiting","open","PaperProps","transformOrigin","TransitionComponent","transitionDuration","TransitionProps"]),U=a.useRef(),V=a.useCallback((function(e){if("anchorPosition"===d)return c;var t=re(s),n=(t&&1===t.nodeType?t:Object(X.a)(U.current).body).getBoundingClientRect(),r=0===e?u.vertical:"center";return{top:n.top+ee(n,r),left:n.left+te(n,u.horizontal)}}),[s,u.horizontal,u.vertical,c,d]),H=a.useCallback((function(e){var t=0;if(x&&"anchorEl"===d){var n=x(e);if(n&&e.contains(n)){var r=function(e,t){for(var n=t,r=0;n&&n!==e;)r+=(n=n.parentElement).scrollTop;return r}(e,n);t=n.offsetTop+n.clientHeight/2-r||0}0}return t}),[u.vertical,d,x]),q=a.useCallback((function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return{vertical:ee(e,P.vertical)+t,horizontal:te(e,P.horizontal)}}),[P.horizontal,P.vertical]),W=a.useCallback((function(e){var t=H(e),n={width:e.offsetWidth,height:e.offsetHeight},r=q(n,t);if("none"===d)return{top:null,left:null,transformOrigin:ne(r)};var i=V(t),a=i.top-r.vertical,o=i.left-r.horizontal,l=a+n.height,u=o+n.width,c=Object(Z.a)(re(s)),f=c.innerHeight-w,h=c.innerWidth-w;if(a<w){var p=a-w;a-=p,r.vertical+=p}else if(l>f){var g=l-f;a-=g,r.vertical+=g}if(o<w){var v=o-w;o-=v,r.horizontal+=v}else if(u>h){var m=u-h;o-=m,r.horizontal+=m}return{top:"".concat(Math.round(a),"px"),left:"".concat(Math.round(o),"px"),transformOrigin:ne(r)}}),[s,d,V,H,q,w]),G=a.useCallback((function(){var e=U.current;if(e){var t=W(e);null!==t.top&&(e.style.top=t.top),null!==t.left&&(e.style.left=t.left),e.style.transformOrigin=t.transformOrigin}}),[W]),ie=a.useCallback((function(e){U.current=Y.findDOMNode(e)}),[]);a.useEffect((function(){O&&G()})),a.useImperativeHandle(n,(function(){return O?{updatePosition:function(){G()}}:null}),[O,G]),a.useEffect((function(){if(O){var e=Object(p.a)((function(){G()}));return window.addEventListener("resize",e),function(){e.clear(),window.removeEventListener("resize",e)}}}),[O,G]);var ae=N;"auto"!==N||z.muiSupportAuto||(ae=void 0);var oe=m||(s?Object(X.a)(re(s)).body:void 0);return a.createElement(K.a,Object(r.a)({container:oe,open:O,ref:t,BackdropProps:{invisible:!0},className:Object(o.a)(g.root,v)},B),a.createElement(z,Object(r.a)({appear:!0,in:O,onEnter:k,onEntered:M,onExit:A,onExited:E,onExiting:S,timeout:ae},F,{onEntering:Object($.a)((function(e,t){T&&T(e,t),G()}),F.onEntering)}),a.createElement(J.a,Object(r.a)({elevation:b,ref:ie},L,{className:Object(o.a)(g.paper,L.className)}),h)))})),ae=Object(f.a)({root:{},paper:{position:"absolute",overflowY:"auto",overflowX:"hidden",minWidth:16,minHeight:16,maxWidth:"calc(100% - 32px)",maxHeight:"calc(100% - 32px)",outline:0}},{name:"MuiPopover"})(ie);var oe=a.createContext({}),se=a.forwardRef((function(e,t){var n=e.children,s=e.classes,l=e.className,u=e.component,c=void 0===u?"ul":u,f=e.dense,d=void 0!==f&&f,h=e.disablePadding,p=void 0!==h&&h,g=e.subheader,v=Object(i.a)(e,["children","classes","className","component","dense","disablePadding","subheader"]),m=a.useMemo((function(){return{dense:d}}),[d]);return a.createElement(oe.Provider,{value:m},a.createElement(c,Object(r.a)({className:Object(o.a)(s.root,l,d&&s.dense,!p&&s.padding,g&&s.subheader),ref:t},v),g,n))})),le=Object(f.a)({root:{listStyle:"none",margin:0,padding:0,position:"relative"},padding:{paddingTop:8,paddingBottom:8},dense:{},subheader:{paddingTop:0}},{name:"MuiList"})(se),ue=n(52);function ce(e,t,n){return e===t?e.firstChild:t&&t.nextElementSibling?t.nextElementSibling:n?null:e.firstChild}function fe(e,t,n){return e===t?n?e.firstChild:e.lastChild:t&&t.previousElementSibling?t.previousElementSibling:n?null:e.lastChild}function de(e,t){if(void 0===t)return!0;var n=e.innerText;return void 0===n&&(n=e.textContent),0!==(n=n.trim().toLowerCase()).length&&(t.repeating?n[0]===t.keys[0]:0===n.indexOf(t.keys.join("")))}function he(e,t,n,r,i,a){for(var o=!1,s=i(e,t,!!t&&n);s;){if(s===e.firstChild){if(o)return;o=!0}var l=!r&&(s.disabled||"true"===s.getAttribute("aria-disabled"));if(s.hasAttribute("tabindex")&&de(s,a)&&!l)return void s.focus();s=i(e,s,n)}}var pe="undefined"===typeof window?a.useEffect:a.useLayoutEffect,ge=a.forwardRef((function(e,t){var n=e.actions,o=e.autoFocus,s=void 0!==o&&o,l=e.autoFocusItem,u=void 0!==l&&l,c=e.children,f=e.className,d=e.disabledItemsFocusable,p=void 0!==d&&d,g=e.disableListWrap,v=void 0!==g&&g,m=e.onKeyDown,y=e.variant,b=void 0===y?"selectedMenu":y,x=Object(i.a)(e,["actions","autoFocus","autoFocusItem","children","className","disabledItemsFocusable","disableListWrap","onKeyDown","variant"]),_=a.useRef(null),w=a.useRef({keys:[],repeating:!0,previousKeyMatched:!0,lastTime:null});pe((function(){s&&_.current.focus()}),[s]),a.useImperativeHandle(n,(function(){return{adjustStyleForScrollbar:function(e,t){var n=!_.current.style.width;if(e.clientHeight<_.current.clientHeight&&n){var r="".concat(Object(ue.a)(!0),"px");_.current.style["rtl"===t.direction?"paddingLeft":"paddingRight"]=r,_.current.style.width="calc(100% + ".concat(r,")")}return _.current}}}),[]);var k=a.useCallback((function(e){_.current=Y.findDOMNode(e)}),[]),M=Object(h.a)(k,t),T=-1;a.Children.forEach(c,(function(e,t){a.isValidElement(e)&&(e.props.disabled||("selectedMenu"===b&&e.props.selected||-1===T)&&(T=t))}));var A=a.Children.map(c,(function(e,t){if(t===T){var n={};return u&&(n.autoFocus=!0),void 0===e.props.tabIndex&&"selectedMenu"===b&&(n.tabIndex=0),a.cloneElement(e,n)}return e}));return a.createElement(le,Object(r.a)({role:"menu",ref:M,className:f,onKeyDown:function(e){var t=_.current,n=e.key,r=Object(X.a)(t).activeElement;if("ArrowDown"===n)e.preventDefault(),he(t,r,v,p,ce);else if("ArrowUp"===n)e.preventDefault(),he(t,r,v,p,fe);else if("Home"===n)e.preventDefault(),he(t,null,v,p,ce);else if("End"===n)e.preventDefault(),he(t,null,v,p,fe);else if(1===n.length){var i=w.current,a=n.toLowerCase(),o=performance.now();i.keys.length>0&&(o-i.lastTime>500?(i.keys=[],i.repeating=!0,i.previousKeyMatched=!0):i.repeating&&a!==i.keys[0]&&(i.repeating=!1)),i.lastTime=o,i.keys.push(a);var s=r&&!i.repeating&&de(r,i);i.previousKeyMatched&&(s||he(t,r,!1,p,ce,i))?e.preventDefault():i.previousKeyMatched=!1}m&&m(e)},tabIndex:s?0:-1},x),A)})),ve=n(22),me={vertical:"top",horizontal:"right"},ye={vertical:"top",horizontal:"left"},be=a.forwardRef((function(e,t){var n=e.autoFocus,s=void 0===n||n,l=e.children,u=e.classes,c=e.disableAutoFocusItem,f=void 0!==c&&c,d=e.MenuListProps,h=void 0===d?{}:d,p=e.onClose,g=e.onEntering,v=e.open,m=e.PaperProps,y=void 0===m?{}:m,b=e.PopoverClasses,x=e.transitionDuration,_=void 0===x?"auto":x,w=e.variant,k=void 0===w?"selectedMenu":w,M=Object(i.a)(e,["autoFocus","children","classes","disableAutoFocusItem","MenuListProps","onClose","onEntering","open","PaperProps","PopoverClasses","transitionDuration","variant"]),T=Object(O.a)(),A=s&&!f&&v,E=a.useRef(null),S=a.useRef(null),C=-1;a.Children.map(l,(function(e,t){a.isValidElement(e)&&(e.props.disabled||("menu"!==k&&e.props.selected||-1===C)&&(C=t))}));var L=a.Children.map(l,(function(e,t){return t===C?a.cloneElement(e,{ref:function(t){S.current=Y.findDOMNode(t),Object(ve.a)(e.ref,t)}}):e}));return a.createElement(ae,Object(r.a)({getContentAnchorEl:function(){return S.current},classes:b,onClose:p,onEntering:function(e,t){E.current&&E.current.adjustStyleForScrollbar(e,T),g&&g(e,t)},anchorOrigin:"rtl"===T.direction?me:ye,transformOrigin:"rtl"===T.direction?me:ye,PaperProps:Object(r.a)({},y,{classes:Object(r.a)({},y.classes,{root:u.paper})}),open:v,ref:t,transitionDuration:_},M),a.createElement(ge,Object(r.a)({onKeyDown:function(e){"Tab"===e.key&&(e.preventDefault(),p&&p(e,"tabKeyDown"))},actions:E,autoFocus:s&&(-1===C||f),autoFocusItem:A,variant:k},h,{className:Object(o.a)(u.list,h.className)}),L))})),xe=Object(f.a)({paper:{maxHeight:"calc(100% - 96px)",WebkitOverflowScrolling:"touch"},list:{outline:0}},{name:"MuiMenu"})(be),_e=n(41);function we(e,t){return"object"===Object(G.a)(t)&&null!==t?e===t:String(e)===String(t)}var ke=a.forwardRef((function(e,t){var n=e["aria-label"],l=e.autoFocus,u=e.autoWidth,c=e.children,f=e.classes,p=e.className,g=e.defaultValue,v=e.disabled,m=e.displayEmpty,y=e.IconComponent,b=e.inputRef,_=e.labelId,w=e.MenuProps,k=void 0===w?{}:w,M=e.multiple,T=e.name,A=e.onBlur,E=e.onChange,S=e.onClose,O=e.onFocus,C=e.onOpen,L=e.open,R=e.readOnly,P=e.renderValue,j=e.SelectDisplayProps,z=void 0===j?{}:j,I=e.tabIndex,N=(e.type,e.value),D=e.variant,F=void 0===D?"standard":D,B=Object(i.a)(e,["aria-label","autoFocus","autoWidth","children","classes","className","defaultValue","disabled","displayEmpty","IconComponent","inputRef","labelId","MenuProps","multiple","name","onBlur","onChange","onClose","onFocus","onOpen","open","readOnly","renderValue","SelectDisplayProps","tabIndex","type","value","variant"]),U=Object(_e.a)({controlled:N,default:g,name:"Select"}),V=Object(W.a)(U,2),H=V[0],q=V[1],G=a.useRef(null),Y=a.useState(null),Z=Y[0],$=Y[1],K=a.useRef(null!=L).current,Q=a.useState(),J=Q[0],ee=Q[1],te=a.useState(!1),ne=te[0],re=te[1],ie=Object(h.a)(t,b);a.useImperativeHandle(ie,(function(){return{focus:function(){Z.focus()},node:G.current,value:H}}),[Z,H]),a.useEffect((function(){l&&Z&&Z.focus()}),[l,Z]),a.useEffect((function(){if(Z){var e=Object(X.a)(Z).getElementById(_);if(e){var t=function(){getSelection().isCollapsed&&Z.focus()};return e.addEventListener("click",t),function(){e.removeEventListener("click",t)}}}}),[_,Z]);var ae,oe,se=function(e,t){e?C&&C(t):S&&S(t),K||(ee(u?null:Z.clientWidth),re(e))},le=a.Children.toArray(c),ue=function(e){return function(t){var n;if(M||se(!1,t),M){n=Array.isArray(H)?H.slice():[];var r=H.indexOf(e.props.value);-1===r?n.push(e.props.value):n.splice(r,1)}else n=e.props.value;e.props.onClick&&e.props.onClick(t),H!==n&&(q(n),E&&(t.persist(),Object.defineProperty(t,"target",{writable:!0,value:{value:n,name:T}}),E(t,e)))}},ce=null!==Z&&(K?L:ne);delete B["aria-invalid"];var fe=[],de=!1;(x({value:H})||m)&&(P?ae=P(H):de=!0);var he=le.map((function(e){if(!a.isValidElement(e))return null;var t;if(M){if(!Array.isArray(H))throw new Error(Object(s.a)(2));(t=H.some((function(t){return we(t,e.props.value)})))&&de&&fe.push(e.props.children)}else(t=we(H,e.props.value))&&de&&(oe=e.props.children);return t&&!0,a.cloneElement(e,{"aria-selected":t?"true":void 0,onClick:ue(e),onKeyUp:function(t){" "===t.key&&t.preventDefault(),e.props.onKeyUp&&e.props.onKeyUp(t)},role:"option",selected:t,value:void 0,"data-value":e.props.value})}));de&&(ae=M?fe.join(", "):oe);var pe,ge=J;!u&&K&&Z&&(ge=Z.clientWidth),pe="undefined"!==typeof I?I:v?null:0;var ve=z.id||(T?"mui-component-select-".concat(T):void 0);return a.createElement(a.Fragment,null,a.createElement("div",Object(r.a)({className:Object(o.a)(f.root,f.select,f.selectMenu,f[F],p,v&&f.disabled),ref:$,tabIndex:pe,role:"button","aria-disabled":v?"true":void 0,"aria-expanded":ce?"true":void 0,"aria-haspopup":"listbox","aria-label":n,"aria-labelledby":[_,ve].filter(Boolean).join(" ")||void 0,onKeyDown:function(e){if(!R){-1!==[" ","ArrowUp","ArrowDown","Enter"].indexOf(e.key)&&(e.preventDefault(),se(!0,e))}},onMouseDown:v||R?null:function(e){0===e.button&&(e.preventDefault(),Z.focus(),se(!0,e))},onBlur:function(e){!ce&&A&&(e.persist(),Object.defineProperty(e,"target",{writable:!0,value:{value:H,name:T}}),A(e))},onFocus:O},z,{id:ve}),function(e){return null==e||"string"===typeof e&&!e.trim()}(ae)?a.createElement("span",{dangerouslySetInnerHTML:{__html:"&#8203;"}}):ae),a.createElement("input",Object(r.a)({value:Array.isArray(H)?H.join(","):H,name:T,ref:G,"aria-hidden":!0,onChange:function(e){var t=le.map((function(e){return e.props.value})).indexOf(e.target.value);if(-1!==t){var n=le[t];q(n.props.value),E&&E(e,n)}},tabIndex:-1,className:f.nativeInput,autoFocus:l},B)),a.createElement(y,{className:Object(o.a)(f.icon,f["icon".concat(Object(d.a)(F))],ce&&f.iconOpen,v&&f.disabled)}),a.createElement(xe,Object(r.a)({id:"menu-".concat(T||""),anchorEl:Z,open:ce,onClose:function(e){se(!1,e)}},k,{MenuListProps:Object(r.a)({"aria-labelledby":_,role:"listbox",disableListWrap:!0},k.MenuListProps),PaperProps:Object(r.a)({},k.PaperProps,{style:Object(r.a)({minWidth:ge},null!=k.PaperProps?k.PaperProps.style:null)})}),he))})),Me=n(27),Te=Object(Me.a)(a.createElement("path",{d:"M7 10l5 5 5-5z"}),"ArrowDropDown"),Ae=a.forwardRef((function(e,t){var n=e.classes,s=e.className,l=e.disabled,u=e.IconComponent,c=e.inputRef,f=e.variant,h=void 0===f?"standard":f,p=Object(i.a)(e,["classes","className","disabled","IconComponent","inputRef","variant"]);return a.createElement(a.Fragment,null,a.createElement("select",Object(r.a)({className:Object(o.a)(n.root,n.select,n[h],s,l&&n.disabled),disabled:l,ref:c||t},p)),e.multiple?null:a.createElement(u,{className:Object(o.a)(n.icon,n["icon".concat(Object(d.a)(h))],l&&n.disabled)}))})),Ee=function(e){return{root:{},select:{"-moz-appearance":"none","-webkit-appearance":"none",userSelect:"none",borderRadius:0,minWidth:16,cursor:"pointer","&:focus":{backgroundColor:"light"===e.palette.type?"rgba(0, 0, 0, 0.05)":"rgba(255, 255, 255, 0.05)",borderRadius:0},"&::-ms-expand":{display:"none"},"&$disabled":{cursor:"default"},"&[multiple]":{height:"auto"},"&:not([multiple]) option, &:not([multiple]) optgroup":{backgroundColor:e.palette.background.paper},"&&":{paddingRight:24}},filled:{"&&":{paddingRight:32}},outlined:{borderRadius:e.shape.borderRadius,"&&":{paddingRight:32}},selectMenu:{height:"auto",minHeight:"1.1876em",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"},disabled:{},icon:{position:"absolute",right:0,top:"calc(50% - 12px)",pointerEvents:"none",color:e.palette.action.active,"&$disabled":{color:e.palette.action.disabled}},iconOpen:{transform:"rotate(180deg)"},iconFilled:{right:7},iconOutlined:{right:7},nativeInput:{bottom:0,left:0,position:"absolute",opacity:0,pointerEvents:"none",width:"100%"}}},Se=a.createElement(T,null),Oe=a.forwardRef((function(e,t){var n=e.children,o=e.classes,s=e.IconComponent,u=void 0===s?Te:s,c=e.input,f=void 0===c?Se:c,d=e.inputProps,h=(e.variant,Object(i.a)(e,["children","classes","IconComponent","input","inputProps","variant"])),p=l({props:e,muiFormControl:j(),states:["variant"]});return a.cloneElement(f,Object(r.a)({inputComponent:Ae,inputProps:Object(r.a)({children:n,classes:o,IconComponent:u,variant:p.variant,type:void 0},d,f?f.props.inputProps:{}),ref:t},h))}));Oe.muiName="Select";Object(f.a)(Ee,{name:"MuiNativeSelect"})(Oe);var Ce=Ee,Le=a.createElement(T,null),Re=a.createElement(E,null),Pe=a.forwardRef((function e(t,n){var o=t.autoWidth,s=void 0!==o&&o,u=t.children,c=t.classes,f=t.displayEmpty,d=void 0!==f&&f,h=t.IconComponent,p=void 0===h?Te:h,g=t.id,v=t.input,m=t.inputProps,y=t.label,b=t.labelId,x=t.labelWidth,_=void 0===x?0:x,w=t.MenuProps,k=t.multiple,M=void 0!==k&&k,T=t.native,A=void 0!==T&&T,E=t.onClose,S=t.onOpen,O=t.open,C=t.renderValue,L=t.SelectDisplayProps,R=t.variant,z=void 0===R?"standard":R,I=Object(i.a)(t,["autoWidth","children","classes","displayEmpty","IconComponent","id","input","inputProps","label","labelId","labelWidth","MenuProps","multiple","native","onClose","onOpen","open","renderValue","SelectDisplayProps","variant"]),N=A?Ae:ke,D=l({props:t,muiFormControl:j(),states:["variant"]}).variant||z,F=v||{standard:Le,outlined:a.createElement(P,{label:y,labelWidth:_}),filled:Re}[D];return a.cloneElement(F,Object(r.a)({inputComponent:N,inputProps:Object(r.a)({children:u,IconComponent:p,variant:D,type:void 0,multiple:M},A?{id:g}:{autoWidth:s,displayEmpty:d,labelId:b,MenuProps:w,onClose:E,onOpen:S,open:O,renderValue:C,SelectDisplayProps:Object(r.a)({id:g},L)},m,{classes:m?Object(q.a)({baseClasses:c,newClasses:m.classes,Component:e}):c},v?v.props.inputProps:{}),ref:n},I))}));Pe.muiName="Select";var je=Object(f.a)(Ce,{name:"MuiSelect"})(Pe),ze={standard:T,filled:E,outlined:P},Ie=a.forwardRef((function(e,t){var n=e.autoComplete,s=e.autoFocus,l=void 0!==s&&s,u=e.children,c=e.classes,f=e.className,d=e.color,h=void 0===d?"primary":d,p=e.defaultValue,g=e.disabled,v=void 0!==g&&g,m=e.error,y=void 0!==m&&m,b=e.FormHelperTextProps,x=e.fullWidth,_=void 0!==x&&x,w=e.helperText,k=e.hiddenLabel,M=e.id,T=e.InputLabelProps,A=e.inputProps,E=e.InputProps,S=e.inputRef,O=e.label,C=e.multiline,L=void 0!==C&&C,R=e.name,P=e.onBlur,j=e.onChange,z=e.onFocus,I=e.placeholder,N=e.required,F=void 0!==N&&N,B=e.rows,V=e.rowsMax,q=e.select,W=void 0!==q&&q,G=e.SelectProps,X=e.type,Y=e.value,Z=e.variant,$=void 0===Z?"standard":Z,K=Object(i.a)(e,["autoComplete","autoFocus","children","classes","className","color","defaultValue","disabled","error","FormHelperTextProps","fullWidth","helperText","hiddenLabel","id","InputLabelProps","inputProps","InputProps","inputRef","label","multiline","name","onBlur","onChange","onFocus","placeholder","required","rows","rowsMax","select","SelectProps","type","value","variant"]);var Q={};if("outlined"===$&&(T&&"undefined"!==typeof T.shrink&&(Q.notched=T.shrink),O)){var J,ee=null!==(J=null===T||void 0===T?void 0:T.required)&&void 0!==J?J:F;Q.label=a.createElement(a.Fragment,null,O,ee&&"\xa0*")}W&&(G&&G.native||(Q.id=void 0),Q["aria-describedby"]=void 0);var te=w&&M?"".concat(M,"-helper-text"):void 0,ne=O&&M?"".concat(M,"-label"):void 0,re=ze[$],ie=a.createElement(re,Object(r.a)({"aria-describedby":te,autoComplete:n,autoFocus:l,defaultValue:p,fullWidth:_,multiline:L,name:R,rows:B,rowsMax:V,type:X,value:Y,id:M,inputRef:S,onBlur:P,onChange:j,onFocus:z,placeholder:I,inputProps:A},Q,E));return a.createElement(U,Object(r.a)({className:Object(o.a)(c.root,f),disabled:v,error:y,fullWidth:_,hiddenLabel:k,ref:t,required:F,color:h,variant:$},K),O&&a.createElement(D,Object(r.a)({htmlFor:M,id:ne},T),O),W?a.createElement(je,Object(r.a)({"aria-describedby":te,id:M,labelId:ne,value:Y,input:ie},G),u):ie,w&&a.createElement(H,Object(r.a)({id:te},b),w))}));t.a=Object(f.a)({root:{}},{name:"MuiTextField"})(Ie)},function(e,t,n){"use strict";n.d(t,"a",(function(){return gn}));var r=n(3),i=n(1),a=n(0),o=n.n(a),s="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l="object"===("undefined"===typeof window?"undefined":s(window))&&"object"===("undefined"===typeof document?"undefined":s(document))&&9===document.nodeType;var u=n(42),c=n(37),f=n(44),d=n(31),h={}.constructor;function p(e){if(null==e||"object"!==typeof e)return e;if(Array.isArray(e))return e.map(p);if(e.constructor!==h)return e;var t={};for(var n in e)t[n]=p(e[n]);return t}function g(e,t,n){void 0===e&&(e="unnamed");var r=n.jss,i=p(t),a=r.plugins.onCreateRule(e,i,n);return a||(e[0],null)}var v=function(e,t){for(var n="",r=0;r<e.length&&"!important"!==e[r];r++)n&&(n+=t),n+=e[r];return n},m=function(e,t){if(void 0===t&&(t=!1),!Array.isArray(e))return e;var n="";if(Array.isArray(e[0]))for(var r=0;r<e.length&&"!important"!==e[r];r++)n&&(n+=", "),n+=v(e[r]," ");else n=v(e,", ");return t||"!important"!==e[e.length-1]||(n+=" !important"),n};function y(e,t){for(var n="",r=0;r<t;r++)n+="  ";return n+e}function b(e,t,n){void 0===n&&(n={});var r="";if(!t)return r;var i=n.indent,a=void 0===i?0:i,o=t.fallbacks;if(e&&a++,o)if(Array.isArray(o))for(var s=0;s<o.length;s++){var l=o[s];for(var u in l){var c=l[u];null!=c&&(r&&(r+="\n"),r+=""+y(u+": "+m(c)+";",a))}}else for(var f in o){var d=o[f];null!=d&&(r&&(r+="\n"),r+=""+y(f+": "+m(d)+";",a))}for(var h in t){var p=t[h];null!=p&&"fallbacks"!==h&&(r&&(r+="\n"),r+=""+y(h+": "+m(p)+";",a))}return(r||n.allowEmpty)&&e?(r&&(r="\n"+r+"\n"),y(e+" {"+r,--a)+y("}",a)):r}var x=/([[\].#*$><+~=|^:(),"'`\s])/g,_="undefined"!==typeof CSS&&CSS.escape,w=function(e){return _?_(e):e.replace(x,"\\$1")},k=function(){function e(e,t,n){this.type="style",this.key=void 0,this.isProcessed=!1,this.style=void 0,this.renderer=void 0,this.renderable=void 0,this.options=void 0;var r=n.sheet,i=n.Renderer;this.key=e,this.options=n,this.style=t,r?this.renderer=r.renderer:i&&(this.renderer=new i)}return e.prototype.prop=function(e,t,n){if(void 0===t)return this.style[e];var r=!!n&&n.force;if(!r&&this.style[e]===t)return this;var i=t;n&&!1===n.process||(i=this.options.jss.plugins.onChangeValue(t,e,this));var a=null==i||!1===i,o=e in this.style;if(a&&!o&&!r)return this;var s=a&&o;if(s?delete this.style[e]:this.style[e]=i,this.renderable&&this.renderer)return s?this.renderer.removeProperty(this.renderable,e):this.renderer.setProperty(this.renderable,e,i),this;var l=this.options.sheet;return l&&l.attached,this},e}(),M=function(e){function t(t,n,r){var i;(i=e.call(this,t,n,r)||this).selectorText=void 0,i.id=void 0,i.renderable=void 0;var a=r.selector,o=r.scoped,s=r.sheet,l=r.generateId;return a?i.selectorText=a:!1!==o&&(i.id=l(Object(f.a)(Object(f.a)(i)),s),i.selectorText="."+w(i.id)),i}Object(c.a)(t,e);var n=t.prototype;return n.applyTo=function(e){var t=this.renderer;if(t){var n=this.toJSON();for(var r in n)t.setProperty(e,r,n[r])}return this},n.toJSON=function(){var e={};for(var t in this.style){var n=this.style[t];"object"!==typeof n?e[t]=n:Array.isArray(n)&&(e[t]=m(n))}return e},n.toString=function(e){var t=this.options.sheet,n=!!t&&t.options.link?Object(i.a)({},e,{allowEmpty:!0}):e;return b(this.selectorText,this.style,n)},Object(u.a)(t,[{key:"selector",set:function(e){if(e!==this.selectorText){this.selectorText=e;var t=this.renderer,n=this.renderable;if(n&&t)t.setSelector(n,e)||t.replaceRule(n,this)}},get:function(){return this.selectorText}}]),t}(k),T={onCreateRule:function(e,t,n){return"@"===e[0]||n.parent&&"keyframes"===n.parent.type?null:new M(e,t,n)}},A={indent:1,children:!0},E=/@([\w-]+)/,S=function(){function e(e,t,n){this.type="conditional",this.at=void 0,this.key=void 0,this.query=void 0,this.rules=void 0,this.options=void 0,this.isProcessed=!1,this.renderable=void 0,this.key=e;var r=e.match(E);for(var a in this.at=r?r[1]:"unknown",this.query=n.name||"@"+this.at,this.options=n,this.rules=new K(Object(i.a)({},n,{parent:this})),t)this.rules.add(a,t[a]);this.rules.process()}var t=e.prototype;return t.getRule=function(e){return this.rules.get(e)},t.indexOf=function(e){return this.rules.indexOf(e)},t.addRule=function(e,t,n){var r=this.rules.add(e,t,n);return r?(this.options.jss.plugins.onProcessRule(r),r):null},t.toString=function(e){if(void 0===e&&(e=A),null==e.indent&&(e.indent=A.indent),null==e.children&&(e.children=A.children),!1===e.children)return this.query+" {}";var t=this.rules.toString(e);return t?this.query+" {\n"+t+"\n}":""},e}(),O=/@media|@supports\s+/,C={onCreateRule:function(e,t,n){return O.test(e)?new S(e,t,n):null}},L={indent:1,children:!0},R=/@keyframes\s+([\w-]+)/,P=function(){function e(e,t,n){this.type="keyframes",this.at="@keyframes",this.key=void 0,this.name=void 0,this.id=void 0,this.rules=void 0,this.options=void 0,this.isProcessed=!1,this.renderable=void 0;var r=e.match(R);r&&r[1]?this.name=r[1]:this.name="noname",this.key=this.type+"-"+this.name,this.options=n;var a=n.scoped,o=n.sheet,s=n.generateId;for(var l in this.id=!1===a?this.name:w(s(this,o)),this.rules=new K(Object(i.a)({},n,{parent:this})),t)this.rules.add(l,t[l],Object(i.a)({},n,{parent:this}));this.rules.process()}return e.prototype.toString=function(e){if(void 0===e&&(e=L),null==e.indent&&(e.indent=L.indent),null==e.children&&(e.children=L.children),!1===e.children)return this.at+" "+this.id+" {}";var t=this.rules.toString(e);return t&&(t="\n"+t+"\n"),this.at+" "+this.id+" {"+t+"}"},e}(),j=/@keyframes\s+/,z=/\$([\w-]+)/g,I=function(e,t){return"string"===typeof e?e.replace(z,(function(e,n){return n in t?t[n]:e})):e},N=function(e,t,n){var r=e[t],i=I(r,n);i!==r&&(e[t]=i)},D={onCreateRule:function(e,t,n){return"string"===typeof e&&j.test(e)?new P(e,t,n):null},onProcessStyle:function(e,t,n){return"style"===t.type&&n?("animation-name"in e&&N(e,"animation-name",n.keyframes),"animation"in e&&N(e,"animation",n.keyframes),e):e},onChangeValue:function(e,t,n){var r=n.options.sheet;if(!r)return e;switch(t){case"animation":case"animation-name":return I(e,r.keyframes);default:return e}}},F=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).renderable=void 0,t}return Object(c.a)(t,e),t.prototype.toString=function(e){var t=this.options.sheet,n=!!t&&t.options.link?Object(i.a)({},e,{allowEmpty:!0}):e;return b(this.key,this.style,n)},t}(k),B={onCreateRule:function(e,t,n){return n.parent&&"keyframes"===n.parent.type?new F(e,t,n):null}},U=function(){function e(e,t,n){this.type="font-face",this.at="@font-face",this.key=void 0,this.style=void 0,this.options=void 0,this.isProcessed=!1,this.renderable=void 0,this.key=e,this.style=t,this.options=n}return e.prototype.toString=function(e){if(Array.isArray(this.style)){for(var t="",n=0;n<this.style.length;n++)t+=b(this.at,this.style[n]),this.style[n+1]&&(t+="\n");return t}return b(this.at,this.style,e)},e}(),V=/@font-face/,H={onCreateRule:function(e,t,n){return V.test(e)?new U(e,t,n):null}},q=function(){function e(e,t,n){this.type="viewport",this.at="@viewport",this.key=void 0,this.style=void 0,this.options=void 0,this.isProcessed=!1,this.renderable=void 0,this.key=e,this.style=t,this.options=n}return e.prototype.toString=function(e){return b(this.key,this.style,e)},e}(),W={onCreateRule:function(e,t,n){return"@viewport"===e||"@-ms-viewport"===e?new q(e,t,n):null}},G=function(){function e(e,t,n){this.type="simple",this.key=void 0,this.value=void 0,this.options=void 0,this.isProcessed=!1,this.renderable=void 0,this.key=e,this.value=t,this.options=n}return e.prototype.toString=function(e){if(Array.isArray(this.value)){for(var t="",n=0;n<this.value.length;n++)t+=this.key+" "+this.value[n]+";",this.value[n+1]&&(t+="\n");return t}return this.key+" "+this.value+";"},e}(),X={"@charset":!0,"@import":!0,"@namespace":!0},Y=[T,C,D,B,H,W,{onCreateRule:function(e,t,n){return e in X?new G(e,t,n):null}}],Z={process:!0},$={force:!0,process:!0},K=function(){function e(e){this.map={},this.raw={},this.index=[],this.counter=0,this.options=void 0,this.classes=void 0,this.keyframes=void 0,this.options=e,this.classes=e.classes,this.keyframes=e.keyframes}var t=e.prototype;return t.add=function(e,t,n){var r=this.options,a=r.parent,o=r.sheet,s=r.jss,l=r.Renderer,u=r.generateId,c=r.scoped,f=Object(i.a)({classes:this.classes,parent:a,sheet:o,jss:s,Renderer:l,generateId:u,scoped:c,name:e,keyframes:this.keyframes,selector:void 0},n),d=e;e in this.raw&&(d=e+"-d"+this.counter++),this.raw[d]=t,d in this.classes&&(f.selector="."+w(this.classes[d]));var h=g(d,t,f);if(!h)return null;this.register(h);var p=void 0===f.index?this.index.length:f.index;return this.index.splice(p,0,h),h},t.get=function(e){return this.map[e]},t.remove=function(e){this.unregister(e),delete this.raw[e.key],this.index.splice(this.index.indexOf(e),1)},t.indexOf=function(e){return this.index.indexOf(e)},t.process=function(){var e=this.options.jss.plugins;this.index.slice(0).forEach(e.onProcessRule,e)},t.register=function(e){this.map[e.key]=e,e instanceof M?(this.map[e.selector]=e,e.id&&(this.classes[e.key]=e.id)):e instanceof P&&this.keyframes&&(this.keyframes[e.name]=e.id)},t.unregister=function(e){delete this.map[e.key],e instanceof M?(delete this.map[e.selector],delete this.classes[e.key]):e instanceof P&&delete this.keyframes[e.name]},t.update=function(){var e,t,n;if("string"===typeof(arguments.length<=0?void 0:arguments[0])?(e=arguments.length<=0?void 0:arguments[0],t=arguments.length<=1?void 0:arguments[1],n=arguments.length<=2?void 0:arguments[2]):(t=arguments.length<=0?void 0:arguments[0],n=arguments.length<=1?void 0:arguments[1],e=null),e)this.updateOne(this.map[e],t,n);else for(var r=0;r<this.index.length;r++)this.updateOne(this.index[r],t,n)},t.updateOne=function(t,n,r){void 0===r&&(r=Z);var i=this.options,a=i.jss.plugins,o=i.sheet;if(t.rules instanceof e)t.rules.update(n,r);else{var s=t,l=s.style;if(a.onUpdate(n,t,o,r),r.process&&l&&l!==s.style){for(var u in a.onProcessStyle(s.style,s,o),s.style){var c=s.style[u];c!==l[u]&&s.prop(u,c,$)}for(var f in l){var d=s.style[f],h=l[f];null==d&&d!==h&&s.prop(f,null,$)}}}},t.toString=function(e){for(var t="",n=this.options.sheet,r=!!n&&n.options.link,i=0;i<this.index.length;i++){var a=this.index[i].toString(e);(a||r)&&(t&&(t+="\n"),t+=a)}return t},e}(),Q=function(){function e(e,t){for(var n in this.options=void 0,this.deployed=void 0,this.attached=void 0,this.rules=void 0,this.renderer=void 0,this.classes=void 0,this.keyframes=void 0,this.queue=void 0,this.attached=!1,this.deployed=!1,this.classes={},this.keyframes={},this.options=Object(i.a)({},t,{sheet:this,parent:this,classes:this.classes,keyframes:this.keyframes}),t.Renderer&&(this.renderer=new t.Renderer(this)),this.rules=new K(this.options),e)this.rules.add(n,e[n]);this.rules.process()}var t=e.prototype;return t.attach=function(){return this.attached||(this.renderer&&this.renderer.attach(),this.attached=!0,this.deployed||this.deploy()),this},t.detach=function(){return this.attached?(this.renderer&&this.renderer.detach(),this.attached=!1,this):this},t.addRule=function(e,t,n){var r=this.queue;this.attached&&!r&&(this.queue=[]);var i=this.rules.add(e,t,n);return i?(this.options.jss.plugins.onProcessRule(i),this.attached?this.deployed?(r?r.push(i):(this.insertRule(i),this.queue&&(this.queue.forEach(this.insertRule,this),this.queue=void 0)),i):i:(this.deployed=!1,i)):null},t.insertRule=function(e){this.renderer&&this.renderer.insertRule(e)},t.addRules=function(e,t){var n=[];for(var r in e){var i=this.addRule(r,e[r],t);i&&n.push(i)}return n},t.getRule=function(e){return this.rules.get(e)},t.deleteRule=function(e){var t="object"===typeof e?e:this.rules.get(e);return!(!t||this.attached&&!t.renderable)&&(this.rules.remove(t),!(this.attached&&t.renderable&&this.renderer)||this.renderer.deleteRule(t.renderable))},t.indexOf=function(e){return this.rules.indexOf(e)},t.deploy=function(){return this.renderer&&this.renderer.deploy(),this.deployed=!0,this},t.update=function(){var e;return(e=this.rules).update.apply(e,arguments),this},t.updateOne=function(e,t,n){return this.rules.updateOne(e,t,n),this},t.toString=function(e){return this.rules.toString(e)},e}(),J=function(){function e(){this.plugins={internal:[],external:[]},this.registry=void 0}var t=e.prototype;return t.onCreateRule=function(e,t,n){for(var r=0;r<this.registry.onCreateRule.length;r++){var i=this.registry.onCreateRule[r](e,t,n);if(i)return i}return null},t.onProcessRule=function(e){if(!e.isProcessed){for(var t=e.options.sheet,n=0;n<this.registry.onProcessRule.length;n++)this.registry.onProcessRule[n](e,t);e.style&&this.onProcessStyle(e.style,e,t),e.isProcessed=!0}},t.onProcessStyle=function(e,t,n){for(var r=0;r<this.registry.onProcessStyle.length;r++)t.style=this.registry.onProcessStyle[r](t.style,t,n)},t.onProcessSheet=function(e){for(var t=0;t<this.registry.onProcessSheet.length;t++)this.registry.onProcessSheet[t](e)},t.onUpdate=function(e,t,n,r){for(var i=0;i<this.registry.onUpdate.length;i++)this.registry.onUpdate[i](e,t,n,r)},t.onChangeValue=function(e,t,n){for(var r=e,i=0;i<this.registry.onChangeValue.length;i++)r=this.registry.onChangeValue[i](r,t,n);return r},t.use=function(e,t){void 0===t&&(t={queue:"external"});var n=this.plugins[t.queue];-1===n.indexOf(e)&&(n.push(e),this.registry=[].concat(this.plugins.external,this.plugins.internal).reduce((function(e,t){for(var n in t)n in e&&e[n].push(t[n]);return e}),{onCreateRule:[],onProcessRule:[],onProcessStyle:[],onProcessSheet:[],onChangeValue:[],onUpdate:[]}))},e}(),ee=new(function(){function e(){this.registry=[]}var t=e.prototype;return t.add=function(e){var t=this.registry,n=e.options.index;if(-1===t.indexOf(e))if(0===t.length||n>=this.index)t.push(e);else for(var r=0;r<t.length;r++)if(t[r].options.index>n)return void t.splice(r,0,e)},t.reset=function(){this.registry=[]},t.remove=function(e){var t=this.registry.indexOf(e);this.registry.splice(t,1)},t.toString=function(e){for(var t=void 0===e?{}:e,n=t.attached,r=Object(d.a)(t,["attached"]),i="",a=0;a<this.registry.length;a++){var o=this.registry[a];null!=n&&o.attached!==n||(i&&(i+="\n"),i+=o.toString(r))}return i},Object(u.a)(e,[{key:"index",get:function(){return 0===this.registry.length?0:this.registry[this.registry.length-1].options.index}}]),e}()),te="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")(),ne="2f1acc6c3a606b082e5eef5e54414ffb";null==te[ne]&&(te[ne]=0);var re=te[ne]++,ie=function(e){void 0===e&&(e={});var t=0;return function(n,r){t+=1;var i="",a="";return r&&(r.options.classNamePrefix&&(a=r.options.classNamePrefix),null!=r.options.jss.id&&(i=String(r.options.jss.id))),e.minify?""+(a||"c")+re+i+t:a+n.key+"-"+re+(i?"-"+i:"")+"-"+t}},ae=function(e){var t;return function(){return t||(t=e()),t}},oe=function(e,t){try{return e.attributeStyleMap?e.attributeStyleMap.get(t):e.style.getPropertyValue(t)}catch(n){return""}},se=function(e,t,n){try{var r=n;if(Array.isArray(n)&&(r=m(n,!0),"!important"===n[n.length-1]))return e.style.setProperty(t,r,"important"),!0;e.attributeStyleMap?e.attributeStyleMap.set(t,r):e.style.setProperty(t,r)}catch(i){return!1}return!0},le=function(e,t){try{e.attributeStyleMap?e.attributeStyleMap.delete(t):e.style.removeProperty(t)}catch(n){}},ue=function(e,t){return e.selectorText=t,e.selectorText===t},ce=ae((function(){return document.querySelector("head")}));function fe(e){var t=ee.registry;if(t.length>0){var n=function(e,t){for(var n=0;n<e.length;n++){var r=e[n];if(r.attached&&r.options.index>t.index&&r.options.insertionPoint===t.insertionPoint)return r}return null}(t,e);if(n&&n.renderer)return{parent:n.renderer.element.parentNode,node:n.renderer.element};if((n=function(e,t){for(var n=e.length-1;n>=0;n--){var r=e[n];if(r.attached&&r.options.insertionPoint===t.insertionPoint)return r}return null}(t,e))&&n.renderer)return{parent:n.renderer.element.parentNode,node:n.renderer.element.nextSibling}}var r=e.insertionPoint;if(r&&"string"===typeof r){var i=function(e){for(var t=ce(),n=0;n<t.childNodes.length;n++){var r=t.childNodes[n];if(8===r.nodeType&&r.nodeValue.trim()===e)return r}return null}(r);if(i)return{parent:i.parentNode,node:i.nextSibling}}return!1}var de=ae((function(){var e=document.querySelector('meta[property="csp-nonce"]');return e?e.getAttribute("content"):null})),he=function(e,t,n){try{if("insertRule"in e)e.insertRule(t,n);else if("appendRule"in e){e.appendRule(t)}}catch(r){return!1}return e.cssRules[n]},pe=function(e,t){var n=e.cssRules.length;return void 0===t||t>n?n:t},ge=function(){function e(e){this.getPropertyValue=oe,this.setProperty=se,this.removeProperty=le,this.setSelector=ue,this.element=void 0,this.sheet=void 0,this.hasInsertedRules=!1,this.cssRules=[],e&&ee.add(e),this.sheet=e;var t=this.sheet?this.sheet.options:{},n=t.media,r=t.meta,i=t.element;this.element=i||function(){var e=document.createElement("style");return e.textContent="\n",e}(),this.element.setAttribute("data-jss",""),n&&this.element.setAttribute("media",n),r&&this.element.setAttribute("data-meta",r);var a=de();a&&this.element.setAttribute("nonce",a)}var t=e.prototype;return t.attach=function(){if(!this.element.parentNode&&this.sheet){!function(e,t){var n=t.insertionPoint,r=fe(t);if(!1!==r&&r.parent)r.parent.insertBefore(e,r.node);else if(n&&"number"===typeof n.nodeType){var i=n,a=i.parentNode;a&&a.insertBefore(e,i.nextSibling)}else ce().appendChild(e)}(this.element,this.sheet.options);var e=Boolean(this.sheet&&this.sheet.deployed);this.hasInsertedRules&&e&&(this.hasInsertedRules=!1,this.deploy())}},t.detach=function(){if(this.sheet){var e=this.element.parentNode;e&&e.removeChild(this.element),this.sheet.options.link&&(this.cssRules=[],this.element.textContent="\n")}},t.deploy=function(){var e=this.sheet;e&&(e.options.link?this.insertRules(e.rules):this.element.textContent="\n"+e.toString()+"\n")},t.insertRules=function(e,t){for(var n=0;n<e.index.length;n++)this.insertRule(e.index[n],n,t)},t.insertRule=function(e,t,n){if(void 0===n&&(n=this.element.sheet),e.rules){var r=e,i=n;if("conditional"===e.type||"keyframes"===e.type){var a=pe(n,t);if(!1===(i=he(n,r.toString({children:!1}),a)))return!1;this.refCssRule(e,a,i)}return this.insertRules(r.rules,i),i}var o=e.toString();if(!o)return!1;var s=pe(n,t),l=he(n,o,s);return!1!==l&&(this.hasInsertedRules=!0,this.refCssRule(e,s,l),l)},t.refCssRule=function(e,t,n){e.renderable=n,e.options.parent instanceof Q&&(this.cssRules[t]=n)},t.deleteRule=function(e){var t=this.element.sheet,n=this.indexOf(e);return-1!==n&&(t.deleteRule(n),this.cssRules.splice(n,1),!0)},t.indexOf=function(e){return this.cssRules.indexOf(e)},t.replaceRule=function(e,t){var n=this.indexOf(e);return-1!==n&&(this.element.sheet.deleteRule(n),this.cssRules.splice(n,1),this.insertRule(t,n))},t.getRules=function(){return this.element.sheet.cssRules},e}(),ve=0,me=function(){function e(e){this.id=ve++,this.version="10.5.0",this.plugins=new J,this.options={id:{minify:!1},createGenerateId:ie,Renderer:l?ge:null,plugins:[]},this.generateId=ie({minify:!1});for(var t=0;t<Y.length;t++)this.plugins.use(Y[t],{queue:"internal"});this.setup(e)}var t=e.prototype;return t.setup=function(e){return void 0===e&&(e={}),e.createGenerateId&&(this.options.createGenerateId=e.createGenerateId),e.id&&(this.options.id=Object(i.a)({},this.options.id,e.id)),(e.createGenerateId||e.id)&&(this.generateId=this.options.createGenerateId(this.options.id)),null!=e.insertionPoint&&(this.options.insertionPoint=e.insertionPoint),"Renderer"in e&&(this.options.Renderer=e.Renderer),e.plugins&&this.use.apply(this,e.plugins),this},t.createStyleSheet=function(e,t){void 0===t&&(t={});var n=t.index;"number"!==typeof n&&(n=0===ee.index?0:ee.index+1);var r=new Q(e,Object(i.a)({},t,{jss:this,generateId:t.generateId||this.generateId,insertionPoint:this.options.insertionPoint,Renderer:this.options.Renderer,index:n}));return this.plugins.onProcessSheet(r),r},t.removeStyleSheet=function(e){return e.detach(),ee.remove(e),this},t.createRule=function(e,t,n){if(void 0===t&&(t={}),void 0===n&&(n={}),"object"===typeof e)return this.createRule(void 0,e,t);var r=Object(i.a)({},n,{name:e,jss:this,Renderer:this.options.Renderer});r.generateId||(r.generateId=this.generateId),r.classes||(r.classes={}),r.keyframes||(r.keyframes={});var a=g(e,t,r);return a&&this.plugins.onProcessRule(a),a},t.use=function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return n.forEach((function(t){e.plugins.use(t)})),this},e}();function ye(e){var t=null;for(var n in e){var r=e[n],i=typeof r;if("function"===i)t||(t={}),t[n]=r;else if("object"===i&&null!==r&&!Array.isArray(r)){var a=ye(r);a&&(t||(t={}),t[n]=a)}}return t}var be="object"===typeof CSS&&null!=CSS&&"number"in CSS,xe=function(e){return new me(e)},_e=(xe(),n(128)),we={set:function(e,t,n,r){var i=e.get(t);i||(i=new Map,e.set(t,i)),i.set(n,r)},get:function(e,t,n){var r=e.get(t);return r?r.get(n):void 0},delete:function(e,t,n){e.get(t).delete(n)}},ke=n(58),Me=(n(5),n(48)),Te=["checked","disabled","error","focused","focusVisible","required","expanded","selected"];var Ae=Date.now(),Ee="fnValues"+Ae,Se="fnStyle"+ ++Ae,Oe=function(){return{onCreateRule:function(e,t,n){if("function"!==typeof t)return null;var r=g(e,{},n);return r[Se]=t,r},onProcessStyle:function(e,t){if(Ee in t||Se in t)return e;var n={};for(var r in e){var i=e[r];"function"===typeof i&&(delete e[r],n[r]=i)}return t[Ee]=n,e},onUpdate:function(e,t,n,r){var i=t,a=i[Se];a&&(i.style=a(e)||{});var o=i[Ee];if(o)for(var s in o)i.prop(s,o[s](e),r)}}},Ce="@global",Le="@global ",Re=function(){function e(e,t,n){for(var r in this.type="global",this.at=Ce,this.rules=void 0,this.options=void 0,this.key=void 0,this.isProcessed=!1,this.key=e,this.options=n,this.rules=new K(Object(i.a)({},n,{parent:this})),t)this.rules.add(r,t[r]);this.rules.process()}var t=e.prototype;return t.getRule=function(e){return this.rules.get(e)},t.addRule=function(e,t,n){var r=this.rules.add(e,t,n);return r&&this.options.jss.plugins.onProcessRule(r),r},t.indexOf=function(e){return this.rules.indexOf(e)},t.toString=function(){return this.rules.toString()},e}(),Pe=function(){function e(e,t,n){this.type="global",this.at=Ce,this.options=void 0,this.rule=void 0,this.isProcessed=!1,this.key=void 0,this.key=e,this.options=n;var r=e.substr(Le.length);this.rule=n.jss.createRule(r,t,Object(i.a)({},n,{parent:this}))}return e.prototype.toString=function(e){return this.rule?this.rule.toString(e):""},e}(),je=/\s*,\s*/g;function ze(e,t){for(var n=e.split(je),r="",i=0;i<n.length;i++)r+=t+" "+n[i].trim(),n[i+1]&&(r+=", ");return r}var Ie=function(){return{onCreateRule:function(e,t,n){if(!e)return null;if(e===Ce)return new Re(e,t,n);if("@"===e[0]&&e.substr(0,Le.length)===Le)return new Pe(e,t,n);var r=n.parent;return r&&("global"===r.type||r.options.parent&&"global"===r.options.parent.type)&&(n.scoped=!1),!1===n.scoped&&(n.selector=e),null},onProcessRule:function(e,t){"style"===e.type&&t&&(function(e,t){var n=e.options,r=e.style,a=r?r[Ce]:null;if(a){for(var o in a)t.addRule(o,a[o],Object(i.a)({},n,{selector:ze(o,e.selector)}));delete r[Ce]}}(e,t),function(e,t){var n=e.options,r=e.style;for(var a in r)if("@"===a[0]&&a.substr(0,Ce.length)===Ce){var o=ze(a.substr(Ce.length),e.selector);t.addRule(o,r[a],Object(i.a)({},n,{selector:o})),delete r[a]}}(e,t))}}},Ne=/\s*,\s*/g,De=/&/g,Fe=/\$([\w-]+)/g;var Be=function(){function e(e,t){return function(n,r){var i=e.getRule(r)||t&&t.getRule(r);return i?(i=i).selector:r}}function t(e,t){for(var n=t.split(Ne),r=e.split(Ne),i="",a=0;a<n.length;a++)for(var o=n[a],s=0;s<r.length;s++){var l=r[s];i&&(i+=", "),i+=-1!==l.indexOf("&")?l.replace(De,o):o+" "+l}return i}function n(e,t,n){if(n)return Object(i.a)({},n,{index:n.index+1});var r=e.options.nestingLevel;r=void 0===r?1:r+1;var a=Object(i.a)({},e.options,{nestingLevel:r,index:t.indexOf(e)+1});return delete a.name,a}return{onProcessStyle:function(r,a,o){if("style"!==a.type)return r;var s,l,u=a,c=u.options.parent;for(var f in r){var d=-1!==f.indexOf("&"),h="@"===f[0];if(d||h){if(s=n(u,c,s),d){var p=t(f,u.selector);l||(l=e(c,o)),p=p.replace(Fe,l),c.addRule(p,r[f],Object(i.a)({},s,{selector:p}))}else h&&c.addRule(f,{},s).addRule(u.key,r[f],{selector:u.selector});delete r[f]}}return r}}},Ue=/[A-Z]/g,Ve=/^ms-/,He={};function qe(e){return"-"+e.toLowerCase()}var We=function(e){if(He.hasOwnProperty(e))return He[e];var t=e.replace(Ue,qe);return He[e]=Ve.test(t)?"-"+t:t};function Ge(e){var t={};for(var n in e){t[0===n.indexOf("--")?n:We(n)]=e[n]}return e.fallbacks&&(Array.isArray(e.fallbacks)?t.fallbacks=e.fallbacks.map(Ge):t.fallbacks=Ge(e.fallbacks)),t}var Xe=function(){return{onProcessStyle:function(e){if(Array.isArray(e)){for(var t=0;t<e.length;t++)e[t]=Ge(e[t]);return e}return Ge(e)},onChangeValue:function(e,t,n){if(0===t.indexOf("--"))return e;var r=We(t);return t===r?e:(n.prop(r,e),null)}}},Ye=be&&CSS?CSS.px:"px",Ze=be&&CSS?CSS.ms:"ms",$e=be&&CSS?CSS.percent:"%";function Ke(e){var t=/(-[a-z])/g,n=function(e){return e[1].toUpperCase()},r={};for(var i in e)r[i]=e[i],r[i.replace(t,n)]=e[i];return r}var Qe=Ke({"animation-delay":Ze,"animation-duration":Ze,"background-position":Ye,"background-position-x":Ye,"background-position-y":Ye,"background-size":Ye,border:Ye,"border-bottom":Ye,"border-bottom-left-radius":Ye,"border-bottom-right-radius":Ye,"border-bottom-width":Ye,"border-left":Ye,"border-left-width":Ye,"border-radius":Ye,"border-right":Ye,"border-right-width":Ye,"border-top":Ye,"border-top-left-radius":Ye,"border-top-right-radius":Ye,"border-top-width":Ye,"border-width":Ye,"border-block":Ye,"border-block-end":Ye,"border-block-end-width":Ye,"border-block-start":Ye,"border-block-start-width":Ye,"border-block-width":Ye,"border-inline":Ye,"border-inline-end":Ye,"border-inline-end-width":Ye,"border-inline-start":Ye,"border-inline-start-width":Ye,"border-inline-width":Ye,"border-start-start-radius":Ye,"border-start-end-radius":Ye,"border-end-start-radius":Ye,"border-end-end-radius":Ye,margin:Ye,"margin-bottom":Ye,"margin-left":Ye,"margin-right":Ye,"margin-top":Ye,"margin-block":Ye,"margin-block-end":Ye,"margin-block-start":Ye,"margin-inline":Ye,"margin-inline-end":Ye,"margin-inline-start":Ye,padding:Ye,"padding-bottom":Ye,"padding-left":Ye,"padding-right":Ye,"padding-top":Ye,"padding-block":Ye,"padding-block-end":Ye,"padding-block-start":Ye,"padding-inline":Ye,"padding-inline-end":Ye,"padding-inline-start":Ye,"mask-position-x":Ye,"mask-position-y":Ye,"mask-size":Ye,height:Ye,width:Ye,"min-height":Ye,"max-height":Ye,"min-width":Ye,"max-width":Ye,bottom:Ye,left:Ye,top:Ye,right:Ye,inset:Ye,"inset-block":Ye,"inset-block-end":Ye,"inset-block-start":Ye,"inset-inline":Ye,"inset-inline-end":Ye,"inset-inline-start":Ye,"box-shadow":Ye,"text-shadow":Ye,"column-gap":Ye,"column-rule":Ye,"column-rule-width":Ye,"column-width":Ye,"font-size":Ye,"font-size-delta":Ye,"letter-spacing":Ye,"text-indent":Ye,"text-stroke":Ye,"text-stroke-width":Ye,"word-spacing":Ye,motion:Ye,"motion-offset":Ye,outline:Ye,"outline-offset":Ye,"outline-width":Ye,perspective:Ye,"perspective-origin-x":$e,"perspective-origin-y":$e,"transform-origin":$e,"transform-origin-x":$e,"transform-origin-y":$e,"transform-origin-z":$e,"transition-delay":Ze,"transition-duration":Ze,"vertical-align":Ye,"flex-basis":Ye,"shape-margin":Ye,size:Ye,gap:Ye,grid:Ye,"grid-gap":Ye,"grid-row-gap":Ye,"grid-column-gap":Ye,"grid-template-rows":Ye,"grid-template-columns":Ye,"grid-auto-rows":Ye,"grid-auto-columns":Ye,"box-shadow-x":Ye,"box-shadow-y":Ye,"box-shadow-blur":Ye,"box-shadow-spread":Ye,"font-line-height":Ye,"text-shadow-x":Ye,"text-shadow-y":Ye,"text-shadow-blur":Ye});function Je(e,t,n){if(null==t)return t;if(Array.isArray(t))for(var r=0;r<t.length;r++)t[r]=Je(e,t[r],n);else if("object"===typeof t)if("fallbacks"===e)for(var i in t)t[i]=Je(i,t[i],n);else for(var a in t)t[a]=Je(e+"-"+a,t[a],n);else if("number"===typeof t){var o=n[e]||Qe[e];return!o||0===t&&o===Ye?t.toString():"function"===typeof o?o(t).toString():""+t+o}return t}var et=function(e){void 0===e&&(e={});var t=Ke(e);return{onProcessStyle:function(e,n){if("style"!==n.type)return e;for(var r in e)e[r]=Je(r,e[r],t);return e},onChangeValue:function(e,n){return Je(n,e,t)}}},tt=n(20),nt="",rt="",it="",at="",ot=l&&"ontouchstart"in document.documentElement;if(l){var st={Moz:"-moz-",ms:"-ms-",O:"-o-",Webkit:"-webkit-"},lt=document.createElement("p").style;for(var ut in st)if(ut+"Transform"in lt){nt=ut,rt=st[ut];break}"Webkit"===nt&&"msHyphens"in lt&&(nt="ms",rt=st.ms,at="edge"),"Webkit"===nt&&"-apple-trailing-word"in lt&&(it="apple")}var ct=nt,ft=rt,dt=it,ht=at,pt=ot;var gt={noPrefill:["appearance"],supportedProperty:function(e){return"appearance"===e&&("ms"===ct?"-webkit-"+e:ft+e)}},vt={noPrefill:["color-adjust"],supportedProperty:function(e){return"color-adjust"===e&&("Webkit"===ct?ft+"print-"+e:e)}},mt=/[-\s]+(.)?/g;function yt(e,t){return t?t.toUpperCase():""}function bt(e){return e.replace(mt,yt)}function xt(e){return bt("-"+e)}var _t,wt={noPrefill:["mask"],supportedProperty:function(e,t){if(!/^mask/.test(e))return!1;if("Webkit"===ct){var n="mask-image";if(bt(n)in t)return e;if(ct+xt(n)in t)return ft+e}return e}},kt={noPrefill:["text-orientation"],supportedProperty:function(e){return"text-orientation"===e&&("apple"!==dt||pt?e:ft+e)}},Mt={noPrefill:["transform"],supportedProperty:function(e,t,n){return"transform"===e&&(n.transform?e:ft+e)}},Tt={noPrefill:["transition"],supportedProperty:function(e,t,n){return"transition"===e&&(n.transition?e:ft+e)}},At={noPrefill:["writing-mode"],supportedProperty:function(e){return"writing-mode"===e&&("Webkit"===ct||"ms"===ct&&"edge"!==ht?ft+e:e)}},Et={noPrefill:["user-select"],supportedProperty:function(e){return"user-select"===e&&("Moz"===ct||"ms"===ct||"apple"===dt?ft+e:e)}},St={supportedProperty:function(e,t){return!!/^break-/.test(e)&&("Webkit"===ct?"WebkitColumn"+xt(e)in t&&ft+"column-"+e:"Moz"===ct&&("page"+xt(e)in t&&"page-"+e))}},Ot={supportedProperty:function(e,t){if(!/^(border|margin|padding)-inline/.test(e))return!1;if("Moz"===ct)return e;var n=e.replace("-inline","");return ct+xt(n)in t&&ft+n}},Ct={supportedProperty:function(e,t){return bt(e)in t&&e}},Lt={supportedProperty:function(e,t){var n=xt(e);return"-"===e[0]||"-"===e[0]&&"-"===e[1]?e:ct+n in t?ft+e:"Webkit"!==ct&&"Webkit"+n in t&&"-webkit-"+e}},Rt={supportedProperty:function(e){return"scroll-snap"===e.substring(0,11)&&("ms"===ct?""+ft+e:e)}},Pt={supportedProperty:function(e){return"overscroll-behavior"===e&&("ms"===ct?ft+"scroll-chaining":e)}},jt={"flex-grow":"flex-positive","flex-shrink":"flex-negative","flex-basis":"flex-preferred-size","justify-content":"flex-pack",order:"flex-order","align-items":"flex-align","align-content":"flex-line-pack"},zt={supportedProperty:function(e,t){var n=jt[e];return!!n&&(ct+xt(n)in t&&ft+n)}},It={flex:"box-flex","flex-grow":"box-flex","flex-direction":["box-orient","box-direction"],order:"box-ordinal-group","align-items":"box-align","flex-flow":["box-orient","box-direction"],"justify-content":"box-pack"},Nt=Object.keys(It),Dt=function(e){return ft+e},Ft=[gt,vt,wt,kt,Mt,Tt,At,Et,St,Ot,Ct,Lt,Rt,Pt,zt,{supportedProperty:function(e,t,n){var r=n.multiple;if(Nt.indexOf(e)>-1){var i=It[e];if(!Array.isArray(i))return ct+xt(i)in t&&ft+i;if(!r)return!1;for(var a=0;a<i.length;a++)if(!(ct+xt(i[0])in t))return!1;return i.map(Dt)}return!1}}],Bt=Ft.filter((function(e){return e.supportedProperty})).map((function(e){return e.supportedProperty})),Ut=Ft.filter((function(e){return e.noPrefill})).reduce((function(e,t){return e.push.apply(e,Object(tt.a)(t.noPrefill)),e}),[]),Vt={};if(l){_t=document.createElement("p");var Ht=window.getComputedStyle(document.documentElement,"");for(var qt in Ht)isNaN(qt)||(Vt[Ht[qt]]=Ht[qt]);Ut.forEach((function(e){return delete Vt[e]}))}function Wt(e,t){if(void 0===t&&(t={}),!_t)return e;if(null!=Vt[e])return Vt[e];"transition"!==e&&"transform"!==e||(t[e]=e in _t.style);for(var n=0;n<Bt.length&&(Vt[e]=Bt[n](e,_t.style,t),!Vt[e]);n++);try{_t.style[e]=""}catch(r){return!1}return Vt[e]}var Gt,Xt={},Yt={transition:1,"transition-property":1,"-webkit-transition":1,"-webkit-transition-property":1},Zt=/(^\s*[\w-]+)|, (\s*[\w-]+)(?![^()]*\))/g;function $t(e,t,n){if("var"===t)return"var";if("all"===t)return"all";if("all"===n)return", all";var r=t?Wt(t):", "+Wt(n);return r||(t||n)}function Kt(e,t){var n=t;if(!Gt||"content"===e)return t;if("string"!==typeof n||!isNaN(parseInt(n,10)))return n;var r=e+n;if(null!=Xt[r])return Xt[r];try{Gt.style[e]=n}catch(i){return Xt[r]=!1,!1}if(Yt[e])n=n.replace(Zt,$t);else if(""===Gt.style[e]&&("-ms-flex"===(n=ft+n)&&(Gt.style[e]="-ms-flexbox"),Gt.style[e]=n,""===Gt.style[e]))return Xt[r]=!1,!1;return Gt.style[e]="",Xt[r]=n,Xt[r]}l&&(Gt=document.createElement("p"));var Qt=function(){function e(t){for(var n in t){var r=t[n];if("fallbacks"===n&&Array.isArray(r))t[n]=r.map(e);else{var i=!1,a=Wt(n);a&&a!==n&&(i=!0);var o=!1,s=Kt(a,m(r));s&&s!==r&&(o=!0),(i||o)&&(i&&delete t[n],t[a||n]=s||r)}}return t}return{onProcessRule:function(e){if("keyframes"===e.type){var t=e;t.at="-"===(n=t.at)[1]||"ms"===ct?n:"@"+ft+"keyframes"+n.substr(10)}var n},onProcessStyle:function(t,n){return"style"!==n.type?t:e(t)},onChangeValue:function(e,t){return Kt(t,m(e))||e}}};var Jt=function(){var e=function(e,t){return e.length===t.length?e>t?1:-1:e.length-t.length};return{onProcessStyle:function(t,n){if("style"!==n.type)return t;for(var r={},i=Object.keys(t).sort(e),a=0;a<i.length;a++)r[i[a]]=t[i[a]];return r}}};function en(){return{plugins:[Oe(),Ie(),Be(),Xe(),et(),"undefined"===typeof window?null:Qt(),Jt()]}}var tn=xe(en()),nn={disableGeneration:!1,generateClassName:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.disableGlobal,n=void 0!==t&&t,r=e.productionPrefix,i=void 0===r?"jss":r,a=e.seed,o=void 0===a?"":a,s=""===o?"":"".concat(o,"-"),l=0,u=function(){return l+=1};return function(e,t){var r=t.options.name;if(r&&0===r.indexOf("Mui")&&!t.options.link&&!n){if(-1!==Te.indexOf(e.key))return"Mui-".concat(e.key);var a="".concat(s).concat(r,"-").concat(e.key);return t.options.theme[Me.a]&&""===o?"".concat(a,"-").concat(u()):a}return"".concat(s).concat(i).concat(u())}}(),jss:tn,sheetsCache:null,sheetsManager:new Map,sheetsRegistry:null},rn=o.a.createContext(nn);var an=-1e9;function on(){return an+=1}n(36);var sn=n(96);function ln(e){var t="function"===typeof e;return{create:function(n,r){var a;try{a=t?e(n):e}catch(l){throw l}if(!r||!n.overrides||!n.overrides[r])return a;var o=n.overrides[r],s=Object(i.a)({},a);return Object.keys(o).forEach((function(e){s[e]=Object(sn.a)(s[e],o[e])})),s},options:{}}}var un={};function cn(e,t,n){var r=e.state;if(e.stylesOptions.disableGeneration)return t||{};r.cacheClasses||(r.cacheClasses={value:null,lastProp:null,lastJSS:{}});var i=!1;return r.classes!==r.cacheClasses.lastJSS&&(r.cacheClasses.lastJSS=r.classes,i=!0),t!==r.cacheClasses.lastProp&&(r.cacheClasses.lastProp=t,i=!0),i&&(r.cacheClasses.value=Object(_e.a)({baseClasses:r.cacheClasses.lastJSS,newClasses:t,Component:n})),r.cacheClasses.value}function fn(e,t){var n=e.state,r=e.theme,a=e.stylesOptions,o=e.stylesCreator,s=e.name;if(!a.disableGeneration){var l=we.get(a.sheetsManager,o,r);l||(l={refs:0,staticSheet:null,dynamicStyles:null},we.set(a.sheetsManager,o,r,l));var u=Object(i.a)({},o.options,a,{theme:r,flip:"boolean"===typeof a.flip?a.flip:"rtl"===r.direction});u.generateId=u.serverGenerateClassName||u.generateClassName;var c=a.sheetsRegistry;if(0===l.refs){var f;a.sheetsCache&&(f=we.get(a.sheetsCache,o,r));var d=o.create(r,s);f||((f=a.jss.createStyleSheet(d,Object(i.a)({link:!1},u))).attach(),a.sheetsCache&&we.set(a.sheetsCache,o,r,f)),c&&c.add(f),l.staticSheet=f,l.dynamicStyles=ye(d)}if(l.dynamicStyles){var h=a.jss.createStyleSheet(l.dynamicStyles,Object(i.a)({link:!0},u));h.update(t),h.attach(),n.dynamicSheet=h,n.classes=Object(_e.a)({baseClasses:l.staticSheet.classes,newClasses:h.classes}),c&&c.add(h)}else n.classes=l.staticSheet.classes;l.refs+=1}}function dn(e,t){var n=e.state;n.dynamicSheet&&n.dynamicSheet.update(t)}function hn(e){var t=e.state,n=e.theme,r=e.stylesOptions,i=e.stylesCreator;if(!r.disableGeneration){var a=we.get(r.sheetsManager,i,n);a.refs-=1;var o=r.sheetsRegistry;0===a.refs&&(we.delete(r.sheetsManager,i,n),r.jss.removeStyleSheet(a.staticSheet),o&&o.remove(a.staticSheet)),t.dynamicSheet&&(r.jss.removeStyleSheet(t.dynamicSheet),o&&o.remove(t.dynamicSheet))}}function pn(e,t){var n,r=o.a.useRef([]),i=o.a.useMemo((function(){return{}}),t);r.current!==i&&(r.current=i,n=e()),o.a.useEffect((function(){return function(){n&&n()}}),[i])}function gn(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.name,a=t.classNamePrefix,s=t.Component,l=t.defaultTheme,u=void 0===l?un:l,c=Object(r.a)(t,["name","classNamePrefix","Component","defaultTheme"]),f=ln(e),d=n||a||"makeStyles";f.options={index:on(),name:n,meta:d,classNamePrefix:d};var h=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object(ke.a)()||u,r=Object(i.a)({},o.a.useContext(rn),c),a=o.a.useRef(),l=o.a.useRef();pn((function(){var i={name:n,state:{},stylesCreator:f,stylesOptions:r,theme:t};return fn(i,e),l.current=!1,a.current=i,function(){hn(i)}}),[t,f]),o.a.useEffect((function(){l.current&&dn(a.current,e),l.current=!0}));var d=cn(a.current,e.classes,s);return d};return h}},function(e,t,n){"use strict";var r=n(20),i=n(1),a=(n(5),n(32));var o=function(e){var t=function(t){var n=e(t);return t.css?Object(i.a)({},Object(a.a)(n,e(Object(i.a)({theme:t.theme},t.css))),function(e,t){var n={};return Object.keys(e).forEach((function(r){-1===t.indexOf(r)&&(n[r]=e[r])})),n}(t.css,[e.filterProps])):n};return t.propTypes={},t.filterProps=["css"].concat(Object(r.a)(e.filterProps)),t};var s=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=function(e){return t.reduce((function(t,n){var r=n(e);return r?Object(a.a)(t,r):t}),{})};return r.propTypes={},r.filterProps=t.reduce((function(e,t){return e.concat(t.filterProps)}),[]),r},l=n(17),u=n(49);function c(e,t){return t&&"string"===typeof t?t.split(".").reduce((function(e,t){return e&&e[t]?e[t]:null}),e):null}var f=function(e){var t=e.prop,n=e.cssProperty,r=void 0===n?e.prop:n,i=e.themeKey,a=e.transform,o=function(e){if(null==e[t])return null;var n=e[t],o=c(e.theme,i)||{};return Object(u.a)(e,n,(function(e){var t;return"function"===typeof o?t=o(e):Array.isArray(o)?t=o[e]||e:(t=c(o,e)||e,a&&(t=a(t))),!1===r?t:Object(l.a)({},r,t)}))};return o.propTypes={},o.filterProps=[t],o};function d(e){return"number"!==typeof e?e:"".concat(e,"px solid")}var h=s(f({prop:"border",themeKey:"borders",transform:d}),f({prop:"borderTop",themeKey:"borders",transform:d}),f({prop:"borderRight",themeKey:"borders",transform:d}),f({prop:"borderBottom",themeKey:"borders",transform:d}),f({prop:"borderLeft",themeKey:"borders",transform:d}),f({prop:"borderColor",themeKey:"palette"}),f({prop:"borderRadius",themeKey:"shape"})),p=s(f({prop:"displayPrint",cssProperty:!1,transform:function(e){return{"@media print":{display:e}}}}),f({prop:"display"}),f({prop:"overflow"}),f({prop:"textOverflow"}),f({prop:"visibility"}),f({prop:"whiteSpace"})),g=s(f({prop:"flexBasis"}),f({prop:"flexDirection"}),f({prop:"flexWrap"}),f({prop:"justifyContent"}),f({prop:"alignItems"}),f({prop:"alignContent"}),f({prop:"order"}),f({prop:"flex"}),f({prop:"flexGrow"}),f({prop:"flexShrink"}),f({prop:"alignSelf"}),f({prop:"justifyItems"}),f({prop:"justifySelf"})),v=s(f({prop:"gridGap"}),f({prop:"gridColumnGap"}),f({prop:"gridRowGap"}),f({prop:"gridColumn"}),f({prop:"gridRow"}),f({prop:"gridAutoFlow"}),f({prop:"gridAutoColumns"}),f({prop:"gridAutoRows"}),f({prop:"gridTemplateColumns"}),f({prop:"gridTemplateRows"}),f({prop:"gridTemplateAreas"}),f({prop:"gridArea"})),m=s(f({prop:"position"}),f({prop:"zIndex",themeKey:"zIndex"}),f({prop:"top"}),f({prop:"right"}),f({prop:"bottom"}),f({prop:"left"})),y=s(f({prop:"color",themeKey:"palette"}),f({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette"})),b=f({prop:"boxShadow",themeKey:"shadows"});function x(e){return e<=1?"".concat(100*e,"%"):e}var _=f({prop:"width",transform:x}),w=f({prop:"maxWidth",transform:x}),k=f({prop:"minWidth",transform:x}),M=f({prop:"height",transform:x}),T=f({prop:"maxHeight",transform:x}),A=f({prop:"minHeight",transform:x}),E=(f({prop:"size",cssProperty:"width",transform:x}),f({prop:"size",cssProperty:"height",transform:x}),s(_,w,k,M,T,A,f({prop:"boxSizing"}))),S=n(157),O=s(f({prop:"fontFamily",themeKey:"typography"}),f({prop:"fontSize",themeKey:"typography"}),f({prop:"fontStyle",themeKey:"typography"}),f({prop:"fontWeight",themeKey:"typography"}),f({prop:"letterSpacing"}),f({prop:"lineHeight"}),f({prop:"textAlign"})),C=n(3),L=n(0),R=n.n(L),P=n(4),j=n(28),z=n.n(j),I=n(150);function N(e,t){var n={};return Object.keys(e).forEach((function(r){-1===t.indexOf(r)&&(n[r]=e[r])})),n}var D=n(39),F=function(e){var t=function(e){return function(t){var n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=r.name,o=Object(C.a)(r,["name"]),s=a,l="function"===typeof t?function(e){return{root:function(n){return t(Object(i.a)({theme:e},n))}}}:{root:t},u=Object(I.a)(l,Object(i.a)({Component:e,name:a||e.displayName,classNamePrefix:s},o));t.filterProps&&(n=t.filterProps,delete t.filterProps),t.propTypes&&(t.propTypes,delete t.propTypes);var c=R.a.forwardRef((function(t,r){var a=t.children,o=t.className,s=t.clone,l=t.component,c=Object(C.a)(t,["children","className","clone","component"]),f=u(t),d=Object(P.a)(f.root,o),h=c;if(n&&(h=N(h,n)),s)return R.a.cloneElement(a,Object(i.a)({className:Object(P.a)(a.props.className,d)},h));if("function"===typeof a)return a(Object(i.a)({className:d},h));var p=l||e;return R.a.createElement(p,Object(i.a)({ref:r,className:d},h),a)}));return z()(c,e),c}}(e);return function(e,n){return t(e,Object(i.a)({defaultTheme:D.a},n))}},B=o(s(h,p,g,v,m,y,b,E,S.b,O)),U=F("div")(B,{name:"MuiBox"});t.a=U},function(e,t,n){"use strict";var r=n(3),i=n(1),a=n(0),o=n(12),s=(n(5),n(58)),l=n(97),u=n(16),c=n(130),f=n(35),d=n(9),h=n(18),p=n(50);var g=n(42),v=n(20),m=n(52),y=n(51);function b(e,t){t?e.setAttribute("aria-hidden","true"):e.removeAttribute("aria-hidden")}function x(e){return parseInt(window.getComputedStyle(e)["padding-right"],10)||0}function _(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4?arguments[4]:void 0,a=[t,n].concat(Object(v.a)(r)),o=["TEMPLATE","SCRIPT","STYLE"];[].forEach.call(e.children,(function(e){1===e.nodeType&&-1===a.indexOf(e)&&-1===o.indexOf(e.tagName)&&b(e,i)}))}function w(e,t){var n=-1;return e.some((function(e,r){return!!t(e)&&(n=r,!0)})),n}function k(e,t){var n,r=[],i=[],a=e.container;if(!t.disableScrollLock){if(function(e){var t=Object(u.a)(e);return t.body===e?Object(y.a)(t).innerWidth>t.documentElement.clientWidth:e.scrollHeight>e.clientHeight}(a)){var o=Object(m.a)();r.push({value:a.style.paddingRight,key:"padding-right",el:a}),a.style["padding-right"]="".concat(x(a)+o,"px"),n=Object(u.a)(a).querySelectorAll(".mui-fixed"),[].forEach.call(n,(function(e){i.push(e.style.paddingRight),e.style.paddingRight="".concat(x(e)+o,"px")}))}var s=a.parentElement,l="HTML"===s.nodeName&&"scroll"===window.getComputedStyle(s)["overflow-y"]?s:a;r.push({value:l.style.overflow,key:"overflow",el:l}),l.style.overflow="hidden"}return function(){n&&[].forEach.call(n,(function(e,t){i[t]?e.style.paddingRight=i[t]:e.style.removeProperty("padding-right")})),r.forEach((function(e){var t=e.value,n=e.el,r=e.key;t?n.style.setProperty(r,t):n.style.removeProperty(r)}))}}var M=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.modals=[],this.containers=[]}return Object(g.a)(e,[{key:"add",value:function(e,t){var n=this.modals.indexOf(e);if(-1!==n)return n;n=this.modals.length,this.modals.push(e),e.modalRef&&b(e.modalRef,!1);var r=function(e){var t=[];return[].forEach.call(e.children,(function(e){e.getAttribute&&"true"===e.getAttribute("aria-hidden")&&t.push(e)})),t}(t);_(t,e.mountNode,e.modalRef,r,!0);var i=w(this.containers,(function(e){return e.container===t}));return-1!==i?(this.containers[i].modals.push(e),n):(this.containers.push({modals:[e],container:t,restore:null,hiddenSiblingNodes:r}),n)}},{key:"mount",value:function(e,t){var n=w(this.containers,(function(t){return-1!==t.modals.indexOf(e)})),r=this.containers[n];r.restore||(r.restore=k(r,t))}},{key:"remove",value:function(e){var t=this.modals.indexOf(e);if(-1===t)return t;var n=w(this.containers,(function(t){return-1!==t.modals.indexOf(e)})),r=this.containers[n];if(r.modals.splice(r.modals.indexOf(e),1),this.modals.splice(t,1),0===r.modals.length)r.restore&&r.restore(),e.modalRef&&b(e.modalRef,!0),_(r.container,e.mountNode,e.modalRef,r.hiddenSiblingNodes,!1),this.containers.splice(n,1);else{var i=r.modals[r.modals.length-1];i.modalRef&&b(i.modalRef,!1)}return t}},{key:"isTopModal",value:function(e){return this.modals.length>0&&this.modals[this.modals.length-1]===e}}]),e}();var T=function(e){var t=e.children,n=e.disableAutoFocus,r=void 0!==n&&n,i=e.disableEnforceFocus,s=void 0!==i&&i,l=e.disableRestoreFocus,c=void 0!==l&&l,f=e.getDoc,h=e.isEnabled,p=e.open,g=a.useRef(),v=a.useRef(null),m=a.useRef(null),y=a.useRef(),b=a.useRef(null),x=a.useCallback((function(e){b.current=o.findDOMNode(e)}),[]),_=Object(d.a)(t.ref,x),w=a.useRef();return a.useEffect((function(){w.current=p}),[p]),!w.current&&p&&"undefined"!==typeof window&&(y.current=f().activeElement),a.useEffect((function(){if(p){var e=Object(u.a)(b.current);r||!b.current||b.current.contains(e.activeElement)||(b.current.hasAttribute("tabIndex")||b.current.setAttribute("tabIndex",-1),b.current.focus());var t=function(){null!==b.current&&(e.hasFocus()&&!s&&h()&&!g.current?b.current&&!b.current.contains(e.activeElement)&&b.current.focus():g.current=!1)},n=function(t){!s&&h()&&9===t.keyCode&&e.activeElement===b.current&&(g.current=!0,t.shiftKey?m.current.focus():v.current.focus())};e.addEventListener("focus",t,!0),e.addEventListener("keydown",n,!0);var i=setInterval((function(){t()}),50);return function(){clearInterval(i),e.removeEventListener("focus",t,!0),e.removeEventListener("keydown",n,!0),c||(y.current&&y.current.focus&&y.current.focus(),y.current=null)}}}),[r,s,c,h,p]),a.createElement(a.Fragment,null,a.createElement("div",{tabIndex:0,ref:v,"data-test":"sentinelStart"}),a.cloneElement(t,{ref:_}),a.createElement("div",{tabIndex:0,ref:m,"data-test":"sentinelEnd"}))},A={root:{zIndex:-1,position:"fixed",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent"},invisible:{backgroundColor:"transparent"}},E=a.forwardRef((function(e,t){var n=e.invisible,o=void 0!==n&&n,s=e.open,l=Object(r.a)(e,["invisible","open"]);return s?a.createElement("div",Object(i.a)({"aria-hidden":!0,ref:t},l,{style:Object(i.a)({},A.root,o?A.invisible:{},l.style)})):null}));var S=new M,O=a.forwardRef((function(e,t){var n=Object(s.a)(),g=Object(l.a)({name:"MuiModal",props:Object(i.a)({},e),theme:n}),v=g.BackdropComponent,m=void 0===v?E:v,y=g.BackdropProps,x=g.children,_=g.closeAfterTransition,w=void 0!==_&&_,k=g.container,M=g.disableAutoFocus,A=void 0!==M&&M,O=g.disableBackdropClick,C=void 0!==O&&O,L=g.disableEnforceFocus,R=void 0!==L&&L,P=g.disableEscapeKeyDown,j=void 0!==P&&P,z=g.disablePortal,I=void 0!==z&&z,N=g.disableRestoreFocus,D=void 0!==N&&N,F=g.disableScrollLock,B=void 0!==F&&F,U=g.hideBackdrop,V=void 0!==U&&U,H=g.keepMounted,q=void 0!==H&&H,W=g.manager,G=void 0===W?S:W,X=g.onBackdropClick,Y=g.onClose,Z=g.onEscapeKeyDown,$=g.onRendered,K=g.open,Q=Object(r.a)(g,["BackdropComponent","BackdropProps","children","closeAfterTransition","container","disableAutoFocus","disableBackdropClick","disableEnforceFocus","disableEscapeKeyDown","disablePortal","disableRestoreFocus","disableScrollLock","hideBackdrop","keepMounted","manager","onBackdropClick","onClose","onEscapeKeyDown","onRendered","open"]),J=a.useState(!0),ee=J[0],te=J[1],ne=a.useRef({}),re=a.useRef(null),ie=a.useRef(null),ae=Object(d.a)(ie,t),oe=function(e){return!!e.children&&e.children.props.hasOwnProperty("in")}(g),se=function(){return Object(u.a)(re.current)},le=function(){return ne.current.modalRef=ie.current,ne.current.mountNode=re.current,ne.current},ue=function(){G.mount(le(),{disableScrollLock:B}),ie.current.scrollTop=0},ce=Object(h.a)((function(){var e=function(e){return e="function"===typeof e?e():e,o.findDOMNode(e)}(k)||se().body;G.add(le(),e),ie.current&&ue()})),fe=a.useCallback((function(){return G.isTopModal(le())}),[G]),de=Object(h.a)((function(e){re.current=e,e&&($&&$(),K&&fe()?ue():b(ie.current,!0))})),he=a.useCallback((function(){G.remove(le())}),[G]);if(a.useEffect((function(){return function(){he()}}),[he]),a.useEffect((function(){K?ce():oe&&w||he()}),[K,he,oe,w,ce]),!q&&!K&&(!oe||ee))return null;var pe=function(e){return{root:{position:"fixed",zIndex:e.zIndex.modal,right:0,bottom:0,top:0,left:0},hidden:{visibility:"hidden"}}}(n||{zIndex:p.a}),ge={};return void 0===x.props.tabIndex&&(ge.tabIndex=x.props.tabIndex||"-1"),oe&&(ge.onEnter=Object(f.a)((function(){te(!1)}),x.props.onEnter),ge.onExited=Object(f.a)((function(){te(!0),w&&he()}),x.props.onExited)),a.createElement(c.a,{ref:de,container:k,disablePortal:I},a.createElement("div",Object(i.a)({ref:ae,onKeyDown:function(e){"Escape"===e.key&&fe()&&(Z&&Z(e),j||(e.stopPropagation(),Y&&Y(e,"escapeKeyDown")))},role:"presentation"},Q,{style:Object(i.a)({},pe.root,!K&&ee?pe.hidden:{},Q.style)}),V?null:a.createElement(m,Object(i.a)({open:K,onClick:function(e){e.target===e.currentTarget&&(X&&X(e),!C&&Y&&Y(e,"backdropClick"))}},y)),a.createElement(T,{disableEnforceFocus:R,disableAutoFocus:A,disableRestoreFocus:D,getDoc:se,isEnabled:fe,open:K},a.cloneElement(x,ge))))}));t.a=O},function(e,t,n){"use strict";var r=n(1),i=n(3),a=n(0),o=n(5),s=n.n(o),l=n(97),u=n(28),c=n.n(u),f=n(15),d=n(26),h=n(139),p=function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return n?d.b.indexOf(e)<=d.b.indexOf(t):d.b.indexOf(e)<d.b.indexOf(t)},g=function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return n?d.b.indexOf(t)<=d.b.indexOf(e):d.b.indexOf(t)<d.b.indexOf(e)},v="undefined"===typeof window?a.useEffect:a.useLayoutEffect,m=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(t){var n=e.withTheme,o=void 0!==n&&n,s=e.noSSR,u=void 0!==s&&s,d=e.initialWidth;function p(e){var n=Object(f.a)(),s=e.theme||n,c=Object(l.a)({theme:s,name:"MuiWithWidth",props:Object(r.a)({},e)}),p=c.initialWidth,g=c.width,m=Object(i.a)(c,["initialWidth","width"]),y=a.useState(!1),b=y[0],x=y[1];v((function(){x(!0)}),[]);var _=s.breakpoints.keys.slice().reverse().reduce((function(e,t){var n=Object(h.a)(s.breakpoints.up(t));return!e&&n?t:e}),null),w=Object(r.a)({width:g||(b||u?_:void 0)||p||d},o?{theme:s}:{},m);return void 0===w.width?null:a.createElement(t,w)}return c()(p,t),p}};function y(e){var t=e.children,n=e.only,r=e.width,i=Object(f.a)(),a=!0;if(n)if(Array.isArray(n))for(var o=0;o<n.length;o+=1){if(r===n[o]){a=!1;break}}else n&&r===n&&(a=!1);if(a)for(var s=0;s<i.breakpoints.keys.length;s+=1){var l=i.breakpoints.keys[s],u=e["".concat(l,"Up")],c=e["".concat(l,"Down")];if(u&&p(l,r)||c&&g(l,r)){a=!1;break}}return a?t:null}y.propTypes={children:s.a.node,className:s.a.string,implementation:s.a.oneOf(["js","css"]),initialWidth:s.a.oneOf(["xs","sm","md","lg","xl"]),lgDown:s.a.bool,lgUp:s.a.bool,mdDown:s.a.bool,mdUp:s.a.bool,only:s.a.oneOfType([s.a.oneOf(["xs","sm","md","lg","xl"]),s.a.arrayOf(s.a.oneOf(["xs","sm","md","lg","xl"]))]),smDown:s.a.bool,smUp:s.a.bool,width:s.a.string.isRequired,xlDown:s.a.bool,xlUp:s.a.bool,xsDown:s.a.bool,xsUp:s.a.bool};var b=m()(y),x=n(17),_=n(8),w=n(7);var k=Object(w.a)((function(e){var t={display:"none"};return e.breakpoints.keys.reduce((function(n,r){return n["only".concat(Object(_.a)(r))]=Object(x.a)({},e.breakpoints.only(r),t),n["".concat(r,"Up")]=Object(x.a)({},e.breakpoints.up(r),t),n["".concat(r,"Down")]=Object(x.a)({},e.breakpoints.down(r),t),n}),{})}),{name:"PrivateHiddenCss"})((function(e){var t=e.children,n=e.classes,r=e.className,o=e.only,s=(Object(i.a)(e,["children","classes","className","only"]),Object(f.a)()),l=[];r&&l.push(r);for(var u=0;u<s.breakpoints.keys.length;u+=1){var c=s.breakpoints.keys[u],d=e["".concat(c,"Up")],h=e["".concat(c,"Down")];d&&l.push(n["".concat(c,"Up")]),h&&l.push(n["".concat(c,"Down")])}return o&&(Array.isArray(o)?o:[o]).forEach((function(e){l.push(n["only".concat(Object(_.a)(e))])})),a.createElement("div",{className:l.join(" ")},t)}));t.a=function(e){var t=e.implementation,n=void 0===t?"js":t,o=e.lgDown,s=void 0!==o&&o,l=e.lgUp,u=void 0!==l&&l,c=e.mdDown,f=void 0!==c&&c,d=e.mdUp,h=void 0!==d&&d,p=e.smDown,g=void 0!==p&&p,v=e.smUp,m=void 0!==v&&v,y=e.xlDown,x=void 0!==y&&y,_=e.xlUp,w=void 0!==_&&_,M=e.xsDown,T=void 0!==M&&M,A=e.xsUp,E=void 0!==A&&A,S=Object(i.a)(e,["implementation","lgDown","lgUp","mdDown","mdUp","smDown","smUp","xlDown","xlUp","xsDown","xsUp"]);return"js"===n?a.createElement(b,Object(r.a)({lgDown:s,lgUp:u,mdDown:f,mdUp:h,smDown:g,smUp:m,xlDown:x,xlUp:w,xsDown:T,xsUp:E},S)):a.createElement(k,Object(r.a)({lgDown:s,lgUp:u,mdDown:f,mdUp:h,smDown:g,smUp:m,xlDown:x,xlUp:w,xsDown:T,xsUp:E},S))}},function(e,t,n){"use strict";var r=n(1),i=n(21),a=n(3),o=n(17),s=n(0),l=n(12),u=(n(5),n(4)),c=n(96),f=n(13),d=n(7),h=n(8),p=n(134),g=n(68),v=n(58),m=n(130),y=n(35),b=n(22),x=n(9);function _(e){return"function"===typeof e?e():e}var w="undefined"!==typeof window?s.useLayoutEffect:s.useEffect,k={},M=s.forwardRef((function(e,t){var n=e.anchorEl,i=e.children,o=e.container,l=e.disablePortal,u=void 0!==l&&l,c=e.keepMounted,f=void 0!==c&&c,d=e.modifiers,h=e.open,p=e.placement,M=void 0===p?"bottom":p,T=e.popperOptions,A=void 0===T?k:T,E=e.popperRef,S=e.style,O=e.transition,C=void 0!==O&&O,L=Object(a.a)(e,["anchorEl","children","container","disablePortal","keepMounted","modifiers","open","placement","popperOptions","popperRef","style","transition"]),R=s.useRef(null),P=Object(x.a)(R,t),j=s.useRef(null),z=Object(x.a)(j,E),I=s.useRef(z);w((function(){I.current=z}),[z]),s.useImperativeHandle(E,(function(){return j.current}),[]);var N=s.useState(!0),D=N[0],F=N[1],B=function(e,t){if("ltr"===(t&&t.direction||"ltr"))return e;switch(e){case"bottom-end":return"bottom-start";case"bottom-start":return"bottom-end";case"top-end":return"top-start";case"top-start":return"top-end";default:return e}}(M,Object(v.a)()),U=s.useState(B),V=U[0],H=U[1];s.useEffect((function(){j.current&&j.current.update()}));var q=s.useCallback((function(){if(R.current&&n&&h){j.current&&(j.current.destroy(),I.current(null));var e=function(e){H(e.placement)},t=(_(n),new g.a(_(n),R.current,Object(r.a)({placement:B},A,{modifiers:Object(r.a)({},u?{}:{preventOverflow:{boundariesElement:"window"}},d,A.modifiers),onCreate:Object(y.a)(e,A.onCreate),onUpdate:Object(y.a)(e,A.onUpdate)})));I.current(t)}}),[n,u,d,h,B,A]),W=s.useCallback((function(e){Object(b.a)(P,e),q()}),[P,q]),G=function(){j.current&&(j.current.destroy(),I.current(null))};if(s.useEffect((function(){return function(){G()}}),[]),s.useEffect((function(){h||C||G()}),[h,C]),!f&&!h&&(!C||D))return null;var X={placement:V};return C&&(X.TransitionProps={in:h,onEnter:function(){F(!1)},onExited:function(){F(!0),G()}}),s.createElement(m.a,{disablePortal:u,container:o},s.createElement("div",Object(r.a)({ref:W,role:"tooltip"},L,{style:Object(r.a)({position:"fixed",top:0,left:0,display:h||!f||C?null:"none"},S)}),"function"===typeof i?i(X):i))}));var T=n(33),A=n(41),E=n(15);function S(e){return Math.round(1e5*e)/1e5}var O=!1,C=null;var L=s.forwardRef((function(e,t){var n=e.arrow,o=void 0!==n&&n,f=e.children,d=e.classes,g=e.disableFocusListener,v=void 0!==g&&g,m=e.disableHoverListener,y=void 0!==m&&m,_=e.disableTouchListener,w=void 0!==_&&_,k=e.enterDelay,S=void 0===k?100:k,L=e.enterNextDelay,R=void 0===L?0:L,P=e.enterTouchDelay,j=void 0===P?700:P,z=e.id,I=e.interactive,N=void 0!==I&&I,D=e.leaveDelay,F=void 0===D?0:D,B=e.leaveTouchDelay,U=void 0===B?1500:B,V=e.onClose,H=e.onOpen,q=e.open,W=e.placement,G=void 0===W?"bottom":W,X=e.PopperComponent,Y=void 0===X?M:X,Z=e.PopperProps,$=e.title,K=e.TransitionComponent,Q=void 0===K?p.a:K,J=e.TransitionProps,ee=Object(a.a)(e,["arrow","children","classes","disableFocusListener","disableHoverListener","disableTouchListener","enterDelay","enterNextDelay","enterTouchDelay","id","interactive","leaveDelay","leaveTouchDelay","onClose","onOpen","open","placement","PopperComponent","PopperProps","title","TransitionComponent","TransitionProps"]),te=Object(E.a)(),ne=s.useState(),re=ne[0],ie=ne[1],ae=s.useState(null),oe=ae[0],se=ae[1],le=s.useRef(!1),ue=s.useRef(),ce=s.useRef(),fe=s.useRef(),de=s.useRef(),he=Object(A.a)({controlled:q,default:!1,name:"Tooltip",state:"open"}),pe=Object(i.a)(he,2),ge=pe[0],ve=pe[1],me=ge,ye=function(e){var t=s.useState(e),n=t[0],r=t[1],i=e||n;return s.useEffect((function(){null==n&&r("mui-".concat(Math.round(1e5*Math.random())))}),[n]),i}(z);s.useEffect((function(){return function(){clearTimeout(ue.current),clearTimeout(ce.current),clearTimeout(fe.current),clearTimeout(de.current)}}),[]);var be=function(e){clearTimeout(C),O=!0,ve(!0),H&&H(e)},xe=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return function(t){var n=f.props;"mouseover"===t.type&&n.onMouseOver&&e&&n.onMouseOver(t),le.current&&"touchstart"!==t.type||(re&&re.removeAttribute("title"),clearTimeout(ce.current),clearTimeout(fe.current),S||O&&R?(t.persist(),ce.current=setTimeout((function(){be(t)}),O?R:S)):be(t))}},_e=Object(T.a)(),we=_e.isFocusVisible,ke=_e.onBlurVisible,Me=_e.ref,Te=s.useState(!1),Ae=Te[0],Ee=Te[1],Se=function(){Ae&&(Ee(!1),ke())},Oe=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return function(t){re||ie(t.currentTarget),we(t)&&(Ee(!0),xe()(t));var n=f.props;n.onFocus&&e&&n.onFocus(t)}},Ce=function(e){clearTimeout(C),C=setTimeout((function(){O=!1}),800+F),ve(!1),V&&V(e),clearTimeout(ue.current),ue.current=setTimeout((function(){le.current=!1}),te.transitions.duration.shortest)},Le=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return function(t){var n=f.props;"blur"===t.type&&(n.onBlur&&e&&n.onBlur(t),Se()),"mouseleave"===t.type&&n.onMouseLeave&&t.currentTarget===re&&n.onMouseLeave(t),clearTimeout(ce.current),clearTimeout(fe.current),t.persist(),fe.current=setTimeout((function(){Ce(t)}),F)}},Re=function(e){le.current=!0;var t=f.props;t.onTouchStart&&t.onTouchStart(e)},Pe=Object(x.a)(ie,t),je=Object(x.a)(Me,Pe),ze=s.useCallback((function(e){Object(b.a)(je,l.findDOMNode(e))}),[je]),Ie=Object(x.a)(f.ref,ze);""===$&&(me=!1);var Ne=!me&&!y,De=Object(r.a)({"aria-describedby":me?ye:null,title:Ne&&"string"===typeof $?$:null},ee,f.props,{className:Object(u.a)(ee.className,f.props.className),onTouchStart:Re,ref:Ie}),Fe={};w||(De.onTouchStart=function(e){Re(e),clearTimeout(fe.current),clearTimeout(ue.current),clearTimeout(de.current),e.persist(),de.current=setTimeout((function(){xe()(e)}),j)},De.onTouchEnd=function(e){f.props.onTouchEnd&&f.props.onTouchEnd(e),clearTimeout(de.current),clearTimeout(fe.current),e.persist(),fe.current=setTimeout((function(){Ce(e)}),U)}),y||(De.onMouseOver=xe(),De.onMouseLeave=Le(),N&&(Fe.onMouseOver=xe(!1),Fe.onMouseLeave=Le(!1))),v||(De.onFocus=Oe(),De.onBlur=Le(),N&&(Fe.onFocus=Oe(!1),Fe.onBlur=Le(!1)));var Be=s.useMemo((function(){return Object(c.a)({popperOptions:{modifiers:{arrow:{enabled:Boolean(oe),element:oe}}}},Z)}),[oe,Z]);return s.createElement(s.Fragment,null,s.cloneElement(f,De),s.createElement(Y,Object(r.a)({className:Object(u.a)(d.popper,N&&d.popperInteractive,o&&d.popperArrow),placement:G,anchorEl:re,open:!!re&&me,id:De["aria-describedby"],transition:!0},Fe,Be),(function(e){var t=e.placement,n=e.TransitionProps;return s.createElement(Q,Object(r.a)({timeout:te.transitions.duration.shorter},n,J),s.createElement("div",{className:Object(u.a)(d.tooltip,d["tooltipPlacement".concat(Object(h.a)(t.split("-")[0]))],le.current&&d.touch,o&&d.tooltipArrow)},$,o?s.createElement("span",{className:d.arrow,ref:se}):null))})))}));t.a=Object(d.a)((function(e){return{popper:{zIndex:e.zIndex.tooltip,pointerEvents:"none"},popperInteractive:{pointerEvents:"auto"},popperArrow:{'&[x-placement*="bottom"] $arrow':{top:0,left:0,marginTop:"-0.71em",marginLeft:4,marginRight:4,"&::before":{transformOrigin:"0 100%"}},'&[x-placement*="top"] $arrow':{bottom:0,left:0,marginBottom:"-0.71em",marginLeft:4,marginRight:4,"&::before":{transformOrigin:"100% 0"}},'&[x-placement*="right"] $arrow':{left:0,marginLeft:"-0.71em",height:"1em",width:"0.71em",marginTop:4,marginBottom:4,"&::before":{transformOrigin:"100% 100%"}},'&[x-placement*="left"] $arrow':{right:0,marginRight:"-0.71em",height:"1em",width:"0.71em",marginTop:4,marginBottom:4,"&::before":{transformOrigin:"0 0"}}},tooltip:{backgroundColor:Object(f.b)(e.palette.grey[700],.9),borderRadius:e.shape.borderRadius,color:e.palette.common.white,fontFamily:e.typography.fontFamily,padding:"4px 8px",fontSize:e.typography.pxToRem(10),lineHeight:"".concat(S(1.4),"em"),maxWidth:300,wordWrap:"break-word",fontWeight:e.typography.fontWeightMedium},tooltipArrow:{position:"relative",margin:"0"},arrow:{overflow:"hidden",position:"absolute",width:"1em",height:"0.71em",boxSizing:"border-box",color:Object(f.b)(e.palette.grey[700],.9),"&::before":{content:'""',margin:"auto",display:"block",width:"100%",height:"100%",backgroundColor:"currentColor",transform:"rotate(45deg)"}},touch:{padding:"8px 16px",fontSize:e.typography.pxToRem(14),lineHeight:"".concat(S(16/14),"em"),fontWeight:e.typography.fontWeightRegular},tooltipPlacementLeft:Object(o.a)({transformOrigin:"right center",margin:"0 24px "},e.breakpoints.up("sm"),{margin:"0 14px"}),tooltipPlacementRight:Object(o.a)({transformOrigin:"left center",margin:"0 24px"},e.breakpoints.up("sm"),{margin:"0 14px"}),tooltipPlacementTop:Object(o.a)({transformOrigin:"center bottom",margin:"24px 0"},e.breakpoints.up("sm"),{margin:"14px 0"}),tooltipPlacementBottom:Object(o.a)({transformOrigin:"center top",margin:"24px 0"},e.breakpoints.up("sm"),{margin:"14px 0"})}}),{name:"MuiTooltip",flip:!1})(L)},function(e,t,n){"use strict";var r=n(1),i=n(3),a=n(0),o=(n(5),n(4)),s=n(152),l=n(131),u=n(7),c=n(12),f=n(40),d=n(75),h=n(9),p=n(15),g=n(25),v=n(24);function m(e,t){var n=function(e,t){var n,r=t.getBoundingClientRect();if(t.fakeTransform)n=t.fakeTransform;else{var i=window.getComputedStyle(t);n=i.getPropertyValue("-webkit-transform")||i.getPropertyValue("transform")}var a=0,o=0;if(n&&"none"!==n&&"string"===typeof n){var s=n.split("(")[1].split(")")[0].split(",");a=parseInt(s[4],10),o=parseInt(s[5],10)}return"left"===e?"translateX(".concat(window.innerWidth,"px) translateX(").concat(a-r.left,"px)"):"right"===e?"translateX(-".concat(r.left+r.width-a,"px)"):"up"===e?"translateY(".concat(window.innerHeight,"px) translateY(").concat(o-r.top,"px)"):"translateY(-".concat(r.top+r.height-o,"px)")}(e,t);n&&(t.style.webkitTransform=n,t.style.transform=n)}var y={enter:g.b.enteringScreen,exit:g.b.leavingScreen},b=a.forwardRef((function(e,t){var n=e.children,o=e.direction,s=void 0===o?"down":o,l=e.in,u=e.onEnter,g=e.onEntered,b=e.onEntering,x=e.onExit,_=e.onExited,w=e.onExiting,k=e.style,M=e.timeout,T=void 0===M?y:M,A=e.TransitionComponent,E=void 0===A?d.a:A,S=Object(i.a)(e,["children","direction","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"]),O=Object(p.a)(),C=a.useRef(null),L=a.useCallback((function(e){C.current=c.findDOMNode(e)}),[]),R=Object(h.a)(n.ref,L),P=Object(h.a)(R,t),j=function(e){return function(t){e&&(void 0===t?e(C.current):e(C.current,t))}},z=j((function(e,t){m(s,e),Object(v.b)(e),u&&u(e,t)})),I=j((function(e,t){var n=Object(v.a)({timeout:T,style:k},{mode:"enter"});e.style.webkitTransition=O.transitions.create("-webkit-transform",Object(r.a)({},n,{easing:O.transitions.easing.easeOut})),e.style.transition=O.transitions.create("transform",Object(r.a)({},n,{easing:O.transitions.easing.easeOut})),e.style.webkitTransform="none",e.style.transform="none",b&&b(e,t)})),N=j(g),D=j(w),F=j((function(e){var t=Object(v.a)({timeout:T,style:k},{mode:"exit"});e.style.webkitTransition=O.transitions.create("-webkit-transform",Object(r.a)({},t,{easing:O.transitions.easing.sharp})),e.style.transition=O.transitions.create("transform",Object(r.a)({},t,{easing:O.transitions.easing.sharp})),m(s,e),x&&x(e)})),B=j((function(e){e.style.webkitTransition="",e.style.transition="",_&&_(e)})),U=a.useCallback((function(){C.current&&m(s,C.current)}),[s]);return a.useEffect((function(){if(!l&&"down"!==s&&"right"!==s){var e=Object(f.a)((function(){C.current&&m(s,C.current)}));return window.addEventListener("resize",e),function(){e.clear(),window.removeEventListener("resize",e)}}}),[s,l]),a.useEffect((function(){l||U()}),[l,U]),a.createElement(E,Object(r.a)({nodeRef:C,onEnter:z,onEntered:N,onEntering:I,onExit:F,onExited:B,onExiting:D,appear:!0,in:l,timeout:T},S),(function(e,t){return a.cloneElement(n,Object(r.a)({ref:P,style:Object(r.a)({visibility:"exited"!==e||l?void 0:"hidden"},k,n.props.style)},t))}))})),x=n(99),_=n(8),w={left:"right",right:"left",top:"down",bottom:"up"};var k={enter:g.b.enteringScreen,exit:g.b.leavingScreen},M=a.forwardRef((function(e,t){var n=e.anchor,u=void 0===n?"left":n,c=e.BackdropProps,f=e.children,d=e.classes,h=e.className,g=e.elevation,v=void 0===g?16:g,m=e.ModalProps,y=(m=void 0===m?{}:m).BackdropProps,M=Object(i.a)(m,["BackdropProps"]),T=e.onClose,A=e.open,E=void 0!==A&&A,S=e.PaperProps,O=void 0===S?{}:S,C=e.SlideProps,L=e.TransitionComponent,R=void 0===L?b:L,P=e.transitionDuration,j=void 0===P?k:P,z=e.variant,I=void 0===z?"temporary":z,N=Object(i.a)(e,["anchor","BackdropProps","children","classes","className","elevation","ModalProps","onClose","open","PaperProps","SlideProps","TransitionComponent","transitionDuration","variant"]),D=Object(p.a)(),F=a.useRef(!1);a.useEffect((function(){F.current=!0}),[]);var B=function(e,t){return"rtl"===e.direction&&function(e){return-1!==["left","right"].indexOf(e)}(t)?w[t]:t}(D,u),U=a.createElement(x.a,Object(r.a)({elevation:"temporary"===I?v:0,square:!0},O,{className:Object(o.a)(d.paper,d["paperAnchor".concat(Object(_.a)(B))],O.className,"temporary"!==I&&d["paperAnchorDocked".concat(Object(_.a)(B))])}),f);if("permanent"===I)return a.createElement("div",Object(r.a)({className:Object(o.a)(d.root,d.docked,h),ref:t},N),U);var V=a.createElement(R,Object(r.a)({in:E,direction:w[B],timeout:j,appear:F.current},C),U);return"persistent"===I?a.createElement("div",Object(r.a)({className:Object(o.a)(d.root,d.docked,h),ref:t},N),V):a.createElement(s.a,Object(r.a)({BackdropProps:Object(r.a)({},c,y,{transitionDuration:j}),BackdropComponent:l.a,className:Object(o.a)(d.root,d.modal,h),open:E,onClose:T,ref:t},N,M),V)}));t.a=Object(u.a)((function(e){return{root:{},docked:{flex:"0 0 auto"},paper:{overflowY:"auto",display:"flex",flexDirection:"column",height:"100%",flex:"1 0 auto",zIndex:e.zIndex.drawer,WebkitOverflowScrolling:"touch",position:"fixed",top:0,outline:0},paperAnchorLeft:{left:0,right:"auto"},paperAnchorRight:{left:"auto",right:0},paperAnchorTop:{top:0,left:0,bottom:"auto",right:0,height:"auto",maxHeight:"100%"},paperAnchorBottom:{top:"auto",left:0,bottom:0,right:0,height:"auto",maxHeight:"100%"},paperAnchorDockedLeft:{borderRight:"1px solid ".concat(e.palette.divider)},paperAnchorDockedTop:{borderBottom:"1px solid ".concat(e.palette.divider)},paperAnchorDockedRight:{borderLeft:"1px solid ".concat(e.palette.divider)},paperAnchorDockedBottom:{borderTop:"1px solid ".concat(e.palette.divider)},modal:{}}}),{name:"MuiDrawer",flip:!1})(M)},function(e,t,n){"use strict";var r=n(20),i=n(21),a=n(3),o=n(1),s=n(0),l=(n(5),n(4)),u=n(7),c=n(15),f=n(13),d=n(33),h=n(16),p=n(18),g=n(9),v=n(8),m=n(41);var y=Object(u.a)((function(e){return{thumb:{"&$open":{"& $offset":{transform:"scale(1) translateY(-10px)"}}},open:{},offset:Object(o.a)({zIndex:1},e.typography.body2,{fontSize:e.typography.pxToRem(12),lineHeight:1.2,transition:e.transitions.create(["transform"],{duration:e.transitions.duration.shortest}),top:-34,transformOrigin:"bottom center",transform:"scale(0)",position:"absolute"}),circle:{display:"flex",alignItems:"center",justifyContent:"center",width:32,height:32,borderRadius:"50% 50% 50% 0",backgroundColor:"currentColor",transform:"rotate(-45deg)"},label:{color:e.palette.primary.contrastText,transform:"rotate(45deg)"}}}),{name:"PrivateValueLabel"})((function(e){var t=e.children,n=e.classes,r=e.className,i=e.open,a=e.value,o=e.valueLabelDisplay;return"off"===o?t:s.cloneElement(t,{className:Object(l.a)(t.props.className,(i||"on"===o)&&n.open,n.thumb)},s.createElement("span",{className:Object(l.a)(n.offset,r)},s.createElement("span",{className:n.circle},s.createElement("span",{className:n.label},a))))}));function b(e,t){return e-t}function x(e,t,n){return Math.min(Math.max(t,e),n)}function _(e,t){return e.reduce((function(e,n,r){var i=Math.abs(t-n);return null===e||i<e.distance||i===e.distance?{distance:i,index:r}:e}),null).index}function w(e,t){if(void 0!==t.current&&e.changedTouches){for(var n=0;n<e.changedTouches.length;n+=1){var r=e.changedTouches[n];if(r.identifier===t.current)return{x:r.clientX,y:r.clientY}}return!1}return{x:e.clientX,y:e.clientY}}function k(e,t,n){return 100*(e-t)/(n-t)}function M(e,t,n){var r=Math.round((e-n)/t)*t+n;return Number(r.toFixed(function(e){if(Math.abs(e)<1){var t=e.toExponential().split("e-"),n=t[0].split(".")[1];return(n?n.length:0)+parseInt(t[1],10)}var r=e.toString().split(".")[1];return r?r.length:0}(t)))}function T(e){var t=e.values,n=e.source,r=e.newValue,i=e.index;if(t[i]===r)return n;var a=t.slice();return a[i]=r,a}function A(e){var t=e.sliderRef,n=e.activeIndex,r=e.setActive;t.current.contains(document.activeElement)&&Number(document.activeElement.getAttribute("data-index"))===n||t.current.querySelector('[role="slider"][data-index="'.concat(n,'"]')).focus(),r&&r(n)}var E={horizontal:{offset:function(e){return{left:"".concat(e,"%")}},leap:function(e){return{width:"".concat(e,"%")}}},"horizontal-reverse":{offset:function(e){return{right:"".concat(e,"%")}},leap:function(e){return{width:"".concat(e,"%")}}},vertical:{offset:function(e){return{bottom:"".concat(e,"%")}},leap:function(e){return{height:"".concat(e,"%")}}}},S=function(e){return e},O=s.forwardRef((function(e,t){var n=e["aria-label"],u=e["aria-labelledby"],f=e["aria-valuetext"],O=e.classes,C=e.className,L=e.color,R=void 0===L?"primary":L,P=e.component,j=void 0===P?"span":P,z=e.defaultValue,I=e.disabled,N=void 0!==I&&I,D=e.getAriaLabel,F=e.getAriaValueText,B=e.marks,U=void 0!==B&&B,V=e.max,H=void 0===V?100:V,q=e.min,W=void 0===q?0:q,G=e.name,X=e.onChange,Y=e.onChangeCommitted,Z=e.onMouseDown,$=e.orientation,K=void 0===$?"horizontal":$,Q=e.scale,J=void 0===Q?S:Q,ee=e.step,te=void 0===ee?1:ee,ne=e.ThumbComponent,re=void 0===ne?"span":ne,ie=e.track,ae=void 0===ie?"normal":ie,oe=e.value,se=e.ValueLabelComponent,le=void 0===se?y:se,ue=e.valueLabelDisplay,ce=void 0===ue?"off":ue,fe=e.valueLabelFormat,de=void 0===fe?S:fe,he=Object(a.a)(e,["aria-label","aria-labelledby","aria-valuetext","classes","className","color","component","defaultValue","disabled","getAriaLabel","getAriaValueText","marks","max","min","name","onChange","onChangeCommitted","onMouseDown","orientation","scale","step","ThumbComponent","track","value","ValueLabelComponent","valueLabelDisplay","valueLabelFormat"]),pe=Object(c.a)(),ge=s.useRef(),ve=s.useState(-1),me=ve[0],ye=ve[1],be=s.useState(-1),xe=be[0],_e=be[1],we=Object(m.a)({controlled:oe,default:z,name:"Slider"}),ke=Object(i.a)(we,2),Me=ke[0],Te=ke[1],Ae=Array.isArray(Me),Ee=Ae?Me.slice().sort(b):[Me];Ee=Ee.map((function(e){return x(e,W,H)}));var Se=!0===U&&null!==te?Object(r.a)(Array(Math.floor((H-W)/te)+1)).map((function(e,t){return{value:W+te*t}})):U||[],Oe=Object(d.a)(),Ce=Oe.isFocusVisible,Le=Oe.onBlurVisible,Re=Oe.ref,Pe=s.useState(-1),je=Pe[0],ze=Pe[1],Ie=s.useRef(),Ne=Object(g.a)(Re,Ie),De=Object(g.a)(t,Ne),Fe=Object(p.a)((function(e){var t=Number(e.currentTarget.getAttribute("data-index"));Ce(e)&&ze(t),_e(t)})),Be=Object(p.a)((function(){-1!==je&&(ze(-1),Le()),_e(-1)})),Ue=Object(p.a)((function(e){var t=Number(e.currentTarget.getAttribute("data-index"));_e(t)})),Ve=Object(p.a)((function(){_e(-1)})),He="rtl"===pe.direction,qe=Object(p.a)((function(e){var t,n=Number(e.currentTarget.getAttribute("data-index")),r=Ee[n],i=(H-W)/10,a=Se.map((function(e){return e.value})),o=a.indexOf(r),s=He?"ArrowLeft":"ArrowRight",l=He?"ArrowRight":"ArrowLeft";switch(e.key){case"Home":t=W;break;case"End":t=H;break;case"PageUp":te&&(t=r+i);break;case"PageDown":te&&(t=r-i);break;case s:case"ArrowUp":t=te?r+te:a[o+1]||a[a.length-1];break;case l:case"ArrowDown":t=te?r-te:a[o-1]||a[0];break;default:return}if(e.preventDefault(),te&&(t=M(t,te,W)),t=x(t,W,H),Ae){var u=t;t=T({values:Ee,source:Me,newValue:t,index:n}).sort(b),A({sliderRef:Ie,activeIndex:t.indexOf(u)})}Te(t),ze(n),X&&X(e,t),Y&&Y(e,t)})),We=s.useRef(),Ge=K;He&&"vertical"!==K&&(Ge+="-reverse");var Xe=function(e){var t,n,r=e.finger,i=e.move,a=void 0!==i&&i,o=e.values,s=e.source,l=Ie.current.getBoundingClientRect(),u=l.width,c=l.height,f=l.bottom,d=l.left;if(t=0===Ge.indexOf("vertical")?(f-r.y)/c:(r.x-d)/u,-1!==Ge.indexOf("-reverse")&&(t=1-t),n=function(e,t,n){return(n-t)*e+t}(t,W,H),te)n=M(n,te,W);else{var h=Se.map((function(e){return e.value}));n=h[_(h,n)]}n=x(n,W,H);var p=0;if(Ae){var g=n;p=(n=T({values:o,source:s,newValue:n,index:p=a?We.current:_(o,n)}).sort(b)).indexOf(g),We.current=p}return{newValue:n,activeIndex:p}},Ye=Object(p.a)((function(e){var t=w(e,ge);if(t){var n=Xe({finger:t,move:!0,values:Ee,source:Me}),r=n.newValue,i=n.activeIndex;A({sliderRef:Ie,activeIndex:i,setActive:ye}),Te(r),X&&X(e,r)}})),Ze=Object(p.a)((function(e){var t=w(e,ge);if(t){var n=Xe({finger:t,values:Ee,source:Me}).newValue;ye(-1),"touchend"===e.type&&_e(-1),Y&&Y(e,n),ge.current=void 0;var r=Object(h.a)(Ie.current);r.removeEventListener("mousemove",Ye),r.removeEventListener("mouseup",Ze),r.removeEventListener("touchmove",Ye),r.removeEventListener("touchend",Ze)}})),$e=Object(p.a)((function(e){e.preventDefault();var t=e.changedTouches[0];null!=t&&(ge.current=t.identifier);var n=w(e,ge),r=Xe({finger:n,values:Ee,source:Me}),i=r.newValue,a=r.activeIndex;A({sliderRef:Ie,activeIndex:a,setActive:ye}),Te(i),X&&X(e,i);var o=Object(h.a)(Ie.current);o.addEventListener("touchmove",Ye),o.addEventListener("touchend",Ze)}));s.useEffect((function(){var e=Ie.current;e.addEventListener("touchstart",$e);var t=Object(h.a)(e);return function(){e.removeEventListener("touchstart",$e),t.removeEventListener("mousemove",Ye),t.removeEventListener("mouseup",Ze),t.removeEventListener("touchmove",Ye),t.removeEventListener("touchend",Ze)}}),[Ze,Ye,$e]);var Ke=Object(p.a)((function(e){Z&&Z(e),e.preventDefault();var t=w(e,ge),n=Xe({finger:t,values:Ee,source:Me}),r=n.newValue,i=n.activeIndex;A({sliderRef:Ie,activeIndex:i,setActive:ye}),Te(r),X&&X(e,r);var a=Object(h.a)(Ie.current);a.addEventListener("mousemove",Ye),a.addEventListener("mouseup",Ze)})),Qe=k(Ae?Ee[0]:W,W,H),Je=k(Ee[Ee.length-1],W,H)-Qe,et=Object(o.a)({},E[Ge].offset(Qe),E[Ge].leap(Je));return s.createElement(j,Object(o.a)({ref:De,className:Object(l.a)(O.root,O["color".concat(Object(v.a)(R))],C,N&&O.disabled,Se.length>0&&Se.some((function(e){return e.label}))&&O.marked,!1===ae&&O.trackFalse,"vertical"===K&&O.vertical,"inverted"===ae&&O.trackInverted),onMouseDown:Ke},he),s.createElement("span",{className:O.rail}),s.createElement("span",{className:O.track,style:et}),s.createElement("input",{value:Ee.join(","),name:G,type:"hidden"}),Se.map((function(e,t){var n,r=k(e.value,W,H),i=E[Ge].offset(r);return n=!1===ae?-1!==Ee.indexOf(e.value):"normal"===ae&&(Ae?e.value>=Ee[0]&&e.value<=Ee[Ee.length-1]:e.value<=Ee[0])||"inverted"===ae&&(Ae?e.value<=Ee[0]||e.value>=Ee[Ee.length-1]:e.value>=Ee[0]),s.createElement(s.Fragment,{key:e.value},s.createElement("span",{style:i,"data-index":t,className:Object(l.a)(O.mark,n&&O.markActive)}),null!=e.label?s.createElement("span",{"aria-hidden":!0,"data-index":t,style:i,className:Object(l.a)(O.markLabel,n&&O.markLabelActive)},e.label):null)})),Ee.map((function(e,t){var r=k(e,W,H),i=E[Ge].offset(r);return s.createElement(le,{key:t,valueLabelFormat:de,valueLabelDisplay:ce,className:O.valueLabel,value:"function"===typeof de?de(J(e),t):de,index:t,open:xe===t||me===t||"on"===ce,disabled:N},s.createElement(re,{className:Object(l.a)(O.thumb,O["thumbColor".concat(Object(v.a)(R))],me===t&&O.active,N&&O.disabled,je===t&&O.focusVisible),tabIndex:N?null:0,role:"slider",style:i,"data-index":t,"aria-label":D?D(t):n,"aria-labelledby":u,"aria-orientation":K,"aria-valuemax":J(H),"aria-valuemin":J(W),"aria-valuenow":J(e),"aria-valuetext":F?F(J(e),t):f,onKeyDown:qe,onFocus:Fe,onBlur:Be,onMouseOver:Ue,onMouseLeave:Ve}))})))}));t.a=Object(u.a)((function(e){return{root:{height:2,width:"100%",boxSizing:"content-box",padding:"13px 0",display:"inline-block",position:"relative",cursor:"pointer",touchAction:"none",color:e.palette.primary.main,WebkitTapHighlightColor:"transparent","&$disabled":{pointerEvents:"none",cursor:"default",color:e.palette.grey[400]},"&$vertical":{width:2,height:"100%",padding:"0 13px"},"@media (pointer: coarse)":{padding:"20px 0","&$vertical":{padding:"0 20px"}},"@media print":{colorAdjust:"exact"}},colorPrimary:{},colorSecondary:{color:e.palette.secondary.main},marked:{marginBottom:20,"&$vertical":{marginBottom:"auto",marginRight:20}},vertical:{},disabled:{},rail:{display:"block",position:"absolute",width:"100%",height:2,borderRadius:1,backgroundColor:"currentColor",opacity:.38,"$vertical &":{height:"100%",width:2}},track:{display:"block",position:"absolute",height:2,borderRadius:1,backgroundColor:"currentColor","$vertical &":{width:2}},trackFalse:{"& $track":{display:"none"}},trackInverted:{"& $track":{backgroundColor:"light"===e.palette.type?Object(f.d)(e.palette.primary.main,.62):Object(f.a)(e.palette.primary.main,.5)},"& $rail":{opacity:1}},thumb:{position:"absolute",width:12,height:12,marginLeft:-6,marginTop:-5,boxSizing:"border-box",borderRadius:"50%",outline:0,backgroundColor:"currentColor",display:"flex",alignItems:"center",justifyContent:"center",transition:e.transitions.create(["box-shadow"],{duration:e.transitions.duration.shortest}),"&::after":{position:"absolute",content:'""',borderRadius:"50%",left:-15,top:-15,right:-15,bottom:-15},"&$focusVisible,&:hover":{boxShadow:"0px 0px 0px 8px ".concat(Object(f.b)(e.palette.primary.main,.16)),"@media (hover: none)":{boxShadow:"none"}},"&$active":{boxShadow:"0px 0px 0px 14px ".concat(Object(f.b)(e.palette.primary.main,.16))},"&$disabled":{width:8,height:8,marginLeft:-4,marginTop:-3,"&:hover":{boxShadow:"none"}},"$vertical &":{marginLeft:-5,marginBottom:-6},"$vertical &$disabled":{marginLeft:-3,marginBottom:-4}},thumbColorPrimary:{},thumbColorSecondary:{"&$focusVisible,&:hover":{boxShadow:"0px 0px 0px 8px ".concat(Object(f.b)(e.palette.secondary.main,.16))},"&$active":{boxShadow:"0px 0px 0px 14px ".concat(Object(f.b)(e.palette.secondary.main,.16))}},active:{},focusVisible:{},valueLabel:{left:"calc(-50% - 4px)"},mark:{position:"absolute",width:2,height:2,borderRadius:1,backgroundColor:"currentColor"},markActive:{backgroundColor:e.palette.background.paper,opacity:.8},markLabel:Object(o.a)({},e.typography.body2,{color:e.palette.text.secondary,position:"absolute",top:26,transform:"translateX(-50%)",whiteSpace:"nowrap","$vertical &":{top:"auto",left:26,transform:"translateY(50%)"},"@media (pointer: coarse)":{top:40,"$vertical &":{left:31}}}),markLabelActive:{color:e.palette.text.primary}}}),{name:"MuiSlider"})(O)},function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));var r=n(21),i=n(49),a=n(32);var o={m:"margin",p:"padding"},s={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},l={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},u=function(e){var t={};return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}}((function(e){if(e.length>2){if(!l[e])return[e];e=l[e]}var t=e.split(""),n=Object(r.a)(t,2),i=n[0],a=n[1],u=o[i],c=s[a]||"";return Array.isArray(c)?c.map((function(e){return u+e})):[u+c]})),c=["m","mt","mr","mb","ml","mx","my","p","pt","pr","pb","pl","px","py","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY"];function f(e){var t=e.spacing||8;return"number"===typeof t?function(e){return t*e}:Array.isArray(t)?function(e){return t[e]}:"function"===typeof t?t:function(){}}function d(e,t){return function(n){return e.reduce((function(e,r){return e[r]=function(e,t){if("string"===typeof t)return t;var n=e(Math.abs(t));return t>=0?n:"number"===typeof n?-n:"-".concat(n)}(t,n),e}),{})}}function h(e){var t=f(e.theme);return Object.keys(e).map((function(n){if(-1===c.indexOf(n))return null;var r=d(u(n),t),a=e[n];return Object(i.a)(e,a,r)})).reduce(a.a,{})}h.propTypes={},h.filterProps=c;t.b=h}]]);
//# sourceMappingURL=2.8d4d014d.chunk.js.map