{"version":3,"sources":["layouts/Main/components/Footer/Footer.js","layouts/Main/components/Sidebar/Sidebar.js","actions/types.js","layouts/Main/components/Topbar/Topbar.js","actions/presentation.js","layouts/Main/components/Dialog/Dialog.js","layouts/Main/Main.js","actions/simulation.js","components/Controls/Controls.js","components/Output/components/Plot/Plot.js","components/Output/components/Pulse/Pulse.js","components/Output/components/Magnetisation/Magnetisation.js","components/Output/components/Sphere/generateSphere.js","components/Output/components/Sphere/Sphere.js","components/Output/components/Profile/Profile.js","components/Output/Output.js","components/Help/Help.js","App.js","serviceWorker.js","reducers/simulation/generatePulse.js","reducers/simulation/generateGradient.js","reducers/simulation/initialState.js","reducers/simulation/update.js","reducers/simulation/calculateMagnetisation.js","reducers/simulation/calculateProfile.js","reducers/simulation/simulation.js","reducers/presentation/initialState.js","reducers/presentation/presentation.js","reducers/index.js","index.js"],"names":["Footer","props","className","date","Date","Grid","container","justify","spacing","item","Link","href","color","target","Typography","align","variant","getFullYear","useStyles","makeStyles","theme","drawer","width","padding","breakpoints","up","marginTop","height","Sidebar","isOpen","handleSidebarClose","children","classes","Drawer","anchor","paper","onClose","open","UPDATE","CALCULATE_MAGNETISATION","CALCULATE_PROFILE","CLEAR","RESET","TOGGLE_THEME","root","boxShadow","logo","marginRight","button","marginLeft","Topbar","handleSidebarOpen","handleModalOpen","dispatch","useDispatch","AppBar","Toolbar","noWrap","Tooltip","title","IconButton","edge","aria-label","onClick","type","Brightness4","GitHub","Hidden","mdUp","Menu","position","closeButton","right","top","palette","primary","Dialog","handleDialogClose","Paper","Close","paddingTop","contentShift","paddingLeft","content","display","flexDirection","paddingBottom","shiftContent","modal","justifyContent","alignItems","maxWidth","margin","footer","Main","sidebarContent","mainContent","helpContent","useTheme","isDesktop","useMediaQuery","defaultMatches","useState","openSidebar","setOpenSidebar","openModal","setOpenModal","handleModalClose","shouldOpenSidebar","clsx","Modal","aria-labelledby","aria-describedby","closeAfterTransition","BackdropComponent","Backdrop","BackdropProps","timeout","Fade","in","update","variable","payload","Promise","resolve","simulate","then","marginBottom","Controls","params","useSelector","state","simulation","formState","setFormState","isActive","setActive","isWorking","setWorking","handleFieldChange","e","Number","value","name","updateParameter","autoComplete","component","xs","TextField","label","id","inputProps","step","min","B0","onChange","onBlur","disabled","gamma","T1","T2","m","T_pulse","N_pulse","dt_pulse","amp_pulse","select","SelectProps","native","shape","shape_options","map","option","lobes","sd","amp_Gz","l_profile","N_profile","dl_profile","Button","size","preventDefault","fullWidth","disableElevation","Plot","createPlotlyComponent","Plotly","plot","Pulse","output","gridColor","zeroColor","textColor","data","mode","line","x","t_vec","y","B1_x_vec","B1_y_vec","yaxis","Gz_vec","layout","paper_bgcolor","plot_bgcolor","text","xaxis","range","gridcolor","zerolinecolor","linecolor","showspikes","standoff","showline","yaxis2","overlaying","side","font","modebar","bgcolor","activecolor","config","responsive","displaylogo","useResizeHandler","visible","Mxy_vec","Mx_vec","My_vec","Mz_vec","generateSphereMesh","N","n","Math","floor","z","phi","PI","p","theta","push","sin","cos","Sphere","sphereMesh","generateSphere","opacity","colorscale","hoverinfo","showlegend","l","r","b","t","scene","zaxis","camera","eye","modeBarButtonsToRemove","Profile","SPx_vec","SPy_vec","SPxy_vec","SPz_vec","z_vec","card","timeline","paddingRight","Simulation","lg","Magnetisation","Help","Fragment","App","isDark","presentation","prefersDarkMode","createMuiTheme","main","ThemeProvider","CssBaseline","Output","Boolean","window","location","hostname","match","generatePulse","Array","from","length","v","i","round","exp","generateGradient","isPlaying","current_index","initialState","Object","entries","key","dt","B1_x","B1_y","M0","dt0","integrator","ode45","dMdt","M","Bx","By","index","findIndex","alpha","sqrt","slice","forEach","steps","Infinity","estimateProfile","Gz","delw0","simulatorReducer","action","calculateMagnetisation","calculateProfile","visualReducer","rootReducer","combineReducers","presentationReducer","store","createStore","compose","applyMiddleware","thunk","ReactDOM","render","StrictMode","document","getElementById","navigator","serviceWorker","ready","registration","unregister","catch","error","console","message"],"mappings":"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","file":"static/js/main.dc2e7061.chunk.js","sourcesContent":["import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { Grid, Typography, Link } from '@material-ui/core';\r\n\r\nconst Footer = props => {\r\n  const { className } = props;\r\n  \r\n  const date = new Date();\r\n\r\n  return (\r\n    <footer className={className}>\r\n      <Grid\r\n      container\r\n      justify=\"center\"\r\n      spacing={2}\r\n      >\r\n        <Grid item>\r\n          <Link\r\n            href=\"https://en.wikipedia.org/wiki/Bloch_equations\"\r\n            color=\"textPrimary\"\r\n            target=\"_blank\"\r\n          >\r\n            Wiki\r\n          </Link>\r\n        </Grid>\r\n        <Grid item>\r\n          <Link\r\n            href=\"https://github.com/igoresso/bloch-sim\"\r\n            color=\"textPrimary\"\r\n            target=\"_blank\"\r\n          >\r\n            GitHub\r\n          </Link>\r\n        </Grid>\r\n        <Grid item>\r\n          <Link\r\n            href=\"https://github.com/igoresso/bloch-sim/issues\"\r\n            color=\"textPrimary\"\r\n            target=\"_blank\"\r\n          >\r\n            Found a mistake?\r\n          </Link>\r\n        </Grid>\r\n      </Grid>\r\n      <Typography\r\n        align=\"center\"\r\n        color=\"textSecondary\"\r\n        variant=\"body2\"\r\n      >\r\n        {`Â© ${date.getFullYear()}`}\r\n      </Typography>\r\n    </footer>\r\n  );\r\n};\r\n\r\nFooter.propTypes = {\r\n  className: PropTypes.string\r\n}\r\n\r\nexport default Footer;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { makeStyles } from '@material-ui/styles';\r\nimport { Drawer } from '@material-ui/core';\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  drawer: {\r\n    width: 280,\r\n    padding: theme.spacing(3),\r\n    [theme.breakpoints.up('md')]: {\r\n      marginTop: 64,\r\n      height: 'calc(100% - 64px)'\r\n    }\r\n  },\r\n}));\r\n\r\nconst Sidebar = props => {\r\n  const { isOpen, handleSidebarClose, variant, children } = props;\r\n\r\n  const classes = useStyles();\r\n\r\n  return (\r\n    <Drawer\r\n      anchor=\"left\"\r\n      classes={{ paper: classes.drawer }}\r\n      onClose={handleSidebarClose}\r\n      open={isOpen}\r\n      variant={variant}\r\n    >\r\n      {children}\r\n    </Drawer>\r\n  );\r\n};\r\n\r\nSidebar.propTypes = {\r\n  isOpen: PropTypes.bool.isRequired,\r\n  handleSidebarClose: PropTypes.func,\r\n  variant: PropTypes.string.isRequired,\r\n  children: PropTypes.node\r\n};\r\n\r\nexport default Sidebar;","export const UPDATE = 'UPDATE';\r\nexport const CALCULATE_MAGNETISATION = 'CALCULATE_MAGNETISATION';\r\nexport const CALCULATE_PROFILE = 'CALCULATE_PROFILE';\r\nexport const SIMULATE = 'SIMULATE';\r\nexport const CLEAR = 'CLEAR';\r\nexport const RESET = 'RESET';\r\nexport const TOGGLE_THEME = 'TOGGLE_THEME';","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { useDispatch } from 'react-redux';\r\nimport { toggleTheme } from '../../../../actions/presentation';\r\nimport { makeStyles } from '@material-ui/styles';\r\nimport { AppBar, Toolbar, Tooltip, IconButton, Typography, Hidden } from '@material-ui/core';\r\nimport { Menu, Help, Brightness4, GitHub } from '@material-ui/icons';\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  root: {\r\n    boxShadow: 'none'\r\n  },\r\n  logo: {\r\n    marginRight: 'auto'\r\n  },\r\n  button: {\r\n    marginLeft: theme.spacing(1)\r\n  }\r\n}));\r\n\r\nconst Topbar = props => {\r\n  const { handleSidebarOpen, handleModalOpen } = props;\r\n\r\n  const classes = useStyles();\r\n\r\n  const dispatch = useDispatch();\r\n\r\n  const handleThemeChange = () => {\r\n    dispatch(toggleTheme());\r\n  }\r\n\r\n  return (\r\n    <AppBar className={classes.root}>\r\n      <Toolbar>\r\n        <Typography \r\n          variant=\"h6\"\r\n          className={classes.logo}\r\n          noWrap\r\n        >\r\n          Bloch Equation Simulator\r\n        </Typography>\r\n        <Tooltip title=\"Toggle light/dark theme\">\r\n          <IconButton\r\n            edge=\"end\"\r\n            color=\"inherit\"\r\n            className={classes.button}\r\n            aria-label=\"Toggle light/dark theme\"\r\n            onClick={handleThemeChange}\r\n          >\r\n            <Brightness4 />\r\n          </IconButton>\r\n        </Tooltip>\r\n        <Tooltip title=\"GitHub page\">\r\n          <IconButton\r\n            edge=\"end\"\r\n            color=\"inherit\"\r\n            className={classes.button}\r\n            href=\"https://github.com/igoresso/bloch-sim\"\r\n            target=\"_blank\"\r\n            aria-label=\"GitHub page\"\r\n          >\r\n            <GitHub />\r\n          </IconButton>\r\n        </Tooltip>\r\n        <Tooltip title=\"User Manual\">\r\n          <IconButton\r\n            edge=\"end\"\r\n            color=\"inherit\"\r\n            className={classes.button}\r\n            aria-label=\"User Manual\"\r\n            onClick={handleModalOpen}\r\n          >\r\n            <Help />\r\n          </IconButton>\r\n        </Tooltip>\r\n        <Hidden mdUp>\r\n          <IconButton\r\n            edge=\"end\"\r\n            color=\"inherit\"\r\n            className={classes.button}\r\n            aria-label=\"Open settings\"\r\n            onClick={handleSidebarOpen}\r\n          >\r\n            <Menu />\r\n          </IconButton>\r\n        </Hidden>\r\n      </Toolbar>\r\n    </AppBar>\r\n  );\r\n};\r\n\r\nTopbar.propTypes = {\r\n  handleSidebarOpen: PropTypes.func,\r\n  handleModalOpen: PropTypes.func\r\n};\r\n\r\nexport default Topbar;","import { TOGGLE_THEME } from './types';\r\n\r\nexport const toggleTheme = () => {\r\n  return {\r\n    type: TOGGLE_THEME\r\n  };\r\n};\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { Paper, IconButton } from '@material-ui/core';\r\nimport { Close } from '@material-ui/icons';\r\nimport { makeStyles } from '@material-ui/styles';\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  root: {\r\n    position: 'relative',\r\n    padding: theme.spacing(4)\r\n  },\r\n  closeButton: {\r\n    position: 'absolute',\r\n    right: theme.spacing(1),\r\n    top: theme.spacing(1),\r\n    color: theme.palette.primary,\r\n  }\r\n}));\r\n\r\nconst Dialog = props => {\r\n  const { children, handleDialogClose } = props;\r\n\r\n  const classes = useStyles();\r\n\r\n  return (\r\n    <Paper className={classes.root}>\r\n      <IconButton aria-label=\"closeButton\" className={classes.closeButton} onClick={handleDialogClose}>\r\n        <Close />\r\n      </IconButton>\r\n      {children}\r\n    </Paper>\r\n  );\r\n};\r\n\r\nDialog.propTypes = {\r\n  children: PropTypes.node,\r\n  handleDialogClose: PropTypes.func\r\n};\r\n\r\nexport default Dialog;","import React, { useState } from 'react';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport { makeStyles, useTheme } from '@material-ui/styles';\nimport { useMediaQuery, Fade, Modal, Backdrop } from '@material-ui/core';\n\nimport { Sidebar, Topbar, Footer, Dialog } from './components';\n\nconst useStyles = makeStyles(theme => ({\n  root: {\n    height: '100vh',\n    paddingTop: 56,\n    [theme.breakpoints.up('sm')]: {\n      paddingTop: 64\n    }\n  },\n  contentShift: {\n    paddingLeft: 280\n  },\n  content: {\n    height: '100%',\n    display: 'flex',\n    flexDirection: 'column',\n    padding: theme.spacing(2),\n    paddingBottom: 0\n  },\n  shiftContent: {\n    paddingLeft: 280\n  },\n  modal: {\n    display: 'flex',\n    justifyContent: 'center',\n    alignItems: 'flex-start',\n    maxWidth: '1000px',\n    margin: '10vh auto',\n    [theme.breakpoints.up('xs')]: {\n      padding: '0 2vh'\n    },\n    [theme.breakpoints.up('sm')]: {\n      padding: '0 5vh'\n    },\n    [theme.breakpoints.up('md')]: {\n      padding: '0 5vh'\n    },\n    [theme.breakpoints.up('lg')]: {\n      padding: '0'\n    },\n  },\n  footer : {\n    marginTop: 'auto',\n    paddingTop: theme.spacing(2),\n    paddingBottom: theme.spacing(2),\n  }\n}));\n\nconst Main = props => {\n  const { sidebarContent, mainContent, helpContent } = props;\n\n  const classes = useStyles();\n  const theme = useTheme();\n\n  const isDesktop = useMediaQuery(theme.breakpoints.up('md'), {\n    defaultMatches: true\n  });\n\n  const [openSidebar, setOpenSidebar] = useState(false);\n  const [openModal, setOpenModal] = useState(false);\n\n  const handleSidebarOpen = () => {\n    setOpenSidebar(true);\n  };\n\n  const handleSidebarClose = () => {\n    setOpenSidebar(false);\n  };\n\n  const handleModalOpen = () => {\n    setOpenModal(true);\n  };\n\n  const handleModalClose = () => {\n    setOpenModal(false);\n  };\n  \n  const shouldOpenSidebar = isDesktop ? true : openSidebar;\n\n  return (\n    <div \n      className={clsx({\n        [classes.root]: true,\n        [classes.shiftContent]: isDesktop\n      })}\n    >\n      <Topbar \n        handleSidebarOpen={handleSidebarOpen}\n        handleModalOpen={handleModalOpen}\n      />\n      <Sidebar\n        isOpen={shouldOpenSidebar}\n        handleSidebarClose={handleSidebarClose}\n        variant={isDesktop ? 'persistent' : 'temporary'}\n      >\n        {sidebarContent}\n      </Sidebar>\n      <main\n        className={classes.content}\n      >\n        {mainContent}\n        <Footer className={classes.footer} />\n        <Modal\n          aria-labelledby=\"modal-title\"\n          aria-describedby=\"modal-description\"\n          className={classes.modal}\n          open={openModal}\n          onClose={handleModalClose}\n          closeAfterTransition\n          BackdropComponent={Backdrop}\n          BackdropProps={{\n            timeout: 500,\n          }}\n        >\n          <Fade in={openModal}>\n            <Dialog handleDialogClose={handleModalClose}>\n              {helpContent}\n            </Dialog>\n          </Fade>\n        </Modal>\n      </main>\n    </div>\n  );\n};\n\nMain.propTypes = {\n  sidebarContent: PropTypes.any.isRequired,\n  mainContent: PropTypes.any.isRequired,\n  helpContent: PropTypes.any.isRequired\n}\n\nexport default Main;","import { \r\n  UPDATE,\r\n  CALCULATE_MAGNETISATION,\r\n  CALCULATE_PROFILE,\r\n  CLEAR,\r\n  RESET\r\n} from './types';\r\n\r\nexport const update = variable => dispatch => {\r\n  dispatch({\r\n    type: UPDATE,\r\n    payload: variable\r\n  });\r\n  return Promise.resolve();\r\n};\r\n\r\nexport const calculateMagnetisation = () => dispatch => {\r\n  dispatch({\r\n    type: CALCULATE_MAGNETISATION,\r\n  });\r\n  return Promise.resolve();\r\n}\r\n\r\nexport const calculateProfile = () => dispatch => {\r\n  dispatch({\r\n    type: CALCULATE_PROFILE,\r\n  });\r\n  return Promise.resolve();\r\n}\r\n\r\nexport const simulate = () => dispatch =>\r\n  dispatch(calculateMagnetisation())\r\n    .then(() => dispatch(calculateProfile()));\r\n\r\nexport const clear = () => dispatch => {\r\n  dispatch({\r\n    type: CLEAR,\r\n  });\r\n  return Promise.resolve();\r\n};\r\n\r\nexport const reset = () => dispatch => {\r\n  dispatch({\r\n    type: RESET,\r\n  });\r\n  return Promise.resolve();\r\n};\r\n\r\n","import React, { useState } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { update, simulate, clear } from '../../actions/simulation';\nimport { Grid, TextField, Typography, Button } from '@material-ui/core';\nimport { makeStyles } from '@material-ui/styles';\n\nconst useStyles = makeStyles(theme => ({\n  root: {\n    marginBottom: theme.spacing(2)\n  }\n}));\n\nconst Controls = () => {\n  const params = useSelector(state => state.simulation.params);\n  const [formState, setFormState] = useState(params);\n  const [isActive, setActive] = useState(false);\n  const [isWorking, setWorking] = useState(false);\n  \n  const dispatch = useDispatch();\n\n  const classes = useStyles();\n\n  const handleFieldChange = (e) => {\n    if (Number(e.target.value) !== formState[e.target.name]) {\n      setFormState({\n        ...params,\n        ...{[e.target.name]: Number(e.target.value)}\n      })\n      setActive(true);\n    }\n  };\n\n  const updateParameter = (e) => {\n    if (Number(e.target.value) !== params[e.target.name]) {\n      dispatch(update({\n        [e.target.name]: Number(e.target.value)\n      })).then(dispatch(clear()));\n      setActive(false);\n    }\n  }\n\n  const handleSubmit = (e) => {\n    e.preventDefault()\n    setWorking(true)\n    dispatch(simulate()).then(setWorking(false))\n  }\n\n  return (\n    <form autoComplete=\"off\">\n      <Typography variant=\"h6\" component=\"h2\" align=\"center\">\n        General\n      </Typography>\n      <Grid container spacing={1} className={classes.root}>\n        <Grid item xs={6}>\n          <TextField\n            label=\"B&#x2080; (T)\"\n            id=\"B0\"\n            name=\"B0\"\n            type=\"number\"\n            inputProps={{ step:'any', min: 0 }}\n            value={isActive ? formState.B0 : params.B0}\n            onChange={handleFieldChange}\n            onBlur={updateParameter}\n            margin=\"dense\"\n            variant=\"outlined\"\n            disabled = {isWorking}\n          />\n        </Grid>\n        <Grid item xs={6}>\n          <TextField\n            label=\"&#947; (MHz/T)\"\n            id=\"gamma\"\n            name=\"gamma\"\n            type=\"number\"\n            inputProps={{ step:'any', min: 0 }}\n            value={isActive ? formState.gamma : params.gamma}\n            onChange={handleFieldChange}\n            onBlur={updateParameter}\n            margin=\"dense\"\n            variant=\"outlined\"\n            disabled = {isWorking}\n          />\n        </Grid>\n        <Grid item xs={6}>\n          <TextField\n            label=\"T&#8321; (ms)\"\n            id=\"T1\"\n            name=\"T1\"\n            type=\"number\"\n            inputProps={{ step:'any', min: 0 }}\n            value={isActive ? formState.T1 : params.T1}\n            onChange={handleFieldChange}\n            onBlur={updateParameter}\n            margin=\"dense\"\n            variant=\"outlined\"\n            disabled = {isWorking}\n          />\n        </Grid>\n        <Grid item xs={6}>\n          <TextField\n            label=\"T&#x2082; (ms)\"\n            id=\"T2\"\n            name=\"T2\"\n            type=\"number\"\n            inputProps={{ step:'any', min: 0 }}\n            value={isActive ? formState.T2 : params.T2}\n            onChange={handleFieldChange}\n            onBlur={updateParameter}\n            margin=\"dense\"\n            variant=\"outlined\"\n            disabled = {isWorking}\n          />\n        </Grid>\n      </Grid>\n      <Typography variant=\"h6\" component=\"h2\" align=\"center\">\n        Pulse\n      </Typography>\n      <Grid container spacing={1} m={2} className={classes.root}>\n        <Grid item xs={6}>\n          <TextField\n            label=\"T (ms)\"\n            id=\"T_pulse\"\n            name=\"T_pulse\"\n            type=\"number\"\n            inputProps={{ step:'any', min: 0 }}\n            value={isActive ? formState.T_pulse : params.T_pulse}\n            onChange={handleFieldChange}\n            onBlur={updateParameter}\n            margin=\"dense\"\n            variant=\"outlined\"\n            disabled = {isWorking}\n          />\n        </Grid>\n        <Grid item xs={6}>\n          <TextField\n            label=\"N\"\n            id=\"N_pulse\"\n            name=\"N_pulse\"\n            type=\"number\"\n            inputProps={{ step:'any', min: 0 }}\n            value={isActive ? formState.N_pulse : params.N_pulse}\n            onChange={handleFieldChange}\n            onBlur={updateParameter}\n            margin=\"dense\"\n            variant=\"outlined\"\n            disabled = {isWorking}\n          />\n        </Grid>\n        <Grid item xs={6}>\n          <TextField\n            label=\"dt (ms)\"\n            id=\"dt_pulse\"\n            name=\"dt_pulse\"\n            type=\"number\"\n            inputProps={{ step:'any', min: 0 }}\n            value={isActive ? formState.dt_pulse : params.dt_pulse}\n            onChange={handleFieldChange}\n            onBlur={updateParameter}\n            margin=\"dense\"\n            variant=\"outlined\"\n            disabled = {isWorking}\n          />\n        </Grid>\n        <Grid item xs={6}>\n        <TextField\n            label={<>B<sub>1, max</sub> (mT)</>}\n            id=\"amp_pulse\"\n            name=\"amp_pulse\"\n            type=\"number\"\n            inputProps={{ step:'any' }}\n            value={isActive ? formState.amp_pulse : params.amp_pulse}\n            onChange={handleFieldChange}\n            onBlur={updateParameter}\n            margin=\"dense\"\n            variant=\"outlined\"\n            disabled = {isWorking}\n          />\n        </Grid>\n        <Grid item xs={6}>\n          <TextField\n            label=\"Shape\"\n            id=\"shape\"\n            name=\"shape\"\n            select\n            SelectProps={{\n              native: true,\n            }}\n            value={params.shape}\n            onChange={updateParameter}\n            margin=\"dense\"\n            variant=\"outlined\"\n            disabled = {isWorking}\n          >\n            {params.shape_options.map((option) => (\n              <option key={option.value} value={option.value}>\n                {option.label}\n            </option>\n            ))}\n          </TextField>\n        </Grid>\n        <Grid item xs={6}>\n          <TextField\n            label=\"Lobes\"\n            id=\"lobes\"\n            name=\"lobes\"\n            type=\"number\"\n            inputProps={{ step:'any', min: 0 }}\n            value={isActive ? formState.lobes : params.lobes}\n            onChange={handleFieldChange}\n            onBlur={updateParameter}\n            margin=\"dense\"\n            variant=\"outlined\"\n            disabled = {params.shape!==2 || isWorking}\n          />\n        </Grid>\n        <Grid item xs={6}>\n          <TextField\n            label=\"&#963; (ms)\"\n            id=\"sd\"\n            name=\"sd\"\n            type=\"number\"\n            inputProps={{ step:'any' }}\n            value={isActive ? formState.sd : params.sd}\n            onChange={handleFieldChange}\n            onBlur={updateParameter}\n            margin=\"dense\"\n            variant=\"outlined\"\n            disabled = {params.shape!==4 || isWorking}\n          />\n        </Grid>\n      </Grid>\n      <Typography variant=\"h6\" component=\"h2\" align=\"center\">\n        Gradient\n      </Typography>\n      <Grid container spacing={1} m={2} className={classes.root}>\n        <Grid item xs={6}>\n          <TextField\n            label={<>G<sub>z</sub> (mT/m)</>}\n            id=\"amp_Gz\"\n            name=\"amp_Gz\"\n            type=\"number\"\n            inputProps={{ step:'any', min: 0 }}\n            value={isActive ? formState.amp_Gz : params.amp_Gz }\n            onChange={handleFieldChange}\n            onBlur={updateParameter}\n            margin=\"dense\"\n            variant=\"outlined\"\n            disabled = {isWorking}\n          />\n        </Grid>\n      </Grid>\n      <Typography variant=\"h6\" component=\"h2\" align=\"center\">\n        Slice Profile\n      </Typography>\n      <Grid container spacing={1} m={2} className={classes.root}>\n        <Grid item xs={6}>\n          <TextField\n            label=\"l (mm)\"\n            id=\"l_profile\"\n            name=\"l_profile\"\n            type=\"number\"\n            inputProps={{ step:'any', min: 0 }}\n            value={isActive ? formState.l_profile : params.l_profile }\n            onChange={handleFieldChange}\n            onBlur={updateParameter}\n            margin=\"dense\"\n            variant=\"outlined\"\n            disabled = {isWorking}\n          />\n        </Grid>\n        <Grid item xs={6}>\n          <TextField\n            label=\"N\"\n            id=\"N_profile\"\n            name=\"N_profile\"\n            type=\"number\"\n            inputProps={{ step:'any', min: 0 }}\n            value={isActive ? formState.N_profile : params.N_profile }\n            onChange={handleFieldChange}\n            onBlur={updateParameter}\n            margin=\"dense\"\n            variant=\"outlined\"\n            disabled = {isWorking}\n          />\n        </Grid>\n        <Grid item xs={6}>\n          <TextField\n            label=\"dl (mm)\"\n            id=\"dl_profile\"\n            name=\"dl_profile\"\n            type=\"number\"\n            inputProps={{ step:'any', min: 0 }}\n            value={isActive ? formState.dl_profile : params.dl_profile }\n            onChange={handleFieldChange}\n            onBlur={updateParameter}\n            margin=\"dense\"\n            variant=\"outlined\"\n            disabled = {isWorking}\n          />\n        </Grid>\n      </Grid>\n      <Button\n        color=\"primary\"\n        variant=\"contained\"\n        size=\"large\"\n        type=\"submit\"\n        onClick={handleSubmit}\n        disabled={isWorking}\n        fullWidth\n        disableElevation\n      >\n        {isWorking ?  'Working' : 'Simulate'}\n      </Button>\n    </form>\n  );\n};\n\nexport default Controls;","import Plotly from 'plotly.js-gl3d-dist'\r\nimport createPlotlyComponent from 'react-plotly.js/factory';\r\n\r\nconst Plot = createPlotlyComponent(Plotly);\r\n\r\nexport default Plot;","import React from 'react';\r\nimport { useSelector } from 'react-redux';\r\nimport { makeStyles, useTheme } from '@material-ui/styles';\r\nimport Plot from '../Plot';\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  plot: {\r\n    width: '100%'\r\n  }\r\n}));\r\n\r\nconst Pulse = () => {\r\n  const output = useSelector(state => state.simulation.output);\r\n\r\n  const classes = useStyles();\r\n\r\n  const theme = useTheme();\r\n  const gridColor = theme.palette.type === \"dark\" ? 'rgba(255, 255, 255, 0.2)' : 'rgba(0, 0, 0, 0.1)';\r\n  const zeroColor = theme.palette.type === \"dark\" ? 'rgba(255, 255, 255, 0.8)' : 'rgba(0, 0, 0, 0.4)';\r\n  const textColor = theme.palette.type === \"dark\" ? 'rgba(255, 255, 255, 1)' : 'rgba(0, 0, 0, 0.8)';\r\n\r\n  const data = [\r\n    {\r\n      name: \"B1_x\",\r\n      type: \"scattergl\",\r\n      mode: \"lines\",\r\n      line: {\r\n        width: 3,\r\n        color: '#ff8f7b',\r\n      },\r\n      x: output.t_vec,\r\n      y: output.B1_x_vec\r\n    },\r\n    {\r\n      name: \"B1_y\",\r\n      type: \"scattergl\",\r\n      mode: \"lines\",\r\n      line: {\r\n        width: 3,\r\n        color: '#fbb84d',\r\n      },\r\n      x: output.t_vec,\r\n      y: output.B1_y_vec\r\n    },\r\n    {\r\n      name: \"Gz\",\r\n      type: \"scattergl\",\r\n      yaxis: 'y2',\r\n      mode: \"lines\",\r\n      line: {\r\n        width: 3,\r\n        color: '#02ffb3',\r\n      },\r\n      x: output.t_vec,\r\n      y: output.Gz_vec\r\n    },\r\n  ];\r\n\r\n  const layout = {\r\n    height: 450,\r\n    paper_bgcolor: \"transparent\",\r\n    plot_bgcolor: \"transparent\",\r\n    title: {\r\n      text: \"Excitation Pattern\"\r\n    },\r\n    xaxis: {\r\n      title: {\r\n        text: 'Time (ms)'\r\n      },\r\n      type: 'linear',\r\n      range: [0, output.T_pulse],\r\n      gridcolor: gridColor,\r\n      zerolinecolor: zeroColor,\r\n      linecolor: gridColor,\r\n      showspikes: false\r\n    },\r\n    yaxis: {\r\n      title: {\r\n        text: 'Amplitude (mT)',\r\n        standoff: 5\r\n      },\r\n      type: 'linear',\r\n      gridcolor: gridColor,\r\n      zerolinecolor: zeroColor,\r\n      linecolor: gridColor,\r\n      showspikes: false,\r\n      showline: true\r\n    },\r\n    yaxis2: {\r\n      title: 'Gradient (mT/m)',\r\n      overlaying: 'y',\r\n      side: 'right',\r\n      gridcolor: gridColor,\r\n      zerolinecolor: zeroColor,\r\n      linecolor: gridColor,\r\n      showspikes: false\r\n    },\r\n    font: {\r\n      color: textColor\r\n    },\r\n    modebar: {\r\n      bgcolor: 'transparent',\r\n      color: gridColor,\r\n      activecolor: zeroColor\r\n    }\r\n  }\r\n\r\n  const config = {\r\n    responsive: true,\r\n    displaylogo: false\r\n  }\r\n\r\n  return (\r\n    <Plot data={data} layout={layout} config={config} className={classes.plot} useResizeHandler={true} />\r\n  );\r\n};\r\n\r\nexport default Pulse;","import React from 'react';\r\nimport { useSelector } from 'react-redux';\r\nimport { makeStyles, useTheme } from '@material-ui/styles';\r\nimport Plot from '../Plot';\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  plot: {\r\n    width: '100%'\r\n  }\r\n}));\r\n\r\nconst Pulse = () => {\r\n  const output = useSelector(state => state.simulation.output);\r\n  const T_pulse = useSelector(state => state.simulation.params.T_pulse);\r\n\r\n  const classes = useStyles();\r\n\r\n  const theme = useTheme();\r\n  const gridColor = theme.palette.type === \"dark\" ? 'rgba(255, 255, 255, 0.2)' : 'rgba(0, 0, 0, 0.1)';\r\n  const zeroColor = theme.palette.type === \"dark\" ? 'rgba(255, 255, 255, 0.8)' : 'rgba(0, 0, 0, 0.4)';\r\n  const textColor = theme.palette.type === \"dark\" ? 'rgba(255, 255, 255, 1)' : 'rgba(0, 0, 0, 0.8)';\r\n\r\n\r\n  const data = [\r\n    {\r\n      name: \"M_xy\",\r\n      type: \"scattergl\",\r\n      mode: \"lines\",\r\n      visible: \"legendonly\",\r\n      line: {\r\n        width: 3,\r\n        color: '#ff7eb8',\r\n      },\r\n      x: output.t_vec,\r\n      y: output.Mxy_vec\r\n    },\r\n    {\r\n      name: \"M_x\",\r\n      type: \"scattergl\",\r\n      mode: \"lines\",\r\n      line: {\r\n        width: 3,\r\n        color: '#ff8f7b',\r\n      },\r\n      x: output.t_vec,\r\n      y: output.Mx_vec\r\n    },\r\n    {\r\n      name: \"M_y\",\r\n      type: \"scattergl\",\r\n      mode: \"lines\",\r\n      line: {\r\n        width: 3,\r\n        color: '#fbb84d',\r\n      },\r\n      x: output.t_vec,\r\n      y: output.My_vec\r\n    },\r\n    {\r\n      name: \"M_z\",\r\n      type: \"scatter\",\r\n      mode: \"lines\",\r\n      line: {\r\n        width: 3,\r\n        color: '#b7e15d',\r\n      },\r\n      x: output.t_vec,\r\n      y: output.Mz_vec\r\n    },\r\n  ];\r\n\r\n  const layout = {\r\n    height: 450,\r\n    paper_bgcolor: \"transparent\",\r\n    plot_bgcolor: \"transparent\",\r\n    title: {\r\n      text: \"Magnetisation\"\r\n    },\r\n    xaxis: {\r\n      title: {\r\n        text: 'Time (ms)'\r\n      },\r\n      type: 'linear',\r\n      range: [0, T_pulse],\r\n      gridcolor: gridColor,\r\n      zerolinecolor: zeroColor,\r\n      linecolor: gridColor,\r\n      showspikes: false\r\n    },\r\n    yaxis: {\r\n      title: {\r\n        text: 'Normalised Magnetisation',\r\n        standoff: 5\r\n      },\r\n      type: 'linear',\r\n      gridcolor: gridColor,\r\n      zerolinecolor: zeroColor,\r\n      linecolor: gridColor,\r\n      showspikes: false\r\n    },\r\n    font: {\r\n      color: textColor\r\n    },\r\n    modebar: {\r\n      bgcolor: 'transparent',\r\n      color: gridColor,\r\n      activecolor: zeroColor\r\n    }\r\n  }\r\n\r\n  const config = {\r\n    responsive: true,\r\n    displaylogo: false\r\n  }\r\n\r\n  return (\r\n    <Plot data={data} layout={layout} config={config} className={classes.plot} useResizeHandler={true} />\r\n  );\r\n};\r\n\r\nexport default Pulse;","const generateSphereMesh = (N=20) => {\r\n  const n = 2 * Math.floor(N/2);\r\n  let x = [];\r\n  let y = [];\r\n  let z = [];\r\n\r\n  for (let m = 0; m < n / 2; m++) {\r\n    const phi = 2 * Math.PI / n * (m+1);\r\n    \r\n    for (let p = 0; p <= 2*n; p++) {\r\n      const theta = Math.PI * p / n;\r\n\r\n      x.push(Math.sin(theta)*Math.cos(phi))\r\n      y.push(Math.sin(theta)*Math.sin(phi))\r\n      z.push(Math.cos(theta))\r\n\r\n      if (m === n/2-1 && p === n) {\r\n        break\r\n      }\r\n    }\r\n  }\r\n\r\n  for (let p = n-1; p > 0; p--) {\r\n    const theta = -Math.PI * p / n;\r\n    \r\n    for (let m = 0; m <= n; m++) {\r\n      const phi = 2 * Math.PI * m / n + Math.PI;\r\n      \r\n      x.push(Math.sin(theta)*Math.cos(phi))\r\n      y.push(Math.sin(theta)*Math.sin(phi))\r\n      z.push(Math.cos(theta))\r\n    }\r\n  }\r\n      \r\n  return { x, y, z }\r\n}\r\n\r\nexport default generateSphereMesh;","import React from 'react';\r\nimport { useSelector } from 'react-redux';\r\nimport { makeStyles, useTheme } from '@material-ui/styles';\r\nimport Plot from '../Plot';\r\n\r\nimport generateSphere from './generateSphere';\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  plot: {\r\n    width: '100%'\r\n  }\r\n}));\r\n\r\nconst Sphere = () => {\r\n  const output = useSelector(state => state.simulation.output);\r\n\r\n  const classes = useStyles();\r\n\r\n  const theme = useTheme();\r\n  const gridColor = theme.palette.type === \"dark\" ? 'rgba(255, 255, 255, 0.1)' : 'rgba(0, 0, 0, 0.1)';\r\n  const zeroColor = theme.palette.type === \"dark\" ? 'rgba(255, 255, 255, 0.9)' : 'rgba(0, 0, 0, 0.4)';\r\n  const textColor = theme.palette.type === \"dark\" ? 'rgba(255, 255, 255, 1)' : 'rgba(0, 0, 0, 0.8)';\r\n\r\n\r\n  const sphereMesh = generateSphere();\r\n\r\n  const data = [\r\n    {\r\n      type: \"scatter3d\",\r\n      mode: \"lines\",\r\n      opacity: 0.2,\r\n      line: {\r\n        width: 2,\r\n        color: sphereMesh.z,\r\n        colorscale: \"Portland\",\r\n      },\r\n      hoverinfo: \"none\",\r\n      showlegend: false,\r\n      ...sphereMesh,\r\n    },\r\n    {\r\n      type: \"scatter3d\",\r\n      mode: \"lines\",\r\n      line: {\r\n        width: 5,\r\n        color: \"#ff0000\",\r\n      },\r\n      hoverinfo: \"none\",\r\n      showlegend: false,\r\n      x: output.Mx_vec,\r\n      y: output.My_vec,\r\n      z: output.Mz_vec,\r\n    }\r\n  ];\r\n\r\n  const layout = {\r\n    margin: { l: 0, r: 0, b: 0, t: 0 },\r\n    height: 450,\r\n    paper_bgcolor: \"transparent\",\r\n    scene: {\r\n      bgcolor: \"transparent\",\r\n      xaxis: {\r\n        title: \"X\",\r\n        range: [-1, 1],\r\n        type: 'linear',\r\n        gridcolor: gridColor,\r\n        zerolinecolor: zeroColor,\r\n        linecolor: gridColor,\r\n        showspikes: false,\r\n        \r\n      },\r\n      yaxis: {\r\n        title: \"Y\",\r\n        range: [-1, 1],\r\n        type: 'linear',\r\n        gridcolor: gridColor,\r\n        zerolinecolor: zeroColor,\r\n        linecolor: gridColor,\r\n        showspikes: false,\r\n      },\r\n      zaxis: {\r\n        title: \"Z\",\r\n        range: [-1, 1],\r\n        type: 'linear',\r\n        gridcolor: gridColor,\r\n        zerolinecolor: gridColor,\r\n        linecolor: gridColor,\r\n        showspikes: false,\r\n      },\r\n      camera: {\r\n        eye: {x: 1.3, y: 1.3, z: 1.3},\r\n      },\r\n    },\r\n    font: {\r\n      color: textColor\r\n    },\r\n    modebar: {\r\n      bgcolor: 'transparent',\r\n      color: gridColor,\r\n      activecolor: zeroColor\r\n    }\r\n  }\r\n\r\n  const config = {\r\n    responsive: true,\r\n    modeBarButtonsToRemove: ['hoverClosest3d'],\r\n    displaylogo: false\r\n  }\r\n\r\n  return (\r\n    <Plot data={data} layout={layout} config={config} className={classes.plot} useResizeHandler={true} />\r\n  );\r\n};\r\n\r\nexport default Sphere;","import React  from 'react';\nimport { useSelector } from 'react-redux';\nimport { makeStyles, useTheme } from '@material-ui/styles';\nimport Plot from '../Plot';\n\nconst useStyles = makeStyles(theme => ({\n  plot: {\n    width: '100%'\n  }\n}));\n\nconst Profile = () => {\n  const {\n    SPx_vec,\n    SPy_vec,\n    SPxy_vec,\n    SPz_vec,\n    z_vec\n  } = useSelector(state => state.simulation.output);\n  const { l_profile } = useSelector(state => state.simulation.params);\n\n  const classes = useStyles();\n\n  const theme = useTheme();\n  const gridColor = theme.palette.type === \"dark\" ? 'rgba(255, 255, 255, 0.2)' : 'rgba(0, 0, 0, 0.1)';\n  const zeroColor = theme.palette.type === \"dark\" ? 'rgba(255, 255, 255, 0.8)' : 'rgba(0, 0, 0, 0.4)';\n  const textColor = theme.palette.type === \"dark\" ? 'rgba(255, 255, 255, 1)' : 'rgba(0, 0, 0, 0.8)';\n\n  const data = [\n    {\n      name: \"M_xy\",\n      type: \"scattergl\",\n      mode: \"lines\",\n      line: {\n        width: 3,\n        color: '#ff7eb8',\n      },\n      x: z_vec,\n      y: SPxy_vec,\n    },\n    {\n      name: \"M_x\",\n      type: \"scattergl\",\n      mode: \"lines\",\n      visible: \"legendonly\",\n      line: {\n        width: 3,\n        color: '#ff8f7b',\n      },\n      x: z_vec,\n      y: SPx_vec,\n    },\n    {\n      name: \"M_y\",\n      type: \"scattergl\",\n      mode: \"lines\",\n      visible: \"legendonly\",\n      line: {\n        width: 3,\n        color: '#fbb84d',\n      },\n      x: z_vec,\n      y: SPy_vec,\n    },\n    {\n      name: \"M_z\",\n      type: \"scattergl\",\n      mode: \"lines\",\n      visible: \"legendonly\",\n      line: {\n        width: 3,\n        color: '#b7e15d',\n      },\n      x: z_vec,\n      y: SPz_vec,\n    }\n  ];\n\n  const layout = {\n    height: 450,\n    paper_bgcolor: \"transparent\",\n    plot_bgcolor: \"transparent\",\n    title: {\n      text: \"Slice Profile\"\n    },\n    xaxis: {\n      title: {\n        text: 'z (mm)'\n      },\n      type: 'linear',\n      range: [-l_profile/2, l_profile/2],\n      gridcolor: gridColor,\n      zerolinecolor: zeroColor,\n      linecolor: gridColor,\n      showspikes: false\n    },\n    yaxis: {\n      title: {\n        text: 'Normalised Magnetisation',\n        standoff: 5\n      },\n      type: 'linear',\n      gridcolor: gridColor,\n      zerolinecolor: zeroColor,\n      linecolor: gridColor,\n      showspikes: false,\n      showline: true\n    },\n    font: {\n      color: textColor\n    },\n    modebar: {\n      bgcolor: 'transparent',\n      color: gridColor,\n      activecolor: zeroColor\n    }\n  }\n\n  const config = {\n    responsive: true,\n    displaylogo: false\n  }\n\n  return (\n    <Plot\n      data={data}\n      layout={layout}\n      config={config}\n      className={classes.plot}\n      useResizeHandler={true} />\n  );\n};\n\nexport default Profile;","import React from 'react';\r\nimport { Grid, Paper } from '@material-ui/core';\r\nimport { makeStyles } from '@material-ui/styles';\r\nimport { Pulse, Magnetisation, Sphere, Profile } from './components'\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  card: {\r\n    padding: theme.spacing(2)\r\n  },\r\n  timeline: {\r\n    paddingTop: theme.spacing(3),\r\n    paddingLeft: theme.spacing(8),\r\n    paddingRight: theme.spacing(8),\r\n    paddingBottom: theme.spacing(2)\r\n  }\r\n}));\r\n\r\nconst Simulation = () => {\r\n  const classes = useStyles();\r\n\r\n  return (\r\n    <Grid container spacing={1}>\r\n      <Grid item xs={12} lg={6}>\r\n        <Paper className={classes.card} variant=\"outlined\">\r\n          <Pulse />\r\n        </Paper>\r\n      </Grid>\r\n      <Grid item xs={12} lg={6}>\r\n        <Paper className={classes.card} variant=\"outlined\">\r\n          <Sphere />\r\n        </Paper>\r\n      </Grid>\r\n      <Grid item xs={12} lg={6}>\r\n        <Paper className={classes.card} variant=\"outlined\">\r\n          <Magnetisation />\r\n        </Paper>\r\n      </Grid>\r\n      <Grid item xs={12} lg={6}>\r\n        <Paper className={classes.card} variant=\"outlined\">\r\n          <Profile />\r\n        </Paper>\r\n      </Grid>\r\n    </Grid>\r\n  );\r\n};\r\n\r\nexport default Simulation;\r\n","import React from 'react';\r\n\r\nconst Help = () => {\r\n\r\n  return (\r\n    <React.Fragment>\r\n      <h2 id=\"modal-title\">Help</h2>\r\n      <p id=\"modal-description\">Help page is yet to be added. Stay tuned.</p>\r\n    </React.Fragment>\r\n  );\r\n};\r\n\r\nexport default Help;","import React from 'react'\nimport { useSelector } from 'react-redux';\nimport {\n  createMuiTheme,\n  ThemeProvider,\n  CssBaseline,\n  useMediaQuery\n} from '@material-ui/core';\n\nimport { Main as MainLayout } from './layouts';\nimport { Controls, Output, Help } from './components';\n\nconst App = () => {\n  const isDark = useSelector(state => state.presentation.isDark);\n  const prefersDarkMode = useMediaQuery('(prefers-color-scheme: dark)');\n\n  const theme = createMuiTheme({\n    palette: {\n      type: prefersDarkMode || isDark ? 'dark' : 'light',\n      primary: {\n        main: prefersDarkMode || isDark ? '#212121' : '#3f51b5'\n      },\n    },\n  })\n\n  return (\n    <ThemeProvider theme={theme}>\n      <CssBaseline />\n      <MainLayout\n        sidebarContent = {<Controls />}\n        mainContent = {<Output />}\n        helpContent = {<Help />}\n      />\n    </ThemeProvider>\n  );\n};\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","const generatePulse = params => {\r\n  let t_vec = Array.from({ length: params.N_pulse }, (v, i) => i/(params.N_pulse-1)*params.T_pulse);\r\n  let B1_x_vec = [];\r\n  let B1_y_vec = [];\r\n\r\n  switch (params.shape) {\r\n    case 1:\r\n      B1_x_vec = Array.from({ length: params.N_pulse }, (v, i) => params.amp_pulse);\r\n      B1_y_vec = Array.from({ length: params.N_pulse }, (v, i) => 0);\r\n      break\r\n    case 2:\r\n      B1_x_vec = t_vec.map(t =>\r\n        params.amp_pulse*Math.sin(Math.PI*(params.lobes+1)/params.T_pulse*(t-params.T_pulse/2))/(Math.PI*(params.lobes+1)/params.T_pulse*(t-params.T_pulse/2))\r\n      );\r\n      B1_y_vec = Array.from({ length: params.N_pulse }, (v, i) => 0);\r\n      break\r\n    case 3:\r\n      const alpha = 0.46;\r\n      B1_x_vec = t_vec.map(t => \r\n        params.amp_pulse*Math.sin(Math.PI*(params.lobes+1)/params.T_pulse*(t-params.T_pulse/2))/(Math.PI*(params.lobes+1)/params.T_pulse*(t-params.T_pulse/2))\r\n        *((1-alpha)+alpha*Math.cos(Math.PI*(params.lobes+1)/params.T_pulse*(t-params.T_pulse/2)/Math.round(params.lobes/2)))\r\n      );\r\n      B1_y_vec = Array.from({ length: params.N_pulse }, (v, i) => 0);\r\n      break\r\n    case 4:\r\n      B1_x_vec = t_vec.map(t => \r\n        params.amp_pulse*Math.exp(-1*(t-params.T_pulse/2)**2/(2*params.sd**2))\r\n      );\r\n      B1_y_vec = Array.from({ length: params.N_pulse }, (v, i) => 0);\r\n      break\r\n    default:\r\n      return { t_vec, B1_x_vec, B1_y_vec }\r\n  }\r\n\r\n  return { t_vec, B1_x_vec, B1_y_vec }\r\n};\r\n\r\nexport default generatePulse;","const generateGradient = params => {\r\n  const Gz_vec = Array.from({ length: params.N_pulse }, (v, i) => params.amp_Gz);\r\n  return { Gz_vec }\r\n};\r\n\r\nexport default generateGradient;","import generatePulse from './generatePulse';\r\nimport generateGradient from './generateGradient';\r\n\r\nconst B0 = 3;                     // T\r\nconst gamma = 42.5775;            // MHz/T\r\nconst T1 = 950;                   // ms\r\nconst T2 =  100;                  // ms\r\nconst T_pulse = 10;               // ms\r\nconst N_pulse = 100;\r\nconst dt_pulse = T_pulse/(N_pulse-1); // ms\r\nconst amp_pulse = 0.001;          // mT\r\nconst shape_options = [\r\n  {\r\n    value: 1,\r\n    label: 'rect'\r\n  },\r\n  {\r\n    value: 2,\r\n    label: 'sinc'\r\n  },\r\n  {\r\n    value: 3,\r\n    label: 'Hm(sinc)'\r\n  },\r\n  {\r\n    value: 4,\r\n    label: 'Gaussian'\r\n  },\r\n];\r\nconst shape = 2;\r\nconst lobes = 3;\r\nconst sd = 1;                             // s              \r\nconst amp_Gz = 30;                        // mT/m\r\nconst l_profile = 5;                      // mm\r\nconst N_profile = 100;\r\nconst dl_profile = l_profile/(N_profile-1);   // mm\r\nconst isPlaying = false;\r\nconst current_index = N_pulse-1;\r\n\r\nconst params = {\r\n  B0,\r\n  gamma,\r\n  T1,\r\n  T2,\r\n  T_pulse,\r\n  N_pulse,\r\n  dt_pulse,\r\n  amp_pulse,\r\n  shape_options,\r\n  shape,\r\n  lobes,\r\n  sd,\r\n  amp_Gz,\r\n  l_profile,\r\n  N_profile,\r\n  dl_profile,\r\n  isPlaying,\r\n  current_index\r\n}\r\n\r\nconst output = {\r\n  ...generatePulse(params),\r\n  ...generateGradient(params),\r\n  Mx_vec: [],\r\n  My_vec: [],\r\n  Mxy_vec: [],\r\n  Mz_vec: [],\r\n  z_vec: [],\r\n  SPx_vec: [],\r\n  SPy_vec: [],\r\n  SPxy_vec: [],\r\n  SPz_vec: []\r\n};\r\n\r\nconst initialState = {\r\n  params,\r\n  output\r\n};\r\n\r\nexport default initialState;","import generatePulse from './generatePulse';\r\nimport generateGradient from './generateGradient';\r\n\r\nconst update = (state, payload) => {\r\n  for (let [key, value] of Object.entries(payload)) {\r\n    let params = {};\r\n    let output = {};\r\n\r\n    switch (key) {\r\n      case 'B0':\r\n        params = {\r\n          ...state.params,\r\n          ...{ [key]: value }\r\n        }\r\n        break\r\n      case 'gamma':\r\n        params = {\r\n          ...state.params,\r\n          ...{ [key]: value }\r\n        }\r\n        break\r\n      case 'T1':\r\n        params = {\r\n          ...state.params,\r\n          ...{ [key]: value }\r\n        }\r\n        break\r\n      case 'T2':\r\n        params = {\r\n          ...state.params,\r\n          ...{ [key]: value }\r\n        }\r\n        break\r\n      case 'T_pulse':\r\n        params = {\r\n          ...state.params,\r\n          ...{ [key]: value },\r\n          ...{ dt_pulse: value/(state.params.N_pulse-1) }\r\n        };\r\n        break\r\n      case 'N_pulse':\r\n        params = {\r\n          ...state.params,\r\n          ...{ [key]: value },\r\n          ...{ dt_pulse: state.params.T_pulse/(value-1) },\r\n          ...{ current_index: value-1 }\r\n        };\r\n        break\r\n      case 'dt_pulse':\r\n        params = {\r\n          ...state.params,\r\n          ...{ [key]: value },\r\n          ...{ T_pulse: (state.params.N_pulse-1)*value }\r\n        };\r\n        break\r\n      case 'amp_pulse':\r\n        params = {\r\n          ...state.params,\r\n          ...{ [key]: value }\r\n        }\r\n        break\r\n      case 'shape':\r\n        params = {\r\n          ...state.params,\r\n          ...{ [key]: value }\r\n        }\r\n        break\r\n      case 'lobes':\r\n        params = {\r\n          ...state.params,\r\n          ...{ [key]: value }\r\n        }\r\n        break\r\n      case 'sd':\r\n        params = {\r\n          ...state.params,\r\n          ...{ [key]: value }\r\n        }\r\n        break\r\n      case 'amp_Gz':\r\n        params = {\r\n          ...state.params,\r\n          ...{ [key]: value }\r\n        }\r\n        break\r\n      case 'l_profile':\r\n        params = {\r\n          ...state.params,\r\n          ...{ [key]: value },\r\n          ...{ dl_profile: value/(state.params.N_profile-1) }\r\n        };\r\n        break\r\n      case 'N_profile':\r\n        params = {\r\n          ...state.params,\r\n          ...{ [key]: value },\r\n          ...{ dl_profile: state.params.l_profile/(value-1) }\r\n        };\r\n        break\r\n      case 'dl_profile':\r\n        params = {\r\n          ...state.params,\r\n          ...{ [key]: value },\r\n          ...{ dl_profile: (state.params.N_profile-1)*value }\r\n        };\r\n        break\r\n      case 'isBusy':\r\n        params = {\r\n          ...state.params,\r\n          ...{ [key]: value }\r\n        }\r\n        break\r\n      case 'current_index':\r\n        params = {\r\n          ...state.params,\r\n          ...{ [key]: value }\r\n        }\r\n        break\r\n      default:\r\n        return state;\r\n    }\r\n\r\n    output = {\r\n      ...state.output,\r\n      ...generatePulse(params),\r\n      ...generateGradient(params)\r\n    }\r\n\r\n    return { params, output }\r\n  }\r\n}\r\n\r\nexport default update;","import ode45 from 'ode45-cash-karp';\r\n\r\nconst simulate = (state) => {\r\n  const gamma = 2*Math.PI*state.params.gamma*10**6;\r\n  const T1 = state.params.T1/10**3;\r\n  const T2 = state.params.T2/10**3;\r\n  const T_pulse = state.params.T_pulse/10**3;\r\n  const dt = state.params.dt_pulse/10**3;\r\n  const t_vec = state.output.t_vec.map(t => t/10**3);\r\n  const B1_x_vec = state.output.B1_x_vec.map(B1_x => B1_x/10**3);\r\n  const B1_y_vec = state.output.B1_y_vec.map(B1_y => B1_y/10**3);\r\n\r\n  const bloch = (dMdt,M,t) => {\r\n    let Bx = 0;\r\n    let By = 0;\r\n\r\n    if (t < T_pulse) {\r\n      const index = t_vec.findIndex(v => v > t);\r\n      const alpha = (t - t_vec[index-1]) / (t_vec[index] - t_vec[index-1]);\r\n      Bx = B1_x_vec[index-1] + alpha * (B1_x_vec[index] - B1_x_vec[index-1]);\r\n      By = B1_y_vec[index-1] + alpha * (B1_y_vec[index] - B1_y_vec[index-1]);\r\n    }\r\n\r\n    dMdt[0] = -1/T2*M[0] + gamma*By*M[2];\r\n    dMdt[1] = -1/T2*M[1] + gamma*Bx*M[2];\r\n    dMdt[2] = gamma*By*M[0] - gamma*Bx*M[1] - 1/T1*M[2] + 1/T1;\r\n  };\r\n  \r\n  const M0 = [0,0,1];\r\n  const t0 = 0;\r\n  const dt0 = dt;\r\n  let integrator = ode45(M0, bloch, t0, dt0 )\r\n\r\n  let Mx_vec = [M0[0]];\r\n  let My_vec = [M0[1]];\r\n  let Mxy_vec = [Math.sqrt(M0[0]**2 + M0[1]**2)];\r\n  let Mz_vec = [M0[2]];\r\n\r\n  t_vec.slice(1).forEach(t => {\r\n    integrator.steps(Infinity, t)\r\n    Mx_vec.push(integrator.y[0])\r\n    My_vec.push(integrator.y[1])\r\n    Mxy_vec.push(Math.sqrt(integrator.y[0]**2+integrator.y[1]**2))\r\n    Mz_vec.push(integrator.y[2])\r\n  })\r\n\r\n  return {\r\n    params: {\r\n      ...state.params\r\n    },\r\n    output: {\r\n      ...state.output,\r\n      ...{ Mx_vec, My_vec, Mxy_vec, Mz_vec }\r\n    }\r\n  }\r\n}\r\n\r\nexport default simulate;","import ode45 from 'ode45-cash-karp';\r\n\r\nconst estimateProfile = (state) => {\r\n  const gamma = 2*Math.PI*state.params.gamma*10**6;\r\n  const T1 = state.params.T1/10**3;\r\n  const T2 = state.params.T2/10**3;\r\n  const T_pulse = state.params.T_pulse/10**3;\r\n  const dt = state.params.dt_pulse/10**3;\r\n  const l_profile = state.params.l_profile/10**3;\r\n  const N_profile = state.params.N_profile;\r\n  const t_vec = state.output.t_vec.map(t => t/10**3);\r\n  const B1_x_vec = state.output.B1_x_vec.map(B1_x => B1_x/10**3);\r\n  const B1_y_vec = state.output.B1_y_vec.map(B1_y => B1_y/10**3);\r\n  const z_vec = Array.from({ length: N_profile }, (v, i) => -l_profile/2 + l_profile/(N_profile-1)*i);\r\n  const Gz_vec = state.output.Gz_vec.map(Gz => Gz/10**3);\r\n\r\n  let SPx_vec = [];\r\n  let SPy_vec = [];\r\n  let SPxy_vec = [];\r\n  let SPz_vec = [];\r\n\r\n  z_vec.forEach( z => {\r\n    const bloch = (dMdt,M,t) => {\r\n      let delw0 = 0;\r\n      let Bx = 0;\r\n      let By = 0;\r\n  \r\n      if (t < T_pulse) {\r\n        const index = t_vec.findIndex(v => v > t);\r\n        const alpha = (t - t_vec[index-1]) / (t_vec[index] - t_vec[index-1]);\r\n        const Gz = Gz_vec[index-1] + alpha * (Gz_vec[index] - Gz_vec[index-1]);\r\n        delw0 = gamma*Gz*z;\r\n      }\r\n  \r\n      if (t < T_pulse) {\r\n        const index = t_vec.findIndex(v => v > t);\r\n        const alpha = (t - t_vec[index-1]) / (t_vec[index] - t_vec[index-1]);\r\n        Bx = B1_x_vec[index-1] + alpha * (B1_x_vec[index] - B1_x_vec[index-1]);\r\n        By = B1_y_vec[index-1] + alpha * (B1_y_vec[index] - B1_y_vec[index-1]);\r\n      }\r\n  \r\n      dMdt[0] = -1/T2*M[0] + gamma*By*M[2] + delw0*M[1];\r\n      dMdt[1] = -1/T2*M[1] + gamma*Bx*M[2] - delw0*M[0];\r\n      dMdt[2] = gamma*By*M[0] - gamma*Bx*M[1] - 1/T1*M[2] + 1/T1;\r\n    };\r\n\r\n    const M0 = [0,0,1];\r\n    const t0 = 0;\r\n    const dt0 = dt;\r\n\r\n    let integrator = ode45(M0, bloch, t0, dt0 )\r\n\r\n    integrator.steps(Infinity, T_pulse)\r\n    \r\n    SPx_vec.push(integrator.y[0])\r\n    SPy_vec.push(integrator.y[1])\r\n    SPxy_vec.push(Math.sqrt(integrator.y[0]**2+integrator.y[1]**2))\r\n    SPz_vec.push(integrator.y[2])\r\n  })\r\n\r\n  return {\r\n    params: {\r\n      ...state.params\r\n    },\r\n    output: {\r\n      ...state.output,\r\n      ...{ \r\n        z_vec: z_vec.map(z => z*10**3),\r\n        SPx_vec,\r\n        SPy_vec,\r\n        SPxy_vec,\r\n        SPz_vec\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\nexport default estimateProfile;","import { \r\n  UPDATE,\r\n  CALCULATE_MAGNETISATION,\r\n  CALCULATE_PROFILE,\r\n  CLEAR,\r\n  RESET\r\n} from '../../actions/types';\r\nimport initialState from './initialState';\r\nimport update from './update';\r\nimport calculateMagnetisation from './calculateMagnetisation';\r\nimport calculateProfile from './calculateProfile';\r\n\r\nconst simulatorReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case UPDATE:\r\n      return update(state, action.payload);\r\n    case CALCULATE_MAGNETISATION:\r\n      return calculateMagnetisation(state);\r\n    case CALCULATE_PROFILE:\r\n      return calculateProfile(state);\r\n    case CLEAR:\r\n        return {\r\n          params: {\r\n            ...state.params,\r\n            ...{\r\n              current_index: state.params.N_pulse-1\r\n            }\r\n          },\r\n          output: {\r\n            ...state.output,\r\n            ...{ \r\n              Mx_vec: [],\r\n              My_vec: [],\r\n              Mxy_vec: [],\r\n              Mz_vec: [],\r\n              z_vec: [],\r\n              SPx_vec: [],\r\n              SPy_vec: [],\r\n              SPxy_vec: [],\r\n              SPz_vec: []\r\n            }\r\n          }\r\n        }\r\n    case RESET:\r\n      return initialState;\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default simulatorReducer;","const initialState = {\r\n  isDark: false\r\n};\r\n\r\nexport default initialState;","import { TOGGLE_THEME } from '../../actions/types';\r\nimport initialState from './initialState';\r\n\r\nconst visualReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case TOGGLE_THEME:\r\n      return {...state, ...{isDark: !state.isDark}};\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default visualReducer;","import { combineReducers } from 'redux';\r\nimport simulatorReducer from './simulation';\r\nimport presentationReducer from './presentation';\r\n\r\nconst rootReducer = combineReducers({\r\n  simulation: simulatorReducer,\r\n  presentation: presentationReducer\r\n});\r\n\r\nexport default rootReducer;\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\nimport { createStore, applyMiddleware, compose } from 'redux';\nimport thunk from 'redux-thunk';\nimport rootReducer from './reducers';\nimport { Provider } from 'react-redux';\n\nconst store = createStore(\n  rootReducer,\n  compose(applyMiddleware(thunk)) //window.__REDUX_DEVTOOLS_EXTENSION__ && window.__REDUX_DEVTOOLS_EXTENSION__()\n);\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store}>\n      <App />\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\nserviceWorker.unregister();\n"],"sourceRoot":""}